(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[179],{2976:(it,oe,g)=>{"use strict";g.d(oe,{NA:()=>C,VK:()=>e,de:()=>x});var a=g(4650);let e=(()=>{class T{constructor(){this.Server="http://localhost:5000/"}}return T.\u0275fac=function(_){return new(_||T)},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})();class C{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let x=(()=>{class T{static get SITE_TITLE(){return"AdminUI"}}return T.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html",T.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html",T.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite",T.defaultEmbeddedUserName="info@rocksolidknowledge.com",T})()},1909:(it,oe,g)=>{"use strict";g.d(oe,{J:()=>j});var a=g(3212),e=g(4707),C=g(4650),x=g(529),T=g(8564);let S=(()=>{class le extends a._{constructor(ve,ye){super(),this.http=ve,this.headersService=ye,this.userSubject=new e.t(1),this.actionUrl="clients",this.headers=this.headersService.setHeaders()}getAudits(ve,ye,we,re,ce,Ie,ke){const Ae=this.buildParams(ve,we,ye,re,ce,Ie,ke);return this.http.get(`${this.actionUrl}/${ve.resourceName}/auditedEvents`,{headers:this.headers,params:Ae})}}return le.\u0275fac=function(ve){return new(ve||le)(C.LFG(x.eN),C.LFG(T.s))},le.\u0275prov=C.Yz7({token:le,factory:le.\u0275fac}),le})();var _=g(2976),U=g(590),R=g(4608),y=g(1481),B=g(9066),F=g(6895),K=g(7356);function G(le,Ee){if(1&le&&C._UZ(0,"app-audits-list",2),2&le){const ve=C.oxw();C.Q6J("resourceName",ve.clientId)}}let j=(()=>{class le{constructor(ve,ye,we){this.clientsService=ve,this.titleService=ye,this.translate=we}ngOnInit(){this.clientsService.unsavedCache$.pipe((0,U.P)()).subscribe(ye=>{this.clientId=ye.id,this.clientName=ye.clientName});const ve=this.translate.instant("Users.Singular")+" "+this.clientName+" "+this.translate.instant("Nav.Audits")+" - "+_.de.SITE_TITLE;this.titleService.setTitle(ve)}}return le.\u0275fac=function(ve){return new(ve||le)(C.Y36(R.Z),C.Y36(y.Dx),C.Y36(B.sK))},le.\u0275cmp=C.Xpm({type:le,selectors:[["app-audit-clients"]],features:[C._Bn([{provide:a._,useClass:S}])],decls:2,vars:1,consts:[["id","clientList"],[3,"resourceName",4,"ngIf"],[3,"resourceName"]],template:function(ve,ye){1&ve&&(C.TgZ(0,"div",0),C.YNc(1,G,1,1,"app-audits-list",1),C.qZA()),2&ve&&(C.xp6(1),C.Q6J("ngIf",ye.clientId))},dependencies:[F.O5,K.$],encapsulation:2}),le})()},8413:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>R});var a=g(6895),e=g(9066),C=g(388),x=g(4022),T=g(4380),S=g(9650),_=g(4091),U=g(4650);let R=(()=>{class y{}return y.\u0275fac=function(F){return new(F||y)},y.\u0275mod=U.oAB({type:y}),y.\u0275inj=U.cJS({imports:[C.zk,e.aw,a.ez,T.t,x.p,S.I,_.G]}),y})()},964:(it,oe,g)=>{"use strict";g.d(oe,{z:()=>he});var a=g(4650),e=g(572),C=g(7235),x=g(9655),T=g(1837),S=g(3110),_=g(9066),U=g(8285),R=g(388),y=g(6895),B=g(2808),F=g(8163),K=g(7608),G=g(2830);const j=["deleteCertModal"];function le(Y,Me){if(1&Y){const fe=a.EpF();a.TgZ(0,"button",12),a.NdJ("click",function(){a.CHM(fe);const Ue=a.oxw(3);return a.KtG(Ue.openDeleteModal(Ue.certificates[0]))}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&Y){const fe=a.oxw(3);a.Q6J("disabled",fe.deleteCertDisabled),a.xp6(1),a.hij(" ",a.lcZ(2,2,"Clients.Saml.DeleteCert")," ")}}function Ee(Y,Me){if(1&Y&&(a.TgZ(0,"app-action-bar",9),a.ynx(1,10),a.Hsn(2),a.YNc(3,le,3,4,"button",11),a.BQk(),a.qZA()),2&Y){const fe=a.oxw(2);a.xp6(3),a.Q6J("ngIf",(null==fe.certificates?null:fe.certificates.length)>0)}}function ve(Y,Me){1&Y&&(a.TgZ(0,"div",13),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&Y&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function ye(Y,Me){1&Y&&(a.TgZ(0,"div",14),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&Y&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Clients.NoCertificates")," "))}const we=function(Y){return[Y]};function re(Y,Me){if(1&Y&&(a.ynx(0),a.TgZ(1,"app-form-row",15),a._UZ(2,"app-readonly",16),a.qZA(),a.TgZ(3,"app-form-row",15),a._UZ(4,"app-readonly",16),a.qZA(),a.TgZ(5,"app-form-row",17),a._UZ(6,"app-readonly",16)(7,"p",18),a.qZA(),a.BQk()),2&Y){const fe=a.oxw(2);a.xp6(1),a.Q6J("label","Common.Subject"),a.xp6(1),a.Q6J("values",a.VKq(11,we,fe.readOnlyCertificate.subject))("fieldType",fe.ReadOnlyFieldType.Single),a.xp6(1),a.Q6J("label","Common.Thumbprint"),a.xp6(1),a.Q6J("values",a.VKq(13,we,fe.readOnlyCertificate.thumbprint))("fieldType",fe.ReadOnlyFieldType.Single),a.xp6(1),a.Q6J("label","Common.ExpiresOn")("isLast",!0),a.xp6(1),a.Q6J("values",a.VKq(15,we,fe.readOnlyCertificate.expiration))("fieldType",fe.ReadOnlyFieldType.Single),a.xp6(1),a.Q6J("innerHTML",fe.displayExpiry(null==fe.readOnlyCertificate?null:fe.readOnlyCertificate.expiration.MainText),a.oJD)}}function ce(Y,Me){if(1&Y&&(a.TgZ(0,"div",4),a.YNc(1,Ee,4,1,"app-action-bar",5),a.YNc(2,ve,3,3,"div",6),a.YNc(3,ye,3,3,"div",7),a.YNc(4,re,8,17,"ng-container",8),a.qZA()),2&Y){const fe=a.oxw();a.xp6(1),a.Q6J("ngIf",!fe.isReadOnly),a.xp6(1),a.Q6J("ngIf",fe.deleteCertDisabled&&!fe.isReadOnly),a.xp6(1),a.Q6J("ngIf",(null==fe.certificates?null:fe.certificates.length)<1),a.xp6(1),a.Q6J("ngIf",1==(null==fe.certificates?null:fe.certificates.length)&&fe.readOnlyCertificate)}}function Ie(Y,Me){if(1&Y){const fe=a.EpF();a.TgZ(0,"app-data-table",19),a.NdJ("onDelete",function(Ue){a.CHM(fe);const et=a.oxw();return a.KtG(et.openDeleteModal(Ue))}),a._UZ(1,"app-data-table-column",20)(2,"app-data-table-column",21)(3,"app-data-table-column",22),a.qZA()}if(2&Y){const fe=a.oxw();a.Q6J("isReadOnly",fe.isReadOnly)("rows",fe.certificates)("norowslabel","Clients.NoCertificates")("actions",fe.dataTableActions),a.xp6(1),a.Q6J("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),a.xp6(1),a.Q6J("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),a.xp6(1),a.Q6J("prop","expiration")("formatter",fe.displayExpiry.bind(fe))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}const ke=function(){return{animated:!1,backdrop:"static"}};function Ae(Y,Me){if(1&Y){const fe=a.EpF();a.TgZ(0,"div",23,24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"button",29),a.NdJ("click",function(){a.CHM(fe);const Ue=a.oxw();return a.KtG(Ue.closeDeleteModal())}),a._UZ(9,"span",30),a.TgZ(10,"span",31),a._uU(11),a.ALo(12,"translate"),a.qZA()()(),a.TgZ(13,"div",32),a._UZ(14,"p",33),a.ALo(15,"translate"),a.qZA(),a._UZ(16,"div",34),a.TgZ(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),a.NdJ("click",function(){a.CHM(fe);const Ue=a.oxw();return a.KtG(Ue.removeCert())}),a._uU(21),a.ALo(22,"translate"),a.qZA()(),a.TgZ(23,"button",39),a.NdJ("click",function(){a.CHM(fe);const Ue=a.oxw();return a.KtG(Ue.closeDeleteModal())}),a._uU(24),a.ALo(25,"translate"),a.qZA()()()()()()}2&Y&&(a.Q6J("config",a.DdM(16,ke)),a.xp6(6),a.Oqu(a.lcZ(7,6,"Common.Delete.Confirm")),a.xp6(5),a.Oqu(a.lcZ(12,8,"Common.Close")),a.xp6(3),a.Q6J("innerHTML",a.lcZ(15,10,"Common.Delete.Warning"),a.oJD),a.xp6(7),a.Oqu(a.lcZ(22,12,"Common.Delete.Title")),a.xp6(3),a.Oqu(a.lcZ(25,14,"Common.Delete.No")))}const Ze=[[["","addButton",""]]],me=["[addButton]"];let he=(()=>{class Y{constructor(fe,xe){this.translateService=fe,this.dataTableService=xe,this.showSingle=!1,this.delete=new a.vpe,this.prettyDateTimePipe=new S.Xm}set isReadOnly(fe){this._isReadOnly=fe||!1}get isReadOnly(){return this._isReadOnly}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dataTableActions=this.isReadOnly?[]:[e.Xz.Delete],this.showSingle&&this.certificates.length>0&&(this.readOnlyCertificate=new C.$(this.certificates[0])),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(fe=>{this.openDeleteModal(fe)})}openDeleteModal(fe){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[fe],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(fe){let xe=T.ou.fromISO(fe);const Ue=this.daysUntilExpiry(xe);if(this.warnOfExpiry(xe)){let et='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return et=et.replace("{0}",this.translateService.instant("Common.ExpiresIn")),et=et.replace("{1}",Ue.toString()),et=et.replace("{2}",this.translateService.instant("Common.UntilExpiry")),et}return this.prettyDateTimePipe.transform(fe)}warnOfExpiry(fe){return this.daysUntilExpiry(fe)<=30&&this.daysUntilExpiry(fe)>=1}daysUntilExpiry(fe){const xe=fe.toMillis()-T.ou.now().toMillis();return Math.round(xe/864e5)}get ReadOnlyFieldType(){return x.O}}return Y.\u0275fac=function(fe){return new(fe||Y)(a.Y36(_.sK),a.Y36(U.n))},Y.\u0275cmp=a.Xpm({type:Y,selectors:[["app-saml-cert-list"]],viewQuery:function(fe,xe){if(1&fe&&a.Gf(j,5),2&fe){let Ue;a.iGM(Ue=a.CRH())&&(xe.deleteCertModal=Ue.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},ngContentSelectors:me,decls:4,vars:3,consts:[["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"disabled","click"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"isReadOnly","rows","norowslabel","actions","onDelete"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteCertModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(fe,xe){1&fe&&(a.F$t(Ze),a.TgZ(0,"div",0),a.YNc(1,ce,5,4,"div",1),a.YNc(2,Ie,4,16,"app-data-table",2),a.qZA(),a.YNc(3,Ae,26,17,"div",3)),2&fe&&(a.xp6(1),a.Q6J("ngIf",xe.showSingle),a.xp6(1),a.Q6J("ngIf",!xe.showSingle),a.xp6(1),a.Q6J("ngIf",!xe.isReadOnly))},dependencies:[R.oB,y.O5,e.Qj,B.E,F.K,K.L,G.f,_.X$],encapsulation:2,changeDetection:0}),Y})()},7331:(it,oe,g)=>{"use strict";g.d(oe,{l:()=>j});var a=g(6297),e=g(3111),C=g(590),x=g(8058),T=g(3334),S=g(4650),_=g(7481),U=g(9066),R=g(6895),y=g(5925);function B(le,Ee){1&le&&(S._UZ(0,"app-simple-loader",7),S.ALo(1,"translate")),2&le&&S.Q6J("text",S.lcZ(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function F(le,Ee){if(1&le&&(S.TgZ(0,"div",8)(1,"div")(2,"h2",9),S._uU(3),S.ALo(4,"translate"),S.qZA(),S.TgZ(5,"span",10),S._uU(6),S.qZA()()()),2&le){const ve=S.oxw();S.xp6(3),S.Oqu(S.lcZ(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),S.xp6(3),S.Oqu(ve.getSuccessMessage())}}function K(le,Ee){if(1&le){const ve=S.EpF();S.TgZ(0,"div",11)(1,"button",12),S.NdJ("click",function(){S.CHM(ve);const we=S.oxw();return S.KtG(we.downloadSecrets())}),S._uU(2),S.ALo(3,"translate"),S.qZA()()}if(2&le){const ve=S.oxw();S.xp6(1),S.Q6J("disabled",ve.disableButtons),S.xp6(1),S.hij(" ",S.lcZ(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}const G=function(le,Ee){return{"tw-btn-link":le,"tw-btn-success":Ee}};let j=(()=>{class le extends x.n{constructor(ve,ye,we){super(),this.clientImportService=ve,this.importWizardService=ye,this.translate=we,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,C.P)()).subscribe(ve=>{const ye=new a.Zy;ye.clients=[],ye.protectedResources=[],ve.forEach(we=>{if(we.selected){if(we.resourceType===e.JR.Client){const re=new a.rJ;re.useExistingSecrets=we.useExistingSecrets,re.useExistingCertificates=we.useExistingCertificates,re.resourceId=we.identifier,re.secrets=we.secrets,we.certificates&&(we.certificates.EncryptionCertificate&&(re.certificates.encryptionCertificate=we.certificates.EncryptionCertificate.base64Cert),we.certificates.SigningCertificates&&(re.certificates.signingCertificates=we.certificates.SigningCertificates.map(ce=>ce.base64Cert))),ye.clients.push(re)}we.secrets&&we.secrets.length>0&&(this.canDownloadSecrets=!0)}we.resourceType===e.JR.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(ve,we,ye.protectedResources),we.secrets&&we.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=ye,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(ve,ye,we){ye.dependantClients.forEach(re=>{const ce=ve.find(Ie=>Ie.identifier===re.identifier);if(ce&&ce.selected){const Ie=new a.rJ;Ie.useExistingSecrets=ye.useExistingSecrets,Ie.resourceId=ye.identifier,Ie.secrets=ye.secrets,we.push(Ie)}})}completeImport(){const ve=this.getFileInStorage();this.clientImportService.completeImport(ve,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},ye=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const ve=this.importConfiguration.clients.length;let ye=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==ve&&(ye=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),ye=ye.replace("{0}",ve)),ye}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(T.K.importDownloadWarning)}}return le.\u0275fac=function(ve){return new(ve||le)(S.Y36(a.wf),S.Y36(_.U),S.Y36(U.sK))},le.\u0275cmp=S.Xpm({type:le,selectors:[["app-complete-import"]],features:[S.qOj],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"ngClass","disabled","click"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"disabled","click"]],template:function(ve,ye){1&ve&&(S.YNc(0,B,2,3,"app-simple-loader",0),S.TgZ(1,"div",1),S.YNc(2,F,7,4,"div",2),S.qZA(),S.TgZ(3,"div",3)(4,"div",4),S.YNc(5,K,4,4,"div",5),S.TgZ(6,"button",6),S.NdJ("click",function(){return ye.goNext()}),S._uU(7),S.ALo(8,"translate"),S.qZA()()()),2&ve&&(S.Q6J("ngIf",ye.isLoading),S.xp6(2),S.Q6J("ngIf",!ye.isLoading),S.xp6(3),S.Q6J("ngIf",ye.canDownloadSecrets),S.xp6(1),S.Q6J("ngClass",S.WLB(8,G,ye.canDownloadSecrets,!ye.canDownloadSecrets))("disabled",ye.disableButtons),S.xp6(1),S.hij(" ",S.lcZ(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[R.mk,R.O5,y.w,U.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),le})()},4035:(it,oe,g)=>{"use strict";g.d(oe,{V:()=>sn});var a=g(6895),e=g(4006),C=g(8185),x=g(2979),T=g(388),S=g(9241),_=g(2320),U=g(5503),R=g(8117),y=g(9327),B=g(4995),F=g(3883),K=g(9002),G=g(5302),j=g(3499),le=g(4022),Ee=g(4362),ve=g(6980),ye=g(7023),we=g(8265),re=g(1230),ce=g(4380),Ie=g(5898),ke=g(9650),Ae=g(1274),Ze=g(8975),me=g(9066),he=g(5785),Y=g(6493),Me=g(7770),fe=g(8761),xe=g(1436),Ue=g(5971),et=g(5084),Qe=g(5309),mt=g(7481),$=g(2651),be=g(9659),De=g(2699),qe=g(4650);let ct=(()=>{class rn{}return rn.\u0275fac=function(vt){return new(vt||rn)},rn.\u0275mod=qe.oAB({type:rn}),rn.\u0275inj=qe.cJS({providers:[Qe.j,mt.U,$.o,be.o],imports:[a.ez,e.u5,e.UX,me.aw,_.z8,U.D,T.zk,fe.W,we.j,Ue.s,De.Y,ke.I]}),rn})();var $e=g(8413),ut=g(5150),Vt=g(9536);let sn=(()=>{class rn{}return rn.\u0275fac=function(vt){return new(vt||rn)},rn.\u0275mod=qe.oAB({type:rn}),rn.\u0275inj=qe.cJS({providers:[y.A,B.U,j.K,ut.N,Vt.S,G.L,F.i,K.T,R.S],imports:[a.ez,C.Bz,e.u5,U.D,e.UX,S.P4,re.M,_.z8,T.zk,fe.W,we.j,me.aw,ye._,x.fQ,Ee.l,Ae.T,ct,et.y,he.U,le.p,Me.t,Ue.s,ve.K,ce.t,ke.I,Ze.d,xe.W,Ie.T,Y.l,$e.P]}),rn})()},7199:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>Ie});var a=g(590),e=g(4650),C=g(9470),x=g(4608),T=g(3570),S=g(6895),_=g(8185),U=g(6478),R=g(7073);const y=["AdvancedTabs"],B=["tokensComponent"];function F(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.Consent")("tabValue","consent")}function K(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Clients.Tokens.Title")("tabValue","tokens")}function G(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.RefreshTokens")("tabValue","refreshtokens")}function j(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.SingeSignOut")("tabValue","singlesignout")}function le(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.DeviceFlow")("tabValue","deviceflow")}function Ee(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.PKCE")("tabValue","pkce")}function ve(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Index.Claims.Heading")("tabValue","claims")}function ye(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.GrantTypes")("tabValue","granttypes")}function we(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.IdentityProviders")("tabValue","identityproviders")}function re(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.Properties")("tabValue","properties")}function ce(ke,Ae){1&ke&&e._UZ(0,"app-custom-tab",3),2&ke&&e.Q6J("tabTitle","Common.Other")("tabValue","other")}let Ie=(()=>{class ke{constructor(Ze,me,he){this.clientViewService=Ze,this.clientCachingService=me,this.dialogService=he}ngOnInit(){this.clientCachingService.unsavedCache$.pipe((0,a.P)()).subscribe(Ze=>{this.client=JSON.parse(JSON.stringify(Ze))})}}return ke.\u0275fac=function(Ze){return new(Ze||ke)(e.Y36(C.a),e.Y36(x.Z),e.Y36(T.x))},ke.\u0275cmp=e.Xpm({type:ke,selectors:[["app-client-advanced"]],viewQuery:function(Ze,me){if(1&Ze&&(e.Gf(y,7),e.Gf(B,7)),2&Ze){let he;e.iGM(he=e.CRH())&&(me.advancedTabs=he.first),e.iGM(he=e.CRH())&&(me.tokenComp=he.first)}},decls:14,vars:12,consts:[[3,"pillMode"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editClientAdvanced"],[3,"tabTitle","tabValue"]],template:function(Ze,me){1&Ze&&(e.TgZ(0,"app-custom-tabs",0),e.YNc(1,F,1,2,"app-custom-tab",1),e.YNc(2,K,1,2,"app-custom-tab",1),e.YNc(3,G,1,2,"app-custom-tab",1),e.YNc(4,j,1,2,"app-custom-tab",1),e.YNc(5,le,1,2,"app-custom-tab",1),e.YNc(6,Ee,1,2,"app-custom-tab",1),e.YNc(7,ve,1,2,"app-custom-tab",1),e.YNc(8,ye,1,2,"app-custom-tab",1),e.YNc(9,we,1,2,"app-custom-tab",1),e.YNc(10,re,1,2,"app-custom-tab",1),e.YNc(11,ce,1,2,"app-custom-tab",1),e.qZA(),e.TgZ(12,"div",2),e._UZ(13,"router-outlet"),e.qZA()),2&Ze&&(e.Q6J("pillMode",!0),e.xp6(1),e.Q6J("ngIf",me.clientViewService.consent.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.tokens.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.refreshTokens.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.ssoTab.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.deviceFlow.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.pkce.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.claims.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.grantTypes.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.identityProviders.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.properties.display),e.xp6(1),e.Q6J("ngIf",me.clientViewService.other.display))},dependencies:[S.O5,_.lC,U.v,R.x],encapsulation:2}),ke})()},1018:(it,oe,g)=>{"use strict";g.d(oe,{h:()=>a});class a{}},5150:(it,oe,g)=>{"use strict";g.d(oe,{N:()=>C});var a=g(1135),e=g(4650);let C=(()=>{class x{constructor(){this.unsavedCache=new a.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new a.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),x})()},9536:(it,oe,g)=>{"use strict";g.d(oe,{S:()=>C});var a=g(1135),e=g(4650);let C=(()=>{class x{constructor(){this.unsavedCache=new a.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new a.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),x})()},3351:(it,oe,g)=>{"use strict";g.d(oe,{A:()=>we,z:()=>ye});var a=g(5241),e=g(2976),C=g(426),x=g(4650),T=g(4006),S=g(8185),_=g(1481),U=g(7733),R=g(3667),y=g(9066),B=g(6895),F=g(2294),K=g(2979);function G(re,ce){1&re&&(x.TgZ(0,"span",21),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&re&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"Common.Disabled")," "))}function j(re,ce){1&re&&(x.TgZ(0,"div",22),x._UZ(1,"router-outlet"),x.qZA())}const le=function(re,ce){return{title:re,link:ce}},Ee=function(re){return[re]},ve=function(){return["active"]};function ye(){return Object.assign(new a.gd,{closeOthers:!0})}let we=(()=>{class re{constructor(Ie,ke,Ae,Ze,me,he,Y,Me){this.fb=Ie,this.route=ke,this.router=Ae,this.titleService=Ze,this.protectedResourceService=me,this.claimTypesService=he,this.translate=Y,this.scopesClaimService=Me}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(Ie=>{this.protectedResource=Ie;const ke=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+e.de.SITE_TITLE;this.titleService.setTitle(ke)}),this.claimTypesService.getClaimTypes().subscribe(Ie=>{this.scopesClaimService.setClaimTypes(Ie)})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(Ie){this.router.navigate([Ie],{relativeTo:this.route})}}return re.\u0275fac=function(Ie){return new(Ie||re)(x.Y36(T.QS),x.Y36(S.gz),x.Y36(S.F0),x.Y36(_.Dx),x.Y36(U.m),x.Y36(R.M),x.Y36(y.sK),x.Y36(C.q))},re.\u0275cmp=x.Xpm({type:re,selectors:[["app-view-protectedresource"]],features:[x._Bn([{provide:a.gd,useFactory:ye},C.q])],decls:53,vars:64,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","viewProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(Ie,ke){1&Ie&&(x.TgZ(0,"app-title-bar",0),x.ALo(1,"translate"),x.ALo(2,"localize"),x.ynx(3,1),x.TgZ(4,"div",2)(5,"label",3),x._uU(6),x.ALo(7,"translate"),x.qZA(),x.TgZ(8,"div",4)(9,"select",5),x.NdJ("change",function(Ze){return ke.mobRoute(Ze.target.value)}),x.TgZ(10,"option",6),x._uU(11),x.ALo(12,"translate"),x.qZA(),x.TgZ(13,"option",6),x._uU(14),x.ALo(15,"translate"),x.qZA(),x.TgZ(16,"option",7),x._uU(17),x.ALo(18,"translate"),x.qZA(),x.TgZ(19,"option",8),x._uU(20),x.ALo(21,"translate"),x.qZA(),x.TgZ(22,"option",9),x._uU(23),x.ALo(24,"translate"),x.qZA(),x.TgZ(25,"option",10),x._uU(26),x.ALo(27,"translate"),x.qZA()()()(),x.TgZ(28,"ul",11),x.ALo(29,"translate"),x.TgZ(30,"li",12)(31,"button",13),x._uU(32),x.ALo(33,"translate"),x.qZA()(),x.TgZ(34,"li",12)(35,"button",14),x._uU(36),x.ALo(37,"translate"),x.qZA()(),x.TgZ(38,"li",12)(39,"button",15),x._uU(40),x.ALo(41,"translate"),x.qZA()(),x.TgZ(42,"li",12)(43,"button",16),x._uU(44),x.ALo(45,"translate"),x.qZA()(),x.TgZ(46,"li",12)(47,"button",17),x._uU(48),x.ALo(49,"translate"),x.qZA()()(),x.BQk(),x.ynx(50,18),x.YNc(51,G,3,3,"span",19),x.BQk(),x.qZA(),x.YNc(52,j,2,0,"div",20)),2&Ie&&(x.Q6J("title",null==ke.protectedResource?null:ke.protectedResource.name)("crumbs",x.VKq(57,Ee,x.WLB(54,le,x.lcZ(1,24,"ProtectedResources.Title"),x.lcZ(2,26,"/protectedresources"))))("hasTabs",!0)("isReadOnly",!0),x.xp6(6),x.Oqu(x.lcZ(7,28,"Nav.SubMenu")),x.xp6(5),x.hij("",x.lcZ(12,30,"Nav.SubMenu"),"..."),x.xp6(3),x.Oqu(x.lcZ(15,32,"Nav.Details")),x.xp6(3),x.Oqu(x.lcZ(18,34,"Nav.Scopes")),x.xp6(3),x.Oqu(x.lcZ(21,36,"Nav.Claims")),x.xp6(3),x.Oqu(x.lcZ(24,38,"Nav.Secrets")),x.xp6(3),x.Oqu(x.lcZ(27,40,"Nav.Properties")),x.xp6(2),x.uIk("aria-label",x.lcZ(29,42,"Nav.SubMenu")),x.xp6(3),x.Q6J("routerLinkActive",x.DdM(59,ve)),x.xp6(1),x.Oqu(x.lcZ(33,44,"Nav.Details")),x.xp6(3),x.Q6J("routerLinkActive",x.DdM(60,ve)),x.xp6(1),x.Oqu(x.lcZ(37,46,"Nav.Scopes")),x.xp6(3),x.Q6J("routerLinkActive",x.DdM(61,ve)),x.xp6(1),x.Oqu(x.lcZ(41,48,"Nav.Claims")),x.xp6(3),x.Q6J("routerLinkActive",x.DdM(62,ve)),x.xp6(1),x.Oqu(x.lcZ(45,50,"Nav.Secrets")),x.xp6(3),x.Q6J("routerLinkActive",x.DdM(63,ve)),x.xp6(1),x.Oqu(x.lcZ(49,52,"Nav.Properties")),x.xp6(3),x.Q6J("ngIf",!ke.protectedResource.enabled),x.xp6(1),x.Q6J("ngIf",ke.protectedResource))},dependencies:[B.O5,S.lC,S.rH,S.Od,F.G,y.X$,K.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),re})()},426:(it,oe,g)=>{"use strict";g.d(oe,{q:()=>C});var a=g(1135),e=g(4650);let C=(()=>{class x{constructor(){this.cachedClaimTypes=new a.X([]),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(S){this.cachedClaimTypes.next(S)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),x})()},5554:(it,oe,g)=>{"use strict";g.d(oe,{L:()=>j});var a=g(3212),e=g(4707),C=g(4650),x=g(529),T=g(8564);let S=(()=>{class le extends a._{constructor(ve,ye){super(),this.http=ve,this.headersService=ye,this.userSubject=new e.t(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}getAudits(ve,ye,we,re,ce,Ie,ke){const Ae=this.buildParams(ve,we,ye,re,ce,Ie,ke);return this.http.get(`${this.actionUrl}/${ve.resourceName}/auditedEvents`,{headers:this.headers,params:Ae})}}return le.\u0275fac=function(ve){return new(ve||le)(C.LFG(x.eN),C.LFG(T.s))},le.\u0275prov=C.Yz7({token:le,factory:le.\u0275fac}),le})();var _=g(2976),U=g(4961),R=g(1481),y=g(9066),B=g(1060),F=g(6895),K=g(7356);function G(le,Ee){if(1&le&&C._UZ(0,"app-audits-list",2),2&le){const ve=C.oxw();C.Q6J("resourceName",ve.userId)}}let j=(()=>{class le{constructor(ve,ye,we,re){this.userService=ve,this.titleService=ye,this.translate=we,this.securityService=re}ngOnInit(){this.userService.getCachedUser().subscribe(ye=>{this.userId=ye.subject,this.username=ye.username});const ve=this.translate.instant("Users.Singular")+" "+this.username+" "+this.translate.instant("Nav.Audits")+" - "+_.de.SITE_TITLE;this.titleService.setTitle(ve)}}return le.\u0275fac=function(ve){return new(ve||le)(C.Y36(U.K),C.Y36(R.Dx),C.Y36(y.sK),C.Y36(B.I))},le.\u0275cmp=C.Xpm({type:le,selectors:[["app-audit-users"]],features:[C._Bn([{provide:a._,useClass:S}])],decls:2,vars:1,consts:[["id","userList",1,"tw-container","tw-mx-auto"],[3,"resourceName",4,"ngIf"],[3,"resourceName"]],template:function(ve,ye){1&ve&&(C.TgZ(0,"div",0),C.YNc(1,G,1,1,"app-audits-list",1),C.qZA()),2&ve&&(C.xp6(1),C.Q6J("ngIf",ye.userId))},dependencies:[F.O5,K.$],encapsulation:2}),le})()},1946:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>a});class a{}a.claimTypes=new Map([["Actor","http://schemas.xmlsoap.org/ws/2009/09/identity/claims/actor"],["Anonymous","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/anonymous"],["Authentication","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/authentication"],["AuthenticationInstant","http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationinstant"],["AuthenticationMethod","http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod"],["AuthorizationDecision","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/authorizationdecision"],["CookiePath","http://schemas.microsoft.com/ws/2008/06/identity/claims/cookiepath"],["Country","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/country"],["DateOfBirth","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/dateofbirth"],["DenyOnlyPrimaryGroupSid","http://schemas.microsoft.com/ws/2008/06/identity/claims/denyonlyprimarygroupsid"],["DenyOnlyPrimarySid","http://schemas.microsoft.com/ws/2008/06/identity/claims/denyonlyprimarysid"],["DenyOnlySid","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/denyonlysid"],["DenyOnlyWindowsDeviceGroup","http://schemas.microsoft.com/ws/2008/06/identity/claims/denyonlywindowsdevicegroup"],["Dns","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/dns"],["Dsa","http://schemas.microsoft.com/ws/2008/06/identity/claims/dsa"],["Email","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"],["Expiration","http://schemas.microsoft.com/ws/2008/06/identity/claims/expiration"],["Expired","http://schemas.microsoft.com/ws/2008/06/identity/claims/expired"],["Gender","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/gender"],["GivenName","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname"],["GroupSid","http://schemas.microsoft.com/ws/2008/06/identity/claims/groupsid"],["Hash","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/hash"],["HomePhone","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/homephone"],["IsPersistent","http://schemas.microsoft.com/ws/2008/06/identity/claims/ispersistent"],["Locality","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/locality"],["MobilePhone","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/mobilephone"],["Name","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"],["NameIdentifier","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"],["OtherPhone","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/otherphone"],["PostalCode","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/postalcode"],["PrimaryGroupSid","http://schemas.microsoft.com/ws/2008/06/identity/claims/primarygroupsid"],["PrimarySid","http://schemas.microsoft.com/ws/2008/06/identity/claims/primarysid"],["Role","http://schemas.microsoft.com/ws/2008/06/identity/claims/role"],["Rsa","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/rsa"],["SerialNumber","http://schemas.microsoft.com/ws/2008/06/identity/claims/serialnumber"],["Sid","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/sid"],["Spn","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/spn"],["StateOrProvince","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/stateorprovince"],["StreetAddress","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/streetaddress"],["Surname","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname"],["System","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/system"],["Thumbprint","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/thumbprint"],["Upn","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn"],["Uri","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/uri"],["UserData","http://schemas.microsoft.com/ws/2008/06/identity/claims/userdata"],["Version","http://schemas.microsoft.com/ws/2008/06/identity/claims/version"],["Webpage","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/webpage"],["WindowsAccountName","http://schemas.microsoft.com/ws/2008/06/identity/claims/windowsaccountname"],["WindowsDeviceClaim","http://schemas.microsoft.com/ws/2008/06/identity/claims/windowsdeviceclaim"],["WindowsDeviceGroup","http://schemas.microsoft.com/ws/2008/06/identity/claims/windowsdevicegroup"],["WindowsFqbnVersion","http://schemas.microsoft.com/ws/2008/06/identity/claims/windowsfqbnversion"],["WindowsSubAuthority","http://schemas.microsoft.com/ws/2008/06/identity/claims/windowssubauthority"],["WindowsUserClaim","http://schemas.microsoft.com/ws/2008/06/identity/claims/windowsuserclaim"],["X500DistinguishedName","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/x500distinguishedname"]])},4837:(it,oe,g)=>{"use strict";g.d(oe,{JN:()=>a,op:()=>e});var a=(()=>{return(x=a||(a={}))[x.None=0]="None",x[x.Ascending=1]="Ascending",x[x.Descending=2]="Descending",a;var x})();class e{constructor(T,S){this.sort=a.None,this.sessionId=T.sessionId,this.scheme=T.scheme,this.created=T.created,this.expires=T.expires,this.renewed=T.renewed,this.user=T.user.name??T.user.identifier,this.link={identifier:T.user.identifier,routeForLink:S}}get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}}},5613:(it,oe,g)=>{"use strict";g.d(oe,{$:()=>e,m:()=>a});class a{constructor(x,T,S,_){this.isAllowedCorsOrigin=!1,this.isRedirectUri=!1,this.isPostLogoutRedirectUri=!1,this.url=x,this.isAllowedCorsOrigin=T,this.isRedirectUri=S,this.isPostLogoutRedirectUri=_}}class e extends a{constructor(x,T,S,_,U){super(x,T,S,_),this.oldUrl=x,this.index=U}}},7235:(it,oe,g)=>{"use strict";g.d(oe,{$:()=>e});var a=g(2951);class e{constructor(x){Object.keys(x).forEach(S=>{let _=x[S];"boolean"==typeof x[S]&&(_=_?"Yes":"No"),x[S]instanceof Date&&(_=_?"Yes":"No"),x[S]instanceof Array&&(_=x[S].join(", ").trimEnd()),this[S]=new a.I(_)})}}},9748:(it,oe,g)=>{"use strict";g.d(oe,{S:()=>e});var e,a=g(2329);!function(C){const x=new Map([[a.f.Minute,60],[a.f.Minutes,60],[a.f.Hour,3600],[a.f.Hours,3600],[a.f.Day,86400],[a.f.Days,86400],[a.f.Week,604800],[a.f.Weeks,604800],[a.f.Month,2629743],[a.f.Months,2629743],[a.f.Year,31556926],[a.f.Years,31556926],[a.f.Unlimited,null]]);C.getUnitMap=function T(){return x}}(e||(e={}))},9655:(it,oe,g)=>{"use strict";g.d(oe,{O:()=>a});var a=(()=>{return(e=a||(a={}))[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",a;var e})()},2951:(it,oe,g)=>{"use strict";g.d(oe,{I:()=>a});class a{constructor(C,x){this.MainText=C,this.HelpText=x??null}}},3435:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>a});var a=(()=>{return(e=a||(a={})).Identity="identity",e.Protected="protected",a;var e})()},6045:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>a});var a=(()=>{return(e=a||(a={})).Jwt="Jwt",e.Reference="Reference",a;var e})()},9848:(it,oe,g)=>{"use strict";g.d(oe,{B:()=>a});var a=(()=>{return(e=a||(a={})).Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",a;var e})()},2329:(it,oe,g)=>{"use strict";g.d(oe,{f:()=>a});var a=(()=>{return(e=a||(a={})).Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",a;var e})()},6193:(it,oe,g)=>{"use strict";g.d(oe,{N:()=>a});var a=(()=>{return(e=a||(a={})).Sliding="Sliding",e.Absolute="Absolute",a;var e})()},6519:(it,oe,g)=>{"use strict";g.d(oe,{y:()=>a});var a=(()=>{return(e=a||(a={})).ReUse="ReUse",e.OneTimeOnly="OneTimeOnly",a;var e})()},160:(it,oe,g)=>{"use strict";g.d(oe,{s:()=>a});var a=(()=>{return(e=a||(a={}))[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",a;var e})()},4879:(it,oe,g)=>{"use strict";g.d(oe,{_:()=>a});var a=(()=>{return(e=a||(a={}))[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",a;var e})()},8895:(it,oe,g)=>{"use strict";g.d(oe,{q:()=>a});let a=(()=>{class e{}return e.Implicit="implicit",e.Hybrid="hybrid",e.AuthorizationCode="authorization_code",e.ClientCredentials="client_credentials",e.ResourceOwnerPassword="password",e.Device="urn:ietf:params:oauth:grant-type:device_code",e.CIBA="urn:openid:params:grant-type:ciba",e})()},5259:(it,oe,g)=>{"use strict";g.d(oe,{n:()=>a});var a=(()=>{return(e=a||(a={})).Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",a;var e})()},1923:(it,oe,g)=>{"use strict";g.d(oe,{w:()=>a});var a=(()=>{return(e=a||(a={})).Default="Default",e.Warning="Warning",a;var e})()},1206:(it,oe,g)=>{"use strict";g.d(oe,{y:()=>a});var a=(()=>{return(e=a||(a={})).None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",a;var e})()},9272:(it,oe,g)=>{"use strict";g.d(oe,{s:()=>a});class a{constructor(){this.enabled=!0,this.name="",this.displayName="",this.description="",this.required=!1,this.emphasize=!1,this.userClaims=[],this.showInDiscoveryDocument=!0,this.isFinalInstanceOnResource=!0,this.shared=!1,this.properties=[]}}},6068:(it,oe,g)=>{"use strict";g.d(oe,{u:()=>e});var a=g(2976);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new a.NA).SharedSecret}}},6502:(it,oe,g)=>{"use strict";g.d(oe,{i:()=>C});var a=g(2329),e=g(9748);class C{constructor(T){this.unitMap=e.S.getUnitMap(),this.formatSeconds(T)}formatSeconds(T){return this.years=Math.floor(T/this.unitMap.get(a.f.Years)),T-=this.years*this.unitMap.get(a.f.Years),this.months=Math.floor(T/this.unitMap.get(a.f.Month)),T-=this.months*this.unitMap.get(a.f.Month),this.weeks=Math.floor(T/this.unitMap.get(a.f.Weeks)),T-=this.weeks*this.unitMap.get(a.f.Weeks),this.days=Math.floor(T/this.unitMap.get(a.f.Days)),T-=this.days*this.unitMap.get(a.f.Days),this.hours=Math.floor(T/this.unitMap.get(a.f.Hours)),T-=this.hours*this.unitMap.get(a.f.Hours),this.minutes=Math.floor(T/this.unitMap.get(a.f.Minute)),T-=this.minutes*this.unitMap.get(a.f.Minute),this.seconds=T,this}}},7393:(it,oe,g)=>{"use strict";g.d(oe,{w:()=>a});class a{constructor(){this.SigningCertificates=[]}}},3111:(it,oe,g)=>{"use strict";g.d(oe,{CP:()=>S,JR:()=>e,vZ:()=>C,yr:()=>a});class a{}var e=(()=>{return(_=e||(e={})).Client="Client",_.ClaimType="ClaimType",_.IdentityResource="IdentityResource",_.ProtectedResource="ProtectedResource",e;var _})(),C=(()=>{return(_=C||(C={})).New="New",_.Duplicate="Duplicate",_.Conflicted="Conflicted",C;var _})(),S=(()=>{return(_=S||(S={})).Importing="Importing",_.Existing="Existing",S;var _})()},5669:(it,oe,g)=>{"use strict";g.d(oe,{m:()=>e});var a=g(3111);let e=(()=>{class C{static getSummaryDisplayType(T){switch(T){case a.JR.Client:return this.client;case a.JR.IdentityResource:case a.JR.ProtectedResource:return this.resource;case a.JR.ClaimType:return this.claimType}}}return C.client="Client",C.resource="Resource",C.protectedResource="ProtectedResource",C.claimType="ClaimType",C})()},4456:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>a});var a=(()=>{return(e=a||(a={})).standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",a;var e})()},3110:(it,oe,g)=>{"use strict";g.d(oe,{C9:()=>x,Xm:()=>C,g9:()=>T});var a=g(8176),e=g(4650);let C=(()=>{class S{transform(U){return(0,a.X1)(U,"ccc LLL dd yyyy, T")}}return S.\u0275fac=function(U){return new(U||S)},S.\u0275pipe=e.Yjl({name:"prettyDateTime",type:S,pure:!0}),S})(),x=(()=>{class S{transform(U){return(0,a.X1)(U,"LLL dd yyyy T")}}return S.\u0275fac=function(U){return new(U||S)},S.\u0275pipe=e.Yjl({name:"standardDateTime",type:S,pure:!0}),S})(),T=(()=>{class S{transform(U){return(0,a.X1)(U,"LLL dd yyyy")}}return S.\u0275fac=function(U){return new(U||S)},S.\u0275pipe=e.Yjl({name:"standardDate",type:S,pure:!0}),S})()},5503:(it,oe,g)=>{"use strict";g.d(oe,{D:()=>x});var a=g(6895),e=g(9066),C=g(4650);let x=(()=>{class T{}return T.\u0275fac=function(_){return new(_||T)},T.\u0275mod=C.oAB({type:T}),T.\u0275inj=C.cJS({imports:[a.ez,e.aw]}),T})()},7111:(it,oe,g)=>{"use strict";g.d(oe,{n:()=>C});var a=g(4650),e=g(1060);let C=(()=>{class x{constructor(S){this.securityService=S}notAllowedToEditClaim(S){return!this.securityService.allView&&this.isPolicyClaim(S)}isPolicyClaim(S){if(void 0!==S){const _=this.securityService.policyClaims;for(let U=0;U<_.length;U++)if(_[U].type===S.type&&_[U].value===S.value)return!0;return!1}}}return x.\u0275fac=function(S){return new(S||x)(a.LFG(e.I))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac}),x})()},9455:(it,oe,g)=>{"use strict";g.d(oe,{t:()=>x});var a=g(1135);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var C=g(4650);let x=(()=>{class T{constructor(){this.viewConfig=new e,this.viewConfig$=new a.X(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}}return T.\u0275fac=function(_){return new(_||T)},T.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},1228:(it,oe,g)=>{"use strict";g.d(oe,{e:()=>T});var a=g(8176),e=g(4650),C=g(529),x=g(9455);let T=(()=>{class S{constructor(U,R){this.http=U,this.appComponentViewService=R,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const y=(0,a.SV)();this.actionUrl="auth",this.authUrl=`${y}auth`}login(){window.location.href=`${this.authUrl}/login`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}}return S.\u0275fac=function(U){return new(U||S)(e.LFG(C.eN),e.LFG(x.t))},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},1058:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>e});var a=g(4650);let e=(()=>{class C{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const T=this.storage.getItem(this.countKey);let S=T?Number(T):0;return S=isNaN(S)?0:S,S}set retryCount(T){(T=isNaN(T)?0:T)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,T.toString())}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},3212:(it,oe,g)=>{"use strict";g.d(oe,{_:()=>x});var a=g(529),e=g(8176),C=g(4650);let x=(()=>{class T{buildParams(_,U,R,y,B,F,K){let G=new a.LE;return null!=_&&((0,e.Ew)(_.auditAction)||(G=G.append("auditAction",_.auditAction)),(0,e.Ew)(_.subject)||(G=G.append("subject",_.subject)),(0,e.Ew)(_.resourceName)||(G=G.append("resource",_.resourceName)),(0,e.Ew)(_.source)||(G=G.append("source",_.source))),null!=K&&(G=G.append("success",String(K))),(0,e.Ew)(F)||(G=G.append("sort",F)),R&&(G=G.append("to",R)),U&&(G=G.append("from",U)),y&&(G=G.append("page",String(y))),B&&(G=G.append("pageSize",String(B))),G}}return T.\u0275fac=function(_){return new(_||T)},T.\u0275prov=C.Yz7({token:T,factory:T.\u0275fac}),T})()},3257:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>e});var a=g(4650);let e=(()=>{class x{constructor(){}uploadFile(S,_){throw new Error("not implemented")}uploadViaMetaData(S,_){throw new Error("not implemented")}updateCertCache(S){throw new Error("not implemented")}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac}),x})()},8117:(it,oe,g)=>{"use strict";g.d(oe,{S:()=>xi});var a=g(5861);class e{}var C=g(6801);function T(se,d,l){var p;return se instanceof Object&&null!==(p=se[d])&&void 0!==p?p:l}function S(se,d=0,l=se.byteLength-d,p=!1){let f="";for(const w of new Uint8Array(se,d,l)){const A=w.toString(16).toUpperCase();1===A.length&&(f+="0"),f+=A,p&&(f+=" ")}return f.trim()}function _(se,d,l,p){return d instanceof ArrayBuffer?d.byteLength?l<0?(se.error="Wrong parameter: inputOffset less than zero",!1):p<0?(se.error="Wrong parameter: inputLength less than zero",!1):!(d.byteLength-l-p<0&&(se.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(se.error="Wrong parameter: inputBuffer has zero length",!1):(se.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function U(se,d){let l=0;if(1===se.length)return se[0];for(let p=se.length-1;p>=0;p--)l+=se[se.length-1-p]*Math.pow(2,d*p);return l}function R(se,d,l=-1){const p=l;let f=se,w=0,A=Math.pow(2,d);for(let O=1;O<8;O++){if(se<A){let Z;if(p<0)Z=new ArrayBuffer(O),w=O;else{if(p<O)return new ArrayBuffer(0);Z=new ArrayBuffer(p),w=p}const z=new Uint8Array(Z);for(let Ce=O-1;Ce>=0;Ce--){const We=Math.pow(2,Ce*d);z[w-Ce-1]=Math.floor(f/We),f-=z[w-Ce-1]*We}return Z}A*=Math.pow(2,d)}return new ArrayBuffer(0)}function y(...se){let d=0,l=0;for(const w of se)d+=w.byteLength;const p=new ArrayBuffer(d),f=new Uint8Array(p);for(const w of se)f.set(new Uint8Array(w),l),l+=w.byteLength;return p}function B(...se){let d=0,l=0;for(const w of se)d+=w.length;const p=new ArrayBuffer(d),f=new Uint8Array(p);for(const w of se)f.set(w,l),l+=w.length;return f}function F(){const se=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const Z=0===se[0]&&0==(128&se[1]);(255===se[0]&&128&se[1]||Z)&&this.warnings.push("Needlessly long format")}const d=new ArrayBuffer(this.valueHex.byteLength),l=new Uint8Array(d);for(let O=0;O<this.valueHex.byteLength;O++)l[O]=0;l[0]=128&se[0];const p=U(l,8),f=new ArrayBuffer(this.valueHex.byteLength),w=new Uint8Array(f);for(let O=0;O<this.valueHex.byteLength;O++)w[O]=se[O];return w[0]&=127,U(w,8)-p}function K(se){const d=se<0?-1*se:se;let l=128;for(let p=1;p<8;p++){if(d<=l){if(se<0){const O=R(l-d,8,p);return new Uint8Array(O)[0]|=128,O}let f=R(d,8,p),w=new Uint8Array(f);if(128&w[0]){const A=f.slice(0),O=new Uint8Array(A);f=new ArrayBuffer(f.byteLength+1),w=new Uint8Array(f);for(let Z=0;Z<A.byteLength;Z++)w[Z+1]=O[Z];w[0]=0}return f}l*=Math.pow(2,8)}return new ArrayBuffer(0)}function G(se,d){if(se.byteLength!==d.byteLength)return!1;const l=new Uint8Array(se),p=new Uint8Array(d);for(let f=0;f<l.length;f++)if(l[f]!==p[f])return!1;return!0}function j(se,d){const l=se.toString(10);if(d<l.length)return"";const p=d-l.length,f=new Array(p);for(let A=0;A<p;A++)f[A]="0";return f.join("").concat(l)}const le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function ve(se,d=!1,l=!1,p=!1){let f=0,w=0,A=0,O="";const Z=d?Ee:le;if(p){let z=0;for(let Ce=0;Ce<se.length;Ce++)if(0!==se.charCodeAt(Ce)){z=Ce;break}se=se.slice(z)}for(;f<se.length;){const z=se.charCodeAt(f++);f>=se.length&&(w=1);const Ce=se.charCodeAt(f++);f>=se.length&&(A=1);const We=se.charCodeAt(f++),Tt=z>>2,gt=(3&z)<<4|Ce>>4;let Kt=(15&Ce)<<2|We>>6,Pn=63&We;1===w?Kt=Pn=64:1===A&&(Pn=64),O+=l?64===Kt?`${Z.charAt(Tt)}${Z.charAt(gt)}`:64===Pn?`${Z.charAt(Tt)}${Z.charAt(gt)}${Z.charAt(Kt)}`:`${Z.charAt(Tt)}${Z.charAt(gt)}${Z.charAt(Kt)}${Z.charAt(Pn)}`:`${Z.charAt(Tt)}${Z.charAt(gt)}${Z.charAt(Kt)}${Z.charAt(Pn)}`}return O}function ye(se,d=!1,l=!1){const p=d?Ee:le;function f(Z){for(let z=0;z<64;z++)if(p.charAt(z)===Z)return z;return 64}function w(Z){return 64===Z?0:Z}let A=0,O="";for(;A<se.length;){const Z=f(se.charAt(A++)),z=A>=se.length?0:f(se.charAt(A++)),Ce=A>=se.length?0:f(se.charAt(A++)),We=A>=se.length?0:f(se.charAt(A++)),Tt=w(Z)<<2|w(z)>>4,gt=(15&w(z))<<4|w(Ce)>>2,Kt=(3&w(Ce))<<6|w(We);O+=String.fromCharCode(Tt),64!==Ce&&(O+=String.fromCharCode(gt)),64!==We&&(O+=String.fromCharCode(Kt))}if(l){let z=-1;for(let Ce=O.length-1;Ce>=0;Ce--)if(0!==O.charCodeAt(Ce)){z=Ce;break}O=-1!==z?O.slice(0,z+1):""}return O}function we(se){let d="";const l=new Uint8Array(se);for(const p of l)d+=String.fromCharCode(p);return d}function re(se){const d=se.length,l=new ArrayBuffer(d),p=new Uint8Array(l);for(let f=0;f<d;f++)p[f]=se.charCodeAt(f);return l}const ce=Math.log(2);function Ie(se){const d=Math.log(se)/ce,l=Math.floor(d),p=Math.round(d);return l===p?l:p}function ke(se,d){for(const l of d)delete se[l]}function Ae(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Ze(se){let d=0,l=0;for(let f=0;f<se.length;f++)d+=se[f].byteLength;const p=new Uint8Array(d);for(let f=0;f<se.length;f++){const w=se[f];p.set(new Uint8Array(w),l),l+=w.byteLength}return p.buffer}function me(se,d,l,p){return d instanceof Uint8Array?d.byteLength?l<0?(se.error="Wrong parameter: inputOffset less than zero",!1):p<0?(se.error="Wrong parameter: inputLength less than zero",!1):!(d.byteLength-l-p<0&&(se.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(se.error="Wrong parameter: inputBuffer has zero length",!1):(se.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class he{constructor(){this.items=[]}write(d){this.items.push(d)}final(){return Ze(this.items)}}const Y=[new Uint8Array([1])],Me="0123456789",fe="name",xe="valueHexView",$e=new ArrayBuffer(0),ut=new Uint8Array(0),Vt="EndOfContent",sn="OCTET STRING",rn="BIT STRING";function Cn(se){var d;return(d=class extends se{constructor(...p){var f;super(...p);const w=p[0]||{};this.isHexOnly=null!==(f=w.isHexOnly)&&void 0!==f&&f,this.valueHexView=w.valueHex?C.vJ.toUint8Array(w.valueHex):ut}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(p){this.valueHexView=new Uint8Array(p)}fromBER(p,f,w){const A=p instanceof ArrayBuffer?new Uint8Array(p):p;if(!me(this,A,f,w))return-1;const O=f+w;return this.valueHexView=A.subarray(f,O),this.valueHexView.length?(this.blockLength=w,O):(this.warnings.push("Zero buffer length"),f)}toBER(p=!1){return this.isHexOnly?p?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",$e)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:C.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",d}let vt=(()=>{class se{constructor({blockLength:l=0,error:p="",warnings:f=[],valueBeforeDecode:w=ut}={}){this.blockLength=l,this.error=p,this.warnings=f,this.valueBeforeDecodeView=C.vJ.toUint8Array(w)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(l){this.valueBeforeDecodeView=new Uint8Array(l)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:C.ep.ToHex(this.valueBeforeDecodeView)}}}return se.NAME="baseBlock",se})(),At=(()=>{class se extends vt{fromBER(l,p,f){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(l,p){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return se.NAME="valueBlock",se})(),Ge=(()=>{class se extends(Cn(vt)){constructor({idBlock:l={}}={}){var p,f,w,A;super(),l?(this.isHexOnly=null!==(p=l.isHexOnly)&&void 0!==p&&p,this.valueHexView=l.valueHex?C.vJ.toUint8Array(l.valueHex):ut,this.tagClass=null!==(f=l.tagClass)&&void 0!==f?f:-1,this.tagNumber=null!==(w=l.tagNumber)&&void 0!==w?w:-1,this.isConstructed=null!==(A=l.isConstructed)&&void 0!==A&&A):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(l=!1){let p=0;switch(this.tagClass){case 1:p|=0;break;case 2:p|=64;break;case 3:p|=128;break;case 4:p|=192;break;default:return this.error="Unknown tag class",$e}if(this.isConstructed&&(p|=32),this.tagNumber<31&&!this.isHexOnly){const w=new Uint8Array(1);if(!l){let A=this.tagNumber;A&=31,p|=A,w[0]=p}return w.buffer}if(!this.isHexOnly){const w=R(this.tagNumber,7),A=new Uint8Array(w),O=w.byteLength,Z=new Uint8Array(O+1);if(Z[0]=31|p,!l){for(let z=0;z<O-1;z++)Z[z+1]=128|A[z];Z[O]=A[O-1]}return Z.buffer}const f=new Uint8Array(this.valueHexView.byteLength+1);if(f[0]=31|p,!l){const w=this.valueHexView;for(let A=0;A<w.length-1;A++)f[A+1]=128|w[A];f[this.valueHexView.byteLength]=w[w.length-1]}return f.buffer}fromBER(l,p,f){const w=C.vJ.toUint8Array(l);if(!me(this,w,p,f))return-1;const A=w.subarray(p,p+f);if(0===A.length)return this.error="Zero buffer length",-1;switch(192&A[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&A[0]),this.isHexOnly=!1;const Z=31&A[0];if(31!==Z)this.tagNumber=Z,this.blockLength=1;else{let z=1,Ce=this.valueHexView=new Uint8Array(255),We=255;for(;128&A[z];){if(Ce[z-1]=127&A[z],z++,z>=A.length)return this.error="End of input reached before message was fully decoded",-1;if(z===We){We+=255;const gt=new Uint8Array(We);for(let Kt=0;Kt<Ce.length;Kt++)gt[Kt]=Ce[Kt];Ce=this.valueHexView=new Uint8Array(We)}}this.blockLength=z+1,Ce[z-1]=127&A[z];const Tt=new Uint8Array(z);for(let gt=0;gt<z;gt++)Tt[gt]=Ce[gt];Ce=this.valueHexView=new Uint8Array(z),Ce.set(Tt),this.blockLength<=9?this.tagNumber=U(Ce,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return p+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return se.NAME="identificationBlock",se})(),xt=(()=>{class se extends vt{constructor({lenBlock:l={}}={}){var p,f,w;super(),this.isIndefiniteForm=null!==(p=l.isIndefiniteForm)&&void 0!==p&&p,this.longFormUsed=null!==(f=l.longFormUsed)&&void 0!==f&&f,this.length=null!==(w=l.length)&&void 0!==w?w:0}fromBER(l,p,f){const w=C.vJ.toUint8Array(l);if(!me(this,w,p,f))return-1;const A=w.subarray(p,p+f);if(0===A.length)return this.error="Zero buffer length",-1;if(255===A[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===A[0],this.isIndefiniteForm)return this.blockLength=1,p+this.blockLength;if(this.longFormUsed=!!(128&A[0]),!1===this.longFormUsed)return this.length=A[0],this.blockLength=1,p+this.blockLength;const O=127&A[0];if(O>8)return this.error="Too big integer",-1;if(O+1>A.length)return this.error="End of input reached before message was fully decoded",-1;const Z=p+1,z=w.subarray(Z,Z+O);return 0===z[O-1]&&this.warnings.push("Needlessly long encoded length"),this.length=U(z,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=O+1,p+this.blockLength}toBER(l=!1){let p,f;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return p=new ArrayBuffer(1),!1===l&&(f=new Uint8Array(p),f[0]=128),p;if(this.longFormUsed){const w=R(this.length,8);if(w.byteLength>127)return this.error="Too big length",$e;if(p=new ArrayBuffer(w.byteLength+1),l)return p;const A=new Uint8Array(w);f=new Uint8Array(p),f[0]=128|w.byteLength;for(let O=0;O<w.byteLength;O++)f[O+1]=A[O];return p}return p=new ArrayBuffer(1),!1===l&&(f=new Uint8Array(p),f[0]=this.length),p}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return se.NAME="lengthBlock",se})();const Et={};let _t=(()=>{class se extends vt{constructor({name:l="",optional:p=!1,primitiveSchema:f,...w}={},A){super(w),this.name=l,this.optional=p,f&&(this.primitiveSchema=f),this.idBlock=new Ge(w),this.lenBlock=new xt(w),this.valueBlock=A?new A(w):new At(w)}fromBER(l,p,f){const w=this.valueBlock.fromBER(l,p,this.lenBlock.isIndefiniteForm?f:this.lenBlock.length);return-1===w?(this.error=this.valueBlock.error,w):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),w)}toBER(l,p){const f=p||new he;p||Ct(this);const w=this.idBlock.toBER(l);if(f.write(w),this.lenBlock.isIndefiniteForm)f.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(l,f),f.write(new ArrayBuffer(2));else{const A=this.valueBlock.toBER(l);this.lenBlock.length=A.byteLength;const O=this.lenBlock.toBER(l);f.write(O),f.write(A)}return p?$e:f.final()}toJSON(){const l={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(l.primitiveSchema=this.primitiveSchema.toJSON()),l}toString(l="ascii"){return"ascii"===l?this.onAsciiEncoding():C.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${C.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(l){return this===l||l instanceof this.constructor&&G(this.toBER(),l.toBER())}}return se.NAME="BaseBlock",se})();function Ct(se){if(se instanceof Et.Constructed)for(const d of se.valueBlock.value)Ct(d)&&(se.lenBlock.isIndefiniteForm=!0);return!!se.lenBlock.isIndefiniteForm}let nt=(()=>{class se extends _t{constructor({value:l="",...p}={},f){super(p,f),l&&this.fromString(l)}getValue(){return this.valueBlock.value}setValue(l){this.valueBlock.value=l}fromBER(l,p,f){const w=this.valueBlock.fromBER(l,p,this.lenBlock.isIndefiniteForm?f:this.lenBlock.length);return-1===w?(this.error=this.valueBlock.error,w):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),w)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return se.NAME="BaseStringBlock",se})(),Ye=(()=>{class se extends(Cn(At)){constructor({isHexOnly:l=!0,...p}={}){super(p),this.isHexOnly=l}}return se.NAME="PrimitiveValueBlock",se})();class Oe extends _t{constructor(d={}){super(d,Ye),this.idBlock.isConstructed=!1}}function Zt(se,d=0,l=se.length){const p=d;let f=new _t({},At);const w=new vt;if(!me(w,se,d,l))return f.error=w.error,{offset:-1,result:f};if(!se.subarray(d,d+l).length)return f.error="Zero buffer length",{offset:-1,result:f};let O=f.idBlock.fromBER(se,d,l);if(f.idBlock.warnings.length&&f.warnings.concat(f.idBlock.warnings),-1===O)return f.error=f.idBlock.error,{offset:-1,result:f};if(O=f.lenBlock.fromBER(se,d=O,l-=f.idBlock.blockLength),f.lenBlock.warnings.length&&f.warnings.concat(f.lenBlock.warnings),-1===O)return f.error=f.lenBlock.error,{offset:-1,result:f};if(d=O,l-=f.lenBlock.blockLength,!f.idBlock.isConstructed&&f.lenBlock.isIndefiniteForm)return f.error="Indefinite length form used for primitive encoding form",{offset:-1,result:f};let Z=_t;if(1===f.idBlock.tagClass){if(f.idBlock.tagNumber>=37&&!1===f.idBlock.isHexOnly)return f.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:f};switch(f.idBlock.tagNumber){case 0:if(f.idBlock.isConstructed&&f.lenBlock.length>0)return f.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:f};Z=Et.EndOfContent;break;case 1:Z=Et.Boolean;break;case 2:Z=Et.Integer;break;case 3:Z=Et.BitString;break;case 4:Z=Et.OctetString;break;case 5:Z=Et.Null;break;case 6:Z=Et.ObjectIdentifier;break;case 10:Z=Et.Enumerated;break;case 12:Z=Et.Utf8String;break;case 13:Z=Et.RelativeObjectIdentifier;break;case 14:Z=Et.TIME;break;case 15:return f.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:f};case 16:Z=Et.Sequence;break;case 17:Z=Et.Set;break;case 18:Z=Et.NumericString;break;case 19:Z=Et.PrintableString;break;case 20:Z=Et.TeletexString;break;case 21:Z=Et.VideotexString;break;case 22:Z=Et.IA5String;break;case 23:Z=Et.UTCTime;break;case 24:Z=Et.GeneralizedTime;break;case 25:Z=Et.GraphicString;break;case 26:Z=Et.VisibleString;break;case 27:Z=Et.GeneralString;break;case 28:Z=Et.UniversalString;break;case 29:Z=Et.CharacterString;break;case 30:Z=Et.BmpString;break;case 31:Z=Et.DATE;break;case 32:Z=Et.TimeOfDay;break;case 33:Z=Et.DateTime;break;case 34:Z=Et.Duration;break;default:{const z=f.idBlock.isConstructed?new Et.Constructed:new Et.Primitive;z.idBlock=f.idBlock,z.lenBlock=f.lenBlock,z.warnings=f.warnings,f=z}}}else Z=f.idBlock.isConstructed?Et.Constructed:Et.Primitive;return f=function Ke(se,d){if(se instanceof d)return se;const l=new d;return l.idBlock=se.idBlock,l.lenBlock=se.lenBlock,l.warnings=se.warnings,l.valueBeforeDecodeView=se.valueBeforeDecodeView,l}(f,Z),O=f.fromBER(se,d,f.lenBlock.isIndefiniteForm?l:f.lenBlock.length),f.valueBeforeDecodeView=se.subarray(p,p+f.blockLength),{offset:O,result:f}}function tt(se){if(!se.byteLength){const d=new _t({},At);return d.error="Input buffer has zero length",{offset:-1,result:d}}return Zt(C.vJ.toUint8Array(se).slice(),0,se.byteLength)}function Ne(se,d){return se?1:d}Et.Primitive=Oe,Oe.NAME="PRIMITIVE";let W=(()=>{class se extends At{constructor({value:l=[],isIndefiniteForm:p=!1,...f}={}){super(f),this.value=l,this.isIndefiniteForm=p}fromBER(l,p,f){const w=C.vJ.toUint8Array(l);if(!me(this,w,p,f))return-1;if(this.valueBeforeDecodeView=w.subarray(p,p+f),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),p;let A=p;for(;Ne(this.isIndefiniteForm,f)>0;){const O=Zt(w,A,f);if(-1===O.offset)return this.error=O.result.error,this.warnings.concat(O.result.warnings),-1;if(A=O.offset,this.blockLength+=O.result.blockLength,f-=O.result.blockLength,this.value.push(O.result),this.isIndefiniteForm&&O.result.constructor.NAME===Vt)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Vt?this.value.pop():this.warnings.push("No EndOfContent block encoded")),A}toBER(l,p){const f=p||new he;for(let w=0;w<this.value.length;w++)this.value[w].toBER(l,f);return p?$e:f.final()}toJSON(){const l={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const p of this.value)l.value.push(p.toJSON());return l}}return se.NAME="ConstructedValueBlock",se})();class D extends _t{constructor(d={}){super(d,W),this.idBlock.isConstructed=!0}fromBER(d,l,p){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const f=this.valueBlock.fromBER(d,l,this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),f)}onAsciiEncoding(){const d=[];for(const p of this.valueBlock.value)d.push(p.toString("ascii").split("\n").map(f=>`  ${f}`).join("\n"));const l=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return d.length?`${l} :\n${d.join("\n")}`:`${l} :`}}Et.Constructed=D,D.NAME="CONSTRUCTED";let k=(()=>{class se extends At{fromBER(l,p,f){return p}toBER(l){return $e}}return se.override="EndOfContentValueBlock",se})();class Le extends _t{constructor(d={}){super(d,k),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Et.EndOfContent=Le,Le.NAME=Vt;class lt extends _t{constructor(d={}){super(d,At),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(d,l,p){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=p,l+p>d.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):l+p}toBER(d,l){const p=new ArrayBuffer(2);if(!d){const f=new Uint8Array(p);f[0]=5,f[1]=0}return l&&l.write(p),p}onAsciiEncoding(){return`${this.constructor.NAME}`}}Et.Null=lt,lt.NAME="NULL";let Ut=(()=>{class se extends(Cn(At)){constructor({value:l,...p}={}){super(p),this.valueHexView=p.valueHex?C.vJ.toUint8Array(p.valueHex):new Uint8Array(1),l&&(this.value=l)}get value(){for(const l of this.valueHexView)if(l>0)return!0;return!1}set value(l){this.valueHexView[0]=l?255:0}fromBER(l,p,f){const w=C.vJ.toUint8Array(l);return me(this,w,p,f)?(this.valueHexView=w.subarray(p,p+f),f>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,F.call(this),this.blockLength=f,p+f):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return se.NAME="BooleanValueBlock",se})();class Bt extends _t{constructor(d={}){super(d,Ut),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(d){this.valueBlock.value=d}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Et.Boolean=Bt,Bt.NAME="BOOLEAN";let Qt=(()=>{class se extends(Cn(W)){constructor({isConstructed:l=!1,...p}={}){super(p),this.isConstructed=l}fromBER(l,p,f){let w=0;if(this.isConstructed){if(this.isHexOnly=!1,w=W.prototype.fromBER.call(this,l,p,f),-1===w)return w;for(let A=0;A<this.value.length;A++){const O=this.value[A].constructor.NAME;if(O===Vt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(O!==sn)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,w=super.fromBER(l,p,f),this.blockLength=f;return w}toBER(l,p){return this.isConstructed?W.prototype.toBER.call(this,l,p):l?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return se.NAME="OctetStringValueBlock",se})();class je extends _t{constructor({idBlock:d={},lenBlock:l={},...p}={}){var f,w;null!==(f=p.isConstructed)&&void 0!==f||(p.isConstructed=!(null===(w=p.value)||void 0===w||!w.length)),super({idBlock:{isConstructed:p.isConstructed,...d},lenBlock:{...l,isIndefiniteForm:!!p.isIndefiniteForm},...p},Qt),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(d,l,p){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===p)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),l;if(!this.valueBlock.isConstructed){const w=(d instanceof ArrayBuffer?new Uint8Array(d):d).subarray(l,l+p);try{if(w.byteLength){const A=Zt(w,0,w.byteLength);-1!==A.offset&&A.offset===p&&(this.valueBlock.value=[A.result])}}catch{}}return super.fromBER(d,l,p)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?D.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${C.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const d=[];for(const l of this.valueBlock.value)l instanceof je&&d.push(l.valueBlock.valueHexView);return C.vJ.concat(d)}}Et.OctetString=je,je.NAME=sn;let qt=(()=>{class se extends(Cn(W)){constructor({unusedBits:l=0,isConstructed:p=!1,...f}={}){super(f),this.unusedBits=l,this.isConstructed=p,this.blockLength=this.valueHexView.byteLength}fromBER(l,p,f){if(!f)return p;let w=-1;if(this.isConstructed){if(w=W.prototype.fromBER.call(this,l,p,f),-1===w)return w;for(const Z of this.value){const z=Z.constructor.NAME;if(z===Vt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(z!==rn)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const Ce=Z.valueBlock;if(this.unusedBits>0&&Ce.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=Ce.unusedBits}return w}const A=C.vJ.toUint8Array(l);if(!me(this,A,p,f))return-1;const O=A.subarray(p,p+f);if(this.unusedBits=O[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const Z=O.subarray(1);try{if(Z.byteLength){const z=Zt(Z,0,Z.byteLength);-1!==z.offset&&z.offset===f-1&&(this.value=[z.result])}}catch{}}return this.valueHexView=O.subarray(1),this.blockLength=O.length,p+f}toBER(l,p){if(this.isConstructed)return W.prototype.toBER.call(this,l,p);if(l)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return $e;const f=new Uint8Array(this.valueHexView.length+1);return f[0]=this.unusedBits,f.set(this.valueHexView,1),f.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return se.NAME="BitStringValueBlock",se})();var Gt;class Lt extends _t{constructor({idBlock:d={},lenBlock:l={},...p}={}){var f,w;null!==(f=p.isConstructed)&&void 0!==f||(p.isConstructed=!(null===(w=p.value)||void 0===w||!w.length)),super({idBlock:{isConstructed:p.isConstructed,...d},lenBlock:{...l,isIndefiniteForm:!!p.isIndefiniteForm},...p},qt),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(d,l,p){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(d,l,p)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return D.prototype.onAsciiEncoding.call(this);{const d=[],l=this.valueBlock.valueHexView;for(const f of l)d.push(f.toString(2).padStart(8,"0"));const p=d.join("");return`${this.constructor.NAME} : ${p.substring(0,p.length-this.valueBlock.unusedBits)}`}}}function En(se,d){const l=new Uint8Array([0]),p=new Uint8Array(se),f=new Uint8Array(d);let w=p.slice(0);const A=w.length-1,O=f.slice(0),Z=O.length-1;let z=0,We=0;for(let Tt=Z<A?A:Z;Tt>=0;Tt--,We++)z=1==We<O.length?w[A-We]+O[Z-We]+l[0]:w[A-We]+l[0],l[0]=z/10,1==We>=w.length?w=B(new Uint8Array([z%10]),w):w[A-We]=z%10;return l[0]>0&&(w=B(l,w)),w}function yn(se){if(se>=Y.length)for(let d=Y.length;d<=se;d++){const l=new Uint8Array([0]);let p=Y[d-1].slice(0);for(let f=p.length-1;f>=0;f--){const w=new Uint8Array([(p[f]<<1)+l[0]]);l[0]=w[0]/10,p[f]=w[0]%10}l[0]>0&&(p=B(l,p)),Y.push(p)}return Y[se]}function si(se,d){let l=0;const p=new Uint8Array(se),f=new Uint8Array(d),w=p.slice(0),A=w.length-1,O=f.slice(0),Z=O.length-1;let z,Ce=0;for(let We=Z;We>=0;We--,Ce++)z=w[A-Ce]-O[Z-Ce]-l,1==z<0?(l=1,w[A-Ce]=z+10):(l=0,w[A-Ce]=z);if(l>0)for(let We=A-Z+1;We>=0;We--,Ce++){if(z=w[A-Ce]-l,!(z<0)){l=0,w[A-Ce]=z;break}l=1,w[A-Ce]=z+10}return w.slice()}Et.BitString=Lt,Lt.NAME=rn;class Ti extends(Cn(At)){constructor({value:d,...l}={}){super(l),this._valueDec=0,l.valueHex&&this.setValueHex(),void 0!==d&&(this.valueDec=d)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=F.call(this)))}set valueDec(d){this._valueDec=d,this.isHexOnly=!1,this.valueHexView=new Uint8Array(K(d))}get valueDec(){return this._valueDec}fromDER(d,l,p,f=0){const w=this.fromBER(d,l,p);if(-1===w)return w;const A=this.valueHexView;return 0===A[0]&&0!=(128&A[1])?this.valueHexView=A.subarray(1):0!==f&&A.length<f&&(f-A.length>1&&(f=A.length+1),this.valueHexView=A.subarray(f-A.length)),w}toDER(d=!1){const l=this.valueHexView;switch(!0){case 0!=(128&l[0]):{const p=new Uint8Array(this.valueHexView.length+1);p[0]=0,p.set(l,1),this.valueHexView=p}break;case 0===l[0]&&0==(128&l[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(d)}fromBER(d,l,p){const f=super.fromBER(d,l,p);return-1===f||this.setValueHex(),f}toBER(d){return d?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const d=8*this.valueHexView.length-1;let f,l=new Uint8Array(8*this.valueHexView.length/3),p=0;const w=this.valueHexView;let A="",O=!1;for(let Z=w.byteLength-1;Z>=0;Z--){f=w[Z];for(let z=0;z<8;z++)1==(1&f)&&(p===d?(l=si(yn(p),l),A="-"):l=En(l,yn(p))),p++,f>>=1}for(let Z=0;Z<l.length;Z++)l[Z]&&(O=!0),O&&(A+=Me.charAt(l[Z]));return!1===O&&(A+=Me.charAt(0)),A}}Gt=Ti,Ti.NAME="IntegerValueBlock",Object.defineProperty(Gt.prototype,"valueHex",{set:function(se){this.valueHexView=new Uint8Array(se),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class It extends _t{constructor(d={}){super(d,Ti),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Ae(),BigInt(this.valueBlock.toString())}static fromBigInt(d){Ae();const l=BigInt(d),p=new he,f=l.toString(16).replace(/^-/,""),w=new Uint8Array(C.ep.FromHex(f));if(l<0){const O=new Uint8Array(w.length+(128&w[0]?1:0));O[0]|=128;const z=BigInt(`0x${C.ep.ToHex(O)}`)+l,Ce=C.vJ.toUint8Array(C.ep.FromHex(z.toString(16)));Ce[0]|=128,p.write(Ce)}else 128&w[0]&&p.write(new Uint8Array([0])),p.write(w);return new It({valueHex:p.final()})}convertToDER(){const d=new It({valueHex:this.valueBlock.valueHexView});return d.valueBlock.toDER(),d}convertFromDER(){return new It({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Et.Integer=It,It.NAME="INTEGER";class jn extends It{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Et.Enumerated=jn,jn.NAME="ENUMERATED";let Xn=(()=>{class se extends(Cn(At)){constructor({valueDec:l=-1,isFirstSid:p=!1,...f}={}){super(f),this.valueDec=l,this.isFirstSid=p}fromBER(l,p,f){if(!f)return p;const w=C.vJ.toUint8Array(l);if(!me(this,w,p,f))return-1;const A=w.subarray(p,p+f);this.valueHexView=new Uint8Array(f);for(let Z=0;Z<f&&(this.valueHexView[Z]=127&A[Z],this.blockLength++,0!=(128&A[Z]));Z++);const O=new Uint8Array(this.blockLength);for(let Z=0;Z<this.blockLength;Z++)O[Z]=this.valueHexView[Z];return this.valueHexView=O,0!=(128&A[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=U(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),p+this.blockLength)}set valueBigInt(l){Ae();let p=BigInt(l).toString(2);for(;p.length%7;)p="0"+p;const f=new Uint8Array(p.length/7);for(let w=0;w<f.length;w++)f[w]=parseInt(p.slice(7*w,7*w+7),2)+(w+1<f.length?128:0);this.fromBER(f.buffer,0,f.length)}toBER(l){if(this.isHexOnly){if(l)return new ArrayBuffer(this.valueHexView.byteLength);const w=this.valueHexView,A=new Uint8Array(this.blockLength);for(let O=0;O<this.blockLength-1;O++)A[O]=128|w[O];return A[this.blockLength-1]=w[this.blockLength-1],A.buffer}const p=R(this.valueDec,7);if(0===p.byteLength)return this.error="Error during encoding SID value",$e;const f=new Uint8Array(p.byteLength);if(!l){const w=new Uint8Array(p),A=p.byteLength-1;for(let O=0;O<A;O++)f[O]=128|w[O];f[A]=w[A]}return f}toString(){let l="";if(this.isHexOnly)l=C.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let p=this.valueDec;this.valueDec<=39?l="0.":this.valueDec<=79?(l="1.",p-=40):(l="2.",p-=80),l+=p.toString()}else l=this.valueDec.toString();return l}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return se.NAME="sidBlock",se})(),ri=(()=>{class se extends At{constructor({value:l="",...p}={}){super(p),this.value=[],l&&this.fromString(l)}fromBER(l,p,f){let w=p;for(;f>0;){const A=new Xn;if(w=A.fromBER(l,w,f),-1===w)return this.blockLength=0,this.error=A.error,w;0===this.value.length&&(A.isFirstSid=!0),this.blockLength+=A.blockLength,f-=A.blockLength,this.value.push(A)}return w}toBER(l){const p=[];for(let f=0;f<this.value.length;f++){const w=this.value[f].toBER(l);if(0===w.byteLength)return this.error=this.value[f].error,$e;p.push(w)}return Ze(p)}fromString(l){this.value=[];let p=0,f=0,w="",A=!1;do{if(f=l.indexOf(".",p),w=-1===f?l.substring(p):l.substring(p,f),p=f+1,A){const O=this.value[0];let Z=0;switch(O.valueDec){case 0:break;case 1:Z=40;break;case 2:Z=80;break;default:return void(this.value=[])}const z=parseInt(w,10);if(isNaN(z))return;O.valueDec=z+Z,A=!1}else{const O=new Xn;if(w>Number.MAX_SAFE_INTEGER){Ae();const Z=BigInt(w);O.valueBigInt=Z}else if(O.valueDec=parseInt(w,10),isNaN(O.valueDec))return;this.value.length||(O.isFirstSid=!0,A=!0),this.value.push(O)}}while(-1!==f)}toString(){let l="",p=!1;for(let f=0;f<this.value.length;f++){p=this.value[f].isHexOnly;let w=this.value[f].toString();0!==f&&(l=`${l}.`),p?(w=`{${w}}`,this.value[f].isFirstSid?l=`2.{${w} - 80}`:l+=w):l+=w}return l}toJSON(){const l={...super.toJSON(),value:this.toString(),sidArray:[]};for(let p=0;p<this.value.length;p++)l.sidArray.push(this.value[p].toJSON());return l}}return se.NAME="ObjectIdentifierValueBlock",se})();class Je extends _t{constructor(d={}){super(d,ri),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(d){this.valueBlock.fromString(d)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Et.ObjectIdentifier=Je,Je.NAME="OBJECT IDENTIFIER";let Xe=(()=>{class se extends(Cn(vt)){constructor({valueDec:l=0,...p}={}){super(p),this.valueDec=l}fromBER(l,p,f){if(0===f)return p;const w=C.vJ.toUint8Array(l);if(!me(this,w,p,f))return-1;const A=w.subarray(p,p+f);this.valueHexView=new Uint8Array(f);for(let Z=0;Z<f&&(this.valueHexView[Z]=127&A[Z],this.blockLength++,0!=(128&A[Z]));Z++);const O=new Uint8Array(this.blockLength);for(let Z=0;Z<this.blockLength;Z++)O[Z]=this.valueHexView[Z];return this.valueHexView=O,0!=(128&A[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=U(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),p+this.blockLength)}toBER(l){if(this.isHexOnly){if(l)return new ArrayBuffer(this.valueHexView.byteLength);const w=this.valueHexView,A=new Uint8Array(this.blockLength);for(let O=0;O<this.blockLength-1;O++)A[O]=128|w[O];return A[this.blockLength-1]=w[this.blockLength-1],A.buffer}const p=R(this.valueDec,7);if(0===p.byteLength)return this.error="Error during encoding SID value",$e;const f=new Uint8Array(p.byteLength);if(!l){const w=new Uint8Array(p),A=p.byteLength-1;for(let O=0;O<A;O++)f[O]=128|w[O];f[A]=w[A]}return f.buffer}toString(){let l="";return l=this.isHexOnly?C.ep.ToHex(this.valueHexView):this.valueDec.toString(),l}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return se.NAME="relativeSidBlock",se})(),Be=(()=>{class se extends At{constructor({value:l="",...p}={}){super(p),this.value=[],l&&this.fromString(l)}fromBER(l,p,f){let w=p;for(;f>0;){const A=new Xe;if(w=A.fromBER(l,w,f),-1===w)return this.blockLength=0,this.error=A.error,w;this.blockLength+=A.blockLength,f-=A.blockLength,this.value.push(A)}return w}toBER(l,p){const f=[];for(let w=0;w<this.value.length;w++){const A=this.value[w].toBER(l);if(0===A.byteLength)return this.error=this.value[w].error,$e;f.push(A)}return Ze(f)}fromString(l){this.value=[];let p=0,f=0,w="";do{f=l.indexOf(".",p),w=-1===f?l.substring(p):l.substring(p,f),p=f+1;const A=new Xe;if(A.valueDec=parseInt(w,10),isNaN(A.valueDec))return!0;this.value.push(A)}while(-1!==f);return!0}toString(){let l="",p=!1;for(let f=0;f<this.value.length;f++){p=this.value[f].isHexOnly;let w=this.value[f].toString();0!==f&&(l=`${l}.`),p&&(w=`{${w}}`),l+=w}return l}toJSON(){const l={...super.toJSON(),value:this.toString(),sidArray:[]};for(let p=0;p<this.value.length;p++)l.sidArray.push(this.value[p].toJSON());return l}}return se.NAME="RelativeObjectIdentifierValueBlock",se})();class Ft extends _t{constructor(d={}){super(d,Be),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(d){this.valueBlock.fromString(d)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Et.RelativeObjectIdentifier=Ft,Ft.NAME="RelativeObjectIdentifier";class Rt extends D{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Et.Sequence=Rt,Rt.NAME="SEQUENCE";class Ai extends D{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}Et.Set=Ai,Ai.NAME="SET";let ys=(()=>{class se extends(Cn(At)){constructor({...l}={}){super(l),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return se.NAME="StringValueBlock",se})(),mn=(()=>{class se extends ys{}return se.NAME="SimpleStringValueBlock",se})(),vi=(()=>{class se extends nt{constructor({...l}={}){super(l,mn)}fromBuffer(l){this.valueBlock.value=String.fromCharCode.apply(null,C.vJ.toUint8Array(l))}fromString(l){const p=l.length,f=this.valueBlock.valueHexView=new Uint8Array(p);for(let w=0;w<p;w++)f[w]=l.charCodeAt(w);this.valueBlock.value=l}}return se.NAME="SIMPLE STRING",se})(),ms=(()=>{class se extends vi{fromBuffer(l){this.valueBlock.valueHexView=C.vJ.toUint8Array(l);try{this.valueBlock.value=C.ep.ToUtf8String(l)}catch(p){this.warnings.push(`Error during "decodeURIComponent": ${p}, using raw string`),this.valueBlock.value=C.ep.ToBinary(l)}}fromString(l){this.valueBlock.valueHexView=new Uint8Array(C.ep.FromUtf8String(l)),this.valueBlock.value=l}}return se.NAME="Utf8StringValueBlock",se})();class Hi extends ms{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Et.Utf8String=Hi,Hi.NAME="UTF8String";let Li=(()=>{class se extends vi{fromBuffer(l){this.valueBlock.value=C.ep.ToUtf16String(l),this.valueBlock.valueHexView=C.vJ.toUint8Array(l)}fromString(l){this.valueBlock.value=l,this.valueBlock.valueHexView=new Uint8Array(C.ep.FromUtf16String(l))}}return se.NAME="BmpStringValueBlock",se})();class Ys extends Li{constructor({...d}={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Et.BmpString=Ys,Ys.NAME="BMPString";let qs=(()=>{class se extends vi{fromBuffer(l){const p=ArrayBuffer.isView(l)?l.slice().buffer:l.slice(0),f=new Uint8Array(p);for(let w=0;w<f.length;w+=4)f[w]=f[w+3],f[w+1]=f[w+2],f[w+2]=0,f[w+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(p))}fromString(l){const p=l.length,f=this.valueBlock.valueHexView=new Uint8Array(4*p);for(let w=0;w<p;w++){const A=R(l.charCodeAt(w),8),O=new Uint8Array(A);if(O.length>4)continue;const Z=4-O.length;for(let z=O.length-1;z>=0;z--)f[4*w+z+Z]=O[z]}this.valueBlock.value=l}}return se.NAME="UniversalStringValueBlock",se})();class wr extends qs{constructor({...d}={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Et.UniversalString=wr,wr.NAME="UniversalString";class Ss extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Et.NumericString=Ss,Ss.NAME="NumericString";class Ii extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Et.PrintableString=Ii,Ii.NAME="PrintableString";class Ls extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Et.TeletexString=Ls,Ls.NAME="TeletexString";class Qi extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Et.VideotexString=Qi,Qi.NAME="VideotexString";class $s extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Et.IA5String=$s,$s.NAME="IA5String";class Cs extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Et.GraphicString=Cs,Cs.NAME="GraphicString";class Br extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Et.VisibleString=Br,Br.NAME="VisibleString";class Ln extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Et.GeneralString=Ln,Ln.NAME="GeneralString";class or extends vi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Et.CharacterString=or,or.NAME="CharacterString";class ar extends Br{constructor({value:d,valueDate:l,...p}={}){if(super(p),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,d){this.fromString(d),this.valueBlock.valueHexView=new Uint8Array(d.length);for(let f=0;f<d.length;f++)this.valueBlock.valueHexView[f]=d.charCodeAt(f)}l&&(this.fromDate(l),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(d){this.fromString(String.fromCharCode.apply(null,C.vJ.toUint8Array(d)))}toBuffer(){const d=this.toString(),l=new ArrayBuffer(d.length),p=new Uint8Array(l);for(let f=0;f<d.length;f++)p[f]=d.charCodeAt(f);return l}fromDate(d){this.year=d.getUTCFullYear(),this.month=d.getUTCMonth()+1,this.day=d.getUTCDate(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(d){const p=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(d);if(null===p)return void(this.error="Wrong input string for conversion");const f=parseInt(p[1],10);this.year=f>=50?1900+f:2e3+f,this.month=parseInt(p[2],10),this.day=parseInt(p[3],10),this.hour=parseInt(p[4],10),this.minute=parseInt(p[5],10),this.second=parseInt(p[6],10)}toString(d="iso"){if("iso"===d){const l=new Array(7);return l[0]=j(this.year<2e3?this.year-1900:this.year-2e3,2),l[1]=j(this.month,2),l[2]=j(this.day,2),l[3]=j(this.hour,2),l[4]=j(this.minute,2),l[5]=j(this.second,2),l[6]="Z",l.join("")}return super.toString(d)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Et.UTCTime=ar,ar.NAME="UTCTime";class Ji extends ar{constructor(d={}){var l;super(d),null!==(l=this.millisecond)&&void 0!==l||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(d){super.fromDate(d),this.millisecond=d.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(d){let A,l=!1,p="",f="",w=0,O=0,Z=0;if("Z"===d[d.length-1])p=d.substring(0,d.length-1),l=!0;else{const We=new Number(d[d.length-1]);if(isNaN(We.valueOf()))throw new Error("Wrong input string for conversion");p=d}if(l){if(-1!==p.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==p.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let We=1,Tt=p.indexOf("+"),gt="";if(-1===Tt&&(Tt=p.indexOf("-"),We=-1),-1!==Tt){if(gt=p.substring(Tt+1),p=p.substring(0,Tt),2!==gt.length&&4!==gt.length)throw new Error("Wrong input string for conversion");let Kt=parseInt(gt.substring(0,2),10);if(isNaN(Kt.valueOf()))throw new Error("Wrong input string for conversion");if(O=We*Kt,4===gt.length){if(Kt=parseInt(gt.substring(2,4),10),isNaN(Kt.valueOf()))throw new Error("Wrong input string for conversion");Z=We*Kt}}}let z=p.indexOf(".");if(-1===z&&(z=p.indexOf(",")),-1!==z){const We=new Number(`0${p.substring(z)}`);if(isNaN(We.valueOf()))throw new Error("Wrong input string for conversion");w=We.valueOf(),f=p.substring(0,z)}else f=p;switch(!0){case 8===f.length:if(A=/(\d{4})(\d{2})(\d{2})/gi,-1!==z)throw new Error("Wrong input string for conversion");break;case 10===f.length:if(A=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==z){let We=60*w;this.minute=Math.floor(We),We=60*(We-this.minute),this.second=Math.floor(We),We=1e3*(We-this.second),this.millisecond=Math.floor(We)}break;case 12===f.length:if(A=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==z){let We=60*w;this.second=Math.floor(We),We=1e3*(We-this.second),this.millisecond=Math.floor(We)}break;case 14===f.length:A=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==z&&(this.millisecond=Math.floor(1e3*w));break;default:throw new Error("Wrong input string for conversion")}const Ce=A.exec(f);if(null===Ce)throw new Error("Wrong input string for conversion");for(let We=1;We<Ce.length;We++)switch(We){case 1:this.year=parseInt(Ce[We],10);break;case 2:this.month=parseInt(Ce[We],10);break;case 3:this.day=parseInt(Ce[We],10);break;case 4:this.hour=parseInt(Ce[We],10)+O;break;case 5:this.minute=parseInt(Ce[We],10)+Z;break;case 6:this.second=parseInt(Ce[We],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===l){const We=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=We.getUTCFullYear(),this.month=We.getUTCMonth(),this.day=We.getUTCDay(),this.hour=We.getUTCHours(),this.minute=We.getUTCMinutes(),this.second=We.getUTCSeconds(),this.millisecond=We.getUTCMilliseconds()}}toString(d="iso"){if("iso"===d){const l=[];return l.push(j(this.year,4)),l.push(j(this.month,2)),l.push(j(this.day,2)),l.push(j(this.hour,2)),l.push(j(this.minute,2)),l.push(j(this.second,2)),0!==this.millisecond&&(l.push("."),l.push(j(this.millisecond,3))),l.push("Z"),l.join("")}return super.toString(d)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Et.GeneralizedTime=Ji,Ji.NAME="GeneralizedTime";class br extends Hi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Et.DATE=br,br.NAME="DATE";class xo extends Hi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Et.TimeOfDay=xo,xo.NAME="TimeOfDay";class Kr extends Hi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Et.DateTime=Kr,Kr.NAME="DateTime";class Tr extends Hi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Et.Duration=Tr,Tr.NAME="Duration";class Hr extends Hi{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Et.TIME=Hr,Hr.NAME="TIME";class bs{constructor({name:d="",optional:l=!1}={}){this.name=d,this.optional=l}}class ui extends bs{constructor({value:d=[],...l}={}){super(l),this.value=d}}class di extends bs{constructor({value:d=new bs,local:l=!1,...p}={}){super(p),this.value=d,this.local=l}}class xs{constructor({data:d=ut}={}){this.dataView=C.vJ.toUint8Array(d)}get data(){return this.dataView.slice().buffer}set data(d){this.dataView=C.vJ.toUint8Array(d)}fromBER(d,l,p){const f=l+p;return this.dataView=C.vJ.toUint8Array(d).subarray(l,f),f}toBER(d){return this.dataView.slice().buffer}}function Sn(se,d,l){if(l instanceof ui){for(let w=0;w<l.value.length;w++)if(Sn(se,d,l.value[w]).verified)return{verified:!0,result:se};{const w={verified:!1,result:{error:"Wrong values for Choice type"}};return l.hasOwnProperty(fe)&&(w.name=l.name),w}}if(l instanceof bs)return l.hasOwnProperty(fe)&&(se[l.name]=d),{verified:!0,result:se};if(!(se instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(d instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(l instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in l))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in l.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in l.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const p=l.idBlock.toBER(!1);if(0===p.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===l.idBlock.fromBER(p,0,p.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===l.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(l.idBlock.tagClass!==d.idBlock.tagClass)return{verified:!1,result:se};if(!1===l.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(l.idBlock.tagNumber!==d.idBlock.tagNumber)return{verified:!1,result:se};if(!1===l.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(l.idBlock.isConstructed!==d.idBlock.isConstructed)return{verified:!1,result:se};if(!("isHexOnly"in l.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(l.idBlock.isHexOnly!==d.idBlock.isHexOnly)return{verified:!1,result:se};if(l.idBlock.isHexOnly){if(!(xe in l.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const w=l.idBlock.valueHexView,A=d.idBlock.valueHexView;if(w.length!==A.length)return{verified:!1,result:se};for(let O=0;O<w.length;O++)if(w[O]!==A[1])return{verified:!1,result:se}}if(l.name&&(l.name=l.name.replace(/^\s+|\s+$/g,""),l.name&&(se[l.name]=d)),l instanceof Et.Constructed){let w=0,A={verified:!1,result:{error:"Unknown error"}},O=l.valueBlock.value.length;if(O>0&&l.valueBlock.value[0]instanceof di&&(O=d.valueBlock.value.length),0===O)return{verified:!0,result:se};if(0===d.valueBlock.value.length&&0!==l.valueBlock.value.length){let Z=!0;for(let z=0;z<l.valueBlock.value.length;z++)Z=Z&&(l.valueBlock.value[z].optional||!1);return Z?{verified:!0,result:se}:(l.name&&(l.name=l.name.replace(/^\s+|\s+$/g,""),l.name&&delete se[l.name]),se.error="Inconsistent object length",{verified:!1,result:se})}for(let Z=0;Z<O;Z++)if(Z-w>=d.valueBlock.value.length){if(!1===l.valueBlock.value[Z].optional){const z={verified:!1,result:se};return se.error="Inconsistent length between ASN.1 data and schema",l.name&&(l.name=l.name.replace(/^\s+|\s+$/g,""),l.name&&(delete se[l.name],z.name=l.name)),z}}else if(l.valueBlock.value[0]instanceof di){if(A=Sn(se,d.valueBlock.value[Z],l.valueBlock.value[0].value),!1===A.verified){if(!l.valueBlock.value[0].optional)return l.name&&(l.name=l.name.replace(/^\s+|\s+$/g,""),l.name&&delete se[l.name]),A;w++}if(fe in l.valueBlock.value[0]&&l.valueBlock.value[0].name.length>0){let z={};z="local"in l.valueBlock.value[0]&&l.valueBlock.value[0].local?d:se,typeof z[l.valueBlock.value[0].name]>"u"&&(z[l.valueBlock.value[0].name]=[]),z[l.valueBlock.value[0].name].push(d.valueBlock.value[Z])}}else if(A=Sn(se,d.valueBlock.value[Z-w],l.valueBlock.value[Z]),!1===A.verified){if(!l.valueBlock.value[Z].optional)return l.name&&(l.name=l.name.replace(/^\s+|\s+$/g,""),l.name&&delete se[l.name]),A;w++}if(!1===A.verified){const Z={verified:!1,result:se};return l.name&&(l.name=l.name.replace(/^\s+|\s+$/g,""),l.name&&(delete se[l.name],Z.name=l.name)),Z}return{verified:!0,result:se}}if(l.primitiveSchema&&xe in d.valueBlock){const w=Zt(d.valueBlock.valueHexView);if(-1===w.offset){const A={verified:!1,result:w.result};return l.name&&(l.name=l.name.replace(/^\s+|\s+$/g,""),l.name&&(delete se[l.name],A.name=l.name)),A}return Sn(se,w.result,l.primitiveSchema)}return{verified:!0,result:se}}class bn{constructor(d={}){this.algorithmId=T(d,"algorithmId",bn.defaultValues("algorithmId")),"algorithmParams"in d&&(this.algorithmParams=T(d,"algorithmParams",bn.defaultValues("algorithmParams"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"algorithmId":return"";case"algorithmParams":return new bs;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"algorithmId":return""===l;case"algorithmParams":return l instanceof bs;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",optional:l.optional||!1,value:[new Je({name:l.algorithmIdentifier||""}),new bs({name:l.algorithmParams||"",optional:!0})]})}fromSchema(d){ke(d,["algorithm","params"]);const l=Sn(d,d,bn.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=l.result.algorithm.valueBlock.toString(),"params"in l.result&&(this.algorithmParams=l.result.params)}toSchema(){const d=[];return d.push(new Je({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof bs)&&d.push(this.algorithmParams),new Rt({value:d})}toJSON(){const d={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof bs)&&(d.algorithmParams=this.algorithmParams.toJSON()),d}isEqual(d){return d instanceof bn&&this.algorithmId===d.algorithmId&&("algorithmParams"in this?"algorithmParams"in d&&JSON.stringify(this.algorithmParams)===JSON.stringify(d.algorithmParams):!("algorithmParams"in d))}}let Gi=(()=>{class se{static register(l,p,f){this.namedCurves[l.toLowerCase()]=this.namedCurves[p]={name:l,id:p,size:f}}static find(l){return this.namedCurves[l.toLowerCase()]||null}}return se.namedCurves={},se})();Gi.register("P-256","1.2.840.10045.3.1.7",32),Gi.register("P-384","1.3.132.0.34",48),Gi.register("P-521","1.3.132.0.35",66),Gi.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Gi.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Gi.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class is{constructor(d={}){this.x=T(d,"x",is.defaultValues("x")),this.y=T(d,"y",is.defaultValues("y")),this.namedCurve=T(d,"namedCurve",is.defaultValues("namedCurve")),"schema"in d&&this.fromSchema(d.schema),"json"in d&&this.fromJSON(d.json)}static defaultValues(d){switch(d){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"x":case"y":return G(l,is.defaultValues(d));case"namedCurve":return""===l;default:throw new Error(`Invalid member name for ECCPublicKey class: ${d}`)}}static schema(d={}){return new xs}fromSchema(d){if(!(d instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(d)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const p=Gi.find(this.namedCurve);if(!p)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const f=p.size;if(d.byteLength!==2*f+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=d.slice(1,f+1),this.y=d.slice(1+f,2*f+1)}toSchema(){return new xs({data:y(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const d=Gi.find(this.namedCurve);return{crv:d?d.name:this.namedCurve,x:ve(we(this.x),!0,!0,!1),y:ve(we(this.y),!0,!0,!1)}}fromJSON(d){let l=0;if(!("crv"in d))throw new Error('Absent mandatory parameter "crv"');{const p=Gi.find(d.crv);p&&(this.namedCurve=p.id,l=p.size)}if(!("x"in d))throw new Error('Absent mandatory parameter "x"');{const p=re(ye(d.x,!0));if(p.byteLength<l){this.x=new ArrayBuffer(l);const f=new Uint8Array(this.x),w=new Uint8Array(p);f.set(w,1)}else this.x=p.slice(0,l)}if(!("y"in d))throw new Error('Absent mandatory parameter "y"');{const p=re(ye(d.y,!0));if(p.byteLength<l){this.y=new ArrayBuffer(l);const f=new Uint8Array(this.y),w=new Uint8Array(p);f.set(w,1)}else this.y=p.slice(0,l)}}}class Ks{constructor(d={}){this.modulus=T(d,"modulus",Ks.defaultValues("modulus")),this.publicExponent=T(d,"publicExponent",Ks.defaultValues("publicExponent")),"schema"in d&&this.fromSchema(d.schema),"json"in d&&this.fromJSON(d.json)}static defaultValues(d){switch(d){case"modulus":case"publicExponent":return new It;default:throw new Error(`Invalid member name for RSAPublicKey class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new It({name:l.modulus||""}),new It({name:l.publicExponent||""})]})}fromSchema(d){ke(d,["modulus","publicExponent"]);const l=Sn(d,d,Ks.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=l.result.modulus.convertFromDER(256),this.publicExponent=l.result.publicExponent}toSchema(){return new Rt({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:ve(we(this.modulus.valueBlock.valueHex),!0,!0,!0),e:ve(we(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(d){if(!("n"in d))throw new Error('Absent mandatory parameter "n"');{const l=re(ye(d.n,!0));this.modulus=new It({valueHex:l.slice(0,Math.pow(2,Ie(l.byteLength)))})}if(!("e"in d))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new It({valueHex:re(ye(d.e,!0)).slice(0,3)})}}class ls{constructor(d={}){this.algorithm=T(d,"algorithm",ls.defaultValues("algorithm")),this.subjectPublicKey=T(d,"subjectPublicKey",ls.defaultValues("subjectPublicKey")),"parsedKey"in d&&(this.parsedKey=T(d,"parsedKey",ls.defaultValues("parsedKey"))),"schema"in d&&this.fromSchema(d.schema),"json"in d&&this.fromJSON(d.json)}static defaultValues(d){switch(d){case"algorithm":return new bn;case"subjectPublicKey":return new Lt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[bn.schema(l.algorithm||{}),new Lt({name:l.subjectPublicKey||""})]})}fromSchema(d){ke(d,["algorithm","subjectPublicKey"]);const l=Sn(d,d,ls.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new bn({schema:l.result.algorithm}),this.subjectPublicKey=l.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Je.blockName())try{this.parsedKey=new is({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const p=tt(this.subjectPublicKey.valueBlock.valueHex);if(-1!==p.offset)try{this.parsedKey=new Ks({schema:p.result})}catch{}}}}toSchema(){return new Rt({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const d={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":d.kty="EC";break;case"1.2.840.113549.1.1.1":d.kty="RSA"}const l=this.parsedKey.toJSON();for(const p of Object.keys(l))d[p]=l[p];return d}fromJSON(d){if("kty"in d){switch(d.kty.toUpperCase()){case"EC":this.parsedKey=new is({json:d}),this.algorithm=new bn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Je({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Ks({json:d}),this.algorithm=new bn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new lt});break;default:throw new Error(`Invalid value for "kty" parameter: ${d.kty}`)}this.subjectPublicKey=new Lt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(d){let l=Promise.resolve();const p=this;if(typeof d>"u")return Promise.reject("Need to provide publicKey input parameter");const f=Sr();return typeof f>"u"?Promise.reject("Unable to create WebCrypto object"):(l=l.then(()=>f.exportKey("spki",d)),l=l.then(w=>{const A=tt(w);try{p.fromSchema(A.result)}catch{return Promise.reject("Error during initializing object from schema")}},w=>Promise.reject(`Error during exporting public key: ${w}`)),l)}}class Ds{constructor(d={}){this.type=T(d,"type",Ds.defaultValues("type")),this.values=T(d,"values",Ds.defaultValues("values")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"type":return""===l;case"values":return 0===l.length;default:throw new Error(`Invalid member name for Attribute class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.type||""}),new Ai({name:l.setName||"",value:[new di({name:l.values||"",value:new bs})]})]})}fromSchema(d){ke(d,["type","values"]);const l=Sn(d,d,Ds.schema({names:{type:"type",values:"values"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=l.result.type.valueBlock.toString(),this.values=l.result.values}toSchema(){return new Rt({value:[new Je({value:this.type}),new Ai({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,d=>d.toJSON())}}}class zi{constructor(d={}){this.version=T(d,"version",zi.defaultValues("version")),this.privateKey=T(d,"privateKey",zi.defaultValues("privateKey")),"namedCurve"in d&&(this.namedCurve=T(d,"namedCurve",zi.defaultValues("namedCurve"))),"publicKey"in d&&(this.publicKey=T(d,"publicKey",zi.defaultValues("publicKey"))),"schema"in d&&this.fromSchema(d.schema),"json"in d&&this.fromJSON(d.json)}static defaultValues(d){switch(d){case"version":return 1;case"privateKey":return new je;case"namedCurve":return"";case"publicKey":return new is;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"version":return l===zi.defaultValues(d);case"privateKey":return l.isEqual(zi.defaultValues(d));case"namedCurve":return""===l;case"publicKey":return is.compareWithDefault("namedCurve",l.namedCurve)&&is.compareWithDefault("x",l.x)&&is.compareWithDefault("y",l.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new It({name:l.version||""}),new je({name:l.privateKey||""}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Je({name:l.namedCurve||""})]}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Lt({name:l.publicKey||""})]})]})}fromSchema(d){ke(d,["version","privateKey","namedCurve","publicKey"]);const l=Sn(d,d,zi.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=l.result.version.valueBlock.valueDec,this.privateKey=l.result.privateKey,"namedCurve"in l.result&&(this.namedCurve=l.result.namedCurve.valueBlock.toString()),"publicKey"in l.result){const p={schema:l.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(p.namedCurve=this.namedCurve),this.publicKey=new is(p)}}toSchema(){const d=[new It({value:this.version}),this.privateKey];return"namedCurve"in this&&d.push(new D({idBlock:{tagClass:3,tagNumber:0},value:[new Je({value:this.namedCurve})]})),"publicKey"in this&&d.push(new D({idBlock:{tagClass:3,tagNumber:1},value:[new Lt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new Rt({value:d})}toJSON(){if(!("namedCurve"in this)||zi.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let d="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":d="P-256";break;case"1.3.132.0.34":d="P-384";break;case"1.3.132.0.35":d="P-521"}const l={crv:d,d:ve(we(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const p=this.publicKey.toJSON();l.x=p.x,l.y=p.y}return l}fromJSON(d){let l=0;if(!("crv"in d))throw new Error('Absent mandatory parameter "crv"');switch(d.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",l=32;break;case"P-384":this.namedCurve="1.3.132.0.34",l=48;break;case"P-521":this.namedCurve="1.3.132.0.35",l=66}if(!("d"in d))throw new Error('Absent mandatory parameter "d"');{const p=re(ye(d.d,!0));if(p.byteLength<l){const f=new ArrayBuffer(l),w=new Uint8Array(f),A=new Uint8Array(p);w.set(A,1),this.privateKey=new je({valueHex:f})}else this.privateKey=new je({valueHex:p.slice(0,l)})}"x"in d&&"y"in d&&(this.publicKey=new is({json:d}))}}class Xs{constructor(d={}){this.prime=T(d,"prime",Xs.defaultValues("prime")),this.exponent=T(d,"exponent",Xs.defaultValues("exponent")),this.coefficient=T(d,"coefficient",Xs.defaultValues("coefficient")),"schema"in d&&this.fromSchema(d.schema),"json"in d&&this.fromJSON(d.json)}static defaultValues(d){switch(d){case"prime":case"exponent":case"coefficient":return new It;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new It({name:l.prime||""}),new It({name:l.exponent||""}),new It({name:l.coefficient||""})]})}fromSchema(d){ke(d,["prime","exponent","coefficient"]);const l=Sn(d,d,Xs.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=l.result.prime.convertFromDER(),this.exponent=l.result.exponent.convertFromDER(),this.coefficient=l.result.coefficient.convertFromDER()}toSchema(){return new Rt({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:ve(we(this.prime.valueBlock.valueHex),!0,!0),d:ve(we(this.exponent.valueBlock.valueHex),!0,!0),t:ve(we(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(d){if(!("r"in d))throw new Error('Absent mandatory parameter "r"');if(this.prime=new It({valueHex:re(ye(d.r,!0))}),!("d"in d))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new It({valueHex:re(ye(d.d,!0))}),!("t"in d))throw new Error('Absent mandatory parameter "t"');this.coefficient=new It({valueHex:re(ye(d.t,!0))})}}class Oi{constructor(d={}){this.version=T(d,"version",Oi.defaultValues("version")),this.modulus=T(d,"modulus",Oi.defaultValues("modulus")),this.publicExponent=T(d,"publicExponent",Oi.defaultValues("publicExponent")),this.privateExponent=T(d,"privateExponent",Oi.defaultValues("privateExponent")),this.prime1=T(d,"prime1",Oi.defaultValues("prime1")),this.prime2=T(d,"prime2",Oi.defaultValues("prime2")),this.exponent1=T(d,"exponent1",Oi.defaultValues("exponent1")),this.exponent2=T(d,"exponent2",Oi.defaultValues("exponent2")),this.coefficient=T(d,"coefficient",Oi.defaultValues("coefficient")),"otherPrimeInfos"in d&&(this.otherPrimeInfos=T(d,"otherPrimeInfos",Oi.defaultValues("otherPrimeInfos"))),"schema"in d&&this.fromSchema(d.schema),"json"in d&&this.fromJSON(d.json)}static defaultValues(d){switch(d){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new It;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new It({name:l.version||""}),new It({name:l.modulus||""}),new It({name:l.publicExponent||""}),new It({name:l.privateExponent||""}),new It({name:l.prime1||""}),new It({name:l.prime2||""}),new It({name:l.exponent1||""}),new It({name:l.exponent2||""}),new It({name:l.coefficient||""}),new Rt({optional:!0,value:[new di({name:l.otherPrimeInfosName||"",value:Xs.schema(l.otherPrimeInfo||{})})]})]})}fromSchema(d){ke(d,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const l=Sn(d,d,Oi.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=l.result.version.valueBlock.valueDec,this.modulus=l.result.modulus.convertFromDER(256),this.publicExponent=l.result.publicExponent,this.privateExponent=l.result.privateExponent.convertFromDER(256),this.prime1=l.result.prime1.convertFromDER(128),this.prime2=l.result.prime2.convertFromDER(128),this.exponent1=l.result.exponent1.convertFromDER(128),this.exponent2=l.result.exponent2.convertFromDER(128),this.coefficient=l.result.coefficient.convertFromDER(128),"otherPrimeInfos"in l.result&&(this.otherPrimeInfos=Array.from(l.result.otherPrimeInfos,p=>new Xs({schema:p})))}toSchema(){const d=[];return d.push(new It({value:this.version})),d.push(this.modulus.convertToDER()),d.push(this.publicExponent),d.push(this.privateExponent.convertToDER()),d.push(this.prime1.convertToDER()),d.push(this.prime2.convertToDER()),d.push(this.exponent1.convertToDER()),d.push(this.exponent2.convertToDER()),d.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&d.push(new Rt({value:Array.from(this.otherPrimeInfos,l=>l.toSchema())})),new Rt({value:d})}toJSON(){const d={n:ve(we(this.modulus.valueBlock.valueHex),!0,!0,!0),e:ve(we(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:ve(we(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:ve(we(this.prime1.valueBlock.valueHex),!0,!0,!0),q:ve(we(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:ve(we(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:ve(we(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:ve(we(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(d.oth=Array.from(this.otherPrimeInfos,l=>l.toJSON())),d}fromJSON(d){if(!("n"in d))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new It({valueHex:re(ye(d.n,!0,!0))}),!("e"in d))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new It({valueHex:re(ye(d.e,!0,!0))}),!("d"in d))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new It({valueHex:re(ye(d.d,!0,!0))}),!("p"in d))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new It({valueHex:re(ye(d.p,!0,!0))}),!("q"in d))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new It({valueHex:re(ye(d.q,!0,!0))}),!("dp"in d))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new It({valueHex:re(ye(d.dp,!0,!0))}),!("dq"in d))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new It({valueHex:re(ye(d.dq,!0,!0))}),!("qi"in d))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new It({valueHex:re(ye(d.qi,!0,!0))}),"oth"in d&&(this.otherPrimeInfos=Array.from(d.oth,l=>new Xs({json:l})))}}class Yi{constructor(d={}){this.version=T(d,"version",Yi.defaultValues("version")),this.privateKeyAlgorithm=T(d,"privateKeyAlgorithm",Yi.defaultValues("privateKeyAlgorithm")),this.privateKey=T(d,"privateKey",Yi.defaultValues("privateKey")),"attributes"in d&&(this.attributes=T(d,"attributes",Yi.defaultValues("attributes"))),"parsedKey"in d&&(this.parsedKey=T(d,"parsedKey",Yi.defaultValues("parsedKey"))),"schema"in d&&this.fromSchema(d.schema),"json"in d&&this.fromJSON(d.json)}static defaultValues(d){switch(d){case"version":return 0;case"privateKeyAlgorithm":return new bn;case"privateKey":return new je;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new It({name:l.version||""}),bn.schema(l.privateKeyAlgorithm||{}),new je({name:l.privateKey||""}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new di({name:l.attributes||"",value:Ds.schema()})]})]})}fromSchema(d){ke(d,["version","privateKeyAlgorithm","privateKey","attributes"]);const l=Sn(d,d,Yi.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=l.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new bn({schema:l.result.privateKeyAlgorithm}),this.privateKey=l.result.privateKey,"attributes"in l.result&&(this.attributes=Array.from(l.result.attributes,p=>new Ds({schema:p}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const p=tt(this.privateKey.valueBlock.valueHex);-1!==p.offset&&(this.parsedKey=new Oi({schema:p.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Je){const p=tt(this.privateKey.valueBlock.valueHex);-1!==p.offset&&(this.parsedKey=new zi({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:p.result}))}}}toSchema(){const d=[new It({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&d.push(new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,l=>l.toSchema())})),new Rt({value:d})}toJSON(){if(!("parsedKey"in this)){const p={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(p.attributes=Array.from(this.attributes,f=>f.toJSON())),p}const d={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":d.kty="EC";break;case"1.2.840.113549.1.1.1":d.kty="RSA"}const l=this.parsedKey.toJSON();for(const p of Object.keys(l))d[p]=l[p];return d}fromJSON(d){if("kty"in d){switch(d.kty.toUpperCase()){case"EC":this.parsedKey=new zi({json:d}),this.privateKeyAlgorithm=new bn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Je({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Oi({json:d}),this.privateKeyAlgorithm=new bn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new lt});break;default:throw new Error(`Invalid value for "kty" parameter: ${d.kty}`)}this.privateKey=new je({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class er{constructor(d={}){if(this.contentType=T(d,"contentType",er.defaultValues("contentType")),this.contentEncryptionAlgorithm=T(d,"contentEncryptionAlgorithm",er.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in d&&(this.encryptedContent=d.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const l=new je({idBlock:{isConstructed:!0},isConstructed:!0});let p=0,f=this.encryptedContent.valueBlock.valueHex.byteLength;for(;f>0;){const w=new Uint8Array(this.encryptedContent.valueBlock.valueHex,p,p+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-p:1024),A=new ArrayBuffer(w.length),O=new Uint8Array(A);for(let Z=0;Z<O.length;Z++)O[Z]=w[Z];l.valueBlock.value.push(new je({valueHex:A})),f-=w.length,p+=w.length}this.encryptedContent=l}"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"contentType":return"";case"contentEncryptionAlgorithm":return new bn;case"encryptedContent":return new je;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"contentType":return""===l;case"contentEncryptionAlgorithm":return""===l.algorithmId&&!("algorithmParams"in l);case"encryptedContent":return l.isEqual(er.defaultValues(d));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.contentType||""}),bn.schema(l.contentEncryptionAlgorithm||{}),new ui({value:[new D({name:l.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new di({value:new je})]}),new Oe({name:l.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(d){ke(d,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const l=Sn(d,d,er.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=l.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new bn({schema:l.result.contentEncryptionAlgorithm}),"encryptedContent"in l.result&&(this.encryptedContent=l.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const d={isIndefiniteForm:!1},l=[];if(l.push(new Je({value:this.contentType})),l.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){d.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const p=this.encryptedContent;p.idBlock.tagClass=3,p.idBlock.tagNumber=0,p.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,l.push(p)}return new Rt({lenBlock:d,value:l})}toJSON(){const d={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(d.encryptedContent=this.encryptedContent.toJSON()),d}}class qi{constructor(d={}){this.hashAlgorithm=T(d,"hashAlgorithm",qi.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=T(d,"maskGenAlgorithm",qi.defaultValues("maskGenAlgorithm")),this.saltLength=T(d,"saltLength",qi.defaultValues("saltLength")),this.trailerField=T(d,"trailerField",qi.defaultValues("trailerField")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"hashAlgorithm":return new bn({algorithmId:"1.3.14.3.2.26",algorithmParams:new lt});case"maskGenAlgorithm":return new bn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new bn({algorithmId:"1.3.14.3.2.26",algorithmParams:new lt}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new D({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[bn.schema(l.hashAlgorithm||{})]}),new D({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[bn.schema(l.maskGenAlgorithm||{})]}),new D({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new It({name:l.saltLength||""})]}),new D({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new It({name:l.trailerField||""})]})]})}fromSchema(d){ke(d,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const l=Sn(d,d,qi.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in l.result&&(this.hashAlgorithm=new bn({schema:l.result.hashAlgorithm})),"maskGenAlgorithm"in l.result&&(this.maskGenAlgorithm=new bn({schema:l.result.maskGenAlgorithm})),"saltLength"in l.result&&(this.saltLength=l.result.saltLength.valueBlock.valueDec),"trailerField"in l.result&&(this.trailerField=l.result.trailerField.valueBlock.valueDec)}toSchema(){const d=[];return this.hashAlgorithm.isEqual(qi.defaultValues("hashAlgorithm"))||d.push(new D({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(qi.defaultValues("maskGenAlgorithm"))||d.push(new D({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==qi.defaultValues("saltLength")&&d.push(new D({idBlock:{tagClass:3,tagNumber:2},value:[new It({value:this.saltLength})]})),this.trailerField!==qi.defaultValues("trailerField")&&d.push(new D({idBlock:{tagClass:3,tagNumber:3},value:[new It({value:this.trailerField})]})),new Rt({value:d})}toJSON(){const d={};return this.hashAlgorithm.isEqual(qi.defaultValues("hashAlgorithm"))||(d.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(qi.defaultValues("maskGenAlgorithm"))||(d.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==qi.defaultValues("saltLength")&&(d.saltLength=this.saltLength),this.trailerField!==qi.defaultValues("trailerField")&&(d.trailerField=this.trailerField),d}}class pi{constructor(d={}){this.salt=T(d,"salt",pi.defaultValues("salt")),this.iterationCount=T(d,"iterationCount",pi.defaultValues("iterationCount")),"keyLength"in d&&(this.keyLength=T(d,"keyLength",pi.defaultValues("keyLength"))),"prf"in d&&(this.prf=T(d,"prf",pi.defaultValues("prf"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new bn({algorithmId:"1.3.14.3.2.26",algorithmParams:new lt});default:throw new Error(`Invalid member name for PBKDF2Params class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new ui({value:[new je({name:l.saltPrimitive||""}),bn.schema(l.saltConstructed||{})]}),new It({name:l.iterationCount||""}),new It({name:l.keyLength||"",optional:!0}),bn.schema(l.prf||{names:{optional:!0}})]})}fromSchema(d){ke(d,["salt","iterationCount","keyLength","prf"]);const l=Sn(d,d,pi.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=l.result.salt,this.iterationCount=l.result.iterationCount.valueBlock.valueDec,"keyLength"in l.result&&(this.keyLength=l.result.keyLength.valueBlock.valueDec),"prf"in l.result&&(this.prf=new bn({schema:l.result.prf}))}toSchema(){const d=[];return d.push(this.salt),d.push(new It({value:this.iterationCount})),"keyLength"in this&&pi.defaultValues("keyLength")!==this.keyLength&&d.push(new It({value:this.keyLength})),"prf"in this&&!1===pi.defaultValues("prf").isEqual(this.prf)&&d.push(this.prf.toSchema()),new Rt({value:d})}toJSON(){const d={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&pi.defaultValues("keyLength")!==this.keyLength&&(d.keyLength=this.keyLength),"prf"in this&&!1===pi.defaultValues("prf").isEqual(this.prf)&&(d.prf=this.prf.toJSON()),d}}class Es{constructor(d={}){this.keyDerivationFunc=T(d,"keyDerivationFunc",Es.defaultValues("keyDerivationFunc")),this.encryptionScheme=T(d,"encryptionScheme",Es.defaultValues("encryptionScheme")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"keyDerivationFunc":case"encryptionScheme":return new bn;default:throw new Error(`Invalid member name for PBES2Params class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[bn.schema(l.keyDerivationFunc||{}),bn.schema(l.encryptionScheme||{})]})}fromSchema(d){ke(d,["keyDerivationFunc","encryptionScheme"]);const l=Sn(d,d,Es.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new bn({schema:l.result.keyDerivationFunc}),this.encryptionScheme=new bn({schema:l.result.encryptionScheme})}toSchema(){return new Rt({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function lr(se,d,l,p,f,w){let A,O;const Z=[];switch(d.toUpperCase()){case"SHA-1":A=20,O=64;break;case"SHA-256":A=32,O=64;break;case"SHA-384":A=48,O=128;break;case"SHA-512":A=64,O=128;break;default:throw new Error("Unsupported hashing algorithm")}const z=new Uint8Array(p),Ce=new ArrayBuffer(2*p.byteLength+2),We=new Uint8Array(Ce);for(let ns=0;ns<z.length;ns++)We[2*ns]=0,We[2*ns+1]=z[ns];We[We.length-2]=0,We[We.length-1]=0,p=Ce.slice(0);const Tt=new ArrayBuffer(O),gt=new Uint8Array(Tt);for(let ns=0;ns<Tt.byteLength;ns++)gt[ns]=3;const Kt=f.byteLength,Pn=O*Math.ceil(Kt/O),ni=new ArrayBuffer(Pn),$i=new Uint8Array(ni),ur=new Uint8Array(f);for(let ns=0;ns<Pn;ns++)$i[ns]=ur[ns%Kt];const Bs=p.byteLength,as=O*Math.ceil(Bs/O),Qr=new ArrayBuffer(as),Ri=new Uint8Array(Qr),ba=new Uint8Array(p);for(let ns=0;ns<as;ns++)Ri[ns]=ba[ns%Bs];let Ta=new ArrayBuffer(ni.byteLength+Qr.byteLength),xl=new Uint8Array(Ta);xl.set($i),xl.set(Ri,$i.length);const op=Math.ceil((l>>3)/A);let Wo=Promise.resolve(Ta);for(let ns=0;ns<=op;ns++){Wo=Wo.then(po=>{const Aa=new ArrayBuffer(Tt.byteLength+po.byteLength),Ns=new Uint8Array(Aa);return Ns.set(gt),Ns.set(xl,gt.length),Aa});for(let po=0;po<w;po++)Wo=Wo.then(Aa=>se.digest({name:d},new Uint8Array(Aa)));Wo=Wo.then(po=>{const Aa=new ArrayBuffer(O),Ns=new Uint8Array(Aa);for(let Ba=0;Ba<Aa.byteLength;Ba++)Ns[Ba]=po[Ba%po.length];const wo=Math.ceil(Kt/O)+Math.ceil(Bs/O),Qo=[];let Fa=0,rl=O;for(let Ba=0;Ba<wo;Ba++){const Lc=Array.from(new Uint8Array(Ta.slice(Fa,Fa+rl)));Fa+=O,Fa+O>Ta.byteLength&&(rl=Ta.byteLength-Fa);let Uc=511;for(let bo=Aa.byteLength-1;bo>=0;bo--)Uc>>=8,Uc+=Ns[bo]+Lc[bo],Lc[bo]=255&Uc;Qo.push(...Lc)}return Ta=new ArrayBuffer(Qo.length),xl=new Uint8Array(Ta),xl.set(Qo),Z.push(...new Uint8Array(po)),Ta})}return Wo=Wo.then(()=>{const ns=new ArrayBuffer(l>>3);return new Uint8Array(ns).set(new Uint8Array(Z).slice(0,l>>3)),ns}),Wo}class Or{constructor(d={}){this.crypto=T(d,"crypto",{}),this.subtle=T(d,"subtle",{}),this.name=T(d,"name","")}importKey(d,l,p,f,w){let A={};switch(l instanceof Uint8Array&&(l=l.buffer),d.toLowerCase()){case"raw":return this.subtle.importKey("raw",l,p,f,w);case"spki":{const O=tt(l);if(-1===O.offset)return Promise.reject("Incorrect keyData");const Z=new ls;try{Z.fromSchema(O.result)}catch{return Promise.reject("Incorrect keyData")}switch(p.name.toUpperCase()){case"RSA-PSS":switch(p.hash.name.toUpperCase()){case"SHA-1":A.alg="PS1";break;case"SHA-256":A.alg="PS256";break;case"SHA-384":A.alg="PS384";break;case"SHA-512":A.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(w=["verify"],A.kty="RSA",A.ext=f,A.key_ops=w,"1.2.840.113549.1.1.1"!==Z.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${Z.algorithm.algorithmId}`);if(!("alg"in A))switch(p.hash.name.toUpperCase()){case"SHA-1":A.alg="RS1";break;case"SHA-256":A.alg="RS256";break;case"SHA-384":A.alg="RS384";break;case"SHA-512":A.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}const z=Z.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;case"ECDSA":w=["verify"];case"ECDH":{if(A={kty:"EC",ext:f,key_ops:w},"1.2.840.10045.2.1"!==Z.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${Z.algorithm.algorithmId}`);const z=Z.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;case"RSA-OAEP":{if(A.kty="RSA",A.ext=f,A.key_ops=w,"safari"===this.name.toLowerCase())A.alg="RSA-OAEP";else switch(p.hash.name.toUpperCase()){case"SHA-1":A.alg="RSA-OAEP";break;case"SHA-256":A.alg="RSA-OAEP-256";break;case"SHA-384":A.alg="RSA-OAEP-384";break;case"SHA-512":A.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}const z=Z.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;case"RSAES-PKCS1-V1_5":{A.kty="RSA",A.ext=f,A.key_ops=w,A.alg="PS1";const z=Z.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;default:return Promise.reject(`Incorrect algorithm name: ${p.name.toUpperCase()}`)}}break;case"pkcs8":{const O=new Yi,Z=tt(l);if(-1===Z.offset)return Promise.reject("Incorrect keyData");try{O.fromSchema(Z.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in O))return Promise.reject("Incorrect keyData");switch(p.name.toUpperCase()){case"RSA-PSS":switch(p.hash.name.toUpperCase()){case"SHA-1":A.alg="PS1";break;case"SHA-256":A.alg="PS256";break;case"SHA-384":A.alg="PS384";break;case"SHA-512":A.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(w=["sign"],A.kty="RSA",A.ext=f,A.key_ops=w,"1.2.840.113549.1.1.1"!==O.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${O.privateKeyAlgorithm.algorithmId}`);if(!("alg"in A))switch(p.hash.name.toUpperCase()){case"SHA-1":A.alg="RS1";break;case"SHA-256":A.alg="RS256";break;case"SHA-384":A.alg="RS384";break;case"SHA-512":A.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}const z=O.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;case"ECDSA":w=["sign"];case"ECDH":{if(A={kty:"EC",ext:f,key_ops:w},"1.2.840.10045.2.1"!==O.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${O.privateKeyAlgorithm.algorithmId}`);const z=O.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;case"RSA-OAEP":{if(A.kty="RSA",A.ext=f,A.key_ops=w,"safari"===this.name.toLowerCase())A.alg="RSA-OAEP";else switch(p.hash.name.toUpperCase()){case"SHA-1":A.alg="RSA-OAEP";break;case"SHA-256":A.alg="RSA-OAEP-256";break;case"SHA-384":A.alg="RSA-OAEP-384";break;case"SHA-512":A.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}const z=O.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;case"RSAES-PKCS1-V1_5":{w=["decrypt"],A.kty="RSA",A.ext=f,A.key_ops=w,A.alg="PS1";const z=O.toJSON();for(const Ce of Object.keys(z))A[Ce]=z[Ce]}break;default:return Promise.reject(`Incorrect algorithm name: ${p.name.toUpperCase()}`)}}break;case"jwk":A=l;break;default:return Promise.reject(`Incorrect format: ${d}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",re(JSON.stringify(A)),p,f,w)).then(O=>O,()=>this.subtle.importKey("jwk",A,p,f,w)):this.subtle.importKey("jwk",A,p,f,w)}exportKey(d,l){let p=this.subtle.exportKey("jwk",l);switch("safari"===this.name.toLowerCase()&&(p=p.then(f=>f instanceof ArrayBuffer?JSON.parse(we(f)):f)),d.toLowerCase()){case"raw":return this.subtle.exportKey("raw",l);case"spki":p=p.then(f=>{const w=new ls;try{w.fromJSON(f)}catch{return Promise.reject("Incorrect key data")}return w.toSchema().toBER(!1)});break;case"pkcs8":p=p.then(f=>{const w=new Yi;try{w.fromJSON(f)}catch{return Promise.reject("Incorrect key data")}return w.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${d}`)}return p}convert(d,l,p,f,w,A){switch(d.toLowerCase()){case"raw":switch(l.toLowerCase()){case"raw":return Promise.resolve(p);case"spki":return Promise.resolve().then(()=>this.importKey("raw",p,f,w,A)).then(O=>this.exportKey("spki",O));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",p,f,w,A)).then(O=>this.exportKey("pkcs8",O));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",p,f,w,A)).then(O=>this.exportKey("jwk",O));default:return Promise.reject(`Incorrect outputFormat: ${l}`)}case"spki":switch(l.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",p,f,w,A)).then(O=>this.exportKey("raw",O));case"spki":return Promise.resolve(p);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",p,f,w,A)).then(O=>this.exportKey("jwk",O));default:return Promise.reject(`Incorrect outputFormat: ${l}`)}case"pkcs8":switch(l.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",p,f,w,A)).then(O=>this.exportKey("raw",O));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(p);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",p,f,w,A)).then(O=>this.exportKey("jwk",O));default:return Promise.reject(`Incorrect outputFormat: ${l}`)}case"jwk":switch(l.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",p,f,w,A)).then(O=>this.exportKey("raw",O));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",p,f,w,A)).then(O=>this.exportKey("spki",O));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",p,f,w,A)).then(O=>this.exportKey("pkcs8",O));case"jwk":return Promise.resolve(p);default:return Promise.reject(`Incorrect outputFormat: ${l}`)}default:return Promise.reject(`Incorrect inputFormat: ${d}`)}}encrypt(...d){return this.subtle.encrypt(...d)}decrypt(...d){return this.subtle.decrypt(...d)}sign(...d){return this.subtle.sign(...d)}verify(...d){return this.subtle.verify(...d)}digest(...d){return this.subtle.digest(...d)}generateKey(...d){return this.subtle.generateKey(...d)}deriveKey(...d){return this.subtle.deriveKey(...d)}deriveBits(...d){return this.subtle.deriveBits(...d)}wrapKey(...d){return this.subtle.wrapKey(...d)}unwrapKey(...d){return this.subtle.unwrapKey(...d)}getRandomValues(d){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(d)}getAlgorithmByOID(d){switch(d){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(d){let l="";switch(d.name.toUpperCase()){case"RSAES-PKCS1-V1_5":l="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(d.hash.name.toUpperCase()){case"SHA-1":l="1.2.840.113549.1.1.5";break;case"SHA-256":l="1.2.840.113549.1.1.11";break;case"SHA-384":l="1.2.840.113549.1.1.12";break;case"SHA-512":l="1.2.840.113549.1.1.13"}break;case"RSA-PSS":l="1.2.840.113549.1.1.10";break;case"RSA-OAEP":l="1.2.840.113549.1.1.7";break;case"ECDSA":switch(d.hash.name.toUpperCase()){case"SHA-1":l="1.2.840.10045.4.1";break;case"SHA-256":l="1.2.840.10045.4.3.2";break;case"SHA-384":l="1.2.840.10045.4.3.3";break;case"SHA-512":l="1.2.840.10045.4.3.4"}break;case"ECDH":switch(d.kdf.toUpperCase()){case"SHA-1":l="1.3.133.16.840.63.0.2";break;case"SHA-256":l="1.3.132.1.11.1";break;case"SHA-384":l="1.3.132.1.11.2";break;case"SHA-512":l="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(d.length){case 128:l="2.16.840.1.101.3.4.1.2";break;case 192:l="2.16.840.1.101.3.4.1.22";break;case 256:l="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(d.length){case 128:l="2.16.840.1.101.3.4.1.6";break;case 192:l="2.16.840.1.101.3.4.1.26";break;case 256:l="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(d.length){case 128:l="2.16.840.1.101.3.4.1.4";break;case 192:l="2.16.840.1.101.3.4.1.24";break;case 256:l="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(d.length){case 128:l="2.16.840.1.101.3.4.1.5";break;case 192:l="2.16.840.1.101.3.4.1.25";break;case 256:l="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(d.hash.name.toUpperCase()){case"SHA-1":l="1.2.840.113549.2.7";break;case"SHA-256":l="1.2.840.113549.2.9";break;case"SHA-384":l="1.2.840.113549.2.10";break;case"SHA-512":l="1.2.840.113549.2.11"}break;case"DH":l="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":l="1.3.14.3.2.26";break;case"SHA-256":l="2.16.840.1.101.3.4.2.1";break;case"SHA-384":l="2.16.840.1.101.3.4.2.2";break;case"SHA-512":l="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":l="1.2.840.113549.1.5.12";break;case"P-256":l="1.2.840.10045.3.1.7";break;case"P-384":l="1.3.132.0.34";break;case"P-521":l="1.3.132.0.35"}return l}getAlgorithmParameters(d,l){let p={algorithm:{},usages:[]};switch(d.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(l.toLowerCase()){case"generatekey":p={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":p={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(l.toLowerCase()){case"sign":case"verify":p={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":p={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":p={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(l.toLowerCase()){case"encrypt":case"decrypt":p={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":p={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":p={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(l.toLowerCase()){case"generatekey":p={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":p={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":p={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(l.toLowerCase()){case"exportkey":case"importkey":case"generatekey":p={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":p={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(l.toLowerCase()){case"importkey":case"exportkey":case"generatekey":p={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":p={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(l.toLowerCase()){case"importkey":case"exportkey":case"generatekey":p={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":p={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(l.toLowerCase()){case"importkey":case"exportkey":case"generatekey":p={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":p={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(l.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":p={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(l.toLowerCase()){case"sign":case"verify":p={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":p={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==l.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};p={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==l.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};p={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return p}getHashAlgorithm(d){let l="";switch(d.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":l="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":l="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":l="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":l="SHA-512";break;case"1.2.840.113549.1.1.10":try{const p=new qi({schema:d.algorithmParams});if("hashAlgorithm"in p){const f=this.getAlgorithmByOID(p.hashAlgorithm.algorithmId);if(!("name"in f))return"";l=f.name}else l="SHA-1"}catch{}}return l}encryptEncryptedContentInfo(d){if(!(d instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in d))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in d))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in d))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in d))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in d))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in d))return Promise.reject('Absent mandatory parameter "contentType"');const l=this.getOIDByAlgorithm(d.contentEncryptionAlgorithm);if(""===l)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const p=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===p)return Promise.reject("Can not find OID for PBKDF2");const f=this.getOIDByAlgorithm({name:"HMAC",hash:{name:d.hmacHashAlgorithm}});if(""===f)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${d.hmacHashAlgorithm}`);let w=Promise.resolve();const A=new ArrayBuffer(16),O=new Uint8Array(A);this.getRandomValues(O);const Z=new ArrayBuffer(64),z=new Uint8Array(Z);this.getRandomValues(z);const Ce=new Uint8Array(d.contentToEncrypt),We=new pi({salt:new je({valueHex:Z}),iterationCount:d.iterationCount,prf:new bn({algorithmId:f,algorithmParams:new lt})});return w=w.then(()=>{const Tt=new Uint8Array(d.password);return this.importKey("raw",Tt,"PBKDF2",!1,["deriveKey"])},Tt=>Promise.reject(Tt)),w=w.then(Tt=>this.deriveKey({name:"PBKDF2",hash:{name:d.hmacHashAlgorithm},salt:z,iterations:d.iterationCount},Tt,d.contentEncryptionAlgorithm,!1,["encrypt"]),Tt=>Promise.reject(Tt)),w=w.then(Tt=>this.encrypt({name:d.contentEncryptionAlgorithm.name,iv:O},Tt,Ce),Tt=>Promise.reject(Tt)),w=w.then(Tt=>{const gt=new Es({keyDerivationFunc:new bn({algorithmId:p,algorithmParams:We.toSchema()}),encryptionScheme:new bn({algorithmId:l,algorithmParams:new je({valueHex:A})})});return new er({contentType:d.contentType,contentEncryptionAlgorithm:new bn({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:gt.toSchema()}),encryptedContent:new je({valueHex:Tt})})},Tt=>Promise.reject(Tt)),w}decryptEncryptedContentInfo(d){if(!(d instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in d))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in d))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==d.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${d.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let p,f,l=Promise.resolve();try{p=new Es({schema:d.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{f=new pi({schema:p.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const w=this.getAlgorithmByOID(p.encryptionScheme.algorithmId);if(!("name"in w))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${p.encryptionScheme.algorithmId}`);const O=new Uint8Array(p.encryptionScheme.algorithmParams.valueBlock.valueHex),z=new Uint8Array(f.salt.valueBlock.valueHex),Ce=f.iterationCount;let We="SHA-1";if("prf"in f){const Tt=this.getAlgorithmByOID(f.prf.algorithmId);if(!("name"in Tt))return Promise.reject("Incorrect OID for HMAC hash algorithm");We=Tt.hash.name}return l=l.then(()=>this.importKey("raw",d.password,"PBKDF2",!1,["deriveKey"]),Tt=>Promise.reject(Tt)),l=l.then(Tt=>this.deriveKey({name:"PBKDF2",hash:{name:We},salt:z,iterations:Ce},Tt,w,!1,["decrypt"]),Tt=>Promise.reject(Tt)),l=l.then(Tt=>{let gt=new ArrayBuffer(0);if(!1===d.encryptedContentInfo.encryptedContent.idBlock.isConstructed)gt=d.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const Kt of d.encryptedContentInfo.encryptedContent.valueBlock.value)gt=y(gt,Kt.valueBlock.valueHex);return this.decrypt({name:w.name,iv:O},Tt,gt)},Tt=>Promise.reject(Tt)),l}stampDataWithPassword(d){if(!(d instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in d))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in d))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in d))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in d))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in d))return Promise.reject('Absent mandatory parameter "contentToStamp"');let l;switch(d.hashAlgorithm.toLowerCase()){case"sha-1":l=160;break;case"sha-256":l=256;break;case"sha-384":l=384;break;case"sha-512":l=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${d.hashAlgorithm}`)}let p=Promise.resolve();const f={name:"HMAC",length:l,hash:{name:d.hashAlgorithm}};return p=p.then(()=>lr(this,d.hashAlgorithm,l,d.password,d.salt,d.iterationCount)),p=p.then(w=>this.importKey("raw",new Uint8Array(w),f,!1,["sign"])),p=p.then(w=>this.sign(f,w,new Uint8Array(d.contentToStamp)),w=>Promise.reject(w)),p}verifyDataStampedWithPassword(d){if(!(d instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in d))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in d))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in d))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in d))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in d))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in d))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let l;switch(d.hashAlgorithm.toLowerCase()){case"sha-1":l=160;break;case"sha-256":l=256;break;case"sha-384":l=384;break;case"sha-512":l=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${d.hashAlgorithm}`)}let p=Promise.resolve();const f={name:"HMAC",length:l,hash:{name:d.hashAlgorithm}};return p=p.then(()=>lr(this,d.hashAlgorithm,l,d.password,d.salt,d.iterationCount)),p=p.then(w=>this.importKey("raw",new Uint8Array(w),f,!1,["verify"])),p=p.then(w=>this.verify(f,w,new Uint8Array(d.signatureToVerify),new Uint8Array(d.contentToVerify)),w=>Promise.reject(w)),p}getSignatureParameters(d,l="SHA-1"){if(""===this.getOIDByAlgorithm({name:l}))return Promise.reject(`Unsupported hash algorithm: ${l}`);const f=new bn,w=this.getAlgorithmParameters(d.algorithm.name,"sign");switch(w.algorithm.hash.name=l,d.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":f.algorithmId=this.getOIDByAlgorithm(w.algorithm);break;case"RSA-PSS":{switch(l.toUpperCase()){case"SHA-256":w.algorithm.saltLength=32;break;case"SHA-384":w.algorithm.saltLength=48;break;case"SHA-512":w.algorithm.saltLength=64}const A={};if("SHA-1"!==l.toUpperCase()){const Z=this.getOIDByAlgorithm({name:l});if(""===Z)return Promise.reject(`Unsupported hash algorithm: ${l}`);A.hashAlgorithm=new bn({algorithmId:Z,algorithmParams:new lt}),A.maskGenAlgorithm=new bn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:A.hashAlgorithm.toSchema()})}20!==w.algorithm.saltLength&&(A.saltLength=w.algorithm.saltLength);const O=new qi(A);f.algorithmId="1.2.840.113549.1.1.10",f.algorithmParams=O.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${d.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:f,parameters:w}))}signWithPrivateKey(d,l,p){return this.sign(p.algorithm,l,new Uint8Array(d)).then(f=>("ECDSA"===p.algorithm.name&&(f=function Jr(se){if(se.byteLength%2!=0)return new ArrayBuffer(0);const d=se.byteLength/2,l=new ArrayBuffer(d);new Uint8Array(l).set(new Uint8Array(se,0,d));const f=new It({valueHex:l}),w=new ArrayBuffer(d);new Uint8Array(w).set(new Uint8Array(se,d,d));const O=new It({valueHex:w});return new Rt({value:[f.convertToDER(),O.convertToDER()]}).toBER(!1)}(f)),f),f=>Promise.reject(`Signing error: ${f}`))}fillPublicKeyParameters(d,l){const p={},f=this.getHashAlgorithm(l);if(""===f)return Promise.reject(`Unsupported signature algorithm: ${l.algorithmId}`);let w;w="1.2.840.113549.1.1.10"===l.algorithmId?l.algorithmId:d.algorithm.algorithmId;const A=this.getAlgorithmByOID(w);if("name"in A==="")return Promise.reject(`Unsupported public key algorithm: ${l.algorithmId}`);if(p.algorithm=this.getAlgorithmParameters(A.name,"importkey"),"hash"in p.algorithm.algorithm&&(p.algorithm.algorithm.hash.name=f),"ECDSA"===A.name){let O=!1;if("algorithmParams"in d.algorithm&&"idBlock"in d.algorithm.algorithmParams&&1===d.algorithm.algorithmParams.idBlock.tagClass&&6===d.algorithm.algorithmParams.idBlock.tagNumber&&(O=!0),!1===O)return Promise.reject("Incorrect type for ECDSA public key parameters");const Z=this.getAlgorithmByOID(d.algorithm.algorithmParams.valueBlock.toString());if(!("name"in Z))return Promise.reject(`Unsupported named curve algorithm: ${d.algorithm.algorithmParams.valueBlock.toString()}`);p.algorithm.algorithm.namedCurve=Z.name}return p}getPublicKey(d,l,p=null){null===p&&(p=this.fillPublicKeyParameters(d,l));const w=d.toSchema().toBER(!1),A=new Uint8Array(w);return this.importKey("spki",A,p.algorithm.algorithm,!0,p.algorithm.usages)}verifyWithPublicKey(d,l,p,f,w=null){let A=Promise.resolve();if(null===w){if(""===(w=this.getHashAlgorithm(f)))return Promise.reject(`Unsupported signature algorithm: ${f.algorithmId}`);A=A.then(()=>this.getPublicKey(p,f))}else{const O={};let Z;Z="1.2.840.113549.1.1.10"===f.algorithmId?f.algorithmId:p.algorithm.algorithmId;const z=this.getAlgorithmByOID(Z);if("name"in z==="")return Promise.reject(`Unsupported public key algorithm: ${f.algorithmId}`);if(O.algorithm=this.getAlgorithmParameters(z.name,"importkey"),"hash"in O.algorithm.algorithm&&(O.algorithm.algorithm.hash.name=w),"ECDSA"===z.name){let Ce=!1;if("algorithmParams"in p.algorithm&&"idBlock"in p.algorithm.algorithmParams&&1===p.algorithm.algorithmParams.idBlock.tagClass&&6===p.algorithm.algorithmParams.idBlock.tagNumber&&(Ce=!0),!1===Ce)return Promise.reject("Incorrect type for ECDSA public key parameters");const We=this.getAlgorithmByOID(p.algorithm.algorithmParams.valueBlock.toString());if(!("name"in We))return Promise.reject(`Unsupported named curve algorithm: ${p.algorithm.algorithmParams.valueBlock.toString()}`);O.algorithm.algorithm.namedCurve=We.name}A=A.then(()=>this.getPublicKey(p,null,O))}return A=A.then(O=>{const Z=this.getAlgorithmParameters(O.algorithm.name,"verify");"hash"in Z.algorithm&&(Z.algorithm.hash.name=w);let z=l.valueBlock.valueHex;if("ECDSA"===O.algorithm.name&&(z=function xr(se){if(!(se instanceof Rt))return new ArrayBuffer(0);if(2!==se.valueBlock.value.length)return new ArrayBuffer(0);if(!(se.valueBlock.value[0]instanceof It))return new ArrayBuffer(0);if(!(se.valueBlock.value[1]instanceof It))return new ArrayBuffer(0);const d=se.valueBlock.value[0].convertFromDER(),l=se.valueBlock.value[1].convertFromDER();switch(!0){case d.valueBlock.valueHex.byteLength<l.valueBlock.valueHex.byteLength:{if(l.valueBlock.valueHex.byteLength-d.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const p=l.valueBlock.valueHex.byteLength,f=new Uint8Array(d.valueBlock.valueHex),w=new ArrayBuffer(p),A=new Uint8Array(w);return A.set(f,1),A[0]=0,y(w,l.valueBlock.valueHex)}case d.valueBlock.valueHex.byteLength>l.valueBlock.valueHex.byteLength:{if(d.valueBlock.valueHex.byteLength-l.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const p=d.valueBlock.valueHex.byteLength,f=new Uint8Array(l.valueBlock.valueHex),w=new ArrayBuffer(p),A=new Uint8Array(w);return A.set(f,1),A[0]=0,y(d.valueBlock.valueHex,w)}default:if(d.valueBlock.valueHex.byteLength%2){const p=d.valueBlock.valueHex.byteLength+1,f=new Uint8Array(d.valueBlock.valueHex),w=new ArrayBuffer(p),A=new Uint8Array(w);A.set(f,1),A[0]=0;const O=new Uint8Array(l.valueBlock.valueHex),Z=new ArrayBuffer(p),z=new Uint8Array(Z);return z.set(O,1),z[0]=0,y(w,Z)}}return y(d.valueBlock.valueHex,l.valueBlock.valueHex)}(tt(z).result)),"RSA-PSS"===O.algorithm.name){let Ce;try{Ce=new qi({schema:f.algorithmParams})}catch(Tt){return Promise.reject(Tt)}Z.algorithm.saltLength="saltLength"in Ce?Ce.saltLength:20;let We="SHA-1";if("hashAlgorithm"in Ce){const Tt=this.getAlgorithmByOID(Ce.hashAlgorithm.algorithmId);if(!("name"in Tt))return Promise.reject(`Unrecognized hash algorithm: ${Ce.hashAlgorithm.algorithmId}`);We=Tt.name}Z.algorithm.hash.name=We}return this.verify(Z.algorithm,O,new Uint8Array(z),new Uint8Array(d))}),A}}let cs={name:"none",crypto:null,subtle:null};function li(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let se;try{se=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return se}return cs}function Sr(){const se=li();if(null!==se.subtle)return se.subtle}function Nr(se){let d=!1,l="";const p=se.trim();for(let f=0;f<p.length;f++)32===p.charCodeAt(f)?!1===d&&(d=!0):(d&&(l+=" ",d=!1),l+=p[f]);return l.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let d="webcrypto";const l=self.crypto;let p;if("webkitSubtle"in self.crypto){try{p=self.crypto.webkitSubtle}catch{p=self.crypto.subtle}d="safari"}"subtle"in self.crypto&&(p=self.crypto.subtle),cs=typeof p>"u"?{name:d,crypto:l,subtle:null}:{name:d,crypto:l,subtle:new Or({name:d,crypto:self.crypto,subtle:p})}}!function fr(se,d,l){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:se,crypto:d,subtle:l}}else cs.name!==se&&(cs={name:se,crypto:d,subtle:l})}(cs.name,cs.crypto,cs.subtle)}();class oi{constructor(d={}){this.type=T(d,"type",oi.defaultValues("type")),this.value=T(d,"value",oi.defaultValues("value")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.type||""}),new bs({name:l.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(d){ke(d,["type","typeValue"]);const l=Sn(d,d,oi.schema({names:{type:"type",value:"typeValue"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=l.result.type.valueBlock.toString(),this.value=l.result.typeValue}toSchema(){return new Rt({value:[new Je({value:this.type}),this.value]})}toJSON(){const d={type:this.type};return d.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,d}isEqual(d){const l=[Hi.blockName(),Ys.blockName(),wr.blockName(),Ss.blockName(),Ii.blockName(),Ls.blockName(),Qi.blockName(),$s.blockName(),Cs.blockName(),Br.blockName(),Ln.blockName(),or.blockName()];if(d.constructor.blockName()===oi.blockName()){if(this.type!==d.type)return!1;let p=[!1,!1];const f=this.value.constructor.blockName();for(const w of l)f===w&&(p[0]=!0),d.value.constructor.blockName()===w&&(p[1]=!0);if(p[0]^p[1])return!1;if(p=p[0]&&p[1],p){const w=Nr(this.value.valueBlock.value),A=Nr(d.value.valueBlock.value);if(0!==w.localeCompare(A))return!1}else if(!1===G(this.value.valueBeforeDecode,d.value.valueBeforeDecode))return!1;return!0}return d instanceof ArrayBuffer&&G(this.value.valueBeforeDecode,d)}}class Ki{constructor(d={}){this.typesAndValues=T(d,"typesAndValues",Ki.defaultValues("typesAndValues")),this.valueBeforeDecode=T(d,"valueBeforeDecode",Ki.defaultValues("valueBeforeDecode")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"typesAndValues":return 0===l.length;case"valueBeforeDecode":return 0===l.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.repeatedSequence||"",value:new Ai({value:[new di({name:l.repeatedSet||"",value:oi.schema(l.typeAndValue||{})})]})})]})}fromSchema(d){ke(d,["RDN","typesAndValues"]);const l=Sn(d,d,Ki.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in l.result&&(this.typesAndValues=Array.from(l.result.typesAndValues,p=>new oi({schema:p}))),this.valueBeforeDecode=l.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new Rt({value:[new Ai({value:Array.from(this.typesAndValues,l=>l.toSchema())})]}):tt(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,d=>d.toJSON())}}isEqual(d){if(d instanceof Ki){if(this.typesAndValues.length!==d.typesAndValues.length)return!1;for(const[l,p]of this.typesAndValues.entries())if(!1===p.isEqual(d.typesAndValues[l]))return!1;return!0}return d instanceof ArrayBuffer&&G(this.valueBeforeDecode,d)}}class Xi{constructor(d={}){this.type=T(d,"type",Xi.defaultValues("type")),this.value=T(d,"value",Xi.defaultValues("value")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${d}`)}}static schema(d={},l=!1){const p=T(d,"names",{});return new ui({optional:l,value:[new ar({name:p.utcTimeName||""}),new Ji({name:p.generalTimeName||""})]})}fromSchema(d){ke(d,["utcTimeName","generalTimeName"]);const l=Sn(d,d,Xi.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in l.result&&(this.type=0,this.value=l.result.utcTimeName.toDate()),"generalTimeName"in l.result&&(this.type=1,this.value=l.result.generalTimeName.toDate())}toSchema(){let d={};return 0===this.type&&(d=new ar({valueDate:this.value})),1===this.type&&(d=new Ji({valueDate:this.value})),d}toJSON(){return{type:this.type,value:this.value}}}class Mn{constructor(d={}){this.attributes=T(d,"attributes",Mn.defaultValues("attributes")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("attributes"===d)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.attributes||"",value:Ds.schema()})]})}fromSchema(d){ke(d,["attributes"]);const l=Sn(d,d,Mn.schema({names:{attributes:"attributes"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(l.result.attributes,p=>new Ds({schema:p}))}toSchema(){return new Rt({value:Array.from(this.attributes,d=>d.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,d=>d.toJSON())}}}class us{constructor(d={}){"notBefore"in d&&(this.notBefore=T(d,"notBefore",us.defaultValues("notBefore"))),"notAfter"in d&&(this.notAfter=T(d,"notAfter",us.defaultValues("notAfter"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Oe({name:l.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Oe({name:l.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(d){ke(d,["notBefore","notAfter"]);const l=Sn(d,d,us.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in l.result){const p=new Ji;p.fromBuffer(l.result.notBefore.valueBlock.valueHex),this.notBefore=p.toDate()}if("notAfter"in l.result){const p=new Ji({valueHex:l.result.notAfter.valueBlock.valueHex});p.fromBuffer(l.result.notAfter.valueBlock.valueHex),this.notAfter=p.toDate()}}toSchema(){const d=[];return"notBefore"in this&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:0},valueHex:new Ji({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:1},valueHex:new Ji({valueDate:this.notAfter}).valueBlock.valueHex})),new Rt({value:d})}toJSON(){const d={};return"notBefore"in this&&(d.notBefore=this.notBefore),"notAfter"in this&&(d.notAfter=this.notAfter),d}}function gs(se={},d=!1){const l=T(se,"names",{});return new Rt({optional:d,value:[new D({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:l.country_name||"",value:[new ui({value:[new Ss,new Ii]})]}),new D({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:l.administration_domain_name||"",value:[new ui({value:[new Ss,new Ii]})]}),new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:l.network_address||"",isHexOnly:!0}),new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:l.terminal_identifier||"",isHexOnly:!0}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:l.private_domain_name||"",value:[new ui({value:[new Ss,new Ii]})]}),new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:l.organization_name||"",isHexOnly:!0}),new Oe({optional:!0,name:l.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new D({optional:!0,name:l.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new Oe({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new D({optional:!0,name:l.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new di({value:new Ii})]})]})}function cr(se=!1){return new Rt({optional:se,value:[new Ii,new Ii]})}function Dr(se=!1){return new Ai({optional:se,value:[new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new bs]})]})}class fi{constructor(d={}){this.type=T(d,"type",fi.defaultValues("type")),this.value=T(d,"value",fi.defaultValues("value")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"type":return l===fi.defaultValues(d);case"value":return 0===Object.keys(l).length;default:throw new Error(`Invalid member name for GeneralName class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new ui({value:[new D({idBlock:{tagClass:3,tagNumber:0},name:l.blockName||"",value:[new Je,new D({idBlock:{tagClass:3,tagNumber:0},value:[new bs]})]}),new Oe({name:l.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new Oe({name:l.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new D({idBlock:{tagClass:3,tagNumber:3},name:l.blockName||"",value:[gs(l.builtInStandardAttributes||{},!1),cr(!0),Dr(!0)]}),new D({idBlock:{tagClass:3,tagNumber:4},name:l.blockName||"",value:[Ki.schema(l.directoryName||{})]}),new D({idBlock:{tagClass:3,tagNumber:5},name:l.blockName||"",value:[new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ui({value:[new Ls,new Ii,new wr,new Hi,new Ys]})]}),new D({idBlock:{tagClass:3,tagNumber:1},value:[new ui({value:[new Ls,new Ii,new wr,new Hi,new Ys]})]})]}),new Oe({name:l.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new Oe({name:l.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new Oe({name:l.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(d){ke(d,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const l=Sn(d,d,fi.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=l.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=l.result.blockName;break;case 1:case 2:case 6:{const p=l.result.blockName;p.idBlock.tagClass=1,p.idBlock.tagNumber=22;const f=p.toBER(!1);this.value=tt(f).result.valueBlock.value}break;case 4:this.value=new Ki({schema:l.result.directoryName});break;case 5:this.value=l.result.ediPartyName;break;case 7:this.value=new je({valueHex:l.result.blockName.valueBlock.valueHex});break;case 8:{const p=l.result.blockName;p.idBlock.tagClass=1,p.idBlock.tagNumber=6;const f=p.toBER(!1);this.value=tt(f).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new D({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const d=new $s({value:this.value});return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}case 4:return new D({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const d=this.value;return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}case 8:{const d=new Je({value:this.value});return d.idBlock.tagClass=3,d.idBlock.tagNumber=this.type,d}default:return fi.schema()}}toJSON(){const d={type:this.type,value:""};if("string"==typeof this.value)d.value=this.value;else try{d.value=this.value.toJSON()}catch{}return d}}class Di{constructor(d={}){this.altNames=T(d,"altNames",Di.defaultValues("altNames")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("altNames"===d)return[];throw new Error(`Invalid member name for AltName class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.altNames||"",value:fi.schema()})]})}fromSchema(d){ke(d,["altNames"]);const l=Sn(d,d,Di.schema({names:{altNames:"altNames"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in l.result&&(this.altNames=Array.from(l.result.altNames,p=>new fi({schema:p})))}toSchema(){return new Rt({value:Array.from(this.altNames,d=>d.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,d=>d.toJSON())}}}class mr{constructor(d={}){this.cA=T(d,"cA",!1),"pathLenConstraint"in d&&(this.pathLenConstraint=T(d,"pathLenConstraint",0)),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("cA"===d)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Bt({optional:!0,name:l.cA||""}),new It({optional:!0,name:l.pathLenConstraint||""})]})}fromSchema(d){ke(d,["cA","pathLenConstraint"]);const l=Sn(d,d,mr.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in l.result&&(this.cA=l.result.cA.valueBlock.value),"pathLenConstraint"in l.result&&(this.pathLenConstraint=l.result.pathLenConstraint.valueBlock.isHexOnly?l.result.pathLenConstraint:l.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const d=[];return this.cA!==mr.defaultValues("cA")&&d.push(new Bt({value:this.cA})),"pathLenConstraint"in this&&d.push(this.pathLenConstraint instanceof It?this.pathLenConstraint:new It({value:this.pathLenConstraint})),new Rt({value:d})}toJSON(){const d={};return this.cA!==mr.defaultValues("cA")&&(d.cA=this.cA),"pathLenConstraint"in this&&(d.pathLenConstraint=this.pathLenConstraint instanceof It?this.pathLenConstraint.toJSON():this.pathLenConstraint),d}}class es{constructor(d={}){"distributionPoint"in d&&(this.distributionPoint=T(d,"distributionPoint",es.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=T(d,"onlyContainsUserCerts",es.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=T(d,"onlyContainsCACerts",es.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in d&&(this.onlySomeReasons=T(d,"onlySomeReasons",es.defaultValues("onlySomeReasons"))),this.indirectCRL=T(d,"indirectCRL",es.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=T(d,"onlyContainsAttributeCerts",es.defaultValues("onlyContainsAttributeCerts")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ui({value:[new D({name:l.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new di({name:l.distributionPointNames||"",value:fi.schema()})]}),new D({name:l.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:Ki.schema().valueBlock.value})]})]}),new Oe({name:l.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Oe({name:l.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new Oe({name:l.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new Oe({name:l.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new Oe({name:l.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(d){ke(d,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const l=Sn(d,d,es.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in l.result)switch(!0){case 0===l.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(l.result.distributionPointNames,p=>new fi({schema:p}));break;case 1===l.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Ki({schema:new Rt({value:l.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in l.result){const p=new Uint8Array(l.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==p[0]}if("onlyContainsCACerts"in l.result){const p=new Uint8Array(l.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==p[0]}if("onlySomeReasons"in l.result){const p=new Uint8Array(l.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=p[0]}if("indirectCRL"in l.result){const p=new Uint8Array(l.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==p[0]}if("onlyContainsAttributeCerts"in l.result){const p=new Uint8Array(l.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==p[0]}}toSchema(){const d=[];if("distributionPoint"in this){let l;this.distributionPoint instanceof Array?l=new D({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,p=>p.toSchema())}):(l=this.distributionPoint.toSchema(),l.idBlock.tagClass=3,l.idBlock.tagNumber=1),d.push(new D({idBlock:{tagClass:3,tagNumber:0},value:[l]}))}if(this.onlyContainsUserCerts!==es.defaultValues("onlyContainsUserCerts")&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==es.defaultValues("onlyContainsCACerts")&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const l=new ArrayBuffer(1);new Uint8Array(l)[0]=this.onlySomeReasons,d.push(new Oe({idBlock:{tagClass:3,tagNumber:3},valueHex:l}))}return this.indirectCRL!==es.defaultValues("indirectCRL")&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==es.defaultValues("onlyContainsAttributeCerts")&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new Rt({value:d})}toJSON(){const d={};return"distributionPoint"in this&&(d.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,l=>l.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==es.defaultValues("onlyContainsUserCerts")&&(d.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==es.defaultValues("onlyContainsCACerts")&&(d.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(d.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==es.defaultValues("indirectCRL")&&(d.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==es.defaultValues("onlyContainsAttributeCerts")&&(d.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),d}}class jt{constructor(d={}){this.names=T(d,"names",jt.defaultValues("names")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("names"===d)return[];throw new Error(`Invalid member name for GeneralNames class: ${d}`)}static schema(d={},l=!1){const p=T(d,"names",{});return new Rt({optional:l,name:p.blockName||"",value:[new di({name:p.generalNames||"",value:fi.schema()})]})}fromSchema(d){ke(d,["names","generalNames"]);const l=Sn(d,d,jt.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(l.result.generalNames,p=>new fi({schema:p}))}toSchema(){return new Rt({value:Array.from(this.names,d=>d.toSchema())})}toJSON(){return{names:Array.from(this.names,d=>d.toJSON())}}}class cn{constructor(d={}){this.base=T(d,"base",cn.defaultValues("base")),this.minimum=T(d,"minimum",cn.defaultValues("minimum")),"maximum"in d&&(this.maximum=T(d,"maximum",cn.defaultValues("maximum"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"base":return new fi;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[fi.schema(l.base||{}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new It({name:l.minimum||""})]}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new It({name:l.maximum||""})]})]})}fromSchema(d){ke(d,["base","minimum","maximum"]);const l=Sn(d,d,cn.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new fi({schema:l.result.base}),"minimum"in l.result&&(this.minimum=l.result.minimum.valueBlock.isHexOnly?l.result.minimum:l.result.minimum.valueBlock.valueDec),"maximum"in l.result&&(this.maximum=l.result.maximum.valueBlock.isHexOnly?l.result.maximum:l.result.maximum.valueBlock.valueDec)}toSchema(){const d=[];if(d.push(this.base.toSchema()),0!==this.minimum){let l=0;l=this.minimum instanceof It?this.minimum:new It({value:this.minimum}),d.push(new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[l]}))}if("maximum"in this){let l=0;l=this.maximum instanceof It?this.maximum:new It({value:this.maximum}),d.push(new D({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[l]}))}return new Rt({value:d})}toJSON(){const d={base:this.base.toJSON()};return 0!==this.minimum&&(d.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(d.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),d}}class Is{constructor(d={}){"permittedSubtrees"in d&&(this.permittedSubtrees=T(d,"permittedSubtrees",Is.defaultValues("permittedSubtrees"))),"excludedSubtrees"in d&&(this.excludedSubtrees=T(d,"excludedSubtrees",Is.defaultValues("excludedSubtrees"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new di({name:l.permittedSubtrees||"",value:cn.schema()})]}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new di({name:l.excludedSubtrees||"",value:cn.schema()})]})]})}fromSchema(d){ke(d,["permittedSubtrees","excludedSubtrees"]);const l=Sn(d,d,Is.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in l.result&&(this.permittedSubtrees=Array.from(l.result.permittedSubtrees,p=>new cn({schema:p}))),"excludedSubtrees"in l.result&&(this.excludedSubtrees=Array.from(l.result.excludedSubtrees,p=>new cn({schema:p})))}toSchema(){const d=[];return"permittedSubtrees"in this&&d.push(new D({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,l=>l.toSchema())})),"excludedSubtrees"in this&&d.push(new D({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,l=>l.toSchema())})),new Rt({value:d})}toJSON(){const d={};return"permittedSubtrees"in this&&(d.permittedSubtrees=Array.from(this.permittedSubtrees,l=>l.toJSON())),"excludedSubtrees"in this&&(d.excludedSubtrees=Array.from(this.excludedSubtrees,l=>l.toJSON())),d}}class Ms{constructor(d={}){"distributionPoint"in d&&(this.distributionPoint=T(d,"distributionPoint",Ms.defaultValues("distributionPoint"))),"reasons"in d&&(this.reasons=T(d,"reasons",Ms.defaultValues("reasons"))),"cRLIssuer"in d&&(this.cRLIssuer=T(d,"cRLIssuer",Ms.defaultValues("cRLIssuer"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new Lt;default:throw new Error(`Invalid member name for DistributionPoint class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ui({value:[new D({name:l.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new di({name:l.distributionPointNames||"",value:fi.schema()})]}),new D({name:l.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Ki.schema().valueBlock.value})]})]}),new Oe({name:l.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new D({name:l.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new di({name:l.cRLIssuerNames||"",value:fi.schema()})]})]})}fromSchema(d){ke(d,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const l=Sn(d,d,Ms.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in l.result&&(0===l.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(l.result.distributionPointNames,p=>new fi({schema:p}))),1===l.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Ki({schema:new Rt({value:l.result.distributionPoint.valueBlock.value})}))),"reasons"in l.result&&(this.reasons=new Lt({valueHex:l.result.reasons.valueBlock.valueHex})),"cRLIssuer"in l.result&&(this.cRLIssuer=Array.from(l.result.cRLIssuerNames,p=>new fi({schema:p})))}toSchema(){const d=[];if("distributionPoint"in this){let l;l=new D(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,p=>p.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),d.push(new D({idBlock:{tagClass:3,tagNumber:0},value:[l]}))}return"reasons"in this&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&d.push(new D({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,l=>l.toSchema())})),new Rt({value:d})}toJSON(){const d={};return"distributionPoint"in this&&(d.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,l=>l.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(d.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(d.cRLIssuer=Array.from(this.cRLIssuer,l=>l.toJSON())),d}}class Zn{constructor(d={}){this.distributionPoints=T(d,"distributionPoints",Zn.defaultValues("distributionPoints")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("distributionPoints"===d)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.distributionPoints||"",value:Ms.schema()})]})}fromSchema(d){ke(d,["distributionPoints"]);const l=Sn(d,d,Zn.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(l.result.distributionPoints,p=>new Ms({schema:p}))}toSchema(){return new Rt({value:Array.from(this.distributionPoints,d=>d.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,d=>d.toJSON())}}}class ee{constructor(d={}){this.policyQualifierId=T(d,"policyQualifierId",ee.defaultValues("policyQualifierId")),this.qualifier=T(d,"qualifier",ee.defaultValues("qualifier")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"policyQualifierId":return"";case"qualifier":return new bs;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.policyQualifierId||""}),new bs({name:l.qualifier||""})]})}fromSchema(d){ke(d,["policyQualifierId","qualifier"]);const l=Sn(d,d,ee.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=l.result.policyQualifierId.valueBlock.toString(),this.qualifier=l.result.qualifier}toSchema(){return new Rt({value:[new Je({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class J{constructor(d={}){this.policyIdentifier=T(d,"policyIdentifier",J.defaultValues("policyIdentifier")),"policyQualifiers"in d&&(this.policyQualifiers=T(d,"policyQualifiers",J.defaultValues("policyQualifiers"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.policyIdentifier||""}),new Rt({optional:!0,value:[new di({name:l.policyQualifiers||"",value:ee.schema()})]})]})}fromSchema(d){ke(d,["policyIdentifier","policyQualifiers"]);const l=Sn(d,d,J.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=l.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in l.result&&(this.policyQualifiers=Array.from(l.result.policyQualifiers,p=>new ee({schema:p})))}toSchema(){const d=[];return d.push(new Je({value:this.policyIdentifier})),"policyQualifiers"in this&&d.push(new Rt({value:Array.from(this.policyQualifiers,l=>l.toSchema())})),new Rt({value:d})}toJSON(){const d={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(d.policyQualifiers=Array.from(this.policyQualifiers,l=>l.toJSON())),d}}class N{constructor(d={}){this.certificatePolicies=T(d,"certificatePolicies",N.defaultValues("certificatePolicies")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("certificatePolicies"===d)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.certificatePolicies||"",value:J.schema()})]})}fromSchema(d){ke(d,["certificatePolicies"]);const l=Sn(d,d,N.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(l.result.certificatePolicies,p=>new J({schema:p}))}toSchema(){return new Rt({value:Array.from(this.certificatePolicies,d=>d.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,d=>d.toJSON())}}}class Te{constructor(d={}){this.issuerDomainPolicy=T(d,"issuerDomainPolicy",Te.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=T(d,"subjectDomainPolicy",Te.defaultValues("subjectDomainPolicy")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.issuerDomainPolicy||""}),new Je({name:l.subjectDomainPolicy||""})]})}fromSchema(d){ke(d,["issuerDomainPolicy","subjectDomainPolicy"]);const l=Sn(d,d,Te.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=l.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=l.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Rt({value:[new Je({value:this.issuerDomainPolicy}),new Je({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class kt{constructor(d={}){this.mappings=T(d,"mappings",kt.defaultValues("mappings")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("mappings"===d)return[];throw new Error(`Invalid member name for PolicyMappings class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.mappings||"",value:Te.schema()})]})}fromSchema(d){ke(d,["mappings"]);const l=Sn(d,d,kt.schema({names:{mappings:"mappings"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(l.result.mappings,p=>new Te({schema:p}))}toSchema(){return new Rt({value:Array.from(this.mappings,d=>d.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,d=>d.toJSON())}}}class pn{constructor(d={}){"keyIdentifier"in d&&(this.keyIdentifier=T(d,"keyIdentifier",pn.defaultValues("keyIdentifier"))),"authorityCertIssuer"in d&&(this.authorityCertIssuer=T(d,"authorityCertIssuer",pn.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in d&&(this.authorityCertSerialNumber=T(d,"authorityCertSerialNumber",pn.defaultValues("authorityCertSerialNumber"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"keyIdentifier":return new je;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new It;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Oe({name:l.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new di({name:l.authorityCertIssuer||"",value:fi.schema()})]}),new Oe({name:l.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(d){ke(d,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const l=Sn(d,d,pn.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in l.result&&(this.keyIdentifier=new je({valueHex:l.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in l.result&&(this.authorityCertIssuer=Array.from(l.result.authorityCertIssuer,p=>new fi({schema:p}))),"authorityCertSerialNumber"in l.result&&(this.authorityCertSerialNumber=new It({valueHex:l.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const d=[];return"keyIdentifier"in this&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&d.push(new D({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,l=>l.toSchema())})),"authorityCertSerialNumber"in this&&d.push(new Oe({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new Rt({value:d})}toJSON(){const d={};return"keyIdentifier"in this&&(d.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(d.authorityCertIssuer=Array.from(this.authorityCertIssuer,l=>l.toJSON())),"authorityCertSerialNumber"in this&&(d.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),d}}class yi{constructor(d={}){"requireExplicitPolicy"in d&&(this.requireExplicitPolicy=T(d,"requireExplicitPolicy",yi.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in d&&(this.inhibitPolicyMapping=T(d,"inhibitPolicyMapping",yi.defaultValues("inhibitPolicyMapping"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Oe({name:l.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Oe({name:l.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(d){ke(d,["requireExplicitPolicy","inhibitPolicyMapping"]);const l=Sn(d,d,yi.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in l.result){const p=l.result.requireExplicitPolicy;p.idBlock.tagClass=1,p.idBlock.tagNumber=2;const w=tt(p.toBER(!1));this.requireExplicitPolicy=w.result.valueBlock.valueDec}if("inhibitPolicyMapping"in l.result){const p=l.result.inhibitPolicyMapping;p.idBlock.tagClass=1,p.idBlock.tagNumber=2;const w=tt(p.toBER(!1));this.inhibitPolicyMapping=w.result.valueBlock.valueDec}}toSchema(){const d=[];if("requireExplicitPolicy"in this){const l=new It({value:this.requireExplicitPolicy});l.idBlock.tagClass=3,l.idBlock.tagNumber=0,d.push(l)}if("inhibitPolicyMapping"in this){const l=new It({value:this.inhibitPolicyMapping});l.idBlock.tagClass=3,l.idBlock.tagNumber=1,d.push(l)}return new Rt({value:d})}toJSON(){const d={};return"requireExplicitPolicy"in this&&(d.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(d.inhibitPolicyMapping=this.inhibitPolicyMapping),d}}class ds{constructor(d={}){this.keyPurposes=T(d,"keyPurposes",ds.defaultValues("keyPurposes")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("keyPurposes"===d)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.keyPurposes||"",value:new Je})]})}fromSchema(d){ke(d,["keyPurposes"]);const l=Sn(d,d,ds.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(l.result.keyPurposes,p=>p.valueBlock.toString())}toSchema(){return new Rt({value:Array.from(this.keyPurposes,d=>new Je({value:d}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class mi{constructor(d={}){this.accessMethod=T(d,"accessMethod",mi.defaultValues("accessMethod")),this.accessLocation=T(d,"accessLocation",mi.defaultValues("accessLocation")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"accessMethod":return"";case"accessLocation":return new fi;default:throw new Error(`Invalid member name for AccessDescription class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.accessMethod||""}),fi.schema(l.accessLocation||{})]})}fromSchema(d){ke(d,["accessMethod","accessLocation"]);const l=Sn(d,d,mi.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=l.result.accessMethod.valueBlock.toString(),this.accessLocation=new fi({schema:l.result.accessLocation})}toSchema(){return new Rt({value:[new Je({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class Si{constructor(d={}){this.accessDescriptions=T(d,"accessDescriptions",Si.defaultValues("accessDescriptions")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("accessDescriptions"===d)return[];throw new Error(`Invalid member name for InfoAccess class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.accessDescriptions||"",value:mi.schema()})]})}fromSchema(d){ke(d,["accessDescriptions"]);const l=Sn(d,d,Si.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(l.result.accessDescriptions,p=>new mi({schema:p}))}toSchema(){return new Rt({value:Array.from(this.accessDescriptions,d=>d.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,d=>d.toJSON())}}}class _n{constructor(d={}){if("view"in d)this.fromUint8Array(d.view);else if("buffer"in d)this.fromArrayBuffer(d.buffer);else if("string"in d)this.fromString(d.string);else if("hexstring"in d)this.fromHexString(d.hexstring);else if("length"in d&&d.length>0){if(this.length=d.length,d.stub)for(let l=0;l<this._view.length;l++)this._view[l]=d.stub}else this.length=0}set buffer(d){this._buffer=d,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(d){this._buffer=new ArrayBuffer(d.length),this._view=new Uint8Array(this._buffer),this._view.set(d)}get view(){return this._view}get length(){return this.view.byteLength}set length(d){this._buffer=new ArrayBuffer(d),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(d){this._buffer=d,this._view=new Uint8Array(this._buffer)}fromUint8Array(d){this.fromArrayBuffer(new Uint8Array(d).buffer)}fromString(d){const l=d.length;this.length=l;for(let p=0;p<l;p++)this.view[p]=d.charCodeAt(p)}toString(d=0,l=this.view.length-d){let p="";(d>=this.view.length||d<0)&&(d=0),(l>=this.view.length||l<0)&&(l=this.view.length-d);for(let f=d;f<d+l;f++)p+=String.fromCharCode(this.view[f]);return p}fromHexString(d){const l=d.length;this.buffer=new ArrayBuffer(l>>1),this.view=new Uint8Array(this.buffer);const p=new Map;p.set("0",0),p.set("1",1),p.set("2",2),p.set("3",3),p.set("4",4),p.set("5",5),p.set("6",6),p.set("7",7),p.set("8",8),p.set("9",9),p.set("A",10),p.set("a",10),p.set("B",11),p.set("b",11),p.set("C",12),p.set("c",12),p.set("D",13),p.set("d",13),p.set("E",14),p.set("e",14),p.set("F",15),p.set("f",15);let f=0,w=0;for(let A=0;A<l;A++)A%2?(w|=p.get(d.charAt(A)),this.view[f]=w,f++):w=p.get(d.charAt(A))<<4}toHexString(d=0,l=this.view.length-d){let p="";(d>=this.view.length||d<0)&&(d=0),(l>=this.view.length||l<0)&&(l=this.view.length-d);for(let f=d;f<d+l;f++){const w=this.view[f].toString(16).toUpperCase();p=p+(1==w.length?"0":"")+w}return p}copy(d=0,l=this.length-d){if(!d&&!this.length)return new _n;if(d<0||d>this.length-1)throw new Error(`Wrong start position: ${d}`);return new _n({buffer:this._buffer.slice(d,d+l)})}slice(d=0,l=this.length){if(!d&&!this.length)return new _n;if(d<0||d>this.length-1)throw new Error(`Wrong start position: ${d}`);return new _n({buffer:this._buffer.slice(d,l)})}realloc(d){const l=new ArrayBuffer(d);new Uint8Array(l).set(d>this._view.length?this._view:new Uint8Array(this._buffer,0,d)),this._buffer=l,this._view=new Uint8Array(this._buffer)}append(d){const l=this.length,p=d.length,f=d._view.subarray();this.realloc(l+p),this._view.set(f,l)}insert(d,l=0,p=this.length-l){return!(l>this.length-1||(p>this.length-l&&(p=this.length-l),p>d.length&&(p=d.length),this._view.set(p==d.length?d._view:d._view.subarray(0,p),l),0))}isEqual(d){if(this.length!=d.length)return!1;for(let l=0;l<d.length;l++)if(this.view[l]!=d.view[l])return!1;return!0}isEqualView(d){if(d.length!=this.view.length)return!1;for(let l=0;l<d.length;l++)if(this.view[l]!=d[l])return!1;return!0}findPattern(d,l,p,f){const{start:w,length:A,backward:O}=this.prepareFindParameters(l,p,f),Z=d.length;if(Z>A)return-1;const z=[];for(let Ce=0;Ce<Z;Ce++)z.push(d.view[Ce]);for(let Ce=0;Ce<=A-Z;Ce++){let We=!0;const Tt=O?w-Z-Ce:w+Ce;for(let gt=0;gt<Z;gt++)if(this.view[gt+Tt]!=z[gt]){We=!1;break}if(We)return O?w-Z-Ce:w+Z+Ce}return-1}findFirstIn(d,l,p,f){const{start:w,length:A,backward:O}=this.prepareFindParameters(l,p,f),Z={id:-1,position:O?0:w+A,length:0};for(let z=0;z<d.length;z++){const Ce=this.findPattern(d[z],w,A,O);if(-1!=Ce){let We=!1;const Tt=d[z].length;O?Ce-Tt>=Z.position-Z.length&&(We=!0):Ce-Tt<=Z.position-Z.length&&(We=!0),We&&(Z.position=Ce,Z.id=z,Z.length=Tt)}}return Z}findAllIn(d,l,p){let{start:f,length:w}=this.prepareFindParameters(l,p);const A=[];let O={id:-1,position:f};for(;;){const Z=O.position;if(O=this.findFirstIn(d,O.position,w),-1==O.id)break;w-=O.position-Z,A.push({id:O.id,position:O.position})}return A}findAllPatternIn(d,l,p){const{start:f,length:w}=this.prepareFindParameters(l,p),A=[],O=d.length;if(O>w)return-1;const Z=Array.from(d.view);for(let z=0;z<=w-O;z++){let Ce=!0;const We=f+z;for(let Tt=0;Tt<O;Tt++)if(this.view[Tt+We]!=Z[Tt]){Ce=!1;break}Ce&&(A.push(f+O+z),z+=O-1)}return A}findFirstNotIn(d,l,p,f){let{start:w,length:A,backward:O}=this.prepareFindParameters(l,p,f);const Z={left:{id:-1,position:w},right:{id:-1,position:0},value:new _n};let z=A;for(;z>0;){if(Z.right=this.findFirstIn(d,O?w-A+z:w+A-z,z,O),-1==Z.right.id){A=z,O?w-=A:w=Z.left.position,Z.value=new _n({buffer:this._buffer.slice(w,w+A)});break}if(Z.right.position!=(O?Z.left.position-d[Z.right.id].length:Z.left.position+d[Z.right.id].length)){O?(w=Z.right.position+d[Z.right.id].length,A=Z.left.position-Z.right.position-d[Z.right.id].length):(w=Z.left.position,A=Z.right.position-Z.left.position-d[Z.right.id].length),Z.value=new _n({buffer:this._buffer.slice(w,w+A)});break}Z.left=Z.right,z-=d[Z.right.id].length}if(O){const Ce=Z.right;Z.right=Z.left,Z.left=Ce}return Z}findAllNotIn(d,l,p){let{start:f,length:w}=this.prepareFindParameters(l,p);const A=[];let O={left:{id:-1,position:f},right:{id:-1,position:f},value:new _n};do{const Z=O.right.position;O=this.findFirstNotIn(d,O.right.position,w),w-=O.right.position-Z,A.push({left:{id:O.left.id,position:O.left.position},right:{id:O.right.id,position:O.right.position},value:O.value})}while(-1!=O.right.id);return A}findFirstSequence(d,l,p,f){let{start:w,length:A,backward:O}=this.prepareFindParameters(l,p,f);const Z=this.skipNotPatterns(d,w,A,O);if(-1==Z)return{position:-1,value:new _n};const z=this.skipPatterns(d,Z,A-(O?w-Z:Z-w),O);return O?(w=z,A=Z-z):(w=Z,A=z-Z),{position:z,value:new _n({buffer:this._buffer.slice(w,w+A)})}}findAllSequences(d,l,p){let{start:f,length:w}=this.prepareFindParameters(l,p);const A=[];let O={position:f,value:new _n};do{const Z=O.position;O=this.findFirstSequence(d,O.position,w),-1!=O.position&&(w-=O.position-Z,A.push({position:O.position,value:O.value}))}while(-1!=O.position);return A}findPairedPatterns(d,l,p,f){const w=[];if(d.isEqual(l))return w;const{start:A,length:O}=this.prepareFindParameters(p,f);let Z=0;const z=this.findAllPatternIn(d,A,O);if(!Array.isArray(z)||0==z.length)return w;const Ce=this.findAllPatternIn(l,A,O);if(!Array.isArray(Ce)||0==Ce.length)return w;for(;Z<z.length&&0!=Ce.length;)if(z[0]!=Ce[0]){if(z[Z]>Ce[0])break;for(;z[Z]<Ce[0]&&(Z++,!(Z>=z.length)););w.push({left:z[Z-1],right:Ce[0]}),z.splice(Z-1,1),Ce.splice(0,1),Z=0}else w.push({left:z[0],right:Ce[0]}),z.splice(0,1),Ce.splice(0,1);return w.sort((We,Tt)=>We.left-Tt.left),w}findPairedArrays(d,l,p,f){const{start:w,length:A}=this.prepareFindParameters(p,f),O=[];let Z=0;const z=this.findAllIn(d,w,A);if(0==z.length)return O;const Ce=this.findAllIn(l,w,A);if(0==Ce.length)return O;for(;Z<z.length&&0!=Ce.length;)if(z[0].position!=Ce[0].position){if(z[Z].position>Ce[0].position)break;for(;z[Z].position<Ce[0].position&&(Z++,!(Z>=z.length)););O.push({left:z[Z-1],right:Ce[0]}),z.splice(Z-1,1),Ce.splice(0,1),Z=0}else O.push({left:z[0],right:Ce[0]}),z.splice(0,1),Ce.splice(0,1);return O.sort((We,Tt)=>We.left.position-Tt.left.position),O}replacePattern(d,l,p,f,w=null){let O,A=[];const Z={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:z,length:Ce}=this.prepareFindParameters(p,f);if(null==w){if(A=this.findAllIn([d],z,Ce),0==A.length)return Z}else A=w;Z.searchPatternPositions.push(...Array.from(A,Kt=>Kt.position));const We=d.length-l.length,Tt=new ArrayBuffer(this.view.length-A.length*We),gt=new Uint8Array(Tt);for(gt.set(new Uint8Array(this.buffer,0,z)),O=0;O<A.length;O++){const Kt=0==O?z:A[O-1].position;gt.set(new Uint8Array(this.buffer,Kt,A[O].position-d.length-Kt),Kt-O*We),gt.set(l.view,A[O].position-d.length-O*We),Z.replacePatternPositions.push(A[O].position-d.length-O*We)}return O--,gt.set(new Uint8Array(this.buffer,A[O].position,this.length-A[O].position),A[O].position-d.length+l.length-O*We),this.buffer=Tt,this.view=new Uint8Array(this.buffer),Z.status=1,Z}skipPatterns(d,l,p,f){const{start:w,length:A,backward:O}=this.prepareFindParameters(l,p,f);let Z=w;for(let z=0;z<d.length;z++){const Ce=d[z].length,We=O?Z-Ce:Z;let Tt=!0;for(let gt=0;gt<Ce;gt++)if(this.view[gt+We]!=d[z].view[gt]){Tt=!1;break}if(Tt)if(z=-1,O){if(Z-=Ce,Z<=0)return Z}else if(Z+=Ce,Z>=w+A)return Z}return Z}skipNotPatterns(d,l,p,f){const{start:w,length:A,backward:O}=this.prepareFindParameters(l,p,f);let Z=-1;for(let z=0;z<A;z++){for(let Ce=0;Ce<d.length;Ce++){const We=d[Ce].length,Tt=O?w-z-We:w+z;let gt=!0;for(let Kt=0;Kt<We;Kt++)if(this.view[Kt+Tt]!=d[Ce].view[Kt]){gt=!1;break}if(gt){Z=O?w-z:w+z;break}}if(-1!=Z)break}return Z}prepareFindParameters(d=null,l=null,p=!1){return null===d&&(d=p?this.length:0),d>this.length&&(d=this.length),p?(null===l&&(l=d),l>d&&(l=d)):(null===l&&(l=this.length-d),l>this.length-d&&(l=this.length-d)),{start:d,length:l,backward:p}}}let ne=(()=>{class se{constructor(l={}){this._stream=new _n,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in l?new _n({view:l.view}):"buffer"in l?new _n({buffer:l.buffer}):"string"in l?new _n({string:l.string}):"hexstring"in l?new _n({hexstring:l.hexstring}):"stream"in l?l.stream.slice():new _n,"backward"in l&&l.backward&&(this.backward=l.backward,this._start=this.stream.length),"length"in l&&l.length>0&&(this._length=l.length),"start"in l&&l.start&&l.start>0&&(this._start=l.start),"appendBlock"in l&&l.appendBlock&&l.appendBlock>0&&(this.appendBlock=l.appendBlock)}set stream(l){this._stream=l,this.prevLength=this._length,this._length=l.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(l){this.prevLength=this._length,this._length=l}get length(){return this.appendBlock?this.start:this._length}set start(l){l>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-l:l-this._start,this._start=l)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(l,p=null){(null==p||p>this.length)&&(p=this.length);const f=this.stream.findPattern(l,this.start,this.length,this.backward);if(-1==f)return f;if(this.backward){if(f<this.start-l.length-p)return-1}else if(f>this.start+l.length+p)return-1;return this.start=f,f}findFirstIn(l,p=null){(null==p||p>this.length)&&(p=this.length);const f=this.stream.findFirstIn(l,this.start,this.length,this.backward);if(-1==f.id)return f;if(this.backward){if(f.position<this.start-l[f.id].length-p)return{id:-1,position:this.backward?0:this.start+this.length}}else if(f.position>this.start+l[f.id].length+p)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=f.position,f}findAllIn(l){return this.stream.findAllIn(l,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(l,p=null){(null==p||p>this._length)&&(p=this._length);const f=this._stream.findFirstNotIn(l,this._start,this._length,this.backward);if(-1==f.left.id&&-1==f.right.id)return f;if(this.backward){if(-1!=f.right.id&&f.right.position<this._start-l[f.right.id].length-p)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new _n}}else if(-1!=f.left.id&&f.left.position>this._start+l[f.left.id].length+p)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new _n};return this.start=this.backward?-1==f.left.id?0:f.left.position:-1==f.right.id?this._start+this._length:f.right.position,f}findAllNotIn(l){return this._stream.findAllNotIn(l,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(l,p=null,f=null){(null==p||p>this._length)&&(p=this._length),(null==f||f>p)&&(f=p);const w=this._stream.findFirstSequence(l,this._start,p,this.backward);if(0==w.value.length)return w;if(this.backward){if(w.position<this._start-w.value.length-f)return{position:-1,value:new _n}}else if(w.position>this._start+w.value.length+f)return{position:-1,value:new _n};return this.start=w.position,w}findAllSequences(l){return this.stream.findAllSequences(l,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(l,p,f=null){(null==f||f>this.length)&&(f=this.length);const A=this.stream.findPairedPatterns(l,p,this.backward?this.start-this.length:this.start,this.length);if(A.length)if(this.backward){if(A[0].right<this.start-p.length-f)return[]}else if(A[0].left>this.start+l.length+f)return[];return A}findPairedArrays(l,p,f=null){(null==f||f>this.length)&&(f=this.length);const A=this.stream.findPairedArrays(l,p,this.backward?this.start-this.length:this.start,this.length);if(A.length)if(this.backward){if(A[0].right.position<this.start-p[A[0].right.id].length-f)return[]}else if(A[0].left.position>this.start+l[A[0].left.id].length+f)return[];return A}replacePattern(l,p){return this.stream.replacePattern(l,p,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(l){const p=this.stream.skipPatterns(l,this.start,this.length,this.backward);return this.start=p,p}skipNotPatterns(l){const p=this.stream.skipNotPatterns(l,this.start,this.length,this.backward);return-1==p?-1:(this.start=p,p)}append(l){this.beforeAppend(l.length),this._stream.view.set(l.view,this._start),this._length+=2*l.length,this.start=this._start+l.length,this.prevLength-=2*l.length}appendView(l){this.beforeAppend(l.length),this._stream.view.set(l,this._start),this._length+=2*l.length,this.start=this._start+l.length,this.prevLength-=2*l.length}appendChar(l){this.beforeAppend(1),this._stream.view[this._start]=l,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(l){this.beforeAppend(2);const p=new Uint16Array([l]),f=new Uint8Array(p.buffer);this.stream.view[this._start]=f[1],this._stream.view[this._start+1]=f[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(l){this.beforeAppend(3);const p=new Uint32Array([l]),f=new Uint8Array(p.buffer);this._stream.view[this._start]=f[2],this._stream.view[this._start+1]=f[1],this._stream.view[this._start+2]=f[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(l){this.beforeAppend(4);const p=new Uint32Array([l]),f=new Uint8Array(p.buffer);this._stream.view[this._start]=f[3],this._stream.view[this._start+1]=f[2],this._stream.view[this._start+2]=f[1],this._stream.view[this._start+3]=f[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(l){this.beforeAppend(2);const p=new Int16Array([l]),f=new Uint8Array(p.buffer);this._stream.view[this._start]=f[1],this._stream.view[this._start+1]=f[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(l){this.beforeAppend(4);const p=new Int32Array([l]),f=new Uint8Array(p.buffer);this._stream.view[this._start]=f[3],this._stream.view[this._start+1]=f[2],this._stream.view[this._start+2]=f[1],this._stream.view[this._start+3]=f[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(l,p=!0){if(this._length<=0)return new Uint8Array(0);let f;if(this._length<l&&(l=this._length),this.backward){const w=this._stream.view.subarray(this._length-l,this._length);f=new Uint8Array(l);for(let A=0;A<l;A++)f[l-1-A]=w[A]}else f=this._stream.view.subarray(this._start,this._start+l);return p&&(this.start+=this.backward?-1*l:l),f}getUint16(l=!0){const p=this.getBlock(2,l);if(p.length<2)return 0;const f=new Uint16Array(1),w=new Uint8Array(f.buffer);return w[0]=p[1],w[1]=p[0],f[0]}getInt16(l=!0){const p=this.getBlock(2,l);if(p.length<2)return 0;const f=new Int16Array(1),w=new Uint8Array(f.buffer);return w[0]=p[1],w[1]=p[0],f[0]}getUint24(l=!0){const p=this.getBlock(3,l);if(p.length<3)return 0;const f=new Uint32Array(1),w=new Uint8Array(f.buffer);for(let A=3;A>=1;A--)w[3-A]=p[A-1];return f[0]}getUint32(l=!0){const p=this.getBlock(4,l);if(p.length<4)return 0;const f=new Uint32Array(1),w=new Uint8Array(f.buffer);for(let A=3;A>=0;A--)w[3-A]=p[A];return f[0]}getInt32(l=!0){const p=this.getBlock(4,l);if(p.length<4)return 0;const f=new Int32Array(1),w=new Uint8Array(f.buffer);for(let A=3;A>=0;A--)w[3-A]=p[A];return f[0]}beforeAppend(l){this._start+l>this._stream.length&&(l>this.appendBlock&&(this.appendBlock=l+se.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return se.APPEND_BLOCK=1e3,se})();class _e{constructor(d={}){this.version=T(d,"version",_e.defaultValues("version")),this.logID=T(d,"logID",_e.defaultValues("logID")),this.timestamp=T(d,"timestamp",_e.defaultValues("timestamp")),this.extensions=T(d,"extensions",_e.defaultValues("extensions")),this.hashAlgorithm=T(d,"hashAlgorithm",_e.defaultValues("hashAlgorithm")),this.signatureAlgorithm=T(d,"signatureAlgorithm",_e.defaultValues("signatureAlgorithm")),this.signature=T(d,"signature",_e.defaultValues("signature")),"schema"in d&&this.fromSchema(d.schema),"stream"in d&&this.fromStream(d.stream)}static defaultValues(d){switch(d){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new bs;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${d}`)}}fromSchema(d){if(!(d instanceof xs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const l=new ne({stream:new _n({buffer:d.data})});this.fromStream(l)}fromStream(d){const l=d.getUint16();if(this.version=d.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(d.getBlock(32)).buffer.slice(0),this.timestamp=new Date(U(new Uint8Array(d.getBlock(8)),8));const p=d.getUint16();switch(this.extensions=new Uint8Array(d.getBlock(p)).buffer.slice(0),d.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(d.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const f=d.getUint16(),A=tt(new Uint8Array(d.getBlock(f)).buffer.slice(0));if(-1===A.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=A.result,l!==47+p+f)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const d=this.toStream();return new xs({data:d.stream.buffer})}toStream(){const d=new ne;d.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),d.appendChar(this.version),d.appendView(new Uint8Array(this.logID));const l=new ArrayBuffer(8),p=new Uint8Array(l),f=R(this.timestamp.valueOf(),8);let w,A;switch(p.set(new Uint8Array(f),8-f.byteLength),d.appendView(p),d.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&d.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":w=0;break;case"md5":w=1;break;case"sha1":w=2;break;case"sha224":w=3;break;case"sha256":w=4;break;case"sha384":w=5;break;case"sha512":w=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(d.appendChar(w),this.signatureAlgorithm.toLowerCase()){case"anonymous":A=0;break;case"rsa":A=1;break;case"dsa":A=2;break;case"ecdsa":A=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}d.appendChar(A);const O=this.signature.toBER(!1);return d.appendUint16(O.byteLength),d.appendView(new Uint8Array(O)),d}toJSON(){return{version:this.version,logID:S(this.logID),timestamp:this.timestamp,extensions:S(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(d,l,p=0){var f=this;return(0,a.Z)(function*(){let O,w=ve(we(f.logID)),A=null,Z=new ne;for(const gt of d)if(gt.log_id===w){A=gt.key;break}if(null===A)throw new Error(`Public key not found for CT with logId: ${w}`);const z=tt(re(ye(A)));if(-1===z.offset)throw new Error(`Incorrect key value for CT Log with logId: ${w}`);O=new ls({schema:z.result}),Z.appendChar(0),Z.appendChar(0);const Ce=new ArrayBuffer(8),We=new Uint8Array(Ce),Tt=R(f.timestamp.valueOf(),8);return We.set(new Uint8Array(Tt),8-Tt.byteLength),Z.appendView(We),Z.appendUint16(p),0===p&&Z.appendUint24(l.byteLength),Z.appendView(new Uint8Array(l)),Z.appendUint16(f.extensions.byteLength),0!==f.extensions.byteLength&&Z.appendView(new Uint8Array(f.extensions)),li().subtle.verifyWithPublicKey(Z._stream._buffer.slice(0,Z._length),{valueBlock:{valueHex:f.signature.toBER(!1)}},O,{algorithmId:""},"SHA-256")})()}}class ze{constructor(d={}){this.timestamps=T(d,"timestamps",ze.defaultValues("timestamps")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("timestamps"===d)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${d}`)}static compareWithDefault(d,l){if("timestamps"===d)return 0===l.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return"optional"in l||(l.optional=!1),new je({name:l.blockName||"SignedCertificateTimestampList",optional:l.optional})}fromSchema(d){if(!(d instanceof je))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const l=new ne({stream:new _n({buffer:d.valueBlock.valueHex})});if(l.getUint16()!==l.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;l.length;)this.timestamps.push(new _e({stream:l}))}toSchema(){const d=new ne;let l=0;const p=[];for(const f of this.timestamps){const w=f.toStream();p.push(w),l+=w.stream.buffer.byteLength}d.appendUint16(l);for(const f of p)d.appendView(f.stream.view);return new je({valueHex:d.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,d=>d.toJSON())}}}class ft{constructor(d={}){this.templateID=T(d,"templateID",ft.defaultValues("templateID")),"templateMajorVersion"in d&&(this.templateMajorVersion=T(d,"templateMajorVersion",ft.defaultValues("templateMajorVersion"))),"templateMinorVersion"in d&&(this.templateMinorVersion=T(d,"templateMinorVersion",ft.defaultValues("templateMinorVersion"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.templateID||""}),new It({name:l.templateMajorVersion||"",optional:!0}),new It({name:l.templateMinorVersion||"",optional:!0})]})}fromSchema(d){ke(d,["templateID","templateMajorVersion","templateMinorVersion"]);let l=Sn(d,d,ft.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=l.result.templateID.valueBlock.toString(),"templateMajorVersion"in l.result&&(this.templateMajorVersion=l.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in l.result&&(this.templateMinorVersion=l.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const d=[];return d.push(new Je({value:this.templateID})),"templateMajorVersion"in this&&d.push(new It({value:this.templateMajorVersion})),"templateMinorVersion"in this&&d.push(new It({value:this.templateMinorVersion})),new Rt({value:d})}toJSON(){const d={extnID:this.templateID};return"templateMajorVersion"in this&&(d.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(d.templateMinorVersion=this.templateMinorVersion),d}}class Ht{constructor(d={}){this.certificateIndex=T(d,"certificateIndex",Ht.defaultValues("certificateIndex")),this.keyIndex=T(d,"keyIndex",Ht.defaultValues("keyIndex")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${d}`)}}static schema(d={}){return new It}fromSchema(d){if(d.constructor.blockName()!==It.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let l=d.valueBlock.valueHex.slice(0);const p=new Uint8Array(l);switch(!0){case l.byteLength<4:{const We=new ArrayBuffer(4);new Uint8Array(We).set(p,4-l.byteLength),l=We.slice(0)}break;case l.byteLength>4:{const We=new ArrayBuffer(4);new Uint8Array(We).set(p.slice(0,4)),l=We.slice(0)}}const f=l.slice(0,2),w=new Uint8Array(f);let A=w[0];w[0]=w[1],w[1]=A;const O=new Uint16Array(f);this.keyIndex=O[0];const Z=l.slice(2),z=new Uint8Array(Z);A=z[0],z[0]=z[1],z[1]=A;const Ce=new Uint16Array(Z);this.certificateIndex=Ce[0]}toSchema(){const d=new ArrayBuffer(2);new Uint16Array(d)[0]=this.certificateIndex;const p=new Uint8Array(d);let f=p[0];p[0]=p[1],p[1]=f;const w=new ArrayBuffer(2);new Uint16Array(w)[0]=this.keyIndex;const O=new Uint8Array(w);return f=O[0],O[0]=O[1],O[1]=f,new It({valueHex:y(w,d)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class en{constructor(d={}){this.id=T(d,"id",en.defaultValues("id")),"type"in d&&(this.type=T(d,"type",en.defaultValues("type"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"id":return"";case"type":return new lt;default:throw new Error(`Invalid member name for QCStatement class: ${d}`)}}static compareWithDefault(d,l){switch(d){case"id":return""===l;case"type":return l instanceof lt;default:throw new Error(`Invalid member name for QCStatement class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.id||""}),new bs({name:l.type||"",optional:!0})]})}fromSchema(d){ke(d,["id","type"]);const l=Sn(d,d,en.schema({names:{id:"id",type:"type"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=l.result.id.valueBlock.toString(),"type"in l.result&&(this.type=l.result.type)}toSchema(){const d=[new Je({value:this.id})];return"type"in this&&d.push(this.type),new Rt({value:d})}toJSON(){const d={id:this.id};return"type"in this&&(d.type=this.type.toJSON()),d}}class On{constructor(d={}){this.values=T(d,"values",On.defaultValues("values")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("values"===d)return[];throw new Error(`Invalid member name for QCStatements class: ${d}`)}static compareWithDefault(d,l){if("values"===d)return 0===l.length;throw new Error(`Invalid member name for QCStatements class: ${d}`)}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new di({name:l.values||"",value:en.schema(l.value||{})})]})}fromSchema(d){ke(d,["values"]);const l=Sn(d,d,On.schema({names:{values:"values"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(l.result.values,p=>new en({schema:p}))}toSchema(){return new Rt({value:Array.from(this.values,d=>d.toSchema())})}toJSON(){return{extensions:Array.from(this.values,d=>d.toJSON())}}}class Tn{constructor(d={}){this.extnID=T(d,"extnID",Tn.defaultValues("extnID")),this.critical=T(d,"critical",Tn.defaultValues("critical")),this.extnValue="extnValue"in d?new je({valueHex:d.extnValue}):Tn.defaultValues("extnValue"),"parsedValue"in d&&(this.parsedValue=T(d,"parsedValue",Tn.defaultValues("parsedValue"))),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"extnID":return"";case"critical":return!1;case"extnValue":return new je;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[new Je({name:l.extnID||""}),new Bt({name:l.critical||"",optional:!0}),new je({name:l.extnValue||""})]})}fromSchema(d){ke(d,["extnID","critical","extnValue"]);let l=Sn(d,d,Tn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=l.result.extnID.valueBlock.toString(),"critical"in l.result&&(this.critical=l.result.critical.valueBlock.value),this.extnValue=l.result.extnValue,l=tt(this.extnValue.valueBlock.valueHex),-1!==l.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new Mn({schema:l.result})}catch{this.parsedValue=new Mn,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=l.result;break;case"2.5.29.16":try{this.parsedValue=new us({schema:l.result})}catch{this.parsedValue=new us,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new Di({schema:l.result})}catch{this.parsedValue=new Di,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new mr({schema:l.result})}catch{this.parsedValue=new mr,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new es({schema:l.result})}catch{this.parsedValue=new es,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new jt({schema:l.result})}catch{this.parsedValue=new jt,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new Is({schema:l.result})}catch{this.parsedValue=new Is,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new Zn({schema:l.result})}catch{this.parsedValue=new Zn,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new N({schema:l.result})}catch{this.parsedValue=new N,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new kt({schema:l.result})}catch{this.parsedValue=new kt,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new pn({schema:l.result})}catch{this.parsedValue=new pn,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new yi({schema:l.result})}catch{this.parsedValue=new yi,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new ds({schema:l.result})}catch{this.parsedValue=new ds,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new Si({schema:l.result})}catch{this.parsedValue=new Si,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new ze({schema:l.result})}catch{this.parsedValue=new ze,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new ft({schema:l.result})}catch{this.parsedValue=new ft,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new Ht({schema:l.result})}catch{this.parsedValue=new Ht,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new On({schema:l.result})}catch{this.parsedValue=new On,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const d=[];return d.push(new Je({value:this.extnID})),this.critical!==Tn.defaultValues("critical")&&d.push(new Bt({value:this.critical})),d.push(this.extnValue),new Rt({value:d})}toJSON(){const d={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Tn.defaultValues("critical")&&(d.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(d.parsedValue=this.parsedValue.toJSON()),d}}class Ui{constructor(d={}){this.extensions=T(d,"extensions",Ui.defaultValues("extensions")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){if("extensions"===d)return[];throw new Error(`Invalid member name for Extensions class: ${d}`)}static schema(d={},l=!1){const p=T(d,"names",{});return new Rt({optional:l,name:p.blockName||"",value:[new di({name:p.extensions||"",value:Tn.schema(p.extension||{})})]})}fromSchema(d){ke(d,["extensions"]);const l=Sn(d,d,Ui.schema({names:{extensions:"extensions"}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(l.result.extensions,p=>new Tn({schema:p}))}toSchema(){return new Rt({value:Array.from(this.extensions,d=>d.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,d=>d.toJSON())}}}function Os(se={}){const d=T(se,"names",{});return new Rt({name:d.blockName||"tbsCertificate",value:[new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new It({name:d.tbsCertificateVersion||"tbsCertificate.version"})]}),new It({name:d.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),bn.schema(d.signature||{names:{blockName:"tbsCertificate.signature"}}),Ki.schema(d.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new Rt({name:d.tbsCertificateValidity||"tbsCertificate.validity",value:[Xi.schema(d.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),Xi.schema(d.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),Ki.schema(d.subject||{names:{blockName:"tbsCertificate.subject"}}),ls.schema(d.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new Oe({name:d.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Oe({name:d.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new D({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[Ui.schema(d.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class Zi{constructor(d={}){this.tbs=T(d,"tbs",Zi.defaultValues("tbs")),this.version=T(d,"version",Zi.defaultValues("version")),this.serialNumber=T(d,"serialNumber",Zi.defaultValues("serialNumber")),this.signature=T(d,"signature",Zi.defaultValues("signature")),this.issuer=T(d,"issuer",Zi.defaultValues("issuer")),this.notBefore=T(d,"notBefore",Zi.defaultValues("notBefore")),this.notAfter=T(d,"notAfter",Zi.defaultValues("notAfter")),this.subject=T(d,"subject",Zi.defaultValues("subject")),this.subjectPublicKeyInfo=T(d,"subjectPublicKeyInfo",Zi.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in d&&(this.issuerUniqueID=T(d,"issuerUniqueID",Zi.defaultValues("issuerUniqueID"))),"subjectUniqueID"in d&&(this.subjectUniqueID=T(d,"subjectUniqueID",Zi.defaultValues("subjectUniqueID"))),"extensions"in d&&(this.extensions=T(d,"extensions",Zi.defaultValues("extensions"))),this.signatureAlgorithm=T(d,"signatureAlgorithm",Zi.defaultValues("signatureAlgorithm")),this.signatureValue=T(d,"signatureValue",Zi.defaultValues("signatureValue")),"schema"in d&&this.fromSchema(d.schema)}static defaultValues(d){switch(d){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new It;case"signature":case"signatureAlgorithm":return new bn;case"issuer":case"subject":return new Ki;case"notBefore":case"notAfter":return new Xi;case"subjectPublicKeyInfo":return new ls;case"extensions":return[];case"signatureValue":return new Lt;default:throw new Error(`Invalid member name for Certificate class: ${d}`)}}static schema(d={}){const l=T(d,"names",{});return new Rt({name:l.blockName||"",value:[Os(l.tbsCertificate),bn.schema(l.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new Lt({name:l.signatureValue||"signatureValue"})]})}fromSchema(d){ke(d,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const l=Sn(d,d,Zi.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===l.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=l.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in l.result&&(this.version=l.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=l.result["tbsCertificate.serialNumber"],this.signature=new bn({schema:l.result["tbsCertificate.signature"]}),this.issuer=new Ki({schema:l.result["tbsCertificate.issuer"]}),this.notBefore=new Xi({schema:l.result["tbsCertificate.notBefore"]}),this.notAfter=new Xi({schema:l.result["tbsCertificate.notAfter"]}),this.subject=new Ki({schema:l.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new ls({schema:l.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in l.result&&(this.issuerUniqueID=l.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in l.result&&(this.subjectUniqueID=l.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in l.result&&(this.extensions=Array.from(l.result["tbsCertificate.extensions"],p=>new Tn({schema:p}))),this.signatureAlgorithm=new bn({schema:l.result.signatureAlgorithm}),this.signatureValue=l.result.signatureValue}encodeTBS(){const d=[];return"version"in this&&this.version!==Zi.defaultValues("version")&&d.push(new D({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new It({value:this.version})]})),d.push(this.serialNumber),d.push(this.signature.toSchema()),d.push(this.issuer.toSchema()),d.push(new Rt({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),d.push(this.subject.toSchema()),d.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&d.push(new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&d.push(new Oe({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&d.push(new D({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new Rt({value:Array.from(this.extensions,l=>l.toSchema())})]})),new Rt({value:d})}toSchema(d=!1){let l={};if(!1===d){if(0===this.tbs.length)return Zi.schema().value[0];l=tt(this.tbs).result}else l=this.encodeTBS();return new Rt({value:[l,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const d={tbs:S(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==Zi.defaultValues("version")&&(d.version=this.version),"issuerUniqueID"in this&&(d.issuerUniqueID=S(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(d.subjectUniqueID=S(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(d.extensions=Array.from(this.extensions,l=>l.toJSON())),d}getPublicKey(d=null){return li().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,d)}getKeyHash(d="SHA-1"){const l=Sr();return typeof l>"u"?Promise.reject("Unable to create WebCrypto object"):l.digest({name:d},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(d,l="SHA-1"){if(typeof d>"u")return Promise.reject("Need to provide a private key for signing");let f,p=Promise.resolve();const w=li();return p=p.then(()=>w.subtle.getSignatureParameters(d,l)),p=p.then(A=>{f=A.parameters,this.signature=A.signatureAlgorithm,this.signatureAlgorithm=A.signatureAlgorithm}),p=p.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),p=p.then(()=>w.subtle.signWithPrivateKey(this.tbs,d,f)),p=p.then(A=>{this.signatureValue=new Lt({valueHex:A})}),p}verify(d=null){let l={};return null!==d?l=d.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(l=this.subjectPublicKeyInfo),l instanceof ls?li().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,l,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function Rn(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function nn(se){if(se.idBlock.isConstructed)for(let d=0;d<se.valueBlock.value.length;d++)nn(se.valueBlock.value[d])&&(se.lenBlock.isIndefiniteForm=!0);return!!se.lenBlock.isIndefiniteForm}function _o(se){let d=0,l=0;for(let w=0;w<se.length;w++)d+=se[w].byteLength;const p=new ArrayBuffer(d),f=new Uint8Array(p);for(let w=0;w<se.length;w++){const A=se[w];f.set(new Uint8Array(A),l),l+=A.byteLength}return p}const Xr=[new Uint8Array([1])],V="0123456789",Pt="valueHex",dt="isHexOnly",un="isConstructed",zn="isIndefiniteForm",Bi="optional",kr="primitiveSchema",rs="value",ji="valueDate",jo="valueDec",nr=new ArrayBuffer(0);class Eo{constructor(){this.items=[]}write(d){this.items.push(d)}final(){return _o(this.items)}}class gr{constructor(d={}){this.blockLength=T(d,"blockLength",0),this.error=T(d,"error",""),this.warnings=T(d,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in d?d.valueBeforeDecode.slice(0):nr}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:S(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const jr=se=>class extends se{constructor(l={}){super(l),this.isHexOnly=T(l,dt,!1),this.valueHex=Pt in l?l.valueHex.slice(0):nr}static blockName(){return"hexBlock"}fromBER(l,p,f){return!1===_(this,l,p,f)?-1:0===new Uint8Array(l,p,f).length?(this.warnings.push("Zero buffer length"),p):(this.valueHex=l.slice(p,p+f),this.blockLength=f,p+f)}toBER(l=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',nr):!0===l?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let l={};try{l=super.toJSON()}catch{}return l.blockName=this.constructor.blockName(),l.isHexOnly=this.isHexOnly,l.valueHex=S(this.valueHex,0,this.valueHex.byteLength),l}};class la extends(jr(gr)){constructor(d={}){super(),"idBlock"in d?(this.isHexOnly=T(d.idBlock,dt,!1),this.valueHex=T(d.idBlock,Pt,nr),this.tagClass=T(d.idBlock,"tagClass",-1),this.tagNumber=T(d.idBlock,"tagNumber",-1),this.isConstructed=T(d.idBlock,un,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(d=!1){let p,f,l=0;switch(this.tagClass){case 1:l|=0;break;case 2:l|=64;break;case 3:l|=128;break;case 4:l|=192;break;default:return this.error="Unknown tag class",nr}if(this.isConstructed&&(l|=32),this.tagNumber<31&&!this.isHexOnly){if(p=new ArrayBuffer(1),f=new Uint8Array(p),!d){let w=this.tagNumber;w&=31,l|=w,f[0]=l}return p}if(!1===this.isHexOnly){const w=R(this.tagNumber,7),A=new Uint8Array(w),O=w.byteLength;if(p=new ArrayBuffer(O+1),f=new Uint8Array(p),f[0]=31|l,!d){for(let Z=0;Z<O-1;Z++)f[Z+1]=128|A[Z];f[O]=A[O-1]}return p}if(p=new ArrayBuffer(this.valueHex.byteLength+1),f=new Uint8Array(p),f[0]=31|l,!1===d){const w=new Uint8Array(this.valueHex);for(let A=0;A<w.length-1;A++)f[A+1]=128|w[A];f[this.valueHex.byteLength]=w[w.length-1]}return p}fromBER(d,l,p){if(!1===_(this,d,l,p))return-1;const f=new Uint8Array(d,l,p);if(0===f.length)return this.error="Zero buffer length",-1;switch(192&f[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&f[0]),this.isHexOnly=!1;const A=31&f[0];if(31!==A)this.tagNumber=A,this.blockLength=1;else{let O=1;this.valueHex=new ArrayBuffer(255);let Z=255,z=new Uint8Array(this.valueHex);for(;128&f[O];){if(z[O-1]=127&f[O],O++,O>=f.length)return this.error="End of input reached before message was fully decoded",-1;if(O===Z){Z+=255;const Tt=new ArrayBuffer(Z),gt=new Uint8Array(Tt);for(let Kt=0;Kt<z.length;Kt++)gt[Kt]=z[Kt];this.valueHex=new ArrayBuffer(Z),z=new Uint8Array(this.valueHex)}}this.blockLength=O+1,z[O-1]=127&f[O];const Ce=new ArrayBuffer(O),We=new Uint8Array(Ce);for(let Tt=0;Tt<O;Tt++)We[Tt]=z[Tt];this.valueHex=new ArrayBuffer(O),z=new Uint8Array(this.valueHex),z.set(We),this.blockLength<=9?this.tagNumber=U(z,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return l+this.blockLength}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.blockName=this.constructor.blockName(),d.tagClass=this.tagClass,d.tagNumber=this.tagNumber,d.isConstructed=this.isConstructed,d}}class el extends gr{constructor(d={}){super(),"lenBlock"in d?(this.isIndefiniteForm=T(d.lenBlock,zn,!1),this.longFormUsed=T(d.lenBlock,"longFormUsed",!1),this.length=T(d.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(d,l,p){if(!1===_(this,d,l,p))return-1;const f=new Uint8Array(d,l,p);if(0===f.length)return this.error="Zero buffer length",-1;if(255===f[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===f[0],!0===this.isIndefiniteForm)return this.blockLength=1,l+this.blockLength;if(this.longFormUsed=!!(128&f[0]),!1===this.longFormUsed)return this.length=f[0],this.blockLength=1,l+this.blockLength;const w=127&f[0];if(w>8)return this.error="Too big integer",-1;if(w+1>f.length)return this.error="End of input reached before message was fully decoded",-1;const A=new Uint8Array(w);for(let O=0;O<w;O++)A[O]=f[O+1];return 0===A[w-1]&&this.warnings.push("Needlessly long encoded length"),this.length=U(A,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=w+1,l+this.blockLength}toBER(d=!1){let l,p;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return l=new ArrayBuffer(1),!1===d&&(p=new Uint8Array(l),p[0]=128),l;if(!0===this.longFormUsed){const f=R(this.length,8);if(f.byteLength>127)return this.error="Too big length",nr;if(l=new ArrayBuffer(f.byteLength+1),!0===d)return l;const w=new Uint8Array(f);p=new Uint8Array(l),p[0]=128|f.byteLength;for(let A=0;A<f.byteLength;A++)p[A+1]=w[A];return l}return l=new ArrayBuffer(1),!1===d&&(p=new Uint8Array(l),p[0]=this.length),l}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.blockName=this.constructor.blockName(),d.isIndefiniteForm=this.isIndefiniteForm,d.longFormUsed=this.longFormUsed,d.length=this.length,d}}class co extends gr{constructor(d={}){super(d)}static blockName(){return"valueBlock"}fromBER(d,l,p){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(d=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class ts extends gr{constructor(d={},l=co){super(d),"name"in d&&(this.name=d.name),Bi in d&&(this.optional=d.optional),kr in d&&(this.primitiveSchema=d.primitiveSchema),this.idBlock=new la(d),this.lenBlock=new el(d),this.valueBlock=new l(d)}static blockName(){return"BaseBlock"}fromBER(d,l,p){const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}toBER(d=!1,l){const p=l||new Eo;l||nn(this);const f=this.idBlock.toBER(d);if(p.write(f),this.lenBlock.isIndefiniteForm)p.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(d,p),p.write(new ArrayBuffer(2));else{const w=this.valueBlock.toBER(!0);this.lenBlock.length=w.byteLength;const A=this.lenBlock.toBER(d);p.write(A);const O=d?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(d);p.write(O,p)}if(!l)return p.final()}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.idBlock=this.idBlock.toJSON(),d.lenBlock=this.lenBlock.toJSON(),d.valueBlock=this.valueBlock.toJSON(),"name"in this&&(d.name=this.name),Bi in this&&(d.optional=this.optional),kr in this&&(d.primitiveSchema=this.primitiveSchema.toJSON()),d}toString(){return`${this.constructor.blockName()} : ${S(this.valueBlock.valueHex)}`}}class tl extends co{constructor(d={}){super(d),this.valueHex=Pt in d?d.valueHex.slice(0):nr,this.isHexOnly=T(d,dt,!0)}fromBER(d,l,p){if(!1===_(this,d,l,p))return-1;const f=new Uint8Array(d,l,p);if(0===f.length)return this.warnings.push("Zero buffer length"),l;this.valueHex=new ArrayBuffer(f.length);const w=new Uint8Array(this.valueHex);for(let A=0;A<f.length;A++)w[A]=f[A];return this.blockLength=p,l+p}toBER(d=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.valueHex=S(this.valueHex,0,this.valueHex.byteLength),d.isHexOnly=this.isHexOnly,d}}class Io extends ts{constructor(d={}){super(d,tl),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class vo extends co{constructor(d={}){super(d),this.value=T(d,rs,[]),this.isIndefiniteForm=T(d,zn,!1)}fromBER(d,l,p){const f=l,w=p;if(!1===_(this,d,l,p))return-1;if(0===new Uint8Array(d,l,p).length)return this.warnings.push("Zero buffer length"),l;let Z=l;for(;(!0===this.isIndefiniteForm?1:p)>0;){const z=Qs(d,Z,p);if(-1===z.offset)return this.error=z.result.error,this.warnings.concat(z.result.warnings),-1;if(Z=z.offset,this.blockLength+=z.result.blockLength,p-=z.result.blockLength,this.value.push(z.result),!0===this.isIndefiniteForm&&z.result.constructor.blockName()===Lo.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===Lo.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=d.slice(f,f+w),Z}toBER(d=!1,l){const p=l||new Eo;for(let f=0;f<this.value.length;f++)this.value[f].toBER(d,p);if(!l)return p.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}d.isIndefiniteForm=this.isIndefiniteForm,d.value=[];for(let l=0;l<this.value.length;l++)d.value.push(this.value[l].toJSON());return d}}class eo extends ts{constructor(d={}){super(d,vo),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(d,l,p){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}toString(){const d=[];for(const p of this.valueBlock.value)d.push(p.toString().split("\n").map(f=>`  ${f}`).join("\n"));const l=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return d.length?`${l} :\n${d.join("\n")}`:`${l} :`}}class Tl extends co{constructor(d={}){super(d)}fromBER(d,l,p){return l}toBER(d=!1){return nr}static blockName(){return"EndOfContentValueBlock"}}class Lo extends ts{constructor(d={}){super(d,Tl),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class Yn extends co{constructor(d={}){super(d),this.value=T(d,rs,!1),this.isHexOnly=T(d,dt,!1),Pt in d?this.valueHex=d.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(d,l,p){if(!1===_(this,d,l,p))return-1;const f=new Uint8Array(d,l,p);p>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(f.length);const w=new Uint8Array(this.valueHex);for(let A=0;A<f.length;A++)w[A]=f[A];return this.value=0!==F.call(this),this.blockLength=p,l+p}toBER(d=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.value=this.value,d.isHexOnly=this.isHexOnly,d.valueHex=S(this.valueHex,0,this.valueHex.byteLength),d}}class yo extends ts{constructor(d={}){super(d,Yn),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class uo extends eo{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class te extends eo{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class E extends ts{constructor(d={}){super(d,gr),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(d,l,p){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=p,l+p>d.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):l+p}toBER(d=!1,l){const p=new ArrayBuffer(2);if(!d){const f=new Uint8Array(p);f[0]=5,f[1]=0}return l&&l.write(p),p}toString(){return`${this.constructor.blockName()}`}}class X extends(jr(vo)){constructor(d={}){super(d),this.isConstructed=T(d,un,!1)}fromBER(d,l,p){let f=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,f=vo.prototype.fromBER.call(this,d,l,p),-1===f)return f;for(let w=0;w<this.value.length;w++){const A=this.value[w].constructor.blockName();if(A===Lo.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(A!==de.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,f=super.fromBER(d,l,p),this.blockLength=p;return f}toBER(d=!1,l){if(!0===this.isConstructed)return vo.prototype.toBER.call(this,d,l);let p=new ArrayBuffer(this.valueHex.byteLength);return!0===d||0===this.valueHex.byteLength||(p=this.valueHex.slice(0)),p}static blockName(){return"OctetStringValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.isConstructed=this.isConstructed,d.isHexOnly=this.isHexOnly,d.valueHex=S(this.valueHex,0,this.valueHex.byteLength),d}}class de extends ts{constructor(d={}){super(d,X),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(d,l,p){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===p)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),l;if(!this.valueBlock.isConstructed){const f=d.slice(l,l+p);try{const w=ua(f);-1!==w.offset&&w.offset===p&&(this.valueBlock.value=[w.result])}catch{}}return super.fromBER(d,l,p)}static blockName(){return"OCTET STRING"}isEqual(d){return!(!(d instanceof de)||JSON.stringify(this)!==JSON.stringify(d))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?eo.prototype.toString.call(this):`${this.constructor.blockName()} : ${S(this.valueBlock.valueHex)}`}}class Fe extends(jr(vo)){constructor(d={}){super(d),this.unusedBits=T(d,"unusedBits",0),this.isConstructed=T(d,un,!1),this.blockLength=this.valueHex.byteLength}fromBER(d,l,p){if(0===p)return l;let f=-1;if(!0===this.isConstructed){if(f=vo.prototype.fromBER.call(this,d,l,p),-1===f)return f;for(let O=0;O<this.value.length;O++){const Z=this.value[O].constructor.blockName();if(Z===Lo.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(Z!==ht.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[O].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[O].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return f}if(!1===_(this,d,l,p))return-1;const w=new Uint8Array(d,l,p);if(this.unusedBits=w[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const O=d.slice(l+1,l+p);try{const Z=ua(O);-1!==Z.offset&&Z.offset===p-1&&(this.value=[Z.result])}catch{}}this.valueHex=new ArrayBuffer(w.length-1);const A=new Uint8Array(this.valueHex);for(let O=0;O<p-1;O++)A[O]=w[O+1];return this.blockLength=w.length,l+p}toBER(d=!1,l){if(!0===this.isConstructed)return vo.prototype.toBER.call(this,d,l);if(!0===d)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return nr;const p=new Uint8Array(this.valueHex),f=new ArrayBuffer(this.valueHex.byteLength+1),w=new Uint8Array(f);w[0]=this.unusedBits;for(let A=0;A<this.valueHex.byteLength;A++)w[A+1]=p[A];return f}static blockName(){return"BitStringValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.unusedBits=this.unusedBits,d.isConstructed=this.isConstructed,d.isHexOnly=this.isHexOnly,d.valueHex=S(this.valueHex,0,this.valueHex.byteLength),d}}class ht extends ts{constructor(d={}){super(d,Fe),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(d,l,p){return 0===p?l:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(d,l,p))}isEqual(d){return!(!(d instanceof ht)||JSON.stringify(this)!==JSON.stringify(d))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return eo.prototype.toString.call(this);{const d=[],l=new Uint8Array(this.valueBlock.valueHex);for(const p of l)d.push(p.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${d.join("")}`}}}class ot extends(jr(co)){constructor(d={}){super(d),rs in d&&(this.valueDec=d.value)}set valueHex(d){this._valueHex=d.slice(0),d.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,d.byteLength>0&&(this._valueDec=F.call(this)))}get valueHex(){return this._valueHex}set valueDec(d){this._valueDec=d,this.isHexOnly=!1,this._valueHex=K(d)}get valueDec(){return this._valueDec}fromDER(d,l,p,f=0){const w=this.fromBER(d,l,p);if(-1===w)return w;const A=new Uint8Array(this._valueHex);if(0===A[0]&&0!=(128&A[1])){const O=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(O).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=O.slice(0)}else if(0!==f&&this._valueHex.byteLength<f){f-this._valueHex.byteLength>1&&(f=this._valueHex.byteLength+1);const O=new ArrayBuffer(f);new Uint8Array(O).set(A,f-this._valueHex.byteLength),this._valueHex=O.slice(0)}return w}toDER(d=!1){const l=new Uint8Array(this._valueHex);switch(!0){case 0!=(128&l[0]):{const p=new ArrayBuffer(this._valueHex.byteLength+1),f=new Uint8Array(p);f[0]=0,f.set(l,1),this._valueHex=p.slice(0)}break;case 0===l[0]&&0==(128&l[1]):{const p=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(p).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=p.slice(0)}}return this.toBER(d)}fromBER(d,l,p){const f=super.fromBER(d,l,p);return-1===f?f:(this.blockLength=p,l+p)}toBER(d=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.valueDec=this.valueDec,d}toString(){function d(We,Tt){const gt=new Uint8Array([0]);let Kt=new Uint8Array(We),Pn=new Uint8Array(Tt),ni=Kt.slice(0);const $i=ni.length-1;let ur=Pn.slice(0);const Bs=ur.length-1;let as=0,Ri=0;for(let ba=Bs<$i?$i:Bs;ba>=0;ba--,Ri++)as=1==Ri<ur.length?ni[$i-Ri]+ur[Bs-Ri]+gt[0]:ni[$i-Ri]+gt[0],gt[0]=as/10,1==Ri>=ni.length?ni=B(new Uint8Array([as%10]),ni):ni[$i-Ri]=as%10;return gt[0]>0&&(ni=B(gt,ni)),ni.slice(0)}function l(We){if(We>=Xr.length)for(let Tt=Xr.length;Tt<=We;Tt++){const gt=new Uint8Array([0]);let Kt=Xr[Tt-1].slice(0);for(let Pn=Kt.length-1;Pn>=0;Pn--){const ni=new Uint8Array([(Kt[Pn]<<1)+gt[0]]);gt[0]=ni[0]/10,Kt[Pn]=ni[0]%10}gt[0]>0&&(Kt=B(gt,Kt)),Xr.push(Kt)}return Xr[We]}function p(We,Tt){let gt=0,Kt=new Uint8Array(We),Pn=new Uint8Array(Tt),ni=Kt.slice(0);const $i=ni.length-1;let ur=Pn.slice(0);const Bs=ur.length-1;let as,Qr=0;for(let Ri=Bs;Ri>=0;Ri--,Qr++)as=ni[$i-Qr]-ur[Bs-Qr]-gt,1==as<0?(gt=1,ni[$i-Qr]=as+10):(gt=0,ni[$i-Qr]=as);if(gt>0)for(let Ri=$i-Bs+1;Ri>=0;Ri--,Qr++){if(as=ni[$i-Qr]-gt,!(as<0)){gt=0,ni[$i-Qr]=as;break}gt=1,ni[$i-Qr]=as+10}return ni.slice()}const f=8*this._valueHex.byteLength-1;let O,w=new Uint8Array(8*this._valueHex.byteLength/3),A=0;const Z=new Uint8Array(this._valueHex);let z="",Ce=!1;for(let We=this._valueHex.byteLength-1;We>=0;We--){O=Z[We];for(let Tt=0;Tt<8;Tt++)1==(1&O)&&(A===f?(w=p(l(A),w),z="-"):w=d(w,l(A))),A++,O>>=1}for(let We=0;We<w.length;We++)w[We]&&(Ce=!0),Ce&&(z+=V.charAt(w[We]));return!1===Ce&&(z+=V.charAt(0)),z}}class St extends ts{constructor(d={}){super(d,ot),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(d){return d instanceof St?this.valueBlock.isHexOnly&&d.valueBlock.isHexOnly?G(this.valueBlock.valueHex,d.valueBlock.valueHex):this.valueBlock.isHexOnly===d.valueBlock.isHexOnly&&this.valueBlock.valueDec===d.valueBlock.valueDec:d instanceof ArrayBuffer&&G(this.valueBlock.valueHex,d)}convertToDER(){const d=new St({valueHex:this.valueBlock.valueHex});return d.valueBlock.toDER(),d}convertFromDER(){const d=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,l=new St({valueHex:this.valueBlock.valueHex});return l.valueBlock.fromDER(l.valueBlock.valueHex,0,l.valueBlock.valueHex.byteLength,d),l}toString(){Rn();const d=S(this.valueBlock.valueHex),l=BigInt(`0x${d}`);return`${this.constructor.blockName()} : ${l.toString()}`}}class Wt extends St{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class on extends(jr(gr)){constructor(d={}){super(d),this.valueDec=T(d,jo,-1),this.isFirstSid=T(d,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(d,l,p){if(0===p)return l;if(!1===_(this,d,l,p))return-1;const f=new Uint8Array(d,l,p);this.valueHex=new ArrayBuffer(p);let w=new Uint8Array(this.valueHex);for(let Z=0;Z<p&&(w[Z]=127&f[Z],this.blockLength++,0!=(128&f[Z]));Z++);const A=new ArrayBuffer(this.blockLength),O=new Uint8Array(A);for(let Z=0;Z<this.blockLength;Z++)O[Z]=w[Z];return this.valueHex=A.slice(0),w=new Uint8Array(this.valueHex),0!=(128&f[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===w[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=U(w,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),l+this.blockLength)}set valueBigInt(d){Rn();let l=BigInt(d).toString(2);for(;l.length%7;)l="0"+l;const p=new Uint8Array(l.length/7);for(let f=0;f<p.length;f++)p[f]=parseInt(l.slice(7*f,7*f+7),2)+(f+1<p.length?128:0);this.fromBER(p.buffer,0,p.length)}toBER(d=!1){let l,p;if(this.isHexOnly){if(!0===d)return new ArrayBuffer(this.valueHex.byteLength);const w=new Uint8Array(this.valueHex);l=new ArrayBuffer(this.blockLength),p=new Uint8Array(l);for(let A=0;A<this.blockLength-1;A++)p[A]=128|w[A];return p[this.blockLength-1]=w[this.blockLength-1],l}const f=R(this.valueDec,7);if(0===f.byteLength)return this.error="Error during encoding SID value",nr;if(l=new ArrayBuffer(f.byteLength),!1===d){const w=new Uint8Array(f);p=new Uint8Array(l);for(let A=0;A<f.byteLength-1;A++)p[A]=128|w[A];p[f.byteLength-1]=w[f.byteLength-1]}return l}toString(){let d="";if(!0===this.isHexOnly)d=S(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let l=this.valueDec;this.valueDec<=39?d="0.":this.valueDec<=79?(d="1.",l-=40):(d="2.",l-=80),d+=l.toString()}else d=this.valueDec.toString();return d}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.valueDec=this.valueDec,d.isFirstSid=this.isFirstSid,d}}class ti extends co{constructor(d={}){super(d),this.fromString(T(d,rs,""))}fromBER(d,l,p){let f=l;for(;p>0;){const w=new on;if(f=w.fromBER(d,f,p),-1===f)return this.blockLength=0,this.error=w.error,f;0===this.value.length&&(w.isFirstSid=!0),this.blockLength+=w.blockLength,p-=w.blockLength,this.value.push(w)}return f}toBER(d=!1){const l=[];for(let p=0;p<this.value.length;p++){const f=this.value[p].toBER(d);if(0===f.byteLength)return this.error=this.value[p].error,nr;l.push(f)}return _o(l)}fromString(d){this.value=[];let l=0,p=0,f="",w=!1;do{if(p=d.indexOf(".",l),f=-1===p?d.substr(l):d.substr(l,p-l),l=p+1,w){const A=this.value[0];let O=0;switch(A.valueDec){case 0:break;case 1:O=40;break;case 2:O=80;break;default:return this.value=[],!1}const Z=parseInt(f,10);if(isNaN(Z))return!0;A.valueDec=Z+O,w=!1}else{const A=new on;if(f>Number.MAX_SAFE_INTEGER){Rn();const O=BigInt(f);A.valueBigInt=O}else if(A.valueDec=parseInt(f,10),isNaN(A.valueDec))return!0;0===this.value.length&&(A.isFirstSid=!0,w=!0),this.value.push(A)}}while(-1!==p);return!0}toString(){let d="",l=!1;for(let p=0;p<this.value.length;p++){l=this.value[p].isHexOnly;let f=this.value[p].toString();0!==p&&(d=`${d}.`),l?(f=`{${f}}`,this.value[p].isFirstSid?d=`2.{${f} - 80}`:d+=f):d+=f}return d}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}d.value=this.toString(),d.sidArray=[];for(let l=0;l<this.value.length;l++)d.sidArray.push(this.value[l].toJSON());return d}}class Kn extends ts{constructor(d={}){super(d,ti),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class hs extends(jr(gr)){constructor(d={}){super(d),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.value=this.value,d}}class Nn extends ts{constructor(d={}){super(d,hs),rs in d&&this.fromString(d.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(d,l,p){const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}fromBuffer(d){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(d));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(l){this.warnings.push(`Error during "decodeURIComponent": ${l}, using raw string`)}}fromString(d){const l=unescape(encodeURIComponent(d)),p=l.length;this.valueBlock.valueHex=new ArrayBuffer(p);const f=new Uint8Array(this.valueBlock.valueHex);for(let w=0;w<p;w++)f[w]=l.charCodeAt(w);this.valueBlock.value=d}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class os extends(jr(gr)){constructor(d={}){super(d),this.valueDec=T(d,jo,-1)}static blockName(){return"relativeSidBlock"}fromBER(d,l,p){if(0===p)return l;if(!1===_(this,d,l,p))return-1;const f=new Uint8Array(d,l,p);this.valueHex=new ArrayBuffer(p);let w=new Uint8Array(this.valueHex);for(let Z=0;Z<p&&(w[Z]=127&f[Z],this.blockLength++,0!=(128&f[Z]));Z++);const A=new ArrayBuffer(this.blockLength),O=new Uint8Array(A);for(let Z=0;Z<this.blockLength;Z++)O[Z]=w[Z];return this.valueHex=A.slice(0),w=new Uint8Array(this.valueHex),0!=(128&f[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===w[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=U(w,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),l+this.blockLength)}toBER(d=!1){let l,p;if(this.isHexOnly){if(!0===d)return new ArrayBuffer(this.valueHex.byteLength);const w=new Uint8Array(this.valueHex);l=new ArrayBuffer(this.blockLength),p=new Uint8Array(l);for(let A=0;A<this.blockLength-1;A++)p[A]=128|w[A];return p[this.blockLength-1]=w[this.blockLength-1],l}const f=R(this.valueDec,7);if(0===f.byteLength)return this.error="Error during encoding SID value",nr;if(l=new ArrayBuffer(f.byteLength),!1===d){const w=new Uint8Array(f);p=new Uint8Array(l);for(let A=0;A<f.byteLength-1;A++)p[A]=128|w[A];p[f.byteLength-1]=w[f.byteLength-1]}return l}toString(){let d="";return d=!0===this.isHexOnly?S(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),d}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.valueDec=this.valueDec,d}}class to extends co{constructor(d={}){super(d),this.fromString(T(d,rs,""))}fromBER(d,l,p){let f=l;for(;p>0;){const w=new os;if(f=w.fromBER(d,f,p),-1===f)return this.blockLength=0,this.error=w.error,f;this.blockLength+=w.blockLength,p-=w.blockLength,this.value.push(w)}return f}toBER(d=!1){let l=[];for(let p=0;p<this.value.length;p++){const f=this.value[p].toBER(d);if(0===f.byteLength)return this.error=this.value[p].error,nr;l.push(f)}return _o(l)}fromString(d){this.value=[];let l=0,p=0,f="";do{p=d.indexOf(".",l),f=-1===p?d.substr(l):d.substr(l,p-l),l=p+1;const w=new os;if(w.valueDec=parseInt(f,10),isNaN(w.valueDec))return!0;this.value.push(w)}while(-1!==p);return!0}toString(){let d="",l=!1;for(let p=0;p<this.value.length;p++){l=this.value[p].isHexOnly;let f=this.value[p].toString();0!==p&&(d=`${d}.`),l&&(f=`{${f}}`),d+=f}return d}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}d.value=this.toString(),d.sidArray=[];for(let l=0;l<this.value.length;l++)d.sidArray.push(this.value[l].toJSON());return d}}class Pr extends ts{constructor(d={}){super(d,to),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class Co extends(jr(gr)){constructor(d={}){super(d),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.value=this.value,d}}class nl extends ts{constructor(d={}){super(d,Co),rs in d&&this.fromString(d.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(d,l,p){const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}fromBuffer(d){const l=d.slice(0),p=new Uint8Array(l);for(let f=0;f<p.length;f+=2){const w=p[f];p[f]=p[f+1],p[f+1]=w}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(l))}fromString(d){const l=d.length;this.valueBlock.valueHex=new ArrayBuffer(2*l);const p=new Uint8Array(this.valueBlock.valueHex);for(let f=0;f<l;f++){const w=R(d.charCodeAt(f),8),A=new Uint8Array(w);if(A.length>2)continue;const O=2-A.length;for(let Z=A.length-1;Z>=0;Z--)p[2*f+Z+O]=A[Z]}this.valueBlock.value=d}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class il extends(jr(gr)){constructor(d={}){super(d),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.value=this.value,d}}class sl extends ts{constructor(d={}){super(d,il),rs in d&&this.fromString(d.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(d,l,p){const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}fromBuffer(d){const l=d.slice(0),p=new Uint8Array(l);for(let f=0;f<p.length;f+=4)p[f]=p[f+3],p[f+1]=p[f+2],p[f+2]=0,p[f+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(l))}fromString(d){const l=d.length;this.valueBlock.valueHex=new ArrayBuffer(4*l);const p=new Uint8Array(this.valueBlock.valueHex);for(let f=0;f<l;f++){const w=R(d.charCodeAt(f),8),A=new Uint8Array(w);if(A.length>4)continue;const O=4-A.length;for(let Z=A.length-1;Z>=0;Z--)p[4*f+Z+O]=A[Z]}this.valueBlock.value=d}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Al extends(jr(gr)){constructor(d={}){super(d),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.value=this.value,d}}class $r extends ts{constructor(d={}){super(d,Al),rs in d&&this.fromString(d.value)}static blockName(){return"SIMPLESTRING"}fromBER(d,l,p){const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}fromBuffer(d){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(d))}fromString(d){const l=d.length;this.valueBlock.valueHex=new ArrayBuffer(l);const p=new Uint8Array(this.valueBlock.valueHex);for(let f=0;f<l;f++)p[f]=d.charCodeAt(f);this.valueBlock.value=d}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class $o extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class ir extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class no extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Ir extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class gi extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class wa extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class ca extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class Rc extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class zl extends $r{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class Vi extends ca{constructor(d={}){if(super(d),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,rs in d){this.fromString(d.value),this.valueBlock.valueHex=new ArrayBuffer(d.value.length);const l=new Uint8Array(this.valueBlock.valueHex);for(let p=0;p<d.value.length;p++)l[p]=d.value.charCodeAt(p)}ji in d&&(this.fromDate(d.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(d,l,p){const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}fromBuffer(d){this.fromString(String.fromCharCode.apply(null,new Uint8Array(d)))}toBuffer(){const d=this.toString(),l=new ArrayBuffer(d.length),p=new Uint8Array(l);for(let f=0;f<d.length;f++)p[f]=d.charCodeAt(f);return l}fromDate(d){this.year=d.getUTCFullYear(),this.month=d.getUTCMonth()+1,this.day=d.getUTCDate(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(d){const p=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(d);if(null===p)return void(this.error="Wrong input string for conversion");const f=parseInt(p[1],10);this.year=f>=50?1900+f:2e3+f,this.month=parseInt(p[2],10),this.day=parseInt(p[3],10),this.hour=parseInt(p[4],10),this.minute=parseInt(p[5],10),this.second=parseInt(p[6],10)}toString(){const d=new Array(7);return d[0]=j(this.year<2e3?this.year-1900:this.year-2e3,2),d[1]=j(this.month,2),d[2]=j(this.day,2),d[3]=j(this.hour,2),d[4]=j(this.minute,2),d[5]=j(this.second,2),d[6]="Z",d.join("")}static blockName(){return"UTCTime"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.year=this.year,d.month=this.month,d.day=this.day,d.hour=this.hour,d.minute=this.minute,d.second=this.second,d}}class io extends ca{constructor(d={}){if(super(d),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,rs in d){this.fromString(d.value),this.valueBlock.valueHex=new ArrayBuffer(d.value.length);const l=new Uint8Array(this.valueBlock.valueHex);for(let p=0;p<d.value.length;p++)l[p]=d.value.charCodeAt(p)}ji in d&&(this.fromDate(d.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(d,l,p){const f=this.valueBlock.fromBER(d,l,!0===this.lenBlock.isIndefiniteForm?p:this.lenBlock.length);return-1===f?(this.error=this.valueBlock.error,f):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),f)}fromBuffer(d){this.fromString(String.fromCharCode.apply(null,new Uint8Array(d)))}toBuffer(){const d=this.toString(),l=new ArrayBuffer(d.length),p=new Uint8Array(l);for(let f=0;f<d.length;f++)p[f]=d.charCodeAt(f);return l}fromDate(d){this.year=d.getUTCFullYear(),this.month=d.getUTCMonth()+1,this.day=d.getUTCDate(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds(),this.millisecond=d.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(d){let A,l=!1,p="",f="",w=0,O=0,Z=0;if("Z"===d[d.length-1])p=d.substr(0,d.length-1),l=!0;else{const We=new Number(d[d.length-1]);if(isNaN(We.valueOf()))throw new Error("Wrong input string for conversion");p=d}if(l){if(-1!==p.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==p.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let We=1,Tt=p.indexOf("+"),gt="";if(-1===Tt&&(Tt=p.indexOf("-"),We=-1),-1!==Tt){if(gt=p.substr(Tt+1),p=p.substr(0,Tt),2!==gt.length&&4!==gt.length)throw new Error("Wrong input string for conversion");let Kt=new Number(gt.substr(0,2));if(isNaN(Kt.valueOf()))throw new Error("Wrong input string for conversion");if(O=We*Kt,4===gt.length){if(Kt=new Number(gt.substr(2,2)),isNaN(Kt.valueOf()))throw new Error("Wrong input string for conversion");Z=We*Kt}}}let z=p.indexOf(".");if(-1===z&&(z=p.indexOf(",")),-1!==z){const We=new Number(`0${p.substr(z)}`);if(isNaN(We.valueOf()))throw new Error("Wrong input string for conversion");w=We.valueOf(),f=p.substr(0,z)}else f=p;switch(!0){case 8===f.length:if(A=/(\d{4})(\d{2})(\d{2})/gi,-1!==z)throw new Error("Wrong input string for conversion");break;case 10===f.length:if(A=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==z){let We=60*w;this.minute=Math.floor(We),We=60*(We-this.minute),this.second=Math.floor(We),We=1e3*(We-this.second),this.millisecond=Math.floor(We)}break;case 12===f.length:if(A=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==z){let We=60*w;this.second=Math.floor(We),We=1e3*(We-this.second),this.millisecond=Math.floor(We)}break;case 14===f.length:A=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==z&&(this.millisecond=Math.floor(1e3*w));break;default:throw new Error("Wrong input string for conversion")}const Ce=A.exec(f);if(null===Ce)throw new Error("Wrong input string for conversion");for(let We=1;We<Ce.length;We++)switch(We){case 1:this.year=parseInt(Ce[We],10);break;case 2:this.month=parseInt(Ce[We],10);break;case 3:this.day=parseInt(Ce[We],10);break;case 4:this.hour=parseInt(Ce[We],10)+O;break;case 5:this.minute=parseInt(Ce[We],10)+Z;break;case 6:this.second=parseInt(Ce[We],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===l){const We=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=We.getUTCFullYear(),this.month=We.getUTCMonth(),this.day=We.getUTCDay(),this.hour=We.getUTCHours(),this.minute=We.getUTCMinutes(),this.second=We.getUTCSeconds(),this.millisecond=We.getUTCMilliseconds()}}toString(){const d=[];return d.push(j(this.year,4)),d.push(j(this.month,2)),d.push(j(this.day,2)),d.push(j(this.hour,2)),d.push(j(this.minute,2)),d.push(j(this.second,2)),0!==this.millisecond&&(d.push("."),d.push(j(this.millisecond,3))),d.push("Z"),d.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let d={};try{d=super.toJSON()}catch{}return d.year=this.year,d.month=this.month,d.day=this.day,d.hour=this.hour,d.minute=this.minute,d.second=this.second,d.millisecond=this.millisecond,d}}class Pu extends Nn{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class Lu extends Nn{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class Pc extends Nn{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class Uu extends Nn{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class Zu extends Nn{constructor(d={}){super(d),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function Qs(se,d,l){const p=d;let w=new ts({},Object);const A=new gr;if(!1===_(A,se,d,l))return w.error=A.error,{offset:-1,result:w};if(0===new Uint8Array(se,d,l).length)return w.error="Zero buffer length",{offset:-1,result:w};let Z=w.idBlock.fromBER(se,d,l);if(w.warnings.concat(w.idBlock.warnings),-1===Z)return w.error=w.idBlock.error,{offset:-1,result:w};if(Z=w.lenBlock.fromBER(se,d=Z,l-=w.idBlock.blockLength),w.warnings.concat(w.lenBlock.warnings),-1===Z)return w.error=w.lenBlock.error,{offset:-1,result:w};if(d=Z,l-=w.lenBlock.blockLength,!1===w.idBlock.isConstructed&&!0===w.lenBlock.isIndefiniteForm)return w.error="Indefinite length form used for primitive encoding form",{offset:-1,result:w};let z=ts;if(1===w.idBlock.tagClass){if(w.idBlock.tagNumber>=37&&!1===w.idBlock.isHexOnly)return w.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:w};switch(w.idBlock.tagNumber){case 0:if(!0===w.idBlock.isConstructed&&w.lenBlock.length>0)return w.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:w};z=Lo;break;case 1:z=yo;break;case 2:z=St;break;case 3:z=ht;break;case 4:z=de;break;case 5:z=E;break;case 6:z=Kn;break;case 10:z=Wt;break;case 12:z=Nn;break;case 13:z=Pr;break;case 14:z=Zu;break;case 15:return w.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:w};case 16:z=uo;break;case 17:z=te;break;case 18:z=$o;break;case 19:z=ir;break;case 20:z=no;break;case 21:z=Ir;break;case 22:z=gi;break;case 23:z=Vi;break;case 24:z=io;break;case 25:z=wa;break;case 26:z=ca;break;case 27:z=Rc;break;case 28:z=sl;break;case 29:z=zl;break;case 30:z=nl;break;case 31:z=Pu;break;case 32:z=Lu;break;case 33:z=Pc;break;case 34:z=Uu;break;default:{let Ce;Ce=!0===w.idBlock.isConstructed?new eo:new Io,Ce.idBlock=w.idBlock,Ce.lenBlock=w.lenBlock,Ce.warnings=w.warnings,w=Ce}}}else z=!0===w.idBlock.isConstructed?eo:Io;return w=function f(Ce,We){if(Ce instanceof We)return Ce;const Tt=new We;return Tt.idBlock=Ce.idBlock,Tt.lenBlock=Ce.lenBlock,Tt.warnings=Ce.warnings,Tt.valueBeforeDecode=Ce.valueBeforeDecode.slice(0),Tt}(w,z),Z=w.fromBER(se,d,!0===w.lenBlock.isIndefiniteForm?l:w.lenBlock.length),w.valueBeforeDecode=se.slice(p,p+w.blockLength),{offset:Z,result:w}}function ua(se){if(0===se.byteLength){const d=new ts({},Object);return d.error="Input buffer has zero length",{offset:-1,result:d}}return Qs(se,0,se.byteLength)}var Wr=g(3172),Zo=g(4650);let xi=(()=>{class se{convertStringToArrayBuffer(l){const p=new Wr.lW(l,"base64").toString("binary"),f=new ArrayBuffer(2*p.length),w=new Uint8Array(f);for(let A=0,O=p.length;A<O;A++)w[A]=p.charCodeAt(A);return f}buildCertModelFromArrayBuffer(l,p){var f=this;return(0,a.Z)(function*(){const w=ua(l),A=new Zi({schema:w.result}),O=new e,Z=f.getSubject(A),z=yield f.calculateCertificateThumbprint(p);return O.base64Cert=p,O.subject=Z,O.thumbprint=z,O})()}getSubject(l){const p={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},f=new Array;for(const A of l.subject.typesAndValues){let O=p[A.type];typeof O>"u"&&(O=A.type),f.push(`${O}=${A.value.valueBlock.value}`)}return f.reverse().join(", ")}calculateCertificateThumbprint(l){var p=this;return(0,a.Z)(function*(){const f=new Wr.lW(l,"base64"),w=yield crypto.subtle.digest("SHA-1",f);return p.computeHex(w)})()}computeHex(l){return[].map.call(new Uint8Array(l),p=>("00"+p.toString(16)).slice(-2)).join("")}}return se.\u0275fac=function(l){return new(l||se)},se.\u0275prov=Zo.Yz7({token:se,factory:se.\u0275fac}),se})()},3667:(it,oe,g)=>{"use strict";g.d(oe,{M:()=>S});var a=g(529),e=g(4707),C=g(8176),x=g(4650),T=g(8564);let S=(()=>{class _{constructor(R,y){this.http=R,this.claimTypeSubject=new e.t(1),this.actionUrl="ClaimTypes",this.headers=y.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(R){return this.http.get(`${this.actionUrl}/${R}`,{headers:this.headers})}getClaimTypes(R,y,B=!1){let F=new a.LE;return(0,C.Ew)(R)||(F=F.append("name",R)),(0,C.Ew)(y)||(F=F.append("sort",y)),this.http.get(B?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:F})}addClaimType(R){const y=`${this.actionUrl}/`,B=JSON.stringify(R);return this.http.post(y,B,{headers:this.headers})}updateClaimType(R){const y=`${this.actionUrl}/${R.id}`,B=JSON.stringify(R);return this.http.put(y,B,{headers:this.headers})}deleteClaimType(R){return this.http.delete(`${this.actionUrl}/${R.id}`,{headers:this.headers})}getAllowedValues(R,y,B){let F=new a.LE;return(0,C.Ew)(y)||(F=F.append("query",y)),B&&(F=F.append("resultThreshold",B)),this.http.get(`${this.actionUrl}/AllowedValues/${R}`,{headers:this.headers,params:F})}}return _.\u0275fac=function(R){return new(R||_)(x.LFG(a.eN),x.LFG(T.s))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})()},8190:(it,oe,g)=>{"use strict";g.d(oe,{F:()=>U});var a=g(515),e=g(4004),C=g(262),x=g(4879),T=g(4650),S=g(3667),_=g(4889);let U=(()=>{class R{constructor(B,F){this.claimTypeService=B,this.errorService=F}resolve(B,F){return this.claimTypeService.getClaimType(B.params.Id).pipe((0,e.U)(G=>(G&&this.claimTypeService.getCachedClaimType().next(G),G)),(0,C.K)((G,j)=>(404===G.status?this.errorService.resourceNotFound(x._.claimType):this.errorService.handleError(G),(0,a.c)())))}}return R.\u0275fac=function(B){return new(B||R)(T.LFG(S.M),T.LFG(_.T))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})()},4608:(it,oe,g)=>{"use strict";g.d(oe,{Z:()=>C});var a=g(1135),e=g(4650);let C=(()=>{class x{constructor(){this.unsavedCache=new a.X(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new a.X(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},6297:(it,oe,g)=>{"use strict";g.d(oe,{Zy:()=>T,rJ:()=>S,wf:()=>x});var a=g(4650),e=g(529),C=g(8564);let x=(()=>{class U{constructor(y,B){this.http=y,this.headersService=B,this.actionUrl="clients/import"}validateImportFile(y){const K=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,y,{headers:K})}completeImport(y,B){const F=this.appendImportConfiguration(y,B),G=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,F,{headers:G})}appendImportConfiguration(y,B){const F=JSON.parse(y);return F.importConfiguration={clients:B.clients,protectedResources:B.protectedResources},JSON.stringify(F)}}return U.\u0275fac=function(y){return new(y||U)(a.LFG(e.eN),a.LFG(C.s))},U.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();class T{}class S{constructor(){this.certificates=new _}}class _{}},9470:(it,oe,g)=>{"use strict";g.d(oe,{a:()=>T});var a=g(9848),e=g(8895),C=g(4650),x=g(4608);let T=(()=>{class ke{constructor(Ze){this.cache=Ze,this.defaultClientGrantTypeMap=new Map([[a.B.BrowserBased,e.q.AuthorizationCode],[a.B.ServerSidePKCE,e.q.AuthorizationCode],[a.B.ServerSide,e.q.Hybrid],[a.B.Native,e.q.Hybrid],[a.B.Machine,e.q.ClientCredentials],[a.B.CIBAMachine,e.q.CIBA],[a.B.Device,e.q.Device],[a.B.LegacyClientSide,e.q.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(me=>{this.initClientViews(me)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(Ze){this.resetTabs(),this.isStandardClientFormat(Ze)||Ze.clientType===a.B.Saml||Ze.clientType===a.B.WsFed?this.initUsingClientType(Ze.clientType):0!==Ze.allowedGrantTypes.length?this.initUsingGrantTypes(Ze.allowedGrantTypes):this.initDefaults()}resetTabs(){this.details=new S,this.applicationUrls=new _,this.secrets=new U,this.resources=new R,this.tokens=new Ie,this.claims=new B,this.grantTypes=new F,this.refreshTokens=new ye,this.identityProviders=new K,this.properties=new G,this.other=new j,this.pkce=new le,this.deviceFlow=new Ee,this.ssoTab=new ve,this.consent=new we,this.saml=new re,this.wsFed=new ce,this.ciba=new y}isStandardClientFormat(Ze){if(Ze.clientType===a.B.Unknown||Ze.allowedGrantTypes.length>1)return!1;const me=this.defaultClientGrantTypeMap.get(Ze.clientType);return Ze.allowedGrantTypes[0]===me}initUsingClientType(Ze){switch(Ze){case a.B.BrowserBased:this.consent.display=!0,this.ssoTab.display=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case a.B.ServerSide:case a.B.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.ssoTab.display=!0,this.ssoTab.backChannelLogoutSessionRequired=!0,this.ssoTab.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case a.B.Native:this.consent.display=!0,this.refreshTokens.display=!0,this.ssoTab.display=!0,this.ssoTab.backChannelLogoutSessionRequired=!0,this.ssoTab.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case a.B.Machine:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0;break;case a.B.CIBAMachine:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case a.B.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case a.B.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case a.B.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case a.B.LegacyClientSide:this.consent.display=!0,this.ssoTab.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(Ze){this.saml.display=!1,this.wsFed.display=!1,Ze.forEach(me=>{switch(me){case e.q.Implicit:this.consent.display=!0,this.ssoTab.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.ssoTab.display=!0,this.ssoTab.backChannelLogoutSessionRequired=!0,this.ssoTab.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.ssoTab.display=!0,this.ssoTab.backChannelLogoutSessionRequired=!0,this.ssoTab.backChannelLogoutUri=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0;break;case e.q.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.q.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.q.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.ssoTab.display=!0,this.ssoTab.backChannelLogoutUri=!0,this.ssoTab.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.pkce.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.grantTypes.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}return ke.\u0275fac=function(Ze){return new(Ze||ke)(C.LFG(x.Z))},ke.\u0275prov=C.Yz7({token:ke,factory:ke.\u0275fac}),ke})();class S{}class _{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class U{constructor(){this.display=!1}}class R{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class y{constructor(){this.display=!1}}class B{constructor(){this.display=!1}}class F{constructor(){this.display=!1}}class K{constructor(){this.display=!1}}class G{constructor(){this.display=!1}}class j{constructor(){this.display=!1,this.userSSOLifetime=!1}}class le{constructor(){this.display=!1}}class Ee{constructor(){this.display=!1}}class ve{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class ye{constructor(){this.display=!1}}class we{constructor(){this.display=!1}}class re{constructor(){this.display=!1}}class ce{constructor(){this.display=!1}}class Ie{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}},9012:(it,oe,g)=>{"use strict";g.d(oe,{a:()=>_});var a=g(529),e=g(4707),C=g(8176),x=g(9848),T=g(4650),S=g(8564);let _=(()=>{class U{constructor(y,B){this.http=y,this.headersService=B,this.clientSubject=new e.t(1),this.actionUrl="clients",this.headers=B.setHeaders()}getClients(y,B,F){let K=new a.LE;return(0,C.Ew)(y)||(K=K.append("name",y)),B&&(K=K.append("page",B)),F&&(K=K.append("pageSize",F)),this.http.get(this.actionUrl,{headers:this.headers,params:K})}getClient(y){return this.http.get(`${this.actionUrl}/${y}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(y){let B;switch(y.clientType){case x.B.Saml:B=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case x.B.WsFed:B=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:B=this.headersService.setHeaders()}const F=`${this.actionUrl}/`,K=JSON.stringify(y);return this.http.post(F,K,{headers:B})}updateClient(y){return this.http.put(`${this.actionUrl}/${y.id}`,y,{headers:this.headers})}addClientSecret(y,B){return this.http.post(`${this.actionUrl}/${y}/secrets`,B,{headers:this.headers})}removeClientSecret(y,B){return this.http.delete(`${this.actionUrl}/${y}/secrets/${B.id}`,{headers:this.headers})}deleteClient(y){return this.http.delete(`${this.actionUrl}/${y}`,{headers:this.headers})}cloneClient(y,B){const F=`${this.actionUrl}/${y}/clone`,K=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(F,B,{headers:K,observe:"response"})}}return U.\u0275fac=function(y){return new(y||U)(T.LFG(a.eN),T.LFG(S.s))},U.\u0275prov=T.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},3366:(it,oe,g)=>{"use strict";g.d(oe,{E:()=>_});var a=g(529),e=g(9646),C=g(7579);class x{}class T{constructor(){this.defaultUserValidation=!0,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1}}var S=g(4650);let _=(()=>{class U{constructor(y){this.http=y,this.headers=new a.WM,this.actionUrl="UIConfiguration"}getConfig(y=!1){const B=new x;if(B.addUserPassword=!1,B.resetPasswordConfigured=!1,B.isDemo=!1,B.targetIdentityServer4=!1,B.resetMfaConfigured=!1,B.featureFlagOptions=new T,this.uiOptions&&!y)return(0,e.of)(this.uiOptions);const F=new C.x;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe(K=>{this.uiOptions=K,F.next(K)},K=>F.next(B)),F.asObservable()}}return U.\u0275fac=function(y){return new(y||U)(S.LFG(a.eN))},U.\u0275prov=S.Yz7({token:U,factory:U.\u0275fac}),U})()},9327:(it,oe,g)=>{"use strict";g.d(oe,{A:()=>R});var a=g(515),e=g(4004),C=g(262),x=g(4879),T=g(4650),S=g(9012),_=g(4608),U=g(4889);let R=(()=>{class y{constructor(F,K,G){this.clientService=F,this.clientCachingService=K,this.errorService=G}resolve(F,K){const G=F.paramMap.get("Id");return this.clientService.getClient(G).pipe((0,e.U)(j=>(this.clientCachingService.unsavedCache.next(j),j)),(0,C.K)(j=>(404===j.status?this.errorService.resourceNotFound(x._.client):this.errorService.handleError(j),(0,a.c)())))}}return y.\u0275fac=function(F){return new(F||y)(T.LFG(S.a),T.LFG(_.Z),T.LFG(U.T))},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac}),y})()},4995:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>R});var a=g(515),e=g(4004),C=g(262),x=g(4879),T=g(4650),S=g(3499),_=g(5150),U=g(4889);let R=(()=>{class y{constructor(F,K,G){this.wsfedClientService=F,this.relyingPartyCache=K,this.errorService=G}resolve(F,K){const G=F.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(G).pipe((0,e.U)(j=>{const le=JSON.parse(JSON.stringify(j.claimMappings)),Ee=new Map;for(const ve in le)le.hasOwnProperty(ve)&&Ee.set(ve,le[ve]);return j.claimMappings=Ee,this.relyingPartyCache.unsavedCache.next(j),j}),(0,C.K)(j=>(404===j.status?this.errorService.resourceNotFound(x._.relyingParty):this.errorService.handleError(j),(0,a.c)())));this.relyingPartyCache.unsavedCache$.subscribe(j=>j)}}return y.\u0275fac=function(F){return new(F||y)(T.LFG(S.K),T.LFG(_.N),T.LFG(U.T))},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac}),y})()},1428:(it,oe,g)=>{"use strict";g.d(oe,{d:()=>B});var a=g(4035),e=g(515),C=g(4004),x=g(262),T=g(4879),S=g(4650),_=g(1339),U=g(9536),R=g(8185),y=g(4889);let B=(()=>{class F{constructor(G,j,le,Ee){this.serviceProviderService=G,this.serviceproviderCache=j,this.router=le,this.errorSerivce=Ee}resolve(G,j){const le=G.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(le).pipe((0,C.U)(Ee=>{const ve=JSON.parse(JSON.stringify(Ee.claimMappings)),ye=new Map;for(const we in ve)ve.hasOwnProperty(we)&&ye.set(we,ve[we]);return Ee.claimMappings=ye,this.serviceproviderCache.unsavedCache.next(Ee),this.serviceproviderCache.savedCache.next(Ee),Ee}),(0,x.K)((Ee,ve)=>(404===Ee.status?this.errorSerivce.resourceNotFound(T._.serviceProvider):this.errorSerivce.handleError(Ee),(0,e.c)())));this.serviceproviderCache.unsavedCache$.subscribe(Ee=>Ee)}}return F.\u0275fac=function(G){return new(G||F)(S.LFG(_.G),S.LFG(U.S),S.LFG(R.F0),S.LFG(y.T))},F.\u0275prov=S.Yz7({token:F,factory:F.\u0275fac,providedIn:a.V}),F})()},3883:(it,oe,g)=>{"use strict";g.d(oe,{i:()=>S});var a=g(590),e=g(4650),C=g(1339),x=g(9536),T=g(4889);let S=(()=>{class _{constructor(R,y,B){this.serviceProviderService=R,this.cache=y,this.errorService=B}uploadFile(R,y){return this.serviceProviderService.setEncryptionCertificateViaFile(R,y)}uploadViaMetaData(R,y){return this.serviceProviderService.setEncryptionCertificateViaMetadata(R,y)}updateCertCache(R){this.serviceProviderService.getServiceProvider(R).subscribe(y=>{this.cache.unsavedCache$.pipe((0,a.P)()).subscribe(B=>{B.encryptionCertificate=y.encryptionCertificate,this.cache.unsavedCache.next(B)})},y=>{this.errorService.handleError(y)})}}return _.\u0275fac=function(R){return new(R||_)(e.LFG(C.G),e.LFG(x.S),e.LFG(T.T))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})()},4889:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>R});var a=g(8176),e=g(4879),C=g(160),x=g(4650),T=g(8185),S=g(2979),_=g(7185),U=g(9066);let R=(()=>{class y{constructor(F,K,G,j){this.router=F,this.localize=K,this.toast=G,this.translate=j}resourceNotFound(F){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e._[F])])}handleError(F,K,G){let j=C.s.NotHandled;const le=this.getDefaultNavigationPath(F);if(le)this.router.navigate([this.localize.translateRoute(le)]),j|=C.s.Navigate;else{const Ee=this.getOptionsToastBody(F,K)||this.getDefaultToastBody(F),ve=this.getOptionsToastTitle(F,K)||this.getDefaultToastTitle(F);Ee&&ve&&(G?this.toast.error(Ee,ve,G):this.toast.error(Ee,ve),j|=C.s.Toast)}return j}getOptionsToastBody(F,K){if(!K)return;const G="number"==typeof F.status&&K.statusToastOptions?K.statusToastOptions[F.status]:K;return G&&G.toastBody}getOptionsToastTitle(F,K){if(!K)return;const G="number"==typeof F.status&&K.statusToastOptions?K.statusToastOptions[F.status]:K;return G&&G.toastTitle}getDefaultNavigationPath(F){switch(F.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(F){switch(F.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(F){return F.error&&F.error.errors&&F.error.errors.length>0?F.error.errors[0]:(0,a.Ew)(F._body)&&(0,a.Ew)(F.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,a.Ew)(F.error)?F._body:F.error}}return y.\u0275fac=function(F){return new(F||y)(x.LFG(T.F0),x.LFG(S.An),x.LFG(_._W),x.LFG(U.sK))},y.\u0275prov=x.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},9002:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>C});var a=g(4650),e=g(1888);let C=(()=>{class x{constructor(S){this.fileDownloader=S,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(S){const _=this.actionUrl+"/specified",U=new Map;U.set("clientIds",S.join(",")),this.fileDownloader.buildFormWithCustomInputs(_,U).submitForm()}}return x.\u0275fac=function(S){return new(S||x)(a.LFG(e.B))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac}),x})()},1888:(it,oe,g)=>{"use strict";g.d(oe,{B:()=>x});class a{constructor(S){this.form=S}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=g(4650),C=g(1060);let x=(()=>{class T{constructor(_){this.securityService=_}buildForm(_){const U=this.buildStandardForm(_);return new a(U)}buildStandardForm(_){const U=document.createElement("form");return U.setAttribute("method","post"),U.setAttribute("action",_),U}appendInput(_,U,R){const y=document.createElement("input");y.setAttribute("type","text"),y.setAttribute("name",_),y.setAttribute("value",U),R.appendChild(y)}buildFormWithCustomInputs(_,U){const R=this.buildStandardForm(_);return U.forEach((y,B)=>{this.appendInput(B,y,R)}),new a(R)}}return T.\u0275fac=function(_){return new(_||T)(e.LFG(C.I))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac}),T})()},8564:(it,oe,g)=>{"use strict";g.d(oe,{s:()=>C});var a=g(529),e=g(4650);let C=(()=>{class x{setHeaders(S,_){return(new a.WM).set("Content-Type",S||"application/json").set("Accept",_||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),x})()},8506:(it,oe,g)=>{"use strict";g.d(oe,{Q:()=>S});var a=g(529),e=g(4707),C=g(8176),x=g(4650),T=g(8564);let S=(()=>{class _{constructor(R,y){this.http=R,this.headersService=y,this.identityResourceSubject=new e.t(1),this.actionUrl="IdentityResources",this.headers=y.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(R){let y=new a.LE;return(0,C.Ew)(R)||(y=y.append("name",R)),this.http.get(this.actionUrl,{headers:this.headers,params:y})}addResource(R){const y=`${this.actionUrl}/`,B=JSON.stringify(R);return this.http.post(y,B,{headers:this.headers})}getResource(R){return this.http.get(`${this.actionUrl}/${R}`,{headers:this.headers})}updateResource(R){return this.http.put(`${this.actionUrl}/${R.id}`,R,{headers:this.headers})}deleteIdentityResource(R){return this.http.delete(`${this.actionUrl}/${R}`,{headers:this.headers})}}return _.\u0275fac=function(R){return new(R||_)(x.LFG(a.eN),x.LFG(T.s))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})()},9659:(it,oe,g)=>{"use strict";g.d(oe,{o:()=>Ee});var a=g(7579),e=g(4707),C=g(3334),x=g(590),T=g(3111),S=g(9206),_=g(3953),U=g(5954),R=g(2723),y=g(6068),B=g(8176),F=g(2449),K=g(7393),G=g(4650),j=g(2651),le=g(7481);let Ee=(()=>{class ve{constructor(we,re){this.importWizardProvider=we,this.importWizardService=re,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new a.x}setupInitialStep(){const we=this.importWizardProvider.getStep(C.K.clientSummary);this.stepsAhead.push(we)}goToNextStep(){const we=this.stepsAhead.pop();this.stepsCompleted.push(we),we.component===S.j&&we.data.includes(T.JR.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(we.component===R.$&&we.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(we):we.component===F.V7&&we.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(we)),this.move.next(!1))}applyCertificateRememberDecision(we){const re=[];return this.stepsAhead.forEach(ce=>{ce.component!==F.V7||ce.data.existingHasCertificates!==we.data.existingHasCertificates||(we.data.certificateAction===F.R6.DoNotSet?ce.data.certificates=new K.w:we.data.certificateAction===F.R6.UseExisting&&(ce.data.certificates=new K.w,ce.data.useExistingCertificates=!0),re.push(ce),this.stepsCompleted.push(ce))}),this.stepsAhead.filter(ce=>!re.includes(ce))}applyRememberDecision(we){const re=[];return this.stepsAhead.forEach(ce=>{if(ce.component===R.$&&ce.data.resourceType===we.data.resourceType&&ce.data.existingHasSecrets===we.data.existingHasSecrets){if(we.data.secretsAction===R.C.DoNotSet)ce.data.secrets=[];else if(we.data.secretsAction===R.C.UseExistingSecret)ce.data.useExistingSecrets=!0;else if(we.data.secretsAction===R.C.Generate){const Ie=new y.u;Ie.value=(0,B.qs)(),Ie.type="Shared Secret",Ie.description="",ce.data.secrets=[Ie]}re.push(ce),this.stepsCompleted.push(ce)}}),this.stepsAhead.filter(ce=>!re.includes(ce))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(C.K.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const re=this.stepsCompleted[this.stepsCompleted.length-1];if(re.component===R.$)this.goToLastRememberedDecision(re.component,ce=>ce.data.rememberSecretAction);else if(re.component===F.V7)this.goToLastRememberedDecision(re.component,ce=>ce.data.rememberCertificateAction&&ce.data.existingHasCertificates===re.data.existingHasCertificates);else{const ce=this.stepsCompleted.pop();this.stepsAhead.push(ce)}this.move.next(!1)}goToLastRememberedDecision(we,re){const ce=this.stepsCompleted.filter(Ie=>Ie.component===we);if(ce.length>1){const Ie=ce.filter(re);if(Ie){const Ae=this.stepsCompleted.indexOf(Ie[Ie.length-1]),Ze=this.stepsCompleted.splice(Ae,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...Ze.reverse()]}else{const ke=this.stepsCompleted.pop();this.stepsAhead.push(ke)}}else{const Ie=this.stepsCompleted.pop();this.stepsAhead.push(Ie)}}goToFinalSummary(){const we=this.stepsAhead.findIndex(ce=>ce.component===_.o),re=this.stepsAhead.splice(we+1);for(;re.length>0;){const ce=re.pop();this.stepsCompleted.push(ce)}this.move.next(!1)}goToSummaryStep(we){const re=this.stepsCompleted.findIndex(Ie=>Ie.component===S.j&&Ie.data.includes(we)),ce=this.stepsCompleted.splice(re);for(;ce.length>0;){const Ie=ce.pop();this.stepsAhead.push(Ie)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const we=this.getCurrentStep();we.component===U.l?this.quit():we.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(C.K.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(we,re){const ce=this.stepsAhead.pop();this.stepsCompleted.push(ce);const Ie=this.importWizardProvider.getStep(we);Ie.data=re,this.stepsAhead.push(Ie),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const we=new e.t;return this.importWizardService.cache.pipe((0,x.P)()).subscribe(re=>{this.stepsAhead.push(this.importWizardProvider.getStep(C.K.importComplete)),this.showFinalSummary(re)&&this.stepsAhead.push(this.importWizardProvider.getStep(C.K.finalSummary));const ce=this.sortImportResources(re),Ie=[],ke=[];for(let Ae=ce.length;Ae>0;Ae--){const Ze=ce[Ae-1];let me=!1;Ze.resourceType===T.JR.ProtectedResource&&Ze.dependantClients.forEach(he=>{me=re.some(Y=>Y.identifier===he.identifier&&Y.resourceState!==T.vZ.Duplicate)}),(Ze.selected||me)&&(Ze.existingHasSecrets&&Ie.push(this.importWizardProvider.getSecretStep(Ze)),Ze.hadSecrets&&!Ze.existingHasSecrets&&Ie.push(this.importWizardProvider.getSecretStep(Ze)),Ze.existingHasCertificates&&ke.push(this.importWizardProvider.getCertificateStep(Ze)),Ze.hadCertificates&&!Ze.existingHasCertificates&&ke.push(this.importWizardProvider.getCertificateStep(Ze)))}this.stepsAhead.push(...Ie),this.stepsAhead.push(...ke),this.showClaimTypeSummary(re)&&this.stepsAhead.push(this.importWizardProvider.getStep(C.K.claimTypeSummary)),this.showResourceSummary(re)&&this.stepsAhead.push(this.importWizardProvider.getStep(C.K.resourcesSummary)),we.next()}),we}sortImportResources(we){we=(we=we.sort((ce,Ie)=>ce.displayName.toUpperCase().localeCompare(Ie.displayName.toUpperCase()))).sort((ce,Ie)=>+ce.conflictedByDependencies-+Ie.conflictedByDependencies);const re=[T.vZ.Conflicted,T.vZ.New,T.vZ.Duplicate];return we.sort((ce,Ie)=>re.indexOf(ce.resourceState)-re.indexOf(Ie.resourceState))}showResourceSummary(we){const re=we.filter(Ie=>Ie.resourceType===T.JR.Client&&!0===Ie.selected).map(Ie=>Ie.identifier),ce=we.filter(Ie=>(Ie.resourceType===T.JR.IdentityResource||Ie.resourceType===T.JR.ProtectedResource)&&Ie.dependantClients.map(ke=>ke.identifier).some(ke=>re.includes(ke)));return ce.length>0&&ce.some(Ie=>Ie.resourceState===T.vZ.Conflicted)}showClaimTypeSummary(we){const re=we.filter(Ie=>Ie.resourceType===T.JR.Client&&!0===Ie.selected).map(Ie=>Ie.identifier),ce=we.filter(Ie=>Ie.resourceType===T.JR.ClaimType&&Ie.dependantClients.map(ke=>ke.identifier).some(ke=>re.includes(ke)));return ce.length>0&&ce.some(Ie=>Ie.resourceState===T.vZ.Conflicted)}showFinalSummary(we){return we.some(re=>re.resourceType!==T.JR.Client)}}return ve.\u0275fac=function(we){return new(we||ve)(G.LFG(j.o),G.LFG(le.U))},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})()},2651:(it,oe,g)=>{"use strict";g.d(oe,{o:()=>ke});var a=g(3111),e=g(9206),C=g(7331),x=g(3553),T=g(8058),S=g(4650),_=g(7481),U=g(9066);let R=(()=>{class Ze extends T.n{constructor(he){super(),this.importWizardService=he,this.isWarningModal=!0,this.resetOnClose=!1}set data(he){null!==he&&(this.resetOnClose=he)}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}}return Ze.\u0275fac=function(he){return new(he||Ze)(S.Y36(_.U))},Ze.\u0275cmp=S.Xpm({type:Ze,selectors:[["app-import-close-warning"]],features:[S.qOj],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(he,Y){1&he&&(S.TgZ(0,"div",0)(1,"p"),S._uU(2),S.ALo(3,"translate"),S.ALo(4,"translate"),S.qZA()(),S.TgZ(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),S.NdJ("click",function(){return Y.no()}),S._uU(9),S.ALo(10,"translate"),S.qZA()(),S.TgZ(11,"button",5),S.NdJ("click",function(){return Y.yes()}),S._uU(12),S.ALo(13,"translate"),S.qZA()()()),2&he&&(S.xp6(2),S.AsE("",S.lcZ(3,4,"Clients.Import.Wizard.Warning.Text1")," ",S.lcZ(4,6,"Clients.Import.Wizard.Warning.Text2"),""),S.xp6(7),S.Oqu(S.lcZ(10,8,"Notifications.StayHere")),S.xp6(3),S.Oqu(S.lcZ(13,10,"Notifications.DiscardChanges")))},dependencies:[U.X$],encapsulation:2}),Ze})();var y=g(3334),B=g(5669),F=g(6895);function K(Ze,me){1&Ze&&(S.TgZ(0,"p"),S._uU(1),S.ALo(2,"translate"),S.qZA()),2&Ze&&(S.xp6(1),S.Oqu(S.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let G=(()=>{class Ze extends T.n{constructor(he){super(),this.importWizardService=he,this.isWarningModal=!0}set data(he){this.resource=he,this.summaryDisplayType=B.m.getSummaryDisplayType(he.resourceType)}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}}return Ze.\u0275fac=function(he){return new(he||Ze)(S.Y36(_.U))},Ze.\u0275cmp=S.Xpm({type:Ze,selectors:[["app-conflicts-confirmation"]],features:[S.qOj],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(he,Y){1&he&&(S.TgZ(0,"div",0)(1,"p"),S._uU(2),S.ALo(3,"translate"),S.qZA(),S.YNc(4,K,3,3,"p",1),S.qZA(),S.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),S.NdJ("click",function(){return Y.no()}),S._uU(9),S.ALo(10,"translate"),S.qZA()(),S.TgZ(11,"button",6),S.NdJ("click",function(){return Y.yes()}),S._uU(12),S.ALo(13,"translate"),S.qZA()()()),2&he&&(S.xp6(2),S.AsE("",S.lcZ(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==Y.resource?null:Y.resource.displayName,""),S.xp6(2),S.Q6J("ngIf","Client"!==Y.summaryDisplayType),S.xp6(5),S.Oqu(S.lcZ(10,7,"Clients.Import.Wizard.Warning.No")),S.xp6(3),S.Oqu(S.lcZ(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[F.O5,U.X$],encapsulation:2}),Ze})();var j=g(3953),le=g(2723),Ee=g(5954),ve=g(2449),ye=g(5861),we=g(1696);const re=["certReader"],ce=["nextButton"];let Ie=(()=>{class Ze extends T.n{constructor(he){super(),this.translate=he}get data(){return this._subject}set data(he){this._subject=he}certificateDataLoaded(he){this.nextButton.nativeElement.disabled=!he}goNext(){var he=this;return(0,ye.Z)(function*(){const Y=yield he.certReaderComponent.getCertificateModel();he.data.next(Y),he.importWizardController.goToPreviousStep()})()}}return Ze.\u0275fac=function(he){return new(he||Ze)(S.Y36(U.sK))},Ze.\u0275cmp=S.Xpm({type:Ze,selectors:[["app-import-certificate-picker"]],viewQuery:function(he,Y){if(1&he&&(S.Gf(re,5),S.Gf(ce,5)),2&he){let Me;S.iGM(Me=S.CRH())&&(Y.certReaderComponent=Me.first),S.iGM(Me=S.CRH())&&(Y.nextButton=Me.first)}},features:[S.qOj],decls:21,vars:21,consts:[[1,"modal-body"],[3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"],["certReader",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["nextButton",""],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(he,Y){1&he&&(S.TgZ(0,"div",0)(1,"app-cert-reader",1,2),S.NdJ("dataExists",function(fe){return Y.certificateDataLoaded(fe)}),S.ALo(3,"translate"),S.ALo(4,"translate"),S.ALo(5,"translate"),S.ALo(6,"translate"),S.qZA()(),S._UZ(7,"div",3),S.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7,8),S.NdJ("click",function(){return Y.goNext()}),S._uU(13),S.ALo(14,"translate"),S.qZA(),S.TgZ(15,"button",9),S.NdJ("click",function(){return Y.back()}),S._uU(16),S.ALo(17,"translate"),S.qZA()(),S.TgZ(18,"button",10),S.NdJ("click",function(){return Y.cancel()}),S._uU(19),S.ALo(20,"translate"),S.qZA()()()),2&he&&(S.xp6(1),S.Q6J("uploadCert",S.lcZ(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",S.lcZ(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",S.lcZ(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",S.lcZ(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),S.xp6(12),S.hij(" ",S.lcZ(14,15,"Common.Add")," "),S.xp6(3),S.hij(" ",S.lcZ(17,17,"Common.Back")," "),S.xp6(3),S.hij(" ",S.lcZ(20,19,"Common.Cancel")," "))},dependencies:[we.c,U.X$],encapsulation:2}),Ze})(),ke=(()=>{class Ze{constructor(){this.stepMap=new Map,this.stepMap.set(y.K.clientSummary,new Ae(e.j,"Clients.Import.Wizard.Summary.Title.Client",[a.JR.Client])),this.stepMap.set(y.K.resourcesSummary,new Ae(e.j,"Clients.Import.Wizard.Summary.Title.Resource",[a.JR.IdentityResource,a.JR.ProtectedResource])),this.stepMap.set(y.K.claimTypeSummary,new Ae(e.j,"Clients.Import.Wizard.Summary.Title.ClaimType",[a.JR.ClaimType])),this.stepMap.set(y.K.summaryConflicts,new Ae(x.Gz,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(y.K.importComplete,new Ae(C.l,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(y.K.importCloseWarning,new Ae(R,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(y.K.summaryConflictsConfirmation,new Ae(G,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(y.K.finalSummary,new Ae(j.o,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(y.K.importDownloadWarning,new Ae(Ee.l,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(y.K.importUploadCertificate,new Ae(Ie,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(he){return this.stepMap.get(he)}getSecretStep(he){return new Ae(le.$,"Clients.Import.Wizard.Secrets.Title",he)}getCertificateStep(he){return new Ae(ve.V7,"Clients.Import.Wizard.Certificates.Title",he)}}return Ze.\u0275fac=function(he){return new(he||Ze)},Ze.\u0275prov=S.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class Ae{constructor(me,he,Y,Me=!1){this.component=me,this.stepTitle=he,this.data=Y,this.isDeadEnd=Me}}},7481:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>T});var a=g(3111),e=g(4707),C=g(590),x=g(4650);let T=(()=>{class S{constructor(){this.importResourceTypeMap=new Map([[a.JR.Client,"Client"],[a.JR.ClaimType,"Claim Type"],[a.JR.ProtectedResource,"Protected Resource"],[a.JR.IdentityResource,"Identity Resource"]]),this.cache=new e.t(1),this.resetImport=new e.t(1)}updateSelectedClients(U){this.cache.pipe((0,C.P)()).subscribe(R=>{U=U.filter(y=>y.resourceType===a.JR.Client),R.forEach(y=>{const B=U.find(F=>F.identifier===y.identifier);void 0!==B&&(y.selected=B.selected)}),this.cache.next(R)})}selectResource(U){this.setResourcesSelected(U,!0)}deselectResource(U){this.setResourcesSelected(U,!1)}setResourcesSelected(U,R){this.cache.pipe((0,C.P)()).subscribe(y=>{let B;B=U.resourceType===a.JR.Client?[U.identifier]:U.dependantClients.filter(K=>K.state===a.CP.Importing).map(K=>K.identifier),B.forEach(F=>{y.find(K=>K.identifier===F&&K.resourceType===a.JR.Client).selected=R}),this.cache.next(y)})}downloadClientSecretsFromCache(){const U=new e.t;return this.cache.pipe((0,C.P)()).subscribe(R=>{const y=R.filter(G=>G.secrets&&G.secrets.length>0);let B="Type,Id,Name,Secret\r\n";y.forEach(G=>{G.secrets.forEach(j=>{B+=this.importResourceTypeMap.get(G.resourceType)+","+G.identifier+","+G.displayName+","+j.value+"\r\n"})});const F=new Blob([B],{type:"application/csv"}),K=document.createElement("a");K.download="import-secrets.csv",K.href=window.URL.createObjectURL(F),K.click(),K.remove(),U.next()}),U}}return S.\u0275fac=function(U){return new(U||S)},S.\u0275prov=x.Yz7({token:S,factory:S.\u0275fac}),S})()},3334:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>a});let a=(()=>{class e{}return e.importUploadCertificate="CertificateUpload",e.clientSummary="ClientSummary",e.resourcesSummary="ResourcesSummary",e.summaryConflicts="SummaryConflicts",e.claimTypeSummary="ClaimTypeSummary",e.importComplete="ImportComplete",e.importCloseWarning="ImportCloseWarning",e.summaryConflictsConfirmation="SummaryConflictsConfirmation",e.finalSummary="FinalSummary",e.importDownloadWarning="ImportDownloadWarning",e})()},4717:(it,oe,g)=>{"use strict";g.d(oe,{E:()=>C});var a=g(529),e=g(4650);let C=(()=>{class x{constructor(S){this.http=S,this.headers=new a.WM,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers})}}return x.\u0275fac=function(S){return new(S||x)(e.LFG(a.eN))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),x})()},6548:(it,oe,g)=>{"use strict";g.d(oe,{$:()=>C});var a=g(529),e=g(4650);let C=(()=>{class x{constructor(S){this.http=S,this.headers=new a.WM,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}}return x.\u0275fac=function(S){return new(S||x)(e.LFG(a.eN))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),x})()},7733:(it,oe,g)=>{"use strict";g.d(oe,{m:()=>S});var a=g(529),e=g(4707),C=g(8176),x=g(4650),T=g(8564);let S=(()=>{class _{constructor(R,y){this.http=R,this.headersService=y,this.protectedResourceSubject=new e.t(1),this.actionUrl="ProtectedResources",this.headers=y.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(R){let y=new a.LE;return(0,C.Ew)(R)||(y=y.set("name",R)),this.http.get(this.actionUrl,{headers:this.headers,params:y})}addResource(R){const y=`${this.actionUrl}/`,B=JSON.stringify(R);return this.http.post(y,B,{headers:this.headers})}getResource(R){return this.http.get(`${this.actionUrl}/${R}`,{headers:this.headers})}updateResource(R){return this.http.put(`${this.actionUrl}/${R.id}`,R,{headers:this.headers})}updateResourceSecret(R,y){return this.http.put(`${this.actionUrl}/${R}/secrets/${y.id}`,y,{headers:this.headers})}removeResourceSecret(R,y){return this.http.delete(`${this.actionUrl}/${R}/secrets/${y}`,{headers:this.headers})}addResourceSecret(R,y){return this.http.post(`${this.actionUrl}/${R}/secrets`,y,{headers:this.headers})}updateResourceScope(R,y,B){const F=encodeURIComponent(B);return this.http.put(`${this.actionUrl}/${R}/scopes/${F}`,y,{headers:this.headers})}addResourceScope(R,y){return this.http.post(`${this.actionUrl}/${R}/scopes`,y,{headers:this.headers})}deleteProtectedResource(R){return this.http.delete(`${this.actionUrl}/${R}`,{headers:this.headers})}deleteScope(R,y){const B=encodeURIComponent(y);return this.http.delete(`${this.actionUrl}/${R}/scopes/${B}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}}return _.\u0275fac=function(R){return new(R||_)(x.LFG(a.eN),x.LFG(T.s))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})()},927:(it,oe,g)=>{"use strict";g.d(oe,{O:()=>R});var a=g(515),e=g(4004),C=g(262),x=g(4879),T=g(4650),S=g(9883),_=g(8185),U=g(4889);let R=(()=>{class y{constructor(F,K,G){this.roleService=F,this.router=K,this.errorService=G}resolve(F,K){const G=F.paramMap.get("Id");return this.roleService.getRole(G).pipe((0,e.U)(j=>(j&&this.roleService.getCachedRole().next(j),j)),(0,C.K)((j,le)=>(404===j.status?this.errorService.resourceNotFound(x._.role):this.errorService.handleError(j),(0,a.c)())))}}return y.\u0275fac=function(F){return new(F||y)(T.LFG(S.f),T.LFG(_.F0),T.LFG(U.T))},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac}),y})()},9883:(it,oe,g)=>{"use strict";g.d(oe,{f:()=>S});var a=g(529),e=g(4707),C=g(8176),x=g(4650),T=g(8564);let S=(()=>{class _{constructor(R,y){this.http=R,this.RoleSubject=new e.t(1),this.actionUrl="roles",this.headers=y.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(R){this.RoleSubject.next(R)}getRoles(R,y){let B=new a.LE;return(0,C.Ew)(R)||(B=B.append("name",R)),(0,C.Ew)(y)||(B=B.append("sort",y)),this.http.get(this.actionUrl,{headers:this.headers,params:B})}getRole(R){return this.http.get(`${this.actionUrl}/${R}`,{headers:this.headers})}deleteRole(R){return this.http.delete(`${this.actionUrl}/${R.id}`,{headers:this.headers})}addRole(R){const y=`${this.actionUrl}/`,B=JSON.stringify(R);return this.http.post(y,B,{headers:this.headers})}updateRole(R){const y=JSON.stringify(R);return this.http.put(`${this.actionUrl}/${R.id}`,y,{headers:this.headers})}getUsersInRole(R,y,B,F){let K=new a.LE;return(0,C.Ew)(F)||(K=K.append("q",F)),y&&(K=K.append("page",String(y))),B&&(K=K.append("pageSize",String(B))),this.http.get(`${this.actionUrl}/${R}/users`,{headers:this.headers,params:K})}addAndRemoveUsers(R,y){const B=JSON.stringify(y);return this.http.put(`${this.actionUrl}/${R}/users`,B,{headers:this.headers})}}return _.\u0275fac=function(R){return new(R||_)(x.LFG(a.eN),x.LFG(T.s))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})()},1060:(it,oe,g)=>{"use strict";g.d(oe,{I:()=>ye});var a=g(7579);class e extends a.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(re){const{hasError:ce,_hasValue:Ie,_value:ke,thrownError:Ae,isStopped:Ze,_isComplete:me}=this;ce?re.error(Ae):(Ze||me)&&(Ie&&re.next(ke),re.complete())}next(re){this.isStopped||(this._value=re,this._hasValue=!0)}complete(){const{_hasValue:re,_value:ce,_isComplete:Ie}=this;Ie||(this._isComplete=!0,re&&super.next(ce),super.complete())}}var C=g(4128),x=g(1206),T=g(4004),S=g(5698),_=g(8176),U=g(2976),R=g(4650),y=g(8185),B=g(2979),F=g(3366),K=g(1228),G=g(6548),j=g(4717),le=g(4889),Ee=g(1058),ve=g(9066);let ye=(()=>{class we{constructor(ce,Ie,ke,Ae,Ze,me,he,Y,Me){this.router=ce,this.localize=Ie,this.configService=ke,this.authService=Ae,this.permissionService=Ze,this.licenseService=me,this.errorService=he,this.loginTrackingService=Y,this.translate=Me,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(ce){let ke=ce??this.router.url;ke=ke.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",ke),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(ce){if(ce.isAuthenticated){let Ie=this.storage.getItem("redirectUrl");null==Ie&&(Ie="/home");const ke=this.localize.translateRoute(Ie);this.handleSuccessfulAuthorization(ke)}else this.handleUnsuccessfulAuthorization(ce.username)}handleSuccessfulAuthorization(ce){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(ce)},Ie=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(Ie,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:U.de.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(ce){if((0,_.Ew)(ce))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:U.de.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const Ie=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(Ie)}isNonProd(){return"Demo"===this.licenseType||"Non-Production"===this.licenseType}init(){const ce=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,C.D)(ce)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,T.U)(ce=>{this.userPermissions=ce.permissions,this.policyClaims=ce.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(x.y[x.y.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(x.y[x.y.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(x.y[x.y.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(x.y[x.y.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(x.y[x.y.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(x.y[x.y.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(x.y[x.y.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(ce.permissions),this.userPermissions$.complete()},ce=>{this.errorService.handleError(ce)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,T.U)(ce=>{this.licenseType=ce.licenseType,"NonProduction"===this.licenseType&&(this.licenseType="Non-Production"),this.nonProduction="Production"!==ce.licenseType,this.organisation=ce.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,S.q)(1))}}return we.\u0275fac=function(ce){return new(ce||we)(R.LFG(y.F0),R.LFG(B.An),R.LFG(F.E),R.LFG(K.e),R.LFG(G.$),R.LFG(j.E),R.LFG(le.T),R.LFG(Ee.U),R.LFG(ve.sK))},we.\u0275prov=R.Yz7({token:we,factory:we.\u0275fac}),we})()},1339:(it,oe,g)=>{"use strict";g.d(oe,{G:()=>T});var a=g(4707),e=g(4650),C=g(529),x=g(8564);let T=(()=>{class S{constructor(U,R){this.http=U,this.headersService=R,this.ServiceProviderSubject=new a.t(1),this.actionUrl="clients",this.headers=R.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(U){return this.http.get(`${this.actionUrl}/${U}/saml`,{headers:this.headers})}updateServiceProvider(U,R){const y=`${this.actionUrl}/${U}/saml`,B={allowIdpInitiatedSso:R.allowIdpInitiatedSso,assertionConsumerServices:R.assertionConsumerServices,artifactResolutionServices:R.artifactResolutionServices,claimMappings:R.claimMappings,encryptAssertions:R.encryptAssertions,requireSamlMessageDestination:R.requireSamlMessageDestination,signAssertions:R.signAssertions,singleLogoutServices:R.singleLogoutServices,requireAuthenticationRequestsSigned:R.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:R.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:R.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:R.requireSignedArtifactResponses,nameIdentifierFormat:R.nameIdentifierFormat},F=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(y,B,{headers:F})}setEncryptionCertificateViaFile(U,R){const y=`${this.actionUrl}/${U}/saml/certificates/encryption`,B=R,F=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(y,B,{headers:F})}setEncryptionCertificateViaMetadata(U,R){const y=`${this.actionUrl}/${U}/saml/certificates/encryption`,B=R,F=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(y,B,{headers:F})}deleteEncryptionCertificate(U){return this.http.delete(`${this.actionUrl}/${U}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(U,R){const y=`${this.actionUrl}/${U}/saml/certificates/signing`,B=R,F=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(y,B,{headers:F})}addSigningCertificateViaMetadata(U,R){const y=`${this.actionUrl}/${U}/saml/certificates/signing`,B=R,F=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(y,B,{headers:F})}deleteSigningCertificate(U,R){return this.http.delete(`${this.actionUrl}/${U}/saml/certificates/signing/${R}`,{headers:this.headers})}}return S.\u0275fac=function(U){return new(U||S)(e.LFG(C.eN),e.LFG(x.s))},S.\u0275prov=e.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},5302:(it,oe,g)=>{"use strict";g.d(oe,{L:()=>S});var a=g(590),e=g(4650),C=g(1339),x=g(9536),T=g(4889);let S=(()=>{class _{constructor(R,y,B){this.serviceProviderService=R,this.cache=y,this.errorService=B}uploadFile(R,y){return this.serviceProviderService.addSigningCertificateViaFile(R,y)}uploadViaMetaData(R,y){return this.serviceProviderService.addSigningCertificateViaMetadata(R,y)}updateCertCache(R){this.serviceProviderService.getServiceProvider(R).subscribe(y=>{this.cache.unsavedCache$.pipe((0,a.P)()).subscribe(B=>{B.signingCertificates=y.signingCertificates,this.cache.unsavedCache.next(B)})},y=>{this.errorService.handleError(y)})}}return _.\u0275fac=function(R){return new(R||_)(e.LFG(C.G),e.LFG(x.S),e.LFG(T.T))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})()},8783:(it,oe,g)=>{"use strict";g.d(oe,{L:()=>U});var a=g(515),e=g(4004),C=g(262),x=g(4879),T=g(4650),S=g(4961),_=g(4889);let U=(()=>{class R{constructor(B,F){this.userService=B,this.errorService=F}resolve(B,F){return this.userService.getUser(B.params.Id).pipe((0,e.U)(G=>(G&&this.userService.getCachedUser().next(G),G)),(0,C.K)((G,j)=>(404===G.status?this.errorService.resourceNotFound(x._.user):this.errorService.handleError(G),(0,a.c)())))}}return R.\u0275fac=function(B){return new(B||R)(T.LFG(S.K),T.LFG(_.T))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})()},4961:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>_});var a=g(529),e=g(4707),C=g(4004),x=g(8176),T=g(4650),S=g(8564);let _=(()=>{class U{constructor(y,B){this.http=y,this.headersService=B,this.userSubject=new e.t(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}getUser(y){return this.http.get(`${this.actionUrl}/${y}`,{headers:this.headers}).pipe((0,C.U)(F=>(this.userSubject.next(F),F),F=>(this.userSubject.error(F),F)))}getCachedUser(){return this.userSubject}getUsers(y,B,F,K,G){let j=new a.LE;return(0,x.Ew)(y)||(j=j.append("q",y)),B&&(j=j.append("page",String(B))),F&&(j=j.append("pageSize",String(F))),K&&(j=j.append("state",K.toString())),G&&(j=j.append("sort",G.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:j})}getUsersLightweight(y,B,F,K,G){let j=new a.LE;return(0,x.Ew)(y)||(j=j.append("q",y)),B&&(j=j.append("page",String(B))),F&&(j=j.append("pageSize",String(F))),K&&(j=j.append("state",K.toString())),G&&(j=j.append("advancedFilters",G.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:j})}addUser(y){const B=`${this.actionUrl}/`,F=JSON.stringify(y);return this.http.post(B,F,{headers:this.headers,observe:"response"})}addInitialAdministrator(y){const B=`${this.actionUrl}/initialadmin`,F=JSON.stringify(y);return this.http.post(B,F,{headers:this.headers,observe:"response"})}getUserApps(y){return this.http.get(`${this.actionUrl}/${y}/apps`,{headers:this.headers})}revokeAllUserApps(y){return this.http.delete(`${this.actionUrl}/${y}/apps`,{headers:this.headers})}revokeSingleUserApp(y,B){return this.http.delete(`${this.actionUrl}/${y}/apps/${B}`,{headers:this.headers})}updateUser(y){const B=`${this.actionUrl}/${y.subject}`,F=JSON.stringify(y);return this.http.put(B,F,{headers:this.headers})}deleteUser(y){return this.http.delete(`${this.actionUrl}/${y.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(y,B){return this.http.post(`${this.actionUrl}/${y}/roles`,B,{headers:this.headers})}deleteUserRoles(y,B){return this.http.request("delete",`${this.actionUrl}/${y}/roles`,{headers:this.headers,body:B})}addUserClaim(y,B){return this.http.post(`${this.actionUrl}/${y}/claims`,B,{headers:this.headers})}updateUserClaim(y,B){return this.http.put(`${this.actionUrl}/${y}/claims`,B,{headers:this.headers})}deleteUserClaim(y,B){return this.http.request("delete",`${this.actionUrl}/${y}/claims`,{headers:this.headers,body:B})}resetPassword(y){return this.http.get(`${this.actionUrl}/${y}/password/reset`,{headers:this.headers})}resetMfa(y){return this.http.get(`${this.actionUrl}/${y}/mfa/reset`,{headers:this.headers})}getUserLogins(y){return this.http.get(`${this.actionUrl}/${y}/logins`,{headers:this.headers})}revokeUserLogin(y,B){return this.http.request("delete",`${this.actionUrl}/${y}/logins`,{headers:this.headers,body:B})}getLightweightUsersAndIfInRole(y,B,F,K,G){let j=new a.LE;B&&(j=j.append("state",B.toString()));const le=`${this.actionUrl}/lightweight/isinrole/${y}`;return(0,x.Ew)(F)||(j=j.append("searchTerm",F)),K&&(j=j.append("page",String(K))),G&&(j=j.append("pageSize",String(G))),this.http.get(le,{headers:this.headers,params:j})}}return U.\u0275fac=function(y){return new(y||U)(T.LFG(a.eN),T.LFG(S.s))},U.\u0275prov=T.Yz7({token:U,factory:U.\u0275fac}),U})()},3499:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>x});var a=g(4650),e=g(529),C=g(8564);let x=(()=>{class T{constructor(_,U){this.http=_,this.headersService=U,this.actionUrl="clients"}getRelyingParty(_){const U=`${this.actionUrl}/${_}/wsfed`,R=this.headersService.setHeaders();return this.http.get(U,{headers:R})}updateRelyingParty(_,U){const R=`${this.actionUrl}/${_}/wsfed`,y=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(R,U,{headers:y})}}return T.\u0275fac=function(_){return new(_||T)(a.LFG(e.eN),a.LFG(C.s))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac}),T})()},8163:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>x});var a=g(4650);const e=[[["","left",""]],[["","right",""]]],C=["[left]","[right]"];let x=(()=>{class T{}return T.\u0275fac=function(_){return new(_||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["app-action-bar"]],ngContentSelectors:C,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(_,U){1&_&&(a.F$t(e),a.TgZ(0,"div",0),a.Hsn(1),a.TgZ(2,"div",1),a.Hsn(3,1),a.qZA()())},encapsulation:2}),T})()},4022:(it,oe,g)=>{"use strict";g.d(oe,{p:()=>S});var a=g(6895),e=g(8185),C=g(5503),x=g(9066),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[a.ez,e.Bz,C.D,x.aw]}),_})()},6055:(it,oe,g)=>{"use strict";g.d(oe,{Ic:()=>e,zS:()=>C});var a=g(7340);function e(){return(0,a.X$)("fadeInOut",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0}),(0,a.jt)("250ms",(0,a.oB)({opacity:1}))]),(0,a.eR)(":leave",[(0,a.oB)({opacity:1}),(0,a.jt)("250ms",(0,a.oB)({opacity:0}))])])}function C(){return(0,a.X$)("initLoad",[(0,a.eR)(":enter",[(0,a.oB)({opacity:0}),(0,a.jt)("250ms",(0,a.oB)({opacity:1}))]),(0,a.eR)(":leave",[(0,a.oB)({opacity:1}),(0,a.jt)("250ms",(0,a.oB)({opacity:0}))])])}},8192:(it,oe,g)=>{"use strict";g.d(oe,{h:()=>y});var a=g(4006),e=g(8265),C=g(2320),x=g(9241),T=g(9066),S=g(9650),_=g(6493),U=g(6895),R=g(4650);let y=(()=>{class B{}return B.\u0275fac=function(K){return new(K||B)},B.\u0275mod=R.oAB({type:B}),B.\u0275inj=R.cJS({imports:[U.ez,e.j,a.UX,x.P4,T.aw,C.z8,S.I,_.l]}),B})()},7356:(it,oe,g)=>{"use strict";g.d(oe,{$:()=>nt});var a=g(7579),e=g(8675),C=g(5577),x=g(4006);class T{constructor(Mt,Oe,Ke,Zt){this.auditAction=Mt||"",this.subject=Oe||"",this.resourceName=Ke||"",this.source=Zt||""}}class S{constructor(Mt){this.auditAction=Mt.auditSearch.auditAction,this.subject=Mt.auditSearch.subject,this.resourceName=Mt.auditSearch.resourceName,this.source=Mt.auditSearch.source,this.fromDate=Mt.fromDate.toString(),this.toDate=Mt.toDate.toString(),this.page=Mt.page,this.pageSize=Mt.pageSize,this.sortCriteria=Mt.sortCriteria,this.success=Mt.success}}class _{constructor(Mt,Oe,Ke,Zt,tt,Ne,W){this.auditSearch=Mt,this.fromDate=Oe,this.toDate=Ke,this.page=Zt,this.pageSize=tt,this.sortCriteria=Ne,this.success=W}}var U=g(8176),R=g(1837),y=g(4650),B=g(3212),F=g(2979),K=g(8185),G=g(1060),j=g(1888),le=g(6895),Ee=g(2320),ve=g(7696),ye=g(8163),we=g(5925),re=g(4225),ce=g(9066),Ie=g(3110);function ke(Ye,Mt){1&Ye&&(y.TgZ(0,"span",62),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&Ye&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"Auditing.FromDateWarning")," "))}function Ae(Ye,Mt){1&Ye&&(y.TgZ(0,"span",63),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&Ye&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"Auditing.ToDateBehindWarning")," "))}function Ze(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"li",67)(1,"button",68),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw(2);return y.KtG(Zt.removeFilter("source"))}),y.TgZ(2,"b",69),y._uU(3),y.ALo(4,"translate"),y.qZA(),y.TgZ(5,"span"),y._uU(6),y.qZA(),y._UZ(7,"span",70),y.qZA()()}if(2&Ye){const Oe=y.oxw(2);y.xp6(3),y.hij("",y.lcZ(4,2,"Auditing.Source"),":"),y.xp6(3),y.Oqu(Oe.filterForm.get("auditSearch").get("source").value)}}function me(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"li",67)(1,"button",71),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw(2);return y.KtG(Zt.removeFilter("subject"))}),y.TgZ(2,"b",69),y._uU(3),y.ALo(4,"translate"),y.qZA(),y.TgZ(5,"span"),y._uU(6),y.qZA(),y._UZ(7,"span",70),y.qZA()()}if(2&Ye){const Oe=y.oxw(2);y.xp6(3),y.hij("",y.lcZ(4,2,"Auditing.Subject"),":"),y.xp6(3),y.Oqu(Oe.filterForm.get("auditSearch").get("subject").value)}}function he(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"li",67)(1,"button",71),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw(2);return y.KtG(Zt.removeFilter("auditAction"))}),y.TgZ(2,"b",69),y._uU(3),y.ALo(4,"translate"),y.qZA(),y.TgZ(5,"span"),y._uU(6),y.qZA(),y._UZ(7,"span",70),y.qZA()()}if(2&Ye){const Oe=y.oxw(2);y.xp6(3),y.hij("",y.lcZ(4,2,"Auditing.Action"),":"),y.xp6(3),y.Oqu(Oe.filterForm.get("auditSearch").get("auditAction").value)}}function Y(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"li",67)(1,"button",71),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw(2);return y.KtG(Zt.removeFilter("resourceName"))}),y.TgZ(2,"b",69),y._uU(3),y.ALo(4,"translate"),y.qZA(),y.TgZ(5,"span"),y._uU(6),y.qZA(),y._UZ(7,"span",70),y.qZA()()}if(2&Ye){const Oe=y.oxw(2);y.xp6(3),y.hij("",y.lcZ(4,2,"Auditing.Resource"),":"),y.xp6(3),y.Oqu(Oe.filterForm.get("auditSearch").get("resourceName").value)}}function Me(Ye,Mt){if(1&Ye&&(y.TgZ(0,"div",64)(1,"p",47),y._uU(2),y.ALo(3,"translate"),y.qZA(),y.TgZ(4,"ul",65),y.YNc(5,Ze,8,4,"li",66),y.YNc(6,me,8,4,"li",66),y.YNc(7,he,8,4,"li",66),y.YNc(8,Y,8,4,"li",66),y.qZA()()),2&Ye){const Oe=y.oxw();y.xp6(2),y.Oqu(y.lcZ(3,5,"Auditing.ActiveFilters")),y.xp6(3),y.Q6J("ngIf",Oe.filterForm.get("auditSearch").get("source").value),y.xp6(1),y.Q6J("ngIf",Oe.filterForm.get("auditSearch").get("subject").value),y.xp6(1),y.Q6J("ngIf",Oe.filterForm.get("auditSearch").get("auditAction").value),y.xp6(1),y.Q6J("ngIf",Oe.filterForm.get("auditSearch").get("resourceName").value&&!Oe.resourceOnly)}}function fe(Ye,Mt){1&Ye&&(y.TgZ(0,"span"),y._UZ(1,"span",72),y._uU(2),y.ALo(3,"translate"),y.qZA()),2&Ye&&(y.xp6(2),y.hij(" ",y.lcZ(3,1,"Auditing.ShowFilters")," "))}function xe(Ye,Mt){1&Ye&&(y.TgZ(0,"span"),y._UZ(1,"span",73),y._uU(2),y.ALo(3,"translate"),y.qZA()),2&Ye&&(y.xp6(2),y.hij(" ",y.lcZ(3,1,"Auditing.HideFilters")," "))}function Ue(Ye,Mt){1&Ye&&(y.TgZ(0,"option",74),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&Ye&&(y.xp6(1),y.Oqu(y.lcZ(2,1,"Auditing.Resource")))}function et(Ye,Mt){1&Ye&&(y.TgZ(0,"p",75),y._UZ(1,"span",76),y._uU(2),y.ALo(3,"translate"),y.qZA()),2&Ye&&(y.xp6(2),y.hij(" ",y.lcZ(3,1,"Auditing.UpdateWarning")," "))}function Qe(Ye,Mt){1&Ye&&(y.TgZ(0,"span",81)(1,"span",47),y._uU(2),y.ALo(3,"translate"),y.qZA()()),2&Ye&&(y.xp6(2),y.Oqu(y.lcZ(3,1,"Common.Loading")))}function mt(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"app-action-bar"),y.ynx(1,77),y.YNc(2,Qe,4,3,"span",78),y.TgZ(3,"button",79),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw();return y.KtG(Zt.getCSV())}),y.ALo(4,"translate"),y.TgZ(5,"span"),y._UZ(6,"span",80),y.qZA(),y.TgZ(7,"span",47),y._uU(8),y.ALo(9,"translate"),y.qZA()(),y.BQk(),y.qZA()}if(2&Ye){const Oe=y.oxw();y.xp6(2),y.Q6J("ngIf",Oe.loadingCSV),y.xp6(1),y.Q6J("tooltip",y.lcZ(4,4,"Auditing.DownloadResults"))("disabled",(null==Oe.pagedResult?null:Oe.pagedResult.results.length)<1&&!Oe.isLoading||Oe.loadingCSV),y.xp6(5),y.Oqu(y.lcZ(9,6,"Auditing.DownloadResults"))}}function $(Ye,Mt){1&Ye&&y._UZ(0,"app-simple-loader")}function be(Ye,Mt){1&Ye&&(y.TgZ(0,"div",82)(1,"div"),y._uU(2),y.ALo(3,"translate"),y.qZA()()),2&Ye&&(y.xp6(2),y.Oqu(y.lcZ(3,1,"Auditing.NoAuditsFound")))}function De(Ye,Mt){1&Ye&&(y.TgZ(0,"th",95),y._uU(1),y.ALo(2,"translate"),y.qZA()),2&Ye&&(y.xp6(1),y.hij(" ",y.lcZ(2,1,"Auditing.Resource")," "))}function qe(Ye,Mt){if(1&Ye&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&Ye){const Oe=y.oxw().$implicit;y.xp6(1),y.Oqu(Oe.subject.name)}}function ct(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"span")(1,"a",108),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw().$implicit,tt=y.oxw(2);return y.KtG(!!tt.resourceNavigate(Zt.subject))}),y._uU(2),y.qZA()()}if(2&Ye){const Oe=y.oxw().$implicit,Ke=y.oxw(2);y.xp6(1),y.s9C("href",Ke.buildLink(Oe.subject),y.LSH),y.xp6(1),y.hij(" ",Oe.subject.name," ")}}function $e(Ye,Mt){if(1&Ye&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&Ye){const Oe=y.oxw(2).$implicit;y.xp6(1),y.hij(" ",Oe.resource.name," ")}}function ut(Ye,Mt){if(1&Ye&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&Ye){const Oe=y.oxw(3).$implicit;y.xp6(1),y.Oqu(Oe.resource.identifier)}}function Vt(Ye,Mt){if(1&Ye&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&Ye){const Oe=y.oxw(3).$implicit;y.xp6(1),y.Oqu(Oe.resource.name)}}function sn(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"span")(1,"a",108),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw(2).$implicit,tt=y.oxw(2);return y.KtG(!!tt.resourceNavigate(Zt.resource))}),y.YNc(2,ut,2,1,"span",29),y.YNc(3,Vt,2,1,"span",29),y.qZA()()}if(2&Ye){const Oe=y.oxw(2).$implicit,Ke=y.oxw(2);y.xp6(1),y.s9C("href",Ke.buildLink(Oe.resource),y.LSH),y.xp6(1),y.Q6J("ngIf",""==Oe.name),y.xp6(1),y.Q6J("ngIf",""!=Oe.name)}}function rn(Ye,Mt){if(1&Ye&&(y.TgZ(0,"td",109),y.YNc(1,$e,2,1,"span",29),y.YNc(2,sn,4,3,"span",29),y.qZA()),2&Ye){const Oe=y.oxw().$implicit,Ke=y.oxw(2);y.xp6(1),y.Q6J("ngIf","*"==Oe.resource.name||""==Ke.buildLink(Oe.resource)),y.xp6(1),y.Q6J("ngIf","*"!=Oe.resource.name&&""!=Ke.buildLink(Oe.resource))}}function Cn(Ye,Mt){1&Ye&&(y.TgZ(0,"span",110)(1,"span",47),y._uU(2),y.ALo(3,"translate"),y.qZA()()),2&Ye&&(y.xp6(2),y.Oqu(y.lcZ(3,1,"Common.Yes")))}function vt(Ye,Mt){1&Ye&&(y.TgZ(0,"span",111)(1,"span",47),y._uU(2),y.ALo(3,"translate"),y.qZA()()),2&Ye&&(y.xp6(2),y.Oqu(y.lcZ(3,1,"Common.No")))}function At(Ye,Mt){1&Ye&&y._UZ(0,"span",118)}function Ge(Ye,Mt){1&Ye&&y._UZ(0,"span",119)}function xt(Ye,Mt){if(1&Ye&&(y.TgZ(0,"tr",112),y._UZ(1,"td"),y.TgZ(2,"td",113)(3,"div",114)(4,"span",115),y.YNc(5,At,1,0,"span",116),y.YNc(6,Ge,1,0,"span",117),y.qZA(),y.TgZ(7,"span"),y._uU(8),y.qZA()()()()),2&Ye){const Oe=y.oxw().$implicit;y.xp6(5),y.Q6J("ngIf",Oe.succeeded),y.xp6(1),y.Q6J("ngIf",!Oe.succeeded),y.xp6(2),y.Oqu(Oe.description)}}function Et(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.ynx(0,null,96),y.TgZ(2,"tr")(3,"td",97)(4,"button",98),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.MAs(1);return y.KtG(Zt.isOpen=!Zt.isOpen)}),y._UZ(5,"span",99),y.TgZ(6,"span",47),y._uU(7),y.ALo(8,"translate"),y.qZA()()(),y.TgZ(9,"td"),y._uU(10),y.ALo(11,"standardDateTime"),y._UZ(12,"div"),y.qZA(),y.TgZ(13,"td",100),y._uU(14),y.qZA(),y.TgZ(15,"td",101),y.YNc(16,qe,2,1,"span",29),y.YNc(17,ct,3,2,"span",29),y.qZA(),y.TgZ(18,"td",102),y._uU(19),y.qZA(),y.YNc(20,rn,3,2,"td",103),y.TgZ(21,"td",104),y.YNc(22,Cn,4,3,"span",105),y.YNc(23,vt,4,3,"span",106),y.qZA()(),y.YNc(24,xt,9,3,"tr",107),y.BQk()}if(2&Ye){const Oe=Mt.$implicit,Ke=y.MAs(1),Zt=y.oxw(2);y.xp6(5),y.ekj("fa-caret-right",!Ke.isOpen),y.xp6(2),y.hij(" ",y.lcZ(8,12,"Auditing.ToggleDetails")," "),y.xp6(3),y.hij(" ",y.lcZ(11,14,Oe.when)," "),y.xp6(4),y.hij(" ",Oe.source," "),y.xp6(2),y.Q6J("ngIf",""==Zt.buildLink(Oe.subject)),y.xp6(1),y.Q6J("ngIf",""!=Zt.buildLink(Oe.subject)),y.xp6(2),y.hij(" ",Oe.action," "),y.xp6(1),y.Q6J("ngIf",!Zt.resourceOnly),y.xp6(2),y.Q6J("ngIf",Oe.succeeded),y.xp6(1),y.Q6J("ngIf",!Oe.succeeded),y.xp6(1),y.Q6J("ngIf",Ke.isOpen)}}function _t(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"table",83)(1,"thead")(2,"tr")(3,"th",84)(4,"span",47),y._uU(5),y.ALo(6,"translate"),y.qZA()(),y.TgZ(7,"th",85),y.NdJ("click",function(){y.CHM(Oe);const Zt=y.oxw();return y.KtG(Zt.sortResults())}),y.TgZ(8,"span",86),y._uU(9),y.ALo(10,"translate"),y.qZA(),y._UZ(11,"span",87),y.qZA(),y.TgZ(12,"th",88),y._uU(13),y.ALo(14,"translate"),y.qZA(),y.TgZ(15,"th",89),y._uU(16),y.ALo(17,"translate"),y.qZA(),y.TgZ(18,"th",90),y._uU(19),y.ALo(20,"translate"),y.qZA(),y.YNc(21,De,3,3,"th",91),y.TgZ(22,"th",92),y._uU(23),y.ALo(24,"translate"),y.qZA()()(),y.TgZ(25,"tbody",93),y.YNc(26,Et,25,16,"ng-container",94),y.qZA()()}if(2&Ye){const Oe=y.oxw();y.xp6(5),y.Oqu(y.lcZ(6,10,"Common.Actions")),y.xp6(4),y.Oqu(y.lcZ(10,12,"Auditing.When")),y.xp6(2),y.ekj("fa-caret-up","when"==Oe.filterSort),y.xp6(2),y.Oqu(y.lcZ(14,14,"Auditing.Source")),y.xp6(3),y.Oqu(y.lcZ(17,16,"Auditing.Subject")),y.xp6(3),y.Oqu(y.lcZ(20,18,"Auditing.Action")),y.xp6(2),y.Q6J("ngIf",!Oe.resourceOnly),y.xp6(2),y.hij(" ",y.lcZ(24,20,"Notifications.Success")," "),y.xp6(3),y.Q6J("ngForOf",Oe.pagedResult.results)}}function Ct(Ye,Mt){if(1&Ye){const Oe=y.EpF();y.TgZ(0,"app-pager",120),y.NdJ("onGoToPage",function(Zt){y.CHM(Oe);const tt=y.oxw();return y.KtG(tt.goToPage(Zt))}),y.qZA()}if(2&Ye){const Oe=y.oxw();y.Q6J("totalResults",null==Oe.pagedResult?null:Oe.pagedResult.totalCount)("currentPage",Oe.filterForm.get("page").value)("lastPage",null==Oe.pagedResult?null:Oe.pagedResult.pageCount)}}let nt=(()=>{class Ye{constructor(Oe,Ke,Zt,tt,Ne,W,P){this.auditingService=Oe,this.localizeRouter=Ke,this.router=Zt,this.fb=tt,this.activatedRoute=Ne,this.securityService=W,this.fileDownloader=P,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new a.x}get resourceOnly(){return!(0,U.Ew)(this.resourceName)}userManagerReadOnly(){return(0,U.ub)(this.securityService.userPermissions)}identityServerManagerReadOnly(){return(0,U.gR)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,e.O)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success}),(0,C.z)(Ke=>(this.isLoading=!0,this.auditingService.getAudits(Ke.auditSearch,Ke.toDate.toString(),Ke.fromDate.toString(),Ke.page,Ke.pageSize,Ke.sortCriteria,Ke.success)))).subscribe(Ke=>{this.isLoading=!1,this.pagedResult=Ke;const Zt=new S(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:Zt})})}applyForm(Oe){Oe&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(Oe){this.filterForm.patchValue({page:Oe}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:R.ou.now().startOf("day"),toDate:R.ou.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:R.ou.now().minus({hours:24}),toDate:R.ou.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:R.ou.now().startOf("day").minus({hours:24}),toDate:R.ou.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:R.ou.now().minus({weeks:1}).startOf("day"),toDate:R.ou.now().endOf("day")})}goToResource(Oe){this.router.config.find(Zt=>void 0!==Zt.children)}auditSearch(Oe,Ke){this.filterForm.patchValue({auditSearch:{[Oe]:Ke.value}})}selectFilterType(Oe,Ke){const Zt=this.filterForm.get("auditSearch").get(Oe).value;Ke.value=Zt}removeFilter(Oe){this.filterForm.patchValue({auditSearch:{[Oe]:""}})}checkQuickDate(Oe){switch(Oe){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(R.ou.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(R.ou.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(R.ou.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(R.ou.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(R.ou.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(R.ou.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(R.ou.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(R.ou.now().endOf("day"))}}stripSecondsFromString(Oe){return this.stripSecondsFromDateTime(R.ou.fromISO(Oe))}stripSecondsFromDateTime(Oe){return Oe.set({second:0,millisecond:0}).toString()}setShowing(Oe,Ke){this.successfulFilter=Oe,this.unsuccessfulFilter=Ke,this.filter()}showActiveFilters(){const Oe=this.filterForm.get("auditSearch");return!!(Oe.get("source").value||Oe.get("subject").value||Oe.get("auditAction").value||Oe.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let Oe=`${this.auditingService.actionUrl}`;const Ke=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(Oe+=`/${this.resourceName}/auditedEvents`),Oe+=`?sort=${Ke.sortCriteria}`,(0,U.Ew)(Ke.auditAction)||(Oe+=`&auditAction=${Ke.auditAction}`),(0,U.Ew)(Ke.subject)||(Oe+=`&subject=${Ke.subject}`),(0,U.Ew)(Ke.resourceName)||(Oe+=`&resource=${Ke.resourceName}`),(0,U.Ew)(Ke.source)||(Oe+=`&source=${Ke.source}`),null!=Ke.success&&(Oe+=`&success=${Ke.success}`),null!=Ke.toDate&&(Oe+=`&to=${Ke.toDate}`),null!=Ke.fromDate&&(Oe+=`&from=${Ke.fromDate}`),Oe}sortResults(){const Oe=this.activatedRoute.snapshot.queryParams,Ke=new T(Oe.auditAction,Oe.subject,Oe.resourceName,Oe.source),Zt=void 0===Oe.fromDate?R.ou.now().startOf("day"):R.ou.fromISO(Oe.fromDate),tt=void 0===Oe.toDate?R.ou.now().startOf("day"):R.ou.fromISO(Oe.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const Ne=new _(Ke,Zt,tt,Oe.page,Oe.pageSize,this.filterSort,Oe.success);this.auditStream.next(Ne),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:R.ou.now().startOf("day"),toDate:R.ou.now(),auditSearch:{auditAction:"",resourceName:this.resourceName||"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(Oe){const Ke=void 0===Oe.fromDate?R.ou.now().startOf("day"):R.ou.fromISO(Oe.fromDate),Zt=void 0===Oe.toDate?R.ou.now().endOf("day"):R.ou.fromISO(Oe.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[Ke,[x.kI.required,U.eC]],toDate:[Zt],auditSearch:this.fb.group({auditAction:[Oe.auditAction||""],resourceName:[this.resourceName||Oe.resourceName||""],subject:[Oe.subject||""],source:[Oe.source||""]}),page:[Oe.page||1],pageSize:[Oe.pageSize>1e3?1e3:Oe.pageSize||25],sortCriteria:[Oe.sortCriteria||this.sortDesc],success:[Oe.success||null]},{validators:U.sY}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(Oe,Ke){this.router.navigate([Oe,Ke])}resourceNavigate(Oe){const Ke=this.buildTranslatedRoute(Oe);"*"!==Oe.name&&this.Navigate(Ke,Oe.identifier)}buildLink(Oe){let Ke=this.buildTranslatedRoute(Oe);return Ke+=`/${Oe.identifier}`,Ke}buildTranslatedRoute(Oe){switch(Oe.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}}return Ye.\u0275fac=function(Oe){return new(Oe||Ye)(y.Y36(B._),y.Y36(F.An),y.Y36(K.F0),y.Y36(x.qu),y.Y36(K.gz),y.Y36(G.I),y.Y36(j.B))},Ye.\u0275cmp=y.Xpm({type:Ye,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},decls:130,vars:106,consts:[["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/4"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-w-40"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],["pageLength",""],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["filterType",""],["value","source"],["value","subject"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["filterValue",""],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["sortCriteria",""],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"tooltip","disabled","click"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],[1,"tw-hidden","xl:tw-table-cell"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],["group",""],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[3,"href","click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(Oe,Ke){if(1&Oe){const Zt=y.EpF();y.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),y._uU(7),y.ALo(8,"translate"),y.qZA(),y.TgZ(9,"div"),y._UZ(10,"app-date-time",7),y.YNc(11,ke,3,3,"span",8),y.qZA()()(),y.TgZ(12,"div",4)(13,"div",5)(14,"label",9),y._uU(15),y.ALo(16,"translate"),y.qZA(),y.TgZ(17,"div"),y._UZ(18,"app-date-time",10),y.YNc(19,Ae,3,3,"span",11),y.qZA()()(),y.TgZ(20,"div",12)(21,"div",5)(22,"label",13),y._uU(23,"\xa0"),y.qZA(),y.TgZ(24,"ul",14)(25,"li")(26,"button",15),y.NdJ("click",function(){return Ke.setDateToday()}),y.ALo(27,"translate"),y._uU(28),y.ALo(29,"translate"),y.qZA()(),y.TgZ(30,"li")(31,"button",16),y.NdJ("click",function(){return Ke.setDateLast24Hours()}),y.ALo(32,"translate"),y._uU(33),y.ALo(34,"translate"),y.qZA()(),y.TgZ(35,"li")(36,"button",17),y.NdJ("click",function(){return Ke.setDateYesterday()}),y.ALo(37,"translate"),y._uU(38),y.ALo(39,"translate"),y.qZA()(),y.TgZ(40,"li")(41,"button",18),y.NdJ("click",function(){return Ke.setDateLastWeek()}),y.ALo(42,"translate"),y._uU(43),y.ALo(44,"translate"),y.qZA()()()()(),y.TgZ(45,"div",19)(46,"div",5)(47,"label",20),y._uU(48),y.ALo(49,"translate"),y.qZA(),y.TgZ(50,"div",21)(51,"select",22,23)(53,"option",24),y._uU(54,"25 "),y.qZA(),y.TgZ(55,"option",24),y._uU(56,"50"),y.qZA(),y.TgZ(57,"option",24),y._uU(58,"100"),y.qZA()()()()()(),y.TgZ(59,"form",25),y.YNc(60,Me,9,7,"div",26),y.TgZ(61,"div",27)(62,"button",28),y.NdJ("click",function(){return Ke.showAddFilter=!Ke.showAddFilter}),y.YNc(63,fe,4,3,"span",29),y.YNc(64,xe,4,3,"span",29),y.qZA(),y.TgZ(65,"div",30)(66,"div",31)(67,"div",32)(68,"div",5)(69,"label",33),y._uU(70),y.ALo(71,"translate"),y.qZA(),y.TgZ(72,"div",34)(73,"div",35)(74,"div",21)(75,"select",36,37),y.NdJ("change",function(){y.CHM(Zt);const Ne=y.MAs(76),W=y.MAs(89);return y.KtG(Ke.selectFilterType(Ne.value,W))}),y.TgZ(77,"option",38),y._uU(78),y.ALo(79,"translate"),y.qZA(),y.TgZ(80,"option",39),y._uU(81),y.ALo(82,"translate"),y.qZA(),y.TgZ(83,"option",40),y._uU(84),y.ALo(85,"translate"),y.qZA(),y.YNc(86,Ue,3,3,"option",41),y.qZA()()(),y.TgZ(87,"div",42),y._UZ(88,"input",43,44),y.ALo(90,"translate"),y.ALo(91,"translate"),y.TgZ(92,"button",45),y.NdJ("click",function(){y.CHM(Zt);const Ne=y.MAs(76),W=y.MAs(89);return y.KtG(Ke.auditSearch(Ne.value,W))}),y._UZ(93,"span",46),y.TgZ(94,"span",47),y._uU(95),y.ALo(96,"translate"),y.qZA()()()()()(),y.TgZ(97,"div",48)(98,"div",5)(99,"p",49),y._uU(100),y.ALo(101,"translate"),y.qZA(),y.TgZ(102,"ul",14)(103,"li")(104,"button",50),y.NdJ("click",function(){return Ke.setShowing(!1,!1)}),y._uU(105),y.ALo(106,"translate"),y.qZA()(),y.TgZ(107,"li")(108,"button",51),y.NdJ("click",function(){return Ke.setShowing(!0,!1)}),y._uU(109),y.ALo(110,"translate"),y.qZA()(),y.TgZ(111,"li")(112,"button",52),y.NdJ("click",function(){return Ke.setShowing(!1,!0)}),y._uU(113),y.ALo(114,"translate"),y.qZA()()()()()()()(),y.TgZ(115,"div",53),y._UZ(116,"input",54,55),y.TgZ(118,"button",56),y.NdJ("click",function(){return Ke.applyForm(!0)}),y._uU(119),y.ALo(120,"translate"),y.qZA(),y.TgZ(121,"button",57),y.NdJ("click",function(){return Ke.resetForm()}),y._uU(122),y.ALo(123,"translate"),y.qZA(),y.YNc(124,et,4,3,"p",58),y.qZA()()()(),y.YNc(125,mt,10,8,"app-action-bar",29),y.YNc(126,$,1,0,"app-simple-loader",29),y.YNc(127,be,4,3,"div",59),y.YNc(128,_t,27,22,"table",60),y.YNc(129,Ct,1,3,"app-pager",61),y.qZA()}if(2&Oe){let Zt;y.xp6(1),y.Q6J("formGroup",Ke.filterForm),y.xp6(6),y.Oqu(y.lcZ(8,58,"Auditing.FromDate")),y.xp6(3),y.Q6J("displayType","date"),y.xp6(1),y.Q6J("ngIf",Ke.filterForm.get("fromDate").hasError("dateInFuture")),y.xp6(4),y.Oqu(y.lcZ(16,60,"Auditing.ToDate")),y.xp6(3),y.Q6J("displayType","date"),y.xp6(1),y.Q6J("ngIf",Ke.filterForm.hasError("fromDateIsAfterToDate")),y.xp6(7),y.ekj("tw-btn-link",!Ke.checkQuickDate("today")),y.uIk("aria-label",y.lcZ(27,62,"Auditing.SetDateToday")),y.xp6(2),y.hij(" ",y.lcZ(29,64,"Auditing.Today")," "),y.xp6(3),y.ekj("tw-btn-link",!Ke.checkQuickDate("24hours")),y.uIk("aria-label",y.lcZ(32,66,"Auditing.SetDateLast24Hours")),y.xp6(2),y.hij(" ",y.lcZ(34,68,"Auditing.24Hours")," "),y.xp6(3),y.ekj("tw-btn-link",!Ke.checkQuickDate("yesterday")),y.uIk("aria-label",y.lcZ(37,70,"Auditing.SetDateYesterday")),y.xp6(2),y.hij(" ",y.lcZ(39,72,"Auditing.Yesterday")," "),y.xp6(3),y.ekj("tw-btn-link",!Ke.checkQuickDate("week")),y.uIk("aria-label",y.lcZ(42,74,"Auditing.SetDateLastWeek")),y.xp6(2),y.hij(" ",y.lcZ(44,76,"Auditing.Week")," "),y.xp6(5),y.Oqu(y.lcZ(49,78,"Auditing.ResultsPerPage")),y.xp6(5),y.Q6J("value",25),y.xp6(2),y.Q6J("value",50),y.xp6(2),y.Q6J("value",100),y.xp6(3),y.Q6J("ngIf",Ke.showActiveFilters()),y.xp6(3),y.Q6J("ngIf",!Ke.showAddFilter),y.xp6(1),y.Q6J("ngIf",Ke.showAddFilter),y.xp6(1),y.Q6J("hidden",!Ke.showAddFilter),y.xp6(5),y.Oqu(y.lcZ(71,80,"Auditing.AddFilter")),y.xp6(8),y.Oqu(y.lcZ(79,82,"Auditing.Source")),y.xp6(3),y.Oqu(y.lcZ(82,84,"Auditing.Subject")),y.xp6(3),y.Oqu(y.lcZ(85,86,"Auditing.Action")),y.xp6(2),y.Q6J("ngIf",!Ke.resourceOnly),y.xp6(2),y.uIk("placeholder",y.lcZ(90,88,"Auditing.FilterTermPlaceholder"))("aria-label",y.lcZ(91,90,"Auditing.AddFilterTerm")),y.xp6(7),y.Oqu(y.lcZ(96,92,"Common.Add")),y.xp6(5),y.Oqu(y.lcZ(101,94,"Auditing.Showing")),y.xp6(4),y.ekj("tw-btn-link",!(!Ke.successfulFilter&&!Ke.unsuccessfulFilter)),y.xp6(1),y.hij(" ",y.lcZ(106,96,"Permission.All")," "),y.xp6(3),y.ekj("tw-btn-link",!(Ke.successfulFilter&&!Ke.unsuccessfulFilter)),y.xp6(1),y.hij(" ",y.lcZ(110,98,"Notifications.Success")," "),y.xp6(3),y.ekj("tw-btn-link",!(Ke.unsuccessfulFilter&&!Ke.successfulFilter)),y.xp6(1),y.hij(" ",y.lcZ(114,100,"Notifications.Failure")," "),y.xp6(5),y.Q6J("disabled",(null==Ke.filterForm?null:Ke.filterForm.errors)||(null==(Zt=Ke.filterForm.get("fromDate"))?null:Zt.hasError("dateInFuture"))),y.xp6(1),y.hij(" ",y.lcZ(120,102,"Auditing.ExecuteAndDisplay")," "),y.xp6(3),y.hij(" ",y.lcZ(123,104,"Auditing.Reset")," "),y.xp6(2),y.Q6J("ngIf",Ke.filterHasChanged),y.xp6(1),y.Q6J("ngIf",!Ke.isLoading),y.xp6(1),y.Q6J("ngIf",Ke.isLoading),y.xp6(1),y.Q6J("ngIf",(null==Ke.pagedResult?null:Ke.pagedResult.results.length)<1&&!Ke.isLoading),y.xp6(1),y.Q6J("ngIf",(null==Ke.pagedResult?null:Ke.pagedResult.results.length)>0&&!Ke.isLoading),y.xp6(1),y.Q6J("ngIf",(null==Ke.pagedResult?null:Ke.pagedResult.results.length)>0&&!Ke.isLoading)}},dependencies:[le.sg,le.O5,x._Y,x.YN,x.Kr,x.EJ,x.JJ,x.JL,x.F,x.sg,x.u,x.x0,Ee.i9,ve.P,ye.K,we.w,re.j,ce.X$,Ie.C9],encapsulation:2}),Ye})()},4362:(it,oe,g)=>{"use strict";g.d(oe,{l:()=>K});var a=g(6895),e=g(2979),C=g(4006),x=g(2320),T=g(5241),S=g(9066),_=g(5785),U=g(4022),R=g(5971),y=g(5898),B=g(5503),F=g(4650);let K=(()=>{class G{}return G.\u0275fac=function(le){return new(le||G)},G.\u0275mod=F.oAB({type:G}),G.\u0275inj=F.cJS({imports:[a.ez,C.u5,C.UX,e.fQ,S.aw,T.fx,x.z8,_.U,U.p,R.s,y.T,B.D]}),G})()},6980:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>C});var a=g(6895),e=g(4650);let C=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[a.ez]}),x})()},3570:(it,oe,g)=>{"use strict";g.d(oe,{x:()=>C});var a=g(7579),e=g(4650);let C=(()=>{class x{constructor(){this.emitter=new a.x,this.eventStream=new a.x}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac}),x})()},7023:(it,oe,g)=>{"use strict";g.d(oe,{_:()=>_});var a=g(1481),e=g(388),C=g(8024),x=g(3570),T=g(9066),S=g(4650);let _=(()=>{class U{}return U.\u0275fac=function(y){return new(y||U)},U.\u0275mod=S.oAB({type:U}),U.\u0275inj=S.cJS({providers:[C.I,x.x],imports:[a.b2,e.zk,T.aw]}),U})()},8024:(it,oe,g)=>{"use strict";g.d(oe,{I:()=>e});var a=g(4650);let e=(()=>{class C{canDeactivate(T){return!T.canDeactivate||T.canDeactivate()}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac}),C})()},1696:(it,oe,g)=>{"use strict";g.d(oe,{c:()=>R});var a=g(5861),e=g(4650),C=g(8117),x=g(7185),T=g(9066),S=g(4006),_=g(7608);const U=["fileInput"];let R=(()=>{class y{constructor(F,K,G){this.certPickerService=F,this.toastr=K,this.translate=G,this.metadata="",this.dataExists=new e.vpe}ngOnInit(){}handleFileInput(F){this.fileToUpload=F.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var F=this;return(0,a.Z)(function*(){let K="";if(F.fileToUpload){const j=F.fileToUpload.slice(0),le=new FileReader,ve=new Promise(function(ye,we){le.onloadend=function(){const ce=le.result.split("base64,");ye(ce[1])}});le.readAsDataURL(j),K=yield ve}else""!==F.metadata&&(K=F.metadata);const G=yield F.tryBuildCertModel(K);return F.resetForm(F),G})()}resetForm(F){F.fileToUpload=null,F.fileInput.nativeElement.value="",F.metadata="",F.dataExists.emit(F.hasData())}tryBuildCertModel(F){var K=this;return(0,a.Z)(function*(){let G;try{const j=K.certPickerService.convertStringToArrayBuffer(F);G=yield K.certPickerService.buildCertModelFromArrayBuffer(j,F)}catch(j){throw K.toastr.error(K.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),K.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),j}return G})()}}return y.\u0275fac=function(F){return new(F||y)(e.Y36(C.S),e.Y36(x._W),e.Y36(T.sK))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-cert-reader"]],viewQuery:function(F,K){if(1&F&&e.Gf(U,7),2&F){let G;e.iGM(G=e.CRH())&&(K.fileInput=G.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"disabled","change"],["fileInput",""],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"disabled","ngModel","ngModelChange","keyup"]],template:function(F,K){1&F&&(e.TgZ(0,"app-form-row",0)(1,"div",1)(2,"input",2,3),e.NdJ("change",function(j){return K.handleFileInput(j.target.files)}),e.qZA()()(),e.TgZ(4,"div",4)(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"app-form-row",0)(9,"textarea",6),e.NdJ("ngModelChange",function(j){return K.metadata=j})("keyup",function(){return K.metaDataKeyDown()}),e._uU(10,"  "),e.qZA()()),2&F&&(e.Q6J("id","fileInput")("label",K.uploadCert)("help",K.uploadCertHelp)("isLast",!0),e.xp6(2),e.Q6J("disabled",""!=K.metadata),e.xp6(4),e.Oqu(e.lcZ(7,12,"Common.Or")),e.xp6(2),e.Q6J("id","metaData")("label",K.certMetaData)("help",K.certMetaDataHelp)("isLast",!0),e.xp6(1),e.Q6J("disabled",null!=K.fileToUpload)("ngModel",K.metadata))},dependencies:[S.Fj,S.JJ,S.On,_.L,T.X$],encapsulation:2}),y})()},2699:(it,oe,g)=>{"use strict";g.d(oe,{Y:()=>_});var a=g(5503),e=g(6895),C=g(9066),x=g(4006),T=g(9650),S=g(4650);let _=(()=>{class U{}return U.\u0275fac=function(y){return new(y||U)},U.\u0275mod=S.oAB({type:U}),U.\u0275inj=S.cJS({imports:[a.D,e.ez,C.aw,x.u5,T.I]}),U})()},8265:(it,oe,g)=>{"use strict";g.d(oe,{j:()=>S});var a=g(4006),e=g(5503),C=g(6895),x=g(9066),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[C.ez,a.u5,e.D,x.aw]}),_})()},1230:(it,oe,g)=>{"use strict";g.d(oe,{M:()=>T});var a=g(6895),e=g(9066),C=g(8185),x=g(4650);let T=(()=>{class S{}return S.\u0275fac=function(U){return new(U||S)},S.\u0275mod=x.oAB({type:S}),S.\u0275inj=x.cJS({imports:[a.ez,e.aw,C.Bz]}),S})()},6478:(it,oe,g)=>{"use strict";g.d(oe,{v:()=>x});var a=g(4650),e=g(8185);const C=["*"];let x=(()=>{class T{constructor(_){this.activatedRoute=_,this.active=!1}ngOnInit(){const _=this.activatedRoute.snapshot;null!==_.firstChild&&null!==_.firstChild.routeConfig&&_.firstChild.routeConfig.path===this.value&&(this.active=!0)}}return T.\u0275fac=function(_){return new(_||T)(a.Y36(e.gz))},T.\u0275cmp=a.Xpm({type:T,selectors:[["app-custom-tab"]],inputs:{title:["tabTitle","title"],value:["tabValue","value"]},ngContentSelectors:C,decls:1,vars:0,template:function(_,U){1&_&&(a.F$t(),a.Hsn(0))},encapsulation:2}),T})()},7073:(it,oe,g)=>{"use strict";g.d(oe,{x:()=>y});var a=g(6478),e=g(4650),C=g(8185),x=g(6895),T=g(9066);const S=function(B,F){return{tabs__item:B,"pill-tabs__item":F}},_=function(B,F){return{tabs__link:B,"pill-tabs__link":F}};function U(B,F){if(1&B){const K=e.EpF();e.TgZ(0,"li",2)(1,"button",3),e.NdJ("click",function(){const le=e.CHM(K).$implicit,Ee=e.oxw();return e.KtG(Ee.changeTab(le))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&B){const K=F.$implicit,G=e.oxw();e.Q6J("ngClass",e.WLB(9,S,!G.pillMode,G.pillMode)),e.xp6(1),e.ekj("active",K.active),e.Q6J("ngClass",e.WLB(12,_,!G.pillMode,G.pillMode)),e.uIk("data-value",K.value)("aria-selected",K.active),e.xp6(1),e.Oqu(e.lcZ(3,7,K.title))}}const R=function(B,F){return{tabs:B,"pill-tabs":F}};let y=(()=>{class B{constructor(K,G){this.router=K,this.activatedRoute=G,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const K=this.tabs.filter(G=>G.active);K&&!K.length&&this.changeTab(this.tabs.first)}changeTab(K){!this.tabs||!this.tabs.length||K.active||(this.setActiveTab(K),this.router.navigate([K.value],{relativeTo:this.activatedRoute}))}setActiveTab(K){this.tabs.toArray().forEach(G=>G.active=!1),K.active=!0}}return B.\u0275fac=function(K){return new(K||B)(e.Y36(C.F0),e.Y36(C.gz))},B.\u0275cmp=e.Xpm({type:B,selectors:[["app-custom-tabs"]],contentQueries:function(K,G,j){if(1&K&&e.Suo(j,a.v,4),2&K){let le;e.iGM(le=e.CRH())&&(G.tabs=le)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"ngClass","click"]],template:function(K,G){1&K&&(e.TgZ(0,"ul",0),e.ALo(1,"translate"),e.YNc(2,U,4,15,"li",1),e.qZA()),2&K&&(e.Q6J("ngClass",e.WLB(5,R,!G.pillMode,G.pillMode)),e.uIk("aria-label",e.lcZ(1,3,"Nav.SubMenu")),e.xp6(2),e.Q6J("ngForOf",G.tabs))},dependencies:[x.mk,x.sg,T.X$],encapsulation:2}),B})()},2808:(it,oe,g)=>{"use strict";g.d(oe,{E:()=>_,X:()=>S});var a=g(4650),e=g(3110),C=g(4837),x=g(4456),T=g(8285);class S{constructor(R=x.T.standardDate,y="Common.NoDateSet"){this._datePipe=new e.g9,this.noDateLabel=y??"Common.NoDateSet",this._datePipe=(()=>{switch(R){case x.T.standardDate:return new e.g9;case x.T.standardDateTime:return new e.C9;case x.T.prettyDateTime:return new e.Xm;default:return new e.g9}})()}get datePipe(){return this._datePipe}}let _=(()=>{class U{constructor(y){this.dataTableService=y,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new a.vpe}ngOnDestroy(){this.dataTableSub.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(y=>{null!=this.sort&&this.setSort(y)})}get dateColumn(){return"boolean"==typeof this.date?new S:this.date}format(y){return void 0!==this.formatter?this.formatter(y):y}get sortClass(){if(null==this.sort)return"";switch(this.sort){case C.JN.None:return"fad fa-sort";case C.JN.Ascending:return"fas fa-caret-up";case C.JN.Descending:return"fas fa-caret-down"}}setSort(y){this.sort=y==this.prop?this.sort==C.JN.Descending?C.JN.Ascending:C.JN.Descending:C.JN.None}}return U.\u0275fac=function(y){return new(y||U)(a.Y36(T.n))},U.\u0275cmp=a.Xpm({type:U,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(y,B){},encapsulation:2}),U})()},572:(it,oe,g)=>{"use strict";g.d(oe,{Qj:()=>et,Xz:()=>Qe});var a=g(4650),e=g(2808),C=g(8185),x=g(8285),T=g(6895),S=g(9066);const _=["selectButton"],U=["deleteButton"];function R($,be){if(1&$&&(a.TgZ(0,"div",2),a._UZ(1,"div",3),a.ALo(2,"translate"),a.qZA()),2&$){const De=a.oxw();a.xp6(1),a.Q6J("innerHTML",a.lcZ(2,1,De.noRowsLabel),a.oJD)}}function y($,be){if(1&$&&a._UZ(0,"span",9),2&$){const De=a.oxw().$implicit;a.Q6J("ngClass",De.sortClass)}}const B=function($){return{"tw-mr-2":$}};function F($,be){if(1&$){const De=a.EpF();a.TgZ(0,"th",8),a.NdJ("click",function(){const $e=a.CHM(De).$implicit,ut=a.oxw(2);return a.KtG(ut.sortColumn($e))}),a.TgZ(1,"span",9),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.YNc(4,y,1,1,"span",10),a.qZA()}if(2&$){const De=be.$implicit;a.Q6J("className",De.headClasses),a.xp6(1),a.Q6J("ngClass",a.VKq(6,B,null!=De.sort)),a.xp6(1),a.Oqu(a.lcZ(3,4,De.title)),a.xp6(2),a.Q6J("ngIf",null!=De.sort)}}function K($,be){1&$&&(a.TgZ(0,"th",11)(1,"span",12),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&$&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"Common.Actions")))}function G($,be){if(1&$&&(a.ynx(0),a._uU(1),a.BQk()),2&$){const De=a.oxw(3).$implicit;a.xp6(1),a.hij(" ",De," ")}}function j($,be){if(1&$&&(a.ynx(0),a._uU(1),a.BQk()),2&$){const De=a.oxw(4).$implicit,qe=a.oxw().$implicit;a.xp6(1),a.hij(" ",De.dateColumn.datePipe.transform(qe[De.prop])," ")}}function le($,be){if(1&$&&(a._uU(0),a.ALo(1,"translate")),2&$){const De=a.oxw(4).$implicit;a.hij(" ",a.lcZ(1,1,De.dateColumn.noDateLabel)," ")}}function Ee($,be){if(1&$&&(a.ynx(0),a.YNc(1,j,2,1,"ng-container",16),a.YNc(2,le,2,3,"ng-template",null,18,a.W1O),a.BQk()),2&$){const De=a.MAs(3),qe=a.oxw(3).$implicit,ct=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",ct[qe.prop])("ngIfElse",De)}}function ve($,be){if(1&$){const De=a.EpF();a.ynx(0),a.TgZ(1,"a",20),a.NdJ("click",function(){a.CHM(De);const ct=a.oxw(5).$implicit,$e=a.oxw(2);return a.KtG(!!$e.clickLinkCell(ct.link))}),a._uU(2),a.qZA(),a.BQk()}if(2&$){const De=a.oxw(4).$implicit,qe=a.oxw().$implicit;a.xp6(1),a.s9C("href",qe.routeLink,a.LSH),a.xp6(1),a.hij(" ",qe[De.prop]," ")}}function ye($,be){if(1&$&&a._UZ(0,"span",21),2&$){const De=a.oxw(4).$implicit,qe=a.oxw().$implicit;a.Q6J("innerHTML",De.format(qe[De.prop]),a.oJD)}}function we($,be){if(1&$&&(a.YNc(0,ve,3,2,"ng-container",16),a.YNc(1,ye,1,1,"ng-template",null,19,a.W1O)),2&$){const De=a.MAs(2),qe=a.oxw(3).$implicit;a.Q6J("ngIf",qe.link)("ngIfElse",De)}}function re($,be){if(1&$&&(a.ynx(0),a.YNc(1,Ee,4,2,"ng-container",16),a.YNc(2,we,3,2,"ng-template",null,17,a.W1O),a.BQk()),2&$){const De=a.MAs(3),qe=a.oxw(2).$implicit;a.xp6(1),a.Q6J("ngIf",qe.date)("ngIfElse",De)}}function ce($,be){if(1&$&&(a.ynx(0),a.YNc(1,G,2,1,"ng-container",15),a.YNc(2,re,4,2,"ng-container",15),a.BQk()),2&$){const De=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",null==De.prop),a.xp6(1),a.Q6J("ngIf",null!=De.prop)}}function Ie($,be){if(1&$&&(a.ynx(0),a.TgZ(1,"span",22),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.BQk()),2&$){const De=a.oxw().$implicit;a.xp6(2),a.Oqu(a.lcZ(3,1,De.placeholder))}}function ke($,be){1&$&&(a.TgZ(0,"span",25)(1,"span",12),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&$&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"Common.Yes")))}function Ae($,be){1&$&&(a.TgZ(0,"span",26)(1,"span",12),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&$&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"Common.No")))}function Ze($,be){if(1&$&&(a.ynx(0),a.YNc(1,ke,4,3,"span",23),a.YNc(2,Ae,4,3,"span",24),a.BQk()),2&$){const De=a.oxw().$implicit,qe=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",qe[De.prop]),a.xp6(1),a.Q6J("ngIf",!qe[De.prop])}}function me($,be){if(1&$&&(a.TgZ(0,"td",14),a.YNc(1,ce,3,2,"ng-container",15),a.YNc(2,Ie,4,3,"ng-container",15),a.YNc(3,Ze,3,2,"ng-container",15),a.qZA()),2&$){const De=be.$implicit;a.Q6J("className",De.cellClasses),a.uIk("data-label",De.title),a.xp6(1),a.Q6J("ngIf",!De.isPlaceholder&&!De.isBoolean),a.xp6(1),a.Q6J("ngIf",De.isPlaceholder),a.xp6(1),a.Q6J("ngIf",De.isBoolean)}}function he($,be){if(1&$){const De=a.EpF();a.TgZ(0,"button",30,31),a.NdJ("click",function(){a.CHM(De);const ct=a.oxw(2).$implicit,$e=a.oxw(2);return a.KtG($e.selectRow(ct))}),a._UZ(2,"span",32),a.TgZ(3,"span",12),a._uU(4),a.ALo(5,"translate"),a.qZA()()}2&$&&(a.xp6(4),a.Oqu(a.lcZ(5,1,"Common.Edit")))}function Y($,be){if(1&$){const De=a.EpF();a.TgZ(0,"button",33,34),a.NdJ("click",function(){a.CHM(De);const ct=a.oxw(2).index,$e=a.oxw(2);return a.KtG($e.deleteRow(ct))}),a._UZ(2,"span",35),a.TgZ(3,"span",12),a._uU(4),a.ALo(5,"translate"),a.qZA()()}2&$&&(a.xp6(4),a.Oqu(a.lcZ(5,1,"Common.Remove.Title")))}function Me($,be){if(1&$&&(a.TgZ(0,"td",11)(1,"div",27),a.YNc(2,he,6,3,"button",28),a.YNc(3,Y,6,3,"button",29),a.qZA()()),2&$){const De=a.oxw(3);a.xp6(2),a.Q6J("ngIf",De.canSelect),a.xp6(1),a.Q6J("ngIf",De.canDelete)}}function fe($,be){if(1&$&&(a.TgZ(0,"tr"),a.YNc(1,me,4,5,"td",13),a.YNc(2,Me,4,2,"td",6),a.qZA()),2&$){const De=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",De.columns),a.xp6(1),a.Q6J("ngIf",De.actions)}}const xe=function($){return{hover:$}};function Ue($,be){if(1&$&&(a.TgZ(0,"table",4)(1,"thead")(2,"tr"),a.YNc(3,F,5,8,"th",5),a.YNc(4,K,4,3,"th",6),a.qZA()(),a.TgZ(5,"tbody"),a.YNc(6,fe,3,2,"tr",7),a.qZA()()),2&$){const De=a.oxw();a.Q6J("ngClass",a.VKq(4,xe,!De.isReadOnly)),a.xp6(3),a.Q6J("ngForOf",De.columns),a.xp6(1),a.Q6J("ngIf",De.actions),a.xp6(2),a.Q6J("ngForOf",De.rows)}}let et=(()=>{class ${constructor(De,qe){this.router=De,this.dataTableService=qe,this.onSelect=new a.vpe}set isReadOnly(De){this._isReadOnly=De||!1}get isReadOnly(){return this._isReadOnly}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Qe.Delete),this.canSelect=this.actions.includes(Qe.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(De){this.canDelete&&this.dataTableService.deleteRowEvent.next(De)}selectRow(De){if(this.canSelect){const qe=new mt(De,this.selectButtonRef);this.onSelect.emit(qe)}}clickLinkCell(De){this.router.navigate([`${De.routeForLink}`,De.identifier])}sortColumn(De){(null!=De.sort||null!=De.sort)&&this.dataTableService.sortColumnEvent.next(De)}}return $.\u0275fac=function(De){return new(De||$)(a.Y36(C.F0),a.Y36(x.n))},$.\u0275cmp=a.Xpm({type:$,selectors:[["app-data-table"]],contentQueries:function(De,qe,ct){if(1&De&&a.Suo(ct,e.E,4),2&De){let $e;a.iGM($e=a.CRH())&&(qe.columns=$e)}},viewQuery:function(De,qe){if(1&De&&(a.Gf(_,5),a.Gf(U,5)),2&De){let ct;a.iGM(ct=a.CRH())&&(qe.selectButtonRef=ct.first),a.iGM(ct=a.CRH())&&(qe.deleteButtonRef=ct.first)}},inputs:{noRowsLabel:["norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect"},decls:2,vars:2,consts:[["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"className","click"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],[3,"href","click"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["selectButton",""],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["deleteButton",""],["aria-hidden","true",1,"fas","fa-times"]],template:function(De,qe){1&De&&(a.YNc(0,R,3,3,"div",0),a.YNc(1,Ue,7,6,"table",1)),2&De&&(a.Q6J("ngIf",(null==qe.rows?null:qe.rows.length)<1),a.xp6(1),a.Q6J("ngIf",(null==qe.rows?null:qe.rows.length)>0))},dependencies:[T.mk,T.sg,T.O5,S.X$],encapsulation:2}),$})();var Qe=(()=>{return($=Qe||(Qe={})).Delete="Delete",$.Select="Select",Qe;var $})();class mt{constructor(be,De=null){this.data=be,this.element=De}}},4380:(it,oe,g)=>{"use strict";g.d(oe,{t:()=>_});var a=g(9066),e=g(6895),C=g(2320),x=g(5503),T=g(8285),S=g(4650);let _=(()=>{class U{}return U.\u0275fac=function(y){return new(y||U)},U.\u0275mod=S.oAB({type:U}),U.\u0275inj=S.cJS({providers:[T.n],imports:[e.ez,a.aw,C.z8,x.D]}),U})()},8285:(it,oe,g)=>{"use strict";g.d(oe,{n:()=>C});var a=g(7579),e=g(4650);let C=(()=>{class x{constructor(){this.sortColumnEvent=new a.x,this.sortCompletedEvent=new a.x,this.deleteRowEvent=new a.x}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},4225:(it,oe,g)=>{"use strict";g.d(oe,{V:()=>Ee,j:()=>ve});var a=g(4650),e=g(4006),C=g(1837),x=g(8176),T=g(6895);function S(ye,we){1&ye&&a.GkF(0)}function _(ye,we){if(1&ye&&(a.TgZ(0,"div",4),a.YNc(1,S,1,0,"ng-container",5),a.qZA()),2&ye){a.oxw();const re=a.MAs(5);a.xp6(1),a.Q6J("ngTemplateOutlet",re)}}function U(ye,we){1&ye&&a.GkF(0)}function R(ye,we){1&ye&&a.GkF(0)}function y(ye,we){if(1&ye&&(a.TgZ(0,"div",6)(1,"div",7),a.YNc(2,U,1,0,"ng-container",5),a.qZA(),a.TgZ(3,"div",8),a.YNc(4,R,1,0,"ng-container",5),a.qZA()()),2&ye){a.oxw();const re=a.MAs(7),ce=a.MAs(5);a.xp6(2),a.Q6J("ngTemplateOutlet",re),a.xp6(2),a.Q6J("ngTemplateOutlet",ce)}}function B(ye,we){1&ye&&a.GkF(0)}function F(ye,we){if(1&ye&&(a.TgZ(0,"div",6),a.YNc(1,B,1,0,"ng-container",5),a.qZA()),2&ye){a.oxw();const re=a.MAs(7);a.xp6(1),a.Q6J("ngTemplateOutlet",re)}}function K(ye,we){if(1&ye&&(a.TgZ(0,"option",15),a._uU(1),a.ALo(2,"number"),a.qZA()),2&ye){const re=we.index;a.Q6J("value",re),a.xp6(1),a.Oqu(a.xi3(2,2,re,"2.0"))}}function G(ye,we){if(1&ye&&(a.TgZ(0,"option",15),a._uU(1),a.ALo(2,"number"),a.qZA()),2&ye){const re=we.index;a.Q6J("value",re),a.xp6(1),a.Oqu(a.xi3(2,2,re,"2.0"))}}function j(ye,we){if(1&ye){const re=a.EpF();a.TgZ(0,"label",9),a._uU(1,"Hours"),a.qZA(),a.TgZ(2,"div",10)(3,"select",11),a.NdJ("ngModelChange",function(Ie){a.CHM(re);const ke=a.oxw();return a.KtG(ke.onHoursChange(Ie))}),a.TgZ(4,"option",12),a._uU(5,"HH"),a.qZA(),a.YNc(6,K,3,5,"option",13),a.qZA()(),a.TgZ(7,"span",14),a._uU(8,":"),a.qZA(),a.TgZ(9,"label",9),a._uU(10,"Minutes"),a.qZA(),a.TgZ(11,"div",10)(12,"select",11),a.NdJ("ngModelChange",function(Ie){a.CHM(re);const ke=a.oxw();return a.KtG(ke.onMinutesChange(Ie))}),a.TgZ(13,"option",12),a._uU(14,"MM"),a.qZA(),a.YNc(15,G,3,5,"option",13),a.qZA()()}if(2&ye){const re=a.oxw();a.Q6J("for",re.id+"-time-hours"),a.xp6(3),a.Q6J("id",re.id+"-time-hours")("ngModel",re.hours),a.xp6(1),a.Q6J("value",void 0),a.xp6(2),a.Q6J("ngForOf",re.counter(23)),a.xp6(3),a.Q6J("for",re.id+"-time-minutes"),a.xp6(3),a.Q6J("id",re.id+"-time-minutes")("ngModel",re.minutes),a.xp6(1),a.Q6J("value",void 0),a.xp6(2),a.Q6J("ngForOf",re.counter(59))}}function le(ye,we){if(1&ye){const re=a.EpF();a.TgZ(0,"input",16),a.NdJ("ngModelChange",function(Ie){a.CHM(re);const ke=a.oxw();return a.KtG(ke.onDateChange(Ie))})("keyup",function(Ie){a.CHM(re);const ke=a.oxw();return a.KtG(ke.onKeyUp(Ie))}),a.qZA()}if(2&ye){const re=a.oxw();a.Q6J("id",re.id+"-date")("ngModel",re.stringDate),a.uIk("required",re.required?"":null)("min",re.minDate)("max",re.maxDate)}}var Ee=(()=>{return(ye=Ee||(Ee={})).Date="date",ye.Time="time",ye.DateTime="datetime",Ee;var ye})();let ve=(()=>{class ye{constructor(){this.id=(0,x.qs)(),this.displayType=Ee.DateTime,this.required=!1,this.disabled=!1,this.keyup=new a.vpe,this.onChange=re=>{},this.onTouched=()=>{}}set value(re){this.setDate(re)}set min(re){this.minDate=this.toMinMaxDateString(re)}set max(re){this.maxDate=this.toMinMaxDateString(re)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(re){this.setDate(re)}registerOnChange(re){this.onChange=re}registerOnTouched(re){this.onTouched=re}setDisabledState(re){this.disabled=re}get opacity(){return this.disabled?.25:1}validate(re){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(re){this.keyup.emit(re)}onHoursChange(re){this.date=this.date?this.date.set({hour:re}):C.ou.now().set({hour:re}),this.onChange(this.date.toString())}onMinutesChange(re){this.date=this.date?this.date.set({minute:re}):C.ou.now().set({minute:re}),this.onChange(this.date.toString())}onDateChange(re){this.stringDate=re;let ce=C.ou.fromFormat(re,"yyyy-MM-dd");ce.isValid&&(this.date=this.date?this.date.set({year:ce.year,month:ce.month,day:ce.day}):ce,this.onChange(this.date.toString()))}counter(re){return new Array(re+1)}setDate(re){if(re){if(re instanceof C.ou&&(this.date=re),"string"==typeof re){const ce=C.ou.fromISO(re);this.date=ce.isValid?ce:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(re){let ce;return ce=re instanceof C.ou?re:C.ou.fromISO(re.toString()),ce.toFormat("yyyy-MM-dd")}}return ye.\u0275fac=function(re){return new(re||ye)},ye.\u0275cmp=a.Xpm({type:ye,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(re,ce){2&re&&a.Udp("opacity",ce.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[a._Bn([{provide:e.JU,useExisting:(0,a.Gpc)(()=>ye),multi:!0},{provide:e.Cf,useExisting:(0,a.Gpc)(()=>ye),multi:!0}])],decls:8,vars:3,consts:[["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],["timeTemplate",""],["dateTemplate",""],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"id","ngModel","ngModelChange"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"id","ngModel","ngModelChange","keyup"]],template:function(re,ce){1&re&&(a.TgZ(0,"div"),a.YNc(1,_,2,1,"div",0),a.YNc(2,y,5,2,"div",1),a.YNc(3,F,2,1,"div",1),a.YNc(4,j,16,10,"ng-template",null,2,a.W1O),a.YNc(6,le,1,5,"ng-template",null,3,a.W1O),a.qZA()),2&re&&(a.xp6(1),a.Q6J("ngIf","time"==ce.displayType),a.xp6(1),a.Q6J("ngIf","datetime"==ce.displayType),a.xp6(1),a.Q6J("ngIf","date"==ce.displayType))},dependencies:[T.sg,T.O5,T.tP,e.YN,e.Kr,e.Fj,e.EJ,e.JJ,e.Q7,e.On,T.JJ],encapsulation:2}),ye})()},5898:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>S});var a=g(6895),e=g(5503),C=g(9066),x=g(4006),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[a.ez,x.u5,e.D,C.aw]}),_})()},85:(it,oe,g)=>{"use strict";g.d(oe,{e:()=>S});var a=g(7185),e=g(8185),C=g(9066),x=g(4650),T=g(2979);let S=(()=>{class _{constructor(R){this.injector=R}handleError(R){if((0,x.X6Q)())console.log(R);else{const y=this.injector.get(e.F0),B=this.injector.get(a._W),F=this.injector.get(C.sK),K=this.injector.get(T.An);B.info(F.instant("Notifications.Support")),B.info(F.instant("Notifications.Apology"),F.instant("Notifications.Sorry"));const G=K.translateRoute("/home");y.navigateByUrl(G)}}}return _.\u0275fac=function(R){return new(R||_)(x.LFG(x.zs3))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac}),_})()},9650:(it,oe,g)=>{"use strict";g.d(oe,{I:()=>x});var a=g(6895),e=g(9066),C=g(4650);let x=(()=>{class T{}return T.\u0275fac=function(_){return new(_||T)},T.\u0275mod=C.oAB({type:T}),T.\u0275inj=C.cJS({imports:[a.ez,e.aw]}),T})()},7608:(it,oe,g)=>{"use strict";g.d(oe,{L:()=>y});var a=g(4650),e=g(6895),C=g(9066);function x(B,F){if(1&B&&(a._UZ(0,"span",7),a.ALo(1,"translate")),2&B){const K=a.oxw(2);a.Q6J("innerHtml",a.lcZ(1,1,K.helpText),a.oJD)}}function T(B,F){if(1&B&&(a.TgZ(0,"label",4)(1,"span",5),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.YNc(4,x,2,3,"span",6),a.qZA()),2&B){const K=a.oxw();a.Q6J("for",K.idFor),a.xp6(2),a.Oqu(a.lcZ(3,3,K.labelText)),a.xp6(2),a.Q6J("ngIf",K.showHelpText)}}function S(B,F){if(1&B&&(a._UZ(0,"span",7),a.ALo(1,"translate")),2&B){const K=a.oxw(2);a.Q6J("innerHtml",a.lcZ(1,1,K.helpText),a.oJD)}}function _(B,F){if(1&B&&(a.TgZ(0,"p",8)(1,"span",5),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.YNc(4,S,2,3,"span",6),a.qZA()),2&B){const K=a.oxw();a.xp6(2),a.Oqu(a.lcZ(3,2,K.labelText)),a.xp6(2),a.Q6J("ngIf",K.showHelpText)}}const U=function(B){return{"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":B}},R=["*"];let y=(()=>{class B{constructor(){this.helpText="",this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}}return B.\u0275fac=function(K){return new(K||B)},B.\u0275cmp=a.Xpm({type:B,selectors:[["app-form-row"]],inputs:{idFor:["id","idFor"],labelText:["label","labelText"],helpText:["help","helpText"],isLast:"isLast"},ngContentSelectors:R,decls:5,vars:5,consts:[[1,"tw-form-row-border",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(K,G){1&K&&(a.F$t(),a.TgZ(0,"div",0),a.YNc(1,T,5,5,"label",1),a.YNc(2,_,5,4,"p",2),a.TgZ(3,"div",3),a.Hsn(4),a.qZA()()),2&K&&(a.Q6J("ngClass",a.VKq(3,U,G.isLast)),a.xp6(1),a.Q6J("ngIf",G.idFor),a.xp6(1),a.Q6J("ngIf",!G.idFor))},dependencies:[e.mk,e.O5,C.X$],encapsulation:2}),B})()},799:(it,oe,g)=>{"use strict";g.d(oe,{O:()=>S});var a=g(4650),e=g(6895);const C=function(_,U){return{"tw-form-switch__slider--traffic":_,"tw-form-switch__slider--alt":U}},x=function(_,U){return{"tw-form-switch__state--traffic":_,"tw-form-switch__state--alt":U}},T=["*"];let S=(()=>{class _{constructor(){this.isAlt=!1,this.isTraffic=!1}}return _.\u0275fac=function(R){return new(R||_)},_.\u0275cmp=a.Xpm({type:_,selectors:[["app-form-toggle"]],inputs:{idFor:["id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:T,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(R,y){1&R&&(a.F$t(),a.TgZ(0,"label",0),a.Hsn(1),a.TgZ(2,"span",1),a._UZ(3,"span",2),a.qZA()()),2&R&&(a.Q6J("for",y.idFor),a.xp6(2),a.Q6J("ngClass",a.WLB(3,C,y.isTraffic,y.isAlt)),a.xp6(1),a.Q6J("ngClass",a.WLB(6,x,y.isTraffic,y.isAlt)))},dependencies:[e.mk],encapsulation:2}),_})()},8176:(it,oe,g)=>{"use strict";g.d(oe,{AZ:()=>_,Ew:()=>x,Fd:()=>K,GA:()=>Ee,Hr:()=>ke,RW:()=>T,SV:()=>ve,X1:()=>C,Zr:()=>Ie,eC:()=>G,gR:()=>ye,hC:()=>we,lm:()=>U,mn:()=>R,qs:()=>B,ry:()=>F,sY:()=>j,ub:()=>re});var a=g(1206),e=g(1837);function C(Ae,Ze){return`${e.ou.fromISO(Ae).toFormat(Ze)} UTC`}function x(Ae){return null==Ae||"string"!=typeof Ae||""===Ae||null!==Ae.match(/^ *$/)}function T(Ae){const Ze=document.createElement("a");return Ze.href=Ae,Ze.protocol+"//"+decodeURIComponent(Ze.host)}function _(Ae){const me=new RegExp("(^https?://|urn:|tcp://)").exec(Ae);if(me){if("urn:"===me[0])return!1}else Ae="http://"+Ae;const he=Ae.split("/");return Ae.endsWith("/")?he.length>4:he.length>3}function U(Ae){const me=new RegExp("https?://|urn:|tcp://").exec(Ae);return me?me[0]:null}function R(Ae,Ze){const me=JSON.parse(JSON.stringify(Ae));return Ze.forEach(he=>{let Y=me.length;for(;Y--;)me[Y].name===he.name&&me.splice(Y,1)}),me}function B(){let Ae=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(Ae+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(Ze){const me=(Ae+16*Math.random())%16|0;return Ae=Math.floor(Ae/16),("x"===Ze?me:3&me|8).toString(16)})}function F(Ae){return Ze=>Ae.test(Ze.value)?null:{regex:{value:Ze.value}}}function K(){return Ae=>0===(Ae.value||"").trim().length?{whitespace:{value:Ae.value}}:null}function G(Ae){const Ze=e.ou.now();return e.ou.fromISO(Ae.value).diff(Ze).milliseconds>1?{dateInFuture:!0}:null}function j(Ae){const Ze=e.ou.fromISO(Ae.get("fromDate").value);return e.ou.fromISO(Ae.get("toDate").value).diff(Ze,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function Ee(Ae){if(Ae&&Ae.size>0){const Ze={};return Ae.forEach((me,he)=>{Ze[he]=me}),Ze}return{}}function ve(){const Ae=document.getElementsByTagName("base")[0].attributes.href.value;return x(Ae)?"/":Ae.endsWith("/")?Ae:`${Ae}/`}function ye(Ae){return!(!Ae||0===Ae.length)&&(Ae.includes(a.y.IdentityServerManagerReadOnly)||Ae.includes(a.y.AllReadOnly))&&!(Ae.includes(a.y.IdentityServerManager)||Ae.includes(a.y.All))}function we(Ae){return!(!Ae||0===Ae.length)&&(Ae.includes(a.y.IdentityServerManager)||Ae.includes(a.y.All))}function re(Ae){return!(!Ae||0===Ae.length)&&(Ae.includes(a.y.UserManagerReadOnly)||Ae.includes(a.y.AllReadOnly))&&!(Ae.includes(a.y.UserManager)||Ae.includes(a.y.All))}function Ie(Ae){return!(!Ae||0===Ae.length)&&Ae.includes(a.y.All)}function ke(Ae){return!(!Ae||0===Ae.length)&&Ae.includes(a.y.AllReadOnly)&&!Ae.includes(a.y.All)}},1274:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>S});var a=g(6895),e=g(2979),C=g(4006),x=g(9066),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[a.ez,C.u5,C.UX,e.fQ,x.aw]}),_})()},8975:(it,oe,g)=>{"use strict";g.d(oe,{d:()=>S});var a=g(6895),e=g(9066),C=g(6980),x=g(4022),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[a.ez,e.aw,C.K,x.p]}),_})()},965:(it,oe,g)=>{"use strict";g.d(oe,{R:()=>ke});var a=g(4650),e=g(6895),C=g(7579),x=g(4968),T=g(2722),S=g(4004),_=g(8675),U=g(9300),R=g(1365);const y=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var K=g(5259),G=g(1923),j=g(6219),le=g(9066);function Ee(Ae,Ze){if(1&Ae){const me=a.EpF();a.TgZ(0,"button",16),a.NdJ("click",function(){a.CHM(me);const Y=a.oxw();return a.KtG(Y.cancel())}),a._UZ(1,"span",17),a.TgZ(2,"span",18),a._uU(3),a.ALo(4,"translate"),a.qZA()()}2&Ae&&(a.xp6(3),a.Oqu(a.lcZ(4,1,"Common.Close")))}function ve(Ae,Ze){if(1&Ae){const me=a.EpF();a.TgZ(0,"button",19),a.NdJ("click",function(){a.CHM(me);const Y=a.oxw();return a.KtG(Y.save())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&Ae){const me=a.oxw();a.Q6J("disabled",me.addDisabled),a.xp6(1),a.hij(" ",a.lcZ(2,2,me.saveText)," ")}}function ye(Ae,Ze){if(1&Ae){const me=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(){a.CHM(me);const Y=a.oxw();return a.KtG(Y.delete())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}if(2&Ae){const me=a.oxw();a.Q6J("disabled",me.deleteDisabled),a.xp6(1),a.hij(" ",a.lcZ(2,2,me.deleteText)," ")}}function we(Ae,Ze){if(1&Ae){const me=a.EpF();a.TgZ(0,"div",21)(1,"button",22),a.NdJ("click",function(){a.CHM(me);const Y=a.oxw();return a.KtG(Y.saveAndReAdd())}),a._uU(2),a.ALo(3,"translate"),a.qZA()()}if(2&Ae){const me=a.oxw();a.xp6(1),a.Q6J("disabled",me.addDisabled),a.xp6(1),a.hij(" ",a.lcZ(3,2,me.saveAndReAddText)," ")}}function re(Ae,Ze){if(1&Ae){const me=a.EpF();a.TgZ(0,"button",23),a.NdJ("click",function(){a.CHM(me);const Y=a.oxw();return a.KtG(Y.cancel())}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&Ae&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.Cancel")," "))}function ce(Ae,Ze){1&Ae&&a._UZ(0,"div",24)}const Ie=["*"];let ke=(()=>{class Ae{constructor(me,he,Y){this.document=me,this.elRef=he,this.modalService=Y,this.hideCancel=!1,this.modalType=G.w.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new a.vpe,this.onSaveAndReAdd=new a.vpe,this.onDelete=new a.vpe,this.onCancel=new a.vpe,this.isVisible=!1,this.isVisible$=new C.x,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(K.n.Delete),this.canSave=this.actions.includes(K.n.Save),this.canSaveAndReAdd=this.actions.includes(K.n.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function B(Ae,Ze){const me=function F(Ae){const Ze=Array.from(Ae.querySelectorAll(y)).filter(me=>-1!==me.tabIndex);return[Ze[0],Ze[Ze.length-1]]}(Ae),[he,Y]=me,Me=(0,x.R)(Ae,"focusin").pipe((0,T.R)(Ze),(0,S.U)(fe=>fe.target),(0,_.O)(he));he.focus(),(0,x.R)(Ae,"keydown").pipe((0,T.R)(Ze),(0,U.h)(fe=>"Tab"===fe.key),(0,R.M)(Me)).subscribe(([fe,xe])=>{(xe===he||xe===Ae)&&fe.shiftKey&&(Y.focus(),fe.preventDefault()),xe===Y&&!fe.shiftKey&&(he.focus(),fe.preventDefault())}),(0,x.R)(document,"click").pipe((0,T.R)(Ze),(0,R.M)(Me),(0,S.U)(fe=>fe[1])).subscribe(fe=>{fe.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,x.R)(this.document,"keydown").pipe((0,T.R)(this.isVisible$),(0,U.h)(me=>"Esc"===me.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}}return Ae.\u0275fac=function(me){return new(me||Ae)(a.Y36(e.K0),a.Y36(a.SBq),a.Y36(j.Z))},Ae.\u0275cmp=a.Xpm({type:Ae,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:Ie,decls:19,vars:14,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(me,he){1&me&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.YNc(7,Ee,5,3,"button",5),a.qZA(),a.TgZ(8,"div",6),a.Hsn(9),a.qZA(),a._UZ(10,"div",7),a.TgZ(11,"div",8)(12,"div",9)(13,"div",10),a.YNc(14,ve,3,4,"button",11),a.YNc(15,ye,3,4,"button",12),a.YNc(16,we,4,4,"div",13),a.qZA(),a.YNc(17,re,3,3,"button",14),a.qZA()()()()(),a.YNc(18,ce,1,0,"div",15)),2&me&&(a.ekj("show",he.isVisible),a.uIk("aria-hidden",!he.isVisible)("aria-labelledby","modal-title-"+he.modalId),a.xp6(4),a.MGl("id","modal-title-",he.modalId,""),a.xp6(1),a.Oqu(a.lcZ(6,12,he.title)),a.xp6(2),a.Q6J("ngIf",!he.hideCancel),a.xp6(7),a.Q6J("ngIf",he.canSave),a.xp6(1),a.Q6J("ngIf",he.canDelete),a.xp6(1),a.Q6J("ngIf",he.canSaveAndReAdd),a.xp6(1),a.Q6J("ngIf",!he.hideCancel),a.xp6(1),a.Q6J("ngIf",he.showBackdrop))},dependencies:[e.O5,le.X$],encapsulation:2}),Ae})()},6219:(it,oe,g)=>{"use strict";g.d(oe,{Z:()=>C});var a=g(6895),e=g(4650);let C=(()=>{class x{constructor(S){this.document=S,this.modalList=[]}add(S){this.modalList.push(S)}remove(S){const _=this.modalList.indexOf(S);this.modalList.splice(_)}visibleModals(){return this.modalList.filter(S=>S.isVisible).length}showById(S,_){null!=_&&null!=_.nativeElement&&(this.lastClickedEl=_.nativeElement),this.modalList.find(R=>R.modalId===S).show()}hideById(S){const _=this.modalList.find(U=>U.modalId===S);_&&(_.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}}return x.\u0275fac=function(S){return new(S||x)(e.LFG(a.K0))},x.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},7696:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>_});var a=g(4650),e=g(6895),C=g(9066);function x(U,R){if(1&U&&(a.TgZ(0,"span",6),a._uU(1),a.qZA()),2&U){const y=a.oxw();a.xp6(1),a.Oqu(y.pageXofX)}}function T(U,R){1&U&&(a.TgZ(0,"span",7),a._uU(1,"\u2022"),a.qZA())}function S(U,R){if(1&U){const y=a.EpF();a.TgZ(0,"nav",8),a.ALo(1,"translate"),a.TgZ(2,"ul",9)(3,"li")(4,"button",10),a.NdJ("click",function(){a.CHM(y);const F=a.oxw();return a.KtG(F.goToPage(1))}),a.TgZ(5,"span"),a._UZ(6,"span",11),a.qZA(),a.TgZ(7,"span",12),a._uU(8),a.ALo(9,"translate"),a.qZA()()(),a.TgZ(10,"li",13)(11,"button",14),a.NdJ("click",function(){a.CHM(y);const F=a.oxw();return a.KtG(F.goToPage(F.currentPage-1))}),a.TgZ(12,"span"),a._UZ(13,"span",15),a.qZA(),a.TgZ(14,"span",12),a._uU(15),a.ALo(16,"translate"),a.qZA()()(),a.TgZ(17,"li",13)(18,"button",16),a.NdJ("click",function(){a.CHM(y);const F=a.oxw();return a.KtG(F.goToPage(F.currentPage+1))}),a.TgZ(19,"span"),a._UZ(20,"span",17),a.qZA(),a.TgZ(21,"span",12),a._uU(22),a.ALo(23,"translate"),a.qZA()()(),a.TgZ(24,"li",13)(25,"button",18),a.NdJ("click",function(){a.CHM(y);const F=a.oxw();return a.KtG(F.goToPage(F.lastPage))}),a.TgZ(26,"span"),a._UZ(27,"span",19),a.qZA(),a.TgZ(28,"span",12),a._uU(29),a.ALo(30,"translate"),a.qZA()()()()()}if(2&U){const y=a.oxw();a.uIk("aria-label",a.lcZ(1,9,"Nav.Page")),a.xp6(4),a.Q6J("disabled",1==y.currentPage),a.xp6(4),a.Oqu(a.lcZ(9,11,"Nav.First")),a.xp6(3),a.Q6J("disabled",1==y.currentPage),a.xp6(4),a.Oqu(a.lcZ(16,13,"Nav.Previous")),a.xp6(3),a.Q6J("disabled",y.currentPage==y.lastPage),a.xp6(4),a.Oqu(a.lcZ(23,15,"Nav.Next")),a.xp6(3),a.Q6J("disabled",y.currentPage==y.lastPage),a.xp6(4),a.Oqu(a.lcZ(30,17,"Nav.Last"))}}let _=(()=>{class U{constructor(y,B){this.translate=y,this.decimalPipe=B,this.onGoToPage=new a.vpe}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let y=this.translate.instant("Nav.PageXofX");y=y.replace("{0}",this.decimalPipe.transform(this.currentPage)),y=y.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=y}goToPage(y){void 0!==this.onGoToPage&&(y<1?y=1:y>this.lastPage&&(y=this.lastPage),this.onGoToPage.emit(y))}}return U.\u0275fac=function(y){return new(y||U)(a.Y36(C.sK),a.Y36(e.JJ))},U.\u0275cmp=a.Xpm({type:U,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[a._Bn([e.JJ])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(y,B){1&y&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,x,2,1,"span",2),a.YNc(3,T,2,0,"span",3),a.TgZ(4,"span",4),a._uU(5),a.ALo(6,"number"),a.ALo(7,"translate"),a.qZA()(),a.YNc(8,S,31,19,"nav",5),a.qZA()),2&y&&(a.xp6(2),a.Q6J("ngIf",!B.hidePager),a.xp6(1),a.Q6J("ngIf",!B.hidePager),a.xp6(2),a.AsE("",a.lcZ(6,5,B.totalResults)," ",a.lcZ(7,7,"Nav.ResultsFound"),""),a.xp6(3),a.Q6J("ngIf",!B.hidePager))},dependencies:[e.O5,e.JJ,C.X$],encapsulation:2}),U})()},5785:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>S});var a=g(6895),e=g(8185),C=g(5503),x=g(9066),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[a.ez,e.Bz,C.D,x.aw]}),_})()},2147:(it,oe,g)=>{"use strict";g.d(oe,{l:()=>C});var a=g(6895),e=g(4650);let C=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[a.ez]}),x})()},6001:(it,oe,g)=>{"use strict";g.d(oe,{s:()=>we});var a=g(4650);class e{constructor(){this.key="",this.value=""}}class C extends e{constructor(){super()}}var x=g(572),T=g(5259),S=g(7185),_=g(9066),U=g(6219),R=g(8285),y=g(6895),B=g(4006),F=g(2808),K=g(8163),G=g(965),j=g(7608);const le=["addButton"];function Ee(re,ce){if(1&re){const Ie=a.EpF();a.TgZ(0,"app-action-bar"),a.ynx(1,4),a.TgZ(2,"button",5,6),a.NdJ("click",function(){a.CHM(Ie);const Ae=a.oxw();return a.KtG(Ae.openAddModal())}),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.BQk(),a.qZA()}2&re&&(a.xp6(2),a.Q6J("id","addClaim"),a.xp6(2),a.hij(" ",a.lcZ(5,2,"Clients.Properties.AddProperty")," "))}function ve(re,ce){if(1&re){const Ie=a.EpF();a.TgZ(0,"app-custom-modal",7),a.NdJ("onCancel",function(){a.CHM(Ie);const Ae=a.oxw();return a.KtG(Ae.closeAddAndReset())})("onSave",function(){a.CHM(Ie);const Ae=a.oxw();return a.KtG(Ae.addProperty())}),a.TgZ(1,"app-form-row",8)(2,"input",9),a.NdJ("ngModelChange",function(Ae){a.CHM(Ie);const Ze=a.oxw();return a.KtG(Ze.addProp.key=Ae)}),a.qZA()(),a.TgZ(3,"app-form-row",10)(4,"input",11),a.NdJ("ngModelChange",function(Ae){a.CHM(Ie);const Ze=a.oxw();return a.KtG(Ze.addProp.value=Ae)}),a.qZA()()()}if(2&re){const Ie=a.oxw();a.Q6J("title","Clients.Properties.AddProperty")("modalId",Ie.addModalId)("actions",Ie.addModalActions)("addDisabled",Ie.addProp.key.length<1||Ie.addProp.value.length<1),a.xp6(1),a.Q6J("label","Common.Key")("id","propertyAddKey"),a.xp6(1),a.Q6J("ngModel",Ie.addProp.key),a.xp6(1),a.Q6J("label","Common.Value")("id","propertyAddValue")("isLast",!0),a.xp6(1),a.Q6J("ngModel",Ie.addProp.value)}}function ye(re,ce){if(1&re){const Ie=a.EpF();a.TgZ(0,"app-custom-modal",7),a.NdJ("onCancel",function(){a.CHM(Ie);const Ae=a.oxw();return a.KtG(Ae.closeModalAndReset())})("onSave",function(){a.CHM(Ie);const Ae=a.oxw();return a.KtG(Ae.saveEdit())}),a.TgZ(1,"app-form-row",8)(2,"input",12),a.NdJ("ngModelChange",function(Ae){a.CHM(Ie);const Ze=a.oxw();return a.KtG(Ze.editProp.key=Ae)}),a.qZA()(),a.TgZ(3,"app-form-row",10)(4,"input",13),a.NdJ("ngModelChange",function(Ae){a.CHM(Ie);const Ze=a.oxw();return a.KtG(Ze.editProp.value=Ae)}),a.qZA()()()}if(2&re){const Ie=a.oxw();a.Q6J("title","Clients.Properties.EditProperty")("modalId",Ie.editModalId)("actions",Ie.editModalActions)("addDisabled",Ie.editProp.key.length<1||Ie.editProp.value.length<1),a.xp6(1),a.Q6J("label","Common.Key")("id","propertyEditKey"),a.xp6(1),a.Q6J("ngModel",Ie.editProp.key),a.xp6(1),a.Q6J("label","Common.Value")("id","propertyEditValue")("isLast",!0),a.xp6(1),a.Q6J("ngModel",Ie.editProp.value)}}let we=(()=>{class re{constructor(Ie,ke,Ae,Ze){this.toastr=Ie,this.translate=ke,this.modalService=Ae,this.dataTableService=Ze,this.propertiesChanged=new a.vpe,this.addProp=new e,this.editing=!1,this.editProp=new C,this.propertyDataTableActions=[x.Xz.Delete,x.Xz.Select],this.addModalActions=[T.n.Save],this.editModalActions=[T.n.Save],this._properties=[]}set properties(Ie){this._properties=Ie||[]}get properties(){return this._properties}set isReadOnly(Ie){this._isReadOnly=Ie||!1}get isReadOnly(){return this._isReadOnly}set modalId(Ie){this._addModalId="add_"+Ie,this._editModalId="edit_"+Ie}get addModalId(){return this._addModalId}get editModalId(){return this._editModalId}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ie=>{this.deleteProperty(Ie)})}ngOnDestroy(){this.dtsSubscription.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}closeAddAndReset(){this.addProp=new e,this.modalService.hideById(this.addModalId)}editProperty(Ie){this.editProp=JSON.parse(JSON.stringify(Ie.data)),this.editProp.originalIndex=this.properties.indexOf(Ie.data),this.editing=!0,this.modalService.showById(this.editModalId,Ie.element)}closeModalAndReset(){this.editProp=new C,this.editing=!1,this.modalService.hideById(this.editModalId)}saveEdit(){const Ie=this.properties.slice(),ke=Ie[this.editProp.originalIndex];ke.key=this.editProp.key,ke.value=this.editProp.value,this.updateProperties(Ie),this.closeModalAndReset()}addProperty(){if(this.properties.find(ke=>ke.key===this.addProp.key))return void this.toastr.error(this.translate.instant("Clients.UnableToAddProperty"),this.translate.instant("Notifications.Error"));if(null==this.addProp.key||""===this.addProp.key.trim())return void this.toastr.error("Key is Invalid",this.translate.instant("Notifications.Error"));if(null==this.addProp.value||""===this.addProp.value.trim())return void this.toastr.error("Value is Invalid",this.translate.instant("Notifications.Error"));const Ie=this.properties.slice();Ie.push(this.addProp),this.updateProperties(Ie),this.addProp=new e}deleteProperty(Ie){const ke=this.properties.slice();ke.splice(Ie,1),this.updateProperties(ke)}updateProperties(Ie){this.properties=Ie,this.propertiesChanged.emit(this.properties)}}return re.\u0275fac=function(Ie){return new(Ie||re)(a.Y36(S._W),a.Y36(_.sK),a.Y36(U.Z),a.Y36(R.n))},re.\u0275cmp=a.Xpm({type:re,selectors:[["app-properties-editor"]],viewQuery:function(Ie,ke){if(1&Ie&&a.Gf(le,5),2&Ie){let Ae;a.iGM(Ae=a.CRH())&&(ke.addButtonRef=Ae.first)}},inputs:{properties:"properties",isReadOnly:"isReadOnly",modalId:"modalId"},outputs:{propertiesChanged:"propertiesChanged"},decls:6,vars:15,consts:[[4,"ngIf"],[3,"title","modalId","actions","addDisabled","onCancel","onSave",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onSelect"],[3,"prop","title","headClasses","cellClasses"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"title","modalId","actions","addDisabled","onCancel","onSave"],[3,"label","id"],["id","propertyAddKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],[3,"label","id","isLast"],["id","propertyAddValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","propertyEditKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","propertyEditValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"]],template:function(Ie,ke){1&Ie&&(a.YNc(0,Ee,6,4,"app-action-bar",0),a.YNc(1,ve,5,11,"app-custom-modal",1),a.TgZ(2,"app-data-table",2),a.NdJ("onSelect",function(Ze){return ke.editProperty(Ze)}),a._UZ(3,"app-data-table-column",3)(4,"app-data-table-column",3),a.qZA(),a.YNc(5,ye,5,11,"app-custom-modal",1)),2&Ie&&(a.Q6J("ngIf",!ke.isReadOnly),a.xp6(1),a.Q6J("ngIf",!ke.isReadOnly),a.xp6(1),a.Q6J("isReadOnly",ke.isReadOnly)("rows",ke.properties)("norowslabel","Clients.Properties.None")("actions",ke.propertyDataTableActions),a.xp6(1),a.Q6J("prop","key")("title","Common.Key")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),a.xp6(1),a.Q6J("prop","value")("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),a.xp6(1),a.Q6J("ngIf",!ke.isReadOnly))},dependencies:[y.O5,B.Fj,B.JJ,B.On,x.Qj,F.E,K.K,G.R,j.L,_.X$],encapsulation:2}),re})()},6493:(it,oe,g)=>{"use strict";g.d(oe,{l:()=>y});var a=g(6895),e=g(5503),C=g(9066),x=g(4380),T=g(4022),S=g(8975),_=g(4006),U=g(9650),R=g(4650);let y=(()=>{class B{}return B.\u0275fac=function(K){return new(K||B)},B.\u0275mod=R.oAB({type:B}),B.\u0275inj=R.cJS({imports:[a.ez,_.u5,e.D,C.aw,x.t,T.p,S.d,U.I]}),B})()},2830:(it,oe,g)=>{"use strict";g.d(oe,{f:()=>he});var a=g(9655),e=g(6502),C=g(4650),x=g(6895),T=g(9066);function S(Y,Me){if(1&Y&&(C.TgZ(0,"div")(1,"p",3),C._uU(2),C.qZA()()),2&Y){const fe=C.oxw(3);C.xp6(2),C.Oqu(fe.displayValue)}}function _(Y,Me){if(1&Y&&(C.TgZ(0,"div"),C.YNc(1,S,3,1,"div",0),C.qZA()),2&Y){const fe=C.oxw(2),xe=C.MAs(2);C.xp6(1),C.Q6J("ngIf",fe.displayValue)("ngIfElse",xe)}}function U(Y,Me){if(1&Y&&(C.TgZ(0,"div",9),C._uU(1),C.TgZ(2,"small",10),C._uU(3),C.qZA()()),2&Y){const fe=C.oxw(),Ue=fe.$implicit;C.Q6J("id","multiMainText"+fe.i),C.xp6(1),C.hij(" ",Ue.MainText," "),C.xp6(2),C.Oqu(Ue.HelpText)}}function R(Y,Me){if(1&Y&&(C.TgZ(0,"li",7),C.YNc(1,U,4,3,"div",8),C.qZA()),2&Y){const fe=Me.$implicit;C.oxw(3);const xe=C.MAs(2);C.xp6(1),C.Q6J("ngIf",fe.MainText)("ngIfElse",xe)}}function y(Y,Me){if(1&Y&&(C.TgZ(0,"div")(1,"div",4)(2,"ul",5),C.YNc(3,R,2,2,"li",6),C.qZA()()()),2&Y){const fe=C.oxw(2);C.xp6(3),C.Q6J("ngForOf",fe.filteredValues)}}function B(Y,Me){1&Y&&C._UZ(0,"div")}function F(Y,Me){if(1&Y&&(C.TgZ(0,"p",22),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y){const fe=C.oxw(5);C.xp6(1),C.AsE(" ",fe.timeSpan.years," ",C.lcZ(2,2,fe.displayTimeSpanUnit(fe.timeSpan.years,"Year"))," ")}}function K(Y,Me){if(1&Y&&(C.TgZ(0,"p",23),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y){const fe=C.oxw(5);C.xp6(1),C.AsE(" ",fe.timeSpan.months," ",C.lcZ(2,2,fe.displayTimeSpanUnit(fe.timeSpan.months,"Month"))," ")}}function G(Y,Me){if(1&Y&&(C.TgZ(0,"p",24),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y){const fe=C.oxw(5);C.xp6(1),C.AsE(" ",fe.timeSpan.weeks," ",C.lcZ(2,2,fe.displayTimeSpanUnit(fe.timeSpan.weeks,"Week"))," ")}}function j(Y,Me){if(1&Y&&(C.TgZ(0,"p",25),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y){const fe=C.oxw(5);C.xp6(1),C.AsE(" ",fe.timeSpan.days," ",C.lcZ(2,2,fe.displayTimeSpanUnit(fe.timeSpan.days,"Day"))," ")}}function le(Y,Me){if(1&Y&&(C.TgZ(0,"p",26),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y){const fe=C.oxw(5);C.xp6(1),C.AsE(" ",fe.timeSpan.hours," ",C.lcZ(2,2,fe.displayTimeSpanUnit(fe.timeSpan.hours,"Hour"))," ")}}function Ee(Y,Me){if(1&Y&&(C.TgZ(0,"p",27),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y){const fe=C.oxw(5);C.xp6(1),C.AsE(" ",fe.timeSpan.minutes," ",C.lcZ(2,2,fe.displayTimeSpanUnit(fe.timeSpan.minutes,"Minute"))," ")}}function ve(Y,Me){if(1&Y&&(C.TgZ(0,"span",28),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y){const fe=C.oxw(5);C.xp6(1),C.AsE(" ",fe.timeSpan.seconds," ",C.lcZ(2,2,fe.displayTimeSpanUnit(fe.timeSpan.seconds,"Second"))," ")}}function ye(Y,Me){if(1&Y&&(C.TgZ(0,"div")(1,"div",13),C.YNc(2,F,3,4,"p",14),C.YNc(3,K,3,4,"p",15),C.YNc(4,G,3,4,"p",16),C.YNc(5,j,3,4,"p",17),C.YNc(6,le,3,4,"p",18),C.YNc(7,Ee,3,4,"p",19),C.YNc(8,ve,3,4,"span",20),C.qZA(),C.TgZ(9,"small",21),C._uU(10),C.qZA()()),2&Y){const fe=C.oxw(4);C.xp6(2),C.Q6J("ngIf",fe.timeSpan.years>0),C.xp6(1),C.Q6J("ngIf",fe.timeSpan.months>0),C.xp6(1),C.Q6J("ngIf",fe.timeSpan.weeks>0),C.xp6(1),C.Q6J("ngIf",fe.timeSpan.days>0),C.xp6(1),C.Q6J("ngIf",fe.timeSpan.hours>0),C.xp6(1),C.Q6J("ngIf",fe.timeSpan.minutes>0),C.xp6(1),C.Q6J("ngIf",fe.timeSpan.seconds>0),C.xp6(2),C.Oqu(fe.values[0].MainText)}}function we(Y,Me){1&Y&&(C.TgZ(0,"div")(1,"p",29),C._uU(2),C.ALo(3,"translate"),C.qZA()()),2&Y&&(C.xp6(2),C.AsE("",0," ",C.lcZ(3,2,"Clients.Tokens.Durations.Seconds"),""))}function re(Y,Me){1&Y&&(C.TgZ(0,"div")(1,"p",30),C._uU(2),C.ALo(3,"translate"),C.qZA()()),2&Y&&(C.xp6(2),C.Oqu(C.lcZ(3,1,"Clients.Tokens.Durations.Unlimited")))}function ce(Y,Me){if(1&Y&&(C.YNc(0,ye,11,8,"div",2),C.YNc(1,we,4,4,"div",2),C.YNc(2,re,4,3,"div",2)),2&Y){const fe=C.oxw(3);C.Q6J("ngIf","Unlimited"!=fe.values[0].MainText&&0!==fe.values[0].MainText&&"0"!==fe.values[0].MainText),C.xp6(1),C.Q6J("ngIf",0===fe.values[0].MainText||"0"===fe.values[0].MainText),C.xp6(1),C.Q6J("ngIf","Unlimited"==fe.values[0].MainText)}}function Ie(Y,Me){if(1&Y&&(C.TgZ(0,"div"),C.YNc(1,B,1,0,"div",11),C.YNc(2,ce,3,3,"ng-template",null,12,C.W1O),C.qZA()),2&Y){const fe=C.MAs(3),xe=C.oxw(2),Ue=C.MAs(2);C.xp6(1),C.Q6J("ngIf",null==xe.values[0].MainText)("ngIfThen",Ue)("ngIfElse",fe)}}function ke(Y,Me){if(1&Y&&(C.TgZ(0,"div"),C.YNc(1,_,2,2,"div",2),C.YNc(2,y,4,1,"div",2),C.YNc(3,Ie,4,3,"div",2),C.qZA()),2&Y){const fe=C.oxw();C.xp6(1),C.Q6J("ngIf",fe.fieldType==fe.ReadOnlyFieldType.Single||fe.fieldType==fe.ReadOnlyFieldType.CommaSeparated),C.xp6(1),C.Q6J("ngIf",fe.fieldType==fe.ReadOnlyFieldType.Multi),C.xp6(1),C.Q6J("ngIf",fe.fieldType==fe.ReadOnlyFieldType.LifetimePicker)}}function Ae(Y,Me){1&Y&&(C.TgZ(0,"div")(1,"p",32),C._uU(2),C.ALo(3,"translate"),C.qZA()()),2&Y&&(C.xp6(2),C.hij(" ",C.lcZ(3,1,"Common.NoValue")," "))}function Ze(Y,Me){1&Y&&(C.TgZ(0,"p",33),C._uU(1),C.ALo(2,"translate"),C.qZA()),2&Y&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"Common.NoValues")," "))}function me(Y,Me){if(1&Y&&(C.YNc(0,Ae,4,3,"div",0),C.YNc(1,Ze,3,3,"ng-template",null,31,C.W1O)),2&Y){const fe=C.MAs(2),xe=C.oxw();C.Q6J("ngIf",xe.fieldType==xe.ReadOnlyFieldType.Single||xe.fieldType==xe.ReadOnlyFieldType.LifetimePicker)("ngIfElse",fe)}}let he=(()=>{class Y{constructor(){this.filteredValues=[]}ngOnChanges(fe){this.initData()}ngOnInit(){this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(fe=>null!=fe),this.filteredValues.length<1)||(this.fieldType===a.O.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===a.O.CommaSeparated?this.displayValue=this.filteredValues.map(fe=>fe.MainText).join(", ").trimEnd():this.fieldType===a.O.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.i(+this.values[0].MainText)))}displayTimeSpanUnit(fe,xe){return"Clients.Tokens.Durations."+xe+(fe>1?"s":"")}get ReadOnlyFieldType(){return a.O}}return Y.\u0275fac=function(fe){return new(fe||Y)},Y.\u0275cmp=C.Xpm({type:Y,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values"},features:[C.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["valuesEmptyBlock",""],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],["lifetimeHasValueBlock",""],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["multiBlock",""],["id","singleValuesUndefined",1,"tw-italic","tw-text-grey-400"],["id","multiValuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(fe,xe){if(1&fe&&(C.YNc(0,ke,4,3,"div",0),C.YNc(1,me,3,2,"ng-template",null,1,C.W1O)),2&fe){const Ue=C.MAs(2);C.Q6J("ngIf",(null==xe.filteredValues?null:xe.filteredValues.length)>0)("ngIfElse",Ue)}},dependencies:[x.sg,x.O5,T.X$]}),Y})()},4091:(it,oe,g)=>{"use strict";g.d(oe,{G:()=>x});var a=g(6895),e=g(9066),C=g(4650);let x=(()=>{class T{}return T.\u0275fac=function(_){return new(_||T)},T.\u0275mod=C.oAB({type:T}),T.\u0275inj=C.cJS({imports:[e.aw,a.ez]}),T})()},7770:(it,oe,g)=>{"use strict";g.d(oe,{t:()=>S});var a=g(4006),e=g(6895),C=g(8185),x=g(9066),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[e.ez,C.Bz,x.aw,a.u5]}),_})()},1660:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>et});var a=g(5861),e=g(4650),C=g(4006),x=g(2976),T=g(7579),S=g(8176),_=g(6055),U=g(572),R=g(5259),y=g(1837),B=g(6219),F=g(8285),K=g(6895),G=g(1696),j=g(7608),le=g(799),Ee=g(2808),ve=g(965),ye=g(4225),we=g(9066);const re=["certificateReader"],ce=["addCertificateBtn"],Ie=["showModalButton"],ke=["secretPicker"],Ae=["certificateReaderNonModal"],Ze=["addCertificateBtnNonModal"];function me(Qe,mt){if(1&Qe&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&Qe){const $=mt.$implicit;e.Q6J("value",$.value),e.xp6(1),e.Oqu($.value)}}function he(Qe,mt){1&Qe&&(e.TgZ(0,"p",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&Qe&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Secret Picker.LastWarning")))}function Y(Qe,mt){if(1&Qe&&e._UZ(0,"app-date-time",42),2&Qe){const $=e.oxw(2);e.Q6J("min",$.minDate)}}function Me(Qe,mt){if(1&Qe){const $=e.EpF();e.TgZ(0,"form",11)(1,"div",12)(2,"div",13)(3,"app-form-row",14)(4,"div",15)(5,"select",16),e.YNc(6,me,2,2,"option",17),e.ALo(7,"keyvalue"),e.qZA()()(),e.TgZ(8,"app-form-row",14)(9,"div",18)(10,"div",19),e._UZ(11,"input",20),e.TgZ(12,"button",21),e.NdJ("click",function(){e.CHM($);const De=e.oxw();return e.KtG(De.generateRandom())}),e._UZ(13,"span",22),e.TgZ(14,"span",23),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e._UZ(17,"input",24),e.TgZ(18,"div",25)(19,"button",26,27),e.NdJ("click",function(){e.CHM($);const De=e.oxw();return e.KtG(De.openCertificateReaderModel())}),e.TgZ(21,"span"),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.YNc(24,he,3,3,"p",28),e.qZA()(),e.TgZ(25,"app-form-row",29)(26,"div",18)(27,"div",30)(28,"div",31)(29,"app-form-toggle",32)(30,"input",33),e.NdJ("change",function(){e.CHM($);const De=e.oxw();return e.KtG(De.toggleExpirationDateInput())}),e.qZA()()()(),e.YNc(31,Y,1,1,"app-date-time",34),e.qZA()(),e.TgZ(32,"app-form-row",35),e._UZ(33,"textarea",36),e.qZA()()(),e.TgZ(34,"div",37)(35,"button",38),e.NdJ("click",function(){e.CHM($);const De=e.oxw();return e.KtG(De.addSecret())}),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"button",39),e.NdJ("click",function(){e.CHM($);const De=e.oxw();return e.KtG(De.resetForm())}),e._uU(39),e.ALo(40,"translate"),e.qZA()()()}if(2&Qe){const $=e.oxw();e.Q6J("formGroup",$.secretForm),e.xp6(3),e.Q6J("id","SecretType")("label","Common.Type"),e.xp6(3),e.Q6J("ngForOf",e.lcZ(7,23,$.secretTypes)),e.xp6(2),e.Q6J("id","SecretValue")("label","Common.Value"),e.xp6(2),e.Q6J("hidden","Shared Secret"!==$.secretForm.controls.type.value),e.xp6(5),e.Oqu(e.lcZ(16,25,"Common.GenerateRandom")),e.xp6(2),e.Q6J("hidden","Shared Secret"===$.secretForm.controls.type.value),e.xp6(2),e.Q6J("hidden","Shared Secret"===$.secretForm.controls.type.value),e.xp6(3),e.Oqu(e.lcZ(23,27,"Common.ReadCertificate")),e.xp6(2),e.Q6J("ngIf",$.displayWarnings),e.xp6(1),e.Q6J("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.xp6(4),e.Q6J("id","expirationDateEnabled"),e.xp6(2),e.Q6J("ngIf",$.expirationDateEnabled),e.xp6(1),e.Q6J("id","SecretDescription")("label","Common.Description")("isLast",!0),e.xp6(3),e.Q6J("disabled",!$.secretForm.valid),e.xp6(1),e.Oqu(e.lcZ(37,29,"Common.Add")),e.xp6(3),e.Oqu(e.lcZ(40,31,"Common.Clear"))}}function fe(Qe,mt){1&Qe&&e._UZ(0,"app-data-table-column",43),2&Qe&&e.Q6J("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function xe(Qe,mt){if(1&Qe){const $=e.EpF();e.TgZ(0,"div",44,45)(2,"div",46)(3,"app-cert-reader",47,48),e.NdJ("dataExists",function(De){e.CHM($);const qe=e.oxw();return e.KtG(qe.certificateDataLoaded(De))}),e.ALo(5,"translate"),e.ALo(6,"translate"),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",37)(10,"button",49,50),e.NdJ("click",function(){e.CHM($);const De=e.oxw();return e.KtG(De.hideCertReaderNonModal(!0))}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"button",39),e.NdJ("click",function(){e.CHM($);const De=e.oxw();return e.KtG(De.hideCertReaderNonModal(!1))}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()}2&Qe&&(e.xp6(3),e.Q6J("uploadCert",e.lcZ(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.lcZ(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.lcZ(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.lcZ(8,12,"Secret Picker.MetaDataHelp")),e.xp6(9),e.Oqu(e.lcZ(13,14,"Common.Use")),e.xp6(3),e.Oqu(e.lcZ(16,16,"Common.Cancel")))}function Ue(Qe,mt){if(1&Qe){const $=e.EpF();e.TgZ(0,"app-custom-modal",51),e.NdJ("onSave",function(){e.CHM($);const De=e.oxw();return e.KtG(De.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.CHM($);const De=e.oxw();return e.KtG(De.closeCertificateReaderModel())}),e.TgZ(1,"app-cert-reader",52,48),e.NdJ("dataExists",function(De){e.CHM($);const qe=e.oxw();return e.KtG(qe.certificateDataLoaded(De))}),e.ALo(3,"translate"),e.ALo(4,"translate"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()}if(2&Qe){const $=e.oxw();e.Q6J("modalId",$.certModalId)("title","Secret Picker.ReadCertificate")("actions",$.modalActions),e.xp6(1),e.Q6J("uploadCert",e.lcZ(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.lcZ(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.lcZ(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.lcZ(6,13,"Secret Picker.MetaDataHelp"))}}let et=(()=>{class Qe{constructor($,be,De){this.fb=$,this.modalService=be,this.dataTableService=De,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new x.NA,this.minDate=y.ou.now(),this.secretsAddStream=new T.x,this.secretsRemoveStream=new T.x,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[U.Xz.Delete],this.modalActions=[R.n.Delete,R.n.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.vpe}set clientSecrets($){this._clientSecrets=$||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly($){this._isReadOnly=$||!1}get isReadOnly(){return this._isReadOnly}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown($){"Enter"===$.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const $=y.ou.now().toISO();this.secretForm=this.fb.group({description:["",C.kI.maxLength(1e3)],value:["",C.kI.required],expiration:[{value:$,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(be=>{this.deleteSecret(be)})}selectedDate($){this.secretForm.controls.expiration.setValue($)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,S.qs)())}dateSelected($){this.secretForm.controls.expiration.setValue($)}addSecret(){const $=this.secretForm.value;$.expiration=this.expirationDateEnabled?y.ou.fromISO($.expiration).toString():null,this.secretsAddStream.next($),this.secretForm.reset(),this.resetForm()}updateExpiration(){const $=this.secretForm.controls.expiration;this.expirationDateEnabled?($.addValidators(C.kI.required),$.enable()):($.removeValidators(C.kI.required),$.disable()),$.reset()}deleteSecret($){this.secretsRemoveStream.next(this.clientSecrets[$])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var $=this;return(0,a.Z)(function*(){$.modalService.hideById($.certModalId),$.filepickerDisplayed.emit(!1),yield $.ReadCertificateModel()})()}ReadCertificateModel(){var $=this;return(0,a.Z)(function*(){const be=yield $.certReaderComponent.getCertificateModel();let De="";switch($.secretForm.controls.type.value){case"X509 Certificate Base64":De=be.base64Cert;break;case"X509 Name":De=be.subject;break;case"X509 Thumbprint":De=be.thumbprint}$.secretForm.controls.value.setValue(De)})()}certificateDataLoaded($){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!$),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!$)}hideCertReaderNonModal($){var be=this;return(0,a.Z)(function*(){be.certificateReaderNonModal.nativeElement.hidden=!0,be.secretPicker.nativeElement.hidden=!1,$&&(yield be.ReadCertificateModel()),be.filepickerDisplayed.emit(!1)})()}}return Qe.\u0275fac=function($){return new($||Qe)(e.Y36(C.QS),e.Y36(B.Z),e.Y36(F.n))},Qe.\u0275cmp=e.Xpm({type:Qe,selectors:[["app-secret-picker"]],viewQuery:function($,be){if(1&$&&(e.Gf(re,5),e.Gf(ce,5),e.Gf(Ie,5),e.Gf(ke,5),e.Gf(Ae,5),e.Gf(Ze,5)),2&$){let De;e.iGM(De=e.CRH())&&(be.certReaderComponent=De.first),e.iGM(De=e.CRH())&&(be.addCertificateButton=De.first),e.iGM(De=e.CRH())&&(be.showModalButton=De.first),e.iGM(De=e.CRH())&&(be.secretPicker=De.first),e.iGM(De=e.CRH())&&(be.certificateReaderNonModal=De.first),e.iGM(De=e.CRH())&&(be.addCertificateBtnNonModal=De.first)}},hostBindings:function($,be){1&$&&e.NdJ("keydown",function(qe){return be.keydown(qe)},!1,e.evT)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["id","secretPicker"],["secretPicker",""],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"hidden","click"],["showCertModalButton",""],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"disabled","click"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],["certificateReaderNonModal",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"],["certificateReader",""],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],["addCertificateBtnNonModal",""],[3,"modalId","title","actions","onSave","onCancel"],["id","",3,"uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp","dataExists"]],template:function($,be){1&$&&(e.TgZ(0,"div",0,1),e.YNc(2,Me,41,33,"form",2),e.TgZ(3,"app-data-table",3),e._UZ(4,"app-data-table-column",4)(5,"app-data-table-column",5)(6,"app-data-table-column",6),e.YNc(7,fe,1,5,"app-data-table-column",7),e._UZ(8,"app-data-table-column",8),e.qZA()(),e.YNc(9,xe,17,18,"div",9),e.YNc(10,Ue,7,15,"app-custom-modal",10)),2&$&&(e.xp6(2),e.Q6J("ngIf",!be.isReadOnly),e.xp6(1),e.Q6J("isReadOnly",be.isReadOnly)("rows",be.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",be.dataTableActions),e.xp6(1),e.Q6J("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.xp6(1),e.Q6J("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.xp6(1),e.Q6J("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.xp6(1),e.Q6J("ngIf",be.showCreatedColumn),e.xp6(1),e.Q6J("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.xp6(1),e.Q6J("ngIf",be.nonModelCertPicker),e.xp6(1),e.Q6J("ngIf",!1===be.nonModelCertPicker))},dependencies:[K.sg,K.O5,C._Y,C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C.JJ,C.JL,C.sg,C.u,G.c,j.L,le.O,U.Qj,Ee.E,ve.R,ye.j,K.Nd,we.X$],encapsulation:2,data:{animation:[(0,_.Ic)()]}}),Qe})()},8761:(it,oe,g)=>{"use strict";g.d(oe,{W:()=>K});var a=g(4006),e=g(6895),C=g(5503),x=g(9066),T=g(388),S=g(2699),_=g(9650),U=g(4380),R=g(8975),y=g(5898),B=g(8285),F=g(4650);let K=(()=>{class G{}return G.\u0275fac=function(le){return new(le||G)},G.\u0275mod=F.oAB({type:G}),G.\u0275inj=F.cJS({providers:[B.n],imports:[e.ez,a.UX,C.D,x.aw,a.u5,T.zk,S.Y,_.I,U.t,R.d,y.T]}),G})()},9046:(it,oe,g)=>{"use strict";g.d(oe,{bk:()=>R});var a=g(7579),e=g(8372),C=g(1884),x=g(9300),T=g(4004);class R{constructor(B,F,K){this.toastr=B,this.translate=F,this.canSearchEmptyString=K,this.searchTerm="",this.searchTermStream=new a.x,this.enterKeyStream=new a.x,this.searchSource=this.searchTermStream.pipe((0,e.b)(600),(0,C.x)(),(0,x.h)(G=>this.filterSearchTerm(G)),(0,T.U)(G=>this.mapSearchTerm(G))),this.enterKeySource=this.enterKeyStream.pipe((0,e.b)(600),(0,x.h)(()=>this.filterSearchTerm(this.searchTerm)),(0,T.U)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(B){return this.canSearchEmptyString?B.length<50&&1!==B.length:!(B.length<2||B.length>50)&&""!==B.trim()}search(B){"Enter"===B.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},1436:(it,oe,g)=>{"use strict";g.d(oe,{W:()=>_});var a=g(6895),e=g(4006),C=g(5503),x=g(9650),T=g(9066),S=g(4650);let _=(()=>{class U{}return U.\u0275fac=function(y){return new(y||U)},U.\u0275mod=S.oAB({type:U}),U.\u0275inj=S.cJS({imports:[a.ez,e.u5,e.UX,x.I,C.D,T.aw]}),U})()},5925:(it,oe,g)=>{"use strict";g.d(oe,{w:()=>S});var a=g(4650),e=g(6895),C=g(9066);function x(_,U){1&_&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&_&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"Common.LoadingPleaseWait")))}function T(_,U){if(1&_&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&_){const R=a.oxw();a.xp6(1),a.Oqu(R.text)}}let S=(()=>{class _{constructor(){this.text=""}}return _.\u0275fac=function(R){return new(R||_)},_.\u0275cmp=a.Xpm({type:_,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(R,y){1&R&&(a.TgZ(0,"div",0),a._UZ(1,"span",1),a.YNc(2,x,3,3,"span",2),a.YNc(3,T,2,1,"span",2),a.qZA()),2&R&&(a.xp6(2),a.Q6J("ngIf",""==y.text),a.xp6(1),a.Q6J("ngIf",""!=y.text))},dependencies:[e.O5,C.X$],encapsulation:2}),_})()},5971:(it,oe,g)=>{"use strict";g.d(oe,{s:()=>S});var a=g(4006),e=g(6895),C=g(8185),x=g(9066),T=g(4650);let S=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[e.ez,C.Bz,x.aw,a.u5]}),_})()},2294:(it,oe,g)=>{"use strict";g.d(oe,{G:()=>j});var a=g(4650),e=g(6895),C=g(8185),x=g(9066),T=g(2979);function S(le,Ee){if(1&le&&(a.ynx(0),a.TgZ(1,"li",7)(2,"span",16),a._uU(3,"/"),a.qZA(),a.TgZ(4,"a",8),a._uU(5),a.qZA()(),a.BQk()),2&le){const ve=Ee.$implicit;a.xp6(4),a.Q6J("routerLink",ve.link),a.xp6(1),a.hij(" ",ve.title," ")}}function _(le,Ee){1&le&&(a.TgZ(0,"span",17),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&le&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.ReadOnly")," "))}function U(le,Ee){1&le&&(a.TgZ(0,"span",18),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&le&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"Common.UserTOTPEnabled")," "))}function R(le,Ee){1&le&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function y(le,Ee){1&le&&(a.ynx(0),a.TgZ(1,"div",20),a.Hsn(2,2),a.qZA(),a.BQk())}const B=[[["","badge",""]],[["","button",""]],[["","tabs",""]]],F=function(le){return[le]},K=["[badge]","[button]","[tabs]"];let j=(()=>{class le{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.totpEnabled=!1}}return le.\u0275fac=function(ve){return new(ve||le)},le.\u0275cmp=a.Xpm({type:le,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",totpEnabled:"totpEnabled"},ngContentSelectors:K,decls:22,vars:17,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(ve,ye){1&ve&&(a.F$t(B),a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),a.ALo(6,"translate"),a.TgZ(7,"ol",6)(8,"li",7)(9,"a",8),a.ALo(10,"localize"),a._uU(11),a.ALo(12,"translate"),a.qZA()(),a.YNc(13,S,6,2,"ng-container",9),a.qZA()(),a.TgZ(14,"div",10)(15,"h1",11),a._uU(16),a.qZA(),a.Hsn(17),a.YNc(18,_,3,3,"span",12),a.YNc(19,U,3,3,"span",13),a.qZA()(),a.YNc(20,R,2,0,"div",14),a.qZA()()(),a.YNc(21,y,3,0,"ng-container",15),a.qZA()),2&ve&&(a.xp6(5),a.uIk("aria-label",a.lcZ(6,9,"Nav.Breadcrumbs")),a.xp6(4),a.Q6J("routerLink",a.VKq(15,F,a.lcZ(10,11,"/home"))),a.xp6(2),a.hij(" ",a.lcZ(12,13,"Nav.Home")," "),a.xp6(2),a.Q6J("ngForOf",ye.crumbs),a.xp6(3),a.Oqu(ye.title),a.xp6(2),a.Q6J("ngIf",ye.isReadOnly),a.xp6(1),a.Q6J("ngIf",ye.totpEnabled),a.xp6(1),a.Q6J("ngIf",ye.hasButton),a.xp6(1),a.Q6J("ngIf",ye.hasTabs))},dependencies:[e.sg,e.O5,C.yS,x.X$,T.lO],encapsulation:2}),le})()},5084:(it,oe,g)=>{"use strict";g.d(oe,{y:()=>_});var a=g(6895),e=g(8185),C=g(5503),x=g(2979),T=g(9066),S=g(4650);let _=(()=>{class U{}return U.\u0275fac=function(y){return new(y||U)},U.\u0275mod=S.oAB({type:U}),U.\u0275inj=S.cJS({imports:[a.ez,e.Bz,C.D,T.aw,x.fQ]}),U})()},2449:(it,oe,g)=>{"use strict";g.d(oe,{R6:()=>ke,V7:()=>Ze});var a=g(8058),e=g(4006),C=g(3334),x=g(7579),T=g(5669),S=g(4650),_=g(7185),U=g(9066),R=g(6895);function y(me,he){if(1&me&&(S.TgZ(0,"li",10)(1,"label",22),S._UZ(2,"input",23),S.TgZ(3,"span"),S._uU(4),S.ALo(5,"translate"),S.qZA()()()),2&me){const Y=S.oxw();S.xp6(2),S.Q6J("value",Y.CertificateAction.DoNotSet),S.xp6(2),S.Oqu(S.lcZ(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function B(me,he){if(1&me&&(S.TgZ(0,"li",10)(1,"label",24),S._UZ(2,"input",25),S.TgZ(3,"span"),S._uU(4),S.ALo(5,"translate"),S.qZA()()()),2&me){const Y=S.oxw();S.xp6(2),S.Q6J("value",Y.CertificateAction.UseExisting),S.xp6(2),S.Oqu(S.lcZ(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function F(me,he){if(1&me){const Y=S.EpF();S.TgZ(0,"tr")(1,"td",39),S._uU(2),S.qZA(),S.TgZ(3,"td")(4,"button",40),S.NdJ("click",function(){const xe=S.CHM(Y).$implicit,Ue=S.oxw(5);return S.KtG(Ue.deleteCert(xe))}),S._uU(5),S._UZ(6,"span",41),S.TgZ(7,"span",37),S._uU(8),S.ALo(9,"translate"),S.qZA()()()()}if(2&me){const Y=he.$implicit,Me=S.oxw(5);S.xp6(2),S.hij(" ",null==Y?null:Y.subject," "),S.xp6(3),S.hij(" ",Me.deleteDisabled," "),S.xp6(3),S.Oqu(S.lcZ(9,3,"Clients.Saml.DeleteCert"))}}function K(me,he){if(1&me&&(S.ynx(0),S.YNc(1,F,10,5,"tr",38),S.BQk()),2&me){const Y=S.oxw(4);S.xp6(1),S.Q6J("ngForOf",Y.data.certificates.SigningCertificates)}}function G(me,he){if(1&me){const Y=S.EpF();S.ynx(0),S.TgZ(1,"tr")(2,"td",39),S._uU(3),S.qZA(),S.TgZ(4,"td")(5,"button",40),S.NdJ("click",function(){S.CHM(Y);const fe=S.oxw(4);return S.KtG(fe.deleteCert(null))}),S._uU(6),S._UZ(7,"span",41),S.TgZ(8,"span",37),S._uU(9),S.ALo(10,"translate"),S.qZA()()()(),S.BQk()}if(2&me){const Y=S.oxw(4);S.xp6(3),S.hij(" ",Y.data.certificates.EncryptionCertificate.subject," "),S.xp6(3),S.hij(" ",Y.deleteDisabled," "),S.xp6(3),S.Oqu(S.lcZ(10,3,"Clients.Saml.DeleteCert"))}}function j(me,he){if(1&me&&(S.TgZ(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),S._uU(4),S.ALo(5,"translate"),S.qZA(),S.TgZ(6,"th",36)(7,"span",37),S._uU(8),S.ALo(9,"translate"),S.qZA()()()(),S.TgZ(10,"tbody"),S.YNc(11,K,2,1,"ng-container",13),S.YNc(12,G,11,5,"ng-container",13),S.qZA()()),2&me){const Y=S.oxw(3);S.xp6(4),S.Oqu(S.lcZ(5,4,"Common.Subject")),S.xp6(4),S.Oqu(S.lcZ(9,6,"Common.Actions")),S.xp6(3),S.Q6J("ngIf",Y.activeTab===Y.ActiveTab.Request),S.xp6(1),S.Q6J("ngIf",Y.activeTab===Y.ActiveTab.Response)}}function le(me,he){if(1&me&&(S.TgZ(0,"div"),S.YNc(1,j,13,8,"table",33),S.qZA()),2&me){const Y=S.oxw(2);S.xp6(1),S.Q6J("ngIf",Y.activeTab==Y.ActiveTab.Request?Y.data.certificates.SigningCertificates.length>0:Y.data.certificates.EncryptionCertificate)}}function Ee(me,he){1&me&&(S.TgZ(0,"div",42)(1,"div"),S._uU(2),S.ALo(3,"translate"),S.qZA()()),2&me&&(S.xp6(2),S.Oqu(S.lcZ(3,1,"Clients.NoCertificates")))}function ve(me,he){if(1&me){const Y=S.EpF();S.TgZ(0,"button",43),S.NdJ("click",function(){S.CHM(Y);const fe=S.oxw(3);return S.KtG(fe.addCert())}),S._uU(1),S.ALo(2,"translate"),S.qZA()}2&me&&(S.xp6(1),S.Oqu(S.lcZ(2,1,"Clients.Saml.AddCert")))}function ye(me,he){if(1&me){const Y=S.EpF();S.TgZ(0,"button",43),S.NdJ("click",function(){S.CHM(Y);const fe=S.oxw(3);return S.KtG(fe.addCert())}),S._uU(1),S.ALo(2,"translate"),S.qZA()}2&me&&(S.xp6(1),S.Oqu(S.lcZ(2,1,"Clients.Saml.ReplaceCertificate")))}function we(me,he){if(1&me&&(S.ynx(0),S.YNc(1,ve,3,3,"button",32),S.YNc(2,ye,3,3,"button",32),S.BQk()),2&me){const Y=S.oxw(2);S.xp6(1),S.Q6J("ngIf",!Y.data.certificates.EncryptionCertificate||""===Y.data.certificates.EncryptionCertificate),S.xp6(1),S.Q6J("ngIf",Y.data.certificates.EncryptionCertificate&&""!==Y.data.certificates.EncryptionCertificate)}}function re(me,he){if(1&me){const Y=S.EpF();S.TgZ(0,"button",43),S.NdJ("click",function(){S.CHM(Y);const fe=S.oxw(2);return S.KtG(fe.addCert())}),S._uU(1),S.ALo(2,"translate"),S.qZA()}2&me&&(S.xp6(1),S.Oqu(S.lcZ(2,1,"Clients.Saml.AddCert")))}function ce(me,he){if(1&me){const Y=S.EpF();S.TgZ(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),S.NdJ("click",function(){S.CHM(Y);const fe=S.oxw();return S.KtG(fe.activeTab=fe.ActiveTab.Request)}),S._uU(4),S.ALo(5,"translate"),S.qZA()(),S.TgZ(6,"li",27)(7,"button",29),S.NdJ("click",function(){S.CHM(Y);const fe=S.oxw();return S.KtG(fe.activeTab=fe.ActiveTab.Response)}),S._uU(8),S.ALo(9,"translate"),S.qZA()()(),S.YNc(10,le,2,1,"div",13),S.YNc(11,Ee,4,3,"div",30),S.TgZ(12,"div",31),S.YNc(13,we,3,2,"ng-container",13),S.YNc(14,re,3,3,"button",32),S.qZA()()}if(2&me){const Y=S.oxw();S.xp6(3),S.ekj("active",Y.activeTab===Y.ActiveTab.Request),S.xp6(1),S.Oqu(S.lcZ(5,10,"Clients.Saml.Request")),S.xp6(3),S.ekj("active",Y.activeTab===Y.ActiveTab.Response),S.xp6(1),S.Oqu(S.lcZ(9,12,"Clients.Saml.Response")),S.xp6(2),S.Q6J("ngIf",Y.data.certificates),S.xp6(1),S.Q6J("ngIf",Y.activeTab==Y.ActiveTab.Request&&0===Y.data.certificates.SigningCertificates.length||Y.activeTab==Y.ActiveTab.Response&&!Y.data.certificates.EncryptionCertificate),S.xp6(2),S.Q6J("ngIf",Y.activeTab===Y.ActiveTab.Response),S.xp6(1),S.Q6J("ngIf",Y.activeTab===Y.ActiveTab.Request)}}function Ie(me,he){if(1&me){const Y=S.EpF();S.TgZ(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),S.NdJ("ngModelChange",function(fe){S.CHM(Y);const xe=S.oxw();return S.KtG(xe.data.rememberCertificateAction=fe)}),S.qZA(),S.TgZ(5,"span",48),S._uU(6),S.ALo(7,"translate"),S.qZA()()()()()}if(2&me){const Y=S.oxw();S.xp6(4),S.Q6J("ngModel",Y.data.rememberCertificateAction),S.xp6(2),S.hij(" ",S.lcZ(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var ke=(()=>{return(me=ke||(ke={}))[me.DoNotSet=0]="DoNotSet",me[me.UseExisting=1]="UseExisting",me[me.ManuallyCreate=2]="ManuallyCreate",ke;var me})(),Ae=(()=>{return(me=Ae||(Ae={}))[me.Request=0]="Request",me[me.Response=1]="Response",Ae;var me})();let Ze=(()=>{class me extends a.n{constructor(Y,Me,fe,xe){super(),this.fb=Y,this.changeDetector=Me,this.toastr=fe,this.translate=xe,this.CertificateAction=ke,this.ActiveTab=Ae}get data(){return this._selectableImportResource}set data(Y){this._selectableImportResource=Y}ngOnInit(){if(this.form=this.fb.group({certificateAction:[ke.UseExisting,e.kI.required]}),this.data){const Y=this.data.certificateAction===ke.ManuallyCreate;let Me;Me=this.data.existingHasCertificates?Y?ke.ManuallyCreate:ke.UseExisting:ke.DoNotSet,this.data.certificateAction=Me,this.form.get("certificateAction").setValue(Me),this.displayResourceType=T.m.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===ke.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=Ae.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=Ae.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=Ae.Response))),this.form.valueChanges.subscribe(()=>{const Y=this.form.value.certificateAction;this.data.certificateAction=Y,Y===ke.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=Ae.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new x.x,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(Y=>{this.activeTab===Ae.Request?(this.stripContentTypeFromData(Y),this.data.certificates.SigningCertificates.some(Me=>Me.base64Cert===Y.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(Y)):(this.stripContentTypeFromData(Y),this.data.certificates.EncryptionCertificate=Y)}),this.openModal(C.K.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(Y){const Me=Y.base64Cert.split("base64,");Me.length>1&&(Y.base64Cert=Me[1])}deleteCert(Y){if(this.activeTab===Ae.Request){const Me=this.data.certificates.SigningCertificates.indexOf(Y);this.data.certificates.SigningCertificates.splice(Me,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===ke.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===ke.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===ke.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===ke.DoNotSet||this.data.certificateAction===ke.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}}return me.\u0275fac=function(Y){return new(Y||me)(S.Y36(e.QS),S.Y36(S.sBO),S.Y36(_._W),S.Y36(U.sK))},me.\u0275cmp=S.Xpm({type:me,selectors:[["app-import-certificates"]],features:[S.qOj],decls:38,vars:29,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],["existingHasCertificates",""],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModel","ngModelChange"],[1,"tw-font-normal"]],template:function(Y,Me){if(1&Y&&(S.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),S._uU(3),S.ALo(4,"translate"),S.qZA(),S.TgZ(5,"span",3),S._uU(6),S.ALo(7,"translate"),S.qZA()(),S.TgZ(8,"div",4)(9,"p",5),S._uU(10),S.ALo(11,"translate"),S.qZA()(),S.TgZ(12,"form",6)(13,"ul",7),S.YNc(14,y,6,4,"li",8),S.YNc(15,B,6,4,"ng-template",null,9,S.W1O),S.TgZ(17,"li",10)(18,"label",11),S._UZ(19,"input",12),S.TgZ(20,"span"),S._uU(21),S.ALo(22,"translate"),S.qZA()()()()(),S.YNc(23,ce,15,14,"div",13),S.YNc(24,Ie,8,4,"div",14),S.qZA(),S._UZ(25,"div",15),S.TgZ(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),S.NdJ("click",function(){return Me.goNext()}),S._uU(30),S.ALo(31,"translate"),S.qZA(),S.TgZ(32,"button",20),S.NdJ("click",function(){return Me.back()}),S._uU(33),S.ALo(34,"translate"),S.qZA()(),S.TgZ(35,"button",21),S.NdJ("click",function(){return Me.cancel()}),S._uU(36),S.ALo(37,"translate"),S.qZA()()()),2&Y){const fe=S.MAs(16);S.xp6(3),S.hij("",S.lcZ(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),S.xp6(3),S.AsE("",null==Me.data?null:Me.data.displayName," (",S.lcZ(7,17,"Clients.Import.Wizard.Secrets."+Me.displayResourceType),")"),S.xp6(4),S.Oqu(S.lcZ(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),S.xp6(2),S.Q6J("formGroup",Me.form),S.xp6(2),S.Q6J("ngIf",!(null!=Me.data&&Me.data.existingHasCertificates))("ngIfElse",fe),S.xp6(5),S.Q6J("value",Me.CertificateAction.ManuallyCreate),S.xp6(2),S.Oqu(S.lcZ(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),S.xp6(2),S.Q6J("ngIf",Me.showCertificatePicker),S.xp6(1),S.Q6J("ngIf",!Me.showCertificatePicker),S.xp6(5),S.Q6J("disabled",Me.disableNext()),S.xp6(1),S.Oqu(S.lcZ(31,23,"Common.Next")),S.xp6(3),S.Oqu(S.lcZ(34,25,"Common.Back")),S.xp6(3),S.Oqu(S.lcZ(37,27,"Common.Cancel"))}},dependencies:[R.sg,R.O5,e._Y,e.Fj,e.Wl,e._,e.JJ,e.JL,e.On,e.sg,e.u,U.X$],encapsulation:2}),me})()},5954:(it,oe,g)=>{"use strict";g.d(oe,{l:()=>T});var a=g(8058),e=g(4650),C=g(7481),x=g(9066);let T=(()=>{class S extends a.n{constructor(U){super(),this.importWizardService=U,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}}return S.\u0275fac=function(U){return new(U||S)(e.Y36(C.U))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-import-download-warning"]],features:[e.qOj],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(U,R){1&U&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",2),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.NdJ("click",function(){return R.downloadAndQuit()}),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"button",7),e.NdJ("click",function(){return R.yes()}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()),2&U&&(e.xp6(2),e.AsE(" ",e.lcZ(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.lcZ(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.xp6(4),e.Oqu(e.lcZ(7,9,"Secret Picker.LastWarning")),e.xp6(6),e.Oqu(e.lcZ(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.xp6(3),e.Oqu(e.lcZ(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[x.X$],encapsulation:2}),S})()},2723:(it,oe,g)=>{"use strict";g.d(oe,{$:()=>Ee,C:()=>le});var a=g(3111),e=g(4006),C=g(6068),x=g(8176),T=g(8058),S=g(5669),_=g(4650),U=g(9066),R=g(6895),y=g(1660);const B=["secretPicker"];function F(ve,ye){if(1&ve&&(_.TgZ(0,"li",10)(1,"label",27),_._UZ(2,"input",28),_.TgZ(3,"span"),_._uU(4),_.ALo(5,"translate"),_.qZA()()()),2&ve){const we=_.oxw();_.xp6(2),_.Q6J("value",we.SecretsActions.DoNotSet),_.xp6(2),_.Oqu(_.lcZ(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function K(ve,ye){if(1&ve&&(_.TgZ(0,"li",10)(1,"label",29),_._UZ(2,"input",30),_.TgZ(3,"span"),_._uU(4),_.ALo(5,"translate"),_.qZA()()()),2&ve){const we=_.oxw();_.xp6(2),_.Q6J("value",we.SecretsActions.UseExistingSecret),_.xp6(2),_.Oqu(_.lcZ(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function G(ve,ye){if(1&ve&&_._UZ(0,"app-secret-picker",31,32),2&ve){const we=_.oxw();_.Q6J("clientSecrets",we.possibleSecrets)("nonModelCertPicker",!1)}}function j(ve,ye){if(1&ve){const we=_.EpF();_.TgZ(0,"div",33)(1,"ul",34)(2,"li",10)(3,"label",35)(4,"input",36),_.NdJ("ngModelChange",function(ce){_.CHM(we);const Ie=_.oxw();return _.KtG(Ie.data.rememberSecretAction=ce)}),_.qZA(),_.TgZ(5,"span",37),_._uU(6),_.ALo(7,"translate"),_.qZA()()()()()}if(2&ve){const we=_.oxw();_.xp6(4),_.Q6J("ngModel",we.data.rememberSecretAction),_.xp6(2),_.hij(" ",_.lcZ(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var le=(()=>{return(ve=le||(le={}))[ve.DoNotSet=0]="DoNotSet",ve[ve.Generate=1]="Generate",ve[ve.ManuallyCreate=2]="ManuallyCreate",ve[ve.UseExistingSecret=3]="UseExistingSecret",le;var ve})();let Ee=(()=>{class ve extends T.n{constructor(we,re,ce){super(),this.translate=we,this.fb=re,this.changeDetector=ce,this.SecretsActions=le,this.possibleSecrets=[]}get data(){return this._selectableImportResource}set data(we){this._selectableImportResource=we}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.kI.required]}),this.data){const we=this.data.existingHasSecrets?le.UseExistingSecret:le.DoNotSet;this.form.get("secretAction").setValue(we),this.displayResourceType=this.data.resourceType===a.JR.Client?S.m.client:S.m.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===le.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:le.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:le.Generate})),this.form.valueChanges.subscribe(()=>{const we=this.form.value.secretAction;this.data.secretsAction=we,we===le.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?a.JR[this.data.resourceType]:""}goNext(){const we=this.form.get("secretAction");if(we.value===le.DoNotSet)this.data.secrets=[];else if(we.value===le.UseExistingSecret)this.data.useExistingSecrets=!0;else if(we.value===le.Generate){const re=new C.u;re.value=(0,x.qs)(),re.type="Shared Secret",re.description="",this.data.secrets=[re]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(we=>{this.possibleSecrets.push(we)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(we=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(we),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}}return ve.\u0275fac=function(we){return new(we||ve)(_.Y36(U.sK),_.Y36(e.QS),_.Y36(_.sBO))},ve.\u0275cmp=_.Xpm({type:ve,selectors:[["app-import-secrets"]],viewQuery:function(we,re){if(1&we&&_.Gf(B,5),2&we){let ce;_.iGM(ce=_.CRH())&&(re.secretPicker=ce.first)}},features:[_.qOj],decls:51,vars:38,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],["existingHasSecrets",""],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],["secretPicker",""],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModel","ngModelChange"],[1,"tw-font-normal"]],template:function(we,re){if(1&we&&(_.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span",3),_._uU(6),_.ALo(7,"translate"),_.qZA()(),_.TgZ(8,"div",4)(9,"p",5),_._uU(10),_.ALo(11,"translate"),_.qZA()(),_.TgZ(12,"form",6)(13,"ul",7),_.YNc(14,F,6,4,"li",8),_.YNc(15,K,6,4,"ng-template",null,9,_.W1O),_.TgZ(17,"li",10)(18,"label",11),_._UZ(19,"input",12),_.TgZ(20,"span"),_._uU(21),_.ALo(22,"translate"),_.qZA()()(),_.TgZ(23,"li",10)(24,"label",13),_._UZ(25,"input",14),_.TgZ(26,"span"),_._uU(27),_.ALo(28,"translate"),_.qZA()()()()(),_.TgZ(29,"div",15)(30,"p",16)(31,"b",17),_._uU(32),_.ALo(33,"translate"),_.qZA(),_._uU(34),_.ALo(35,"translate"),_.qZA()(),_.YNc(36,G,2,2,"app-secret-picker",18),_.YNc(37,j,8,4,"div",19),_.qZA(),_._UZ(38,"div",20),_.TgZ(39,"div",21)(40,"div",22)(41,"div",23)(42,"button",24),_.NdJ("click",function(){return re.goNext()}),_._uU(43),_.ALo(44,"translate"),_.qZA(),_.TgZ(45,"button",25),_.NdJ("click",function(){return re.back()}),_._uU(46),_.ALo(47,"translate"),_.qZA()(),_.TgZ(48,"button",26),_.NdJ("click",function(){return re.cancel()}),_._uU(49),_.ALo(50,"translate"),_.qZA()()()),2&we){const ce=_.MAs(16);_.xp6(3),_.hij("",_.lcZ(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),_.xp6(3),_.AsE("",null==re.data?null:re.data.displayName," (",_.lcZ(7,20,"Clients.Import.Wizard.Secrets."+re.displayResourceType),")"),_.xp6(4),_.Oqu(_.lcZ(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),_.xp6(2),_.Q6J("formGroup",re.form),_.xp6(2),_.Q6J("ngIf",!(null!=re.data&&re.data.existingHasSecrets))("ngIfElse",ce),_.xp6(5),_.Q6J("value",re.SecretsActions.Generate),_.xp6(2),_.Oqu(_.lcZ(22,24,"Clients.Import.Wizard.Secrets.Generate")),_.xp6(4),_.Q6J("value",re.SecretsActions.ManuallyCreate),_.xp6(2),_.Oqu(_.lcZ(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),_.xp6(5),_.hij("",_.lcZ(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),_.xp6(2),_.hij(" ",_.lcZ(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),_.xp6(2),_.Q6J("ngIf",re.showSecretPicker),_.xp6(1),_.Q6J("ngIf",!re.showSecretPicker),_.xp6(6),_.Oqu(_.lcZ(44,32,"Common.Next")),_.xp6(3),_.Oqu(_.lcZ(47,34,"Common.Back")),_.xp6(3),_.Oqu(_.lcZ(50,36,"Common.Cancel"))}},dependencies:[R.O5,e._Y,e.Fj,e.Wl,e._,e.JJ,e.JL,e.On,e.sg,e.u,y.P,U.X$],encapsulation:2}),ve})()},3953:(it,oe,g)=>{"use strict";g.d(oe,{o:()=>ke});var a=g(3111),e=g(3334),C=g(8058),x=g(4650),T=g(7481),S=g(9066),_=g(6895);function U(Ae,Ze){1&Ae&&x.GkF(0)}const R=function(Ae,Ze,me,he,Y){return{title:Ae,editable:!0,header1:Ze,header2:me,header3:he,data:Y}};function y(Ae,Ze){if(1&Ae&&(x.TgZ(0,"div"),x.YNc(1,U,1,0,"ng-container",12),x.ALo(2,"translate"),x.ALo(3,"translate"),x.ALo(4,"translate"),x.ALo(5,"translate"),x.qZA()),2&Ae){const me=x.oxw(),he=x.MAs(9);x.xp6(1),x.Q6J("ngTemplateOutlet",he)("ngTemplateOutletContext",x.qbA(10,R,x.lcZ(2,2,"Nav.Clients"),x.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Client"),x.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),x.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.Client"),me.clients))}}function B(Ae,Ze){1&Ae&&x.GkF(0)}const F=function(Ae,Ze,me,he,Y,Me){return{title:Ae,editable:Ze,header1:me,header2:he,header3:Y,data:Me}};function K(Ae,Ze){if(1&Ae&&(x.TgZ(0,"div",13),x.YNc(1,B,1,0,"ng-container",12),x.ALo(2,"translate"),x.ALo(3,"translate"),x.ALo(4,"translate"),x.ALo(5,"translate"),x.qZA()),2&Ae){const me=x.oxw(),he=x.MAs(9);x.xp6(1),x.Q6J("ngTemplateOutlet",he)("ngTemplateOutletContext",x.HTZ(10,F,x.lcZ(2,2,"Nav.Resources"),me.canEdit(me.resources),x.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),x.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),x.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),me.resources))}}function G(Ae,Ze){1&Ae&&x.GkF(0)}function j(Ae,Ze){if(1&Ae&&(x.TgZ(0,"div",13),x.YNc(1,G,1,0,"ng-container",12),x.ALo(2,"translate"),x.ALo(3,"translate"),x.ALo(4,"translate"),x.ALo(5,"translate"),x.qZA()),2&Ae){const me=x.oxw(),he=x.MAs(9);x.xp6(1),x.Q6J("ngTemplateOutlet",he)("ngTemplateOutletContext",x.HTZ(10,F,x.lcZ(2,2,"Nav.ClaimTypes"),me.canEdit(me.claims),x.lcZ(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),x.lcZ(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),x.lcZ(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),me.claims))}}function le(Ae,Ze){if(1&Ae&&(x.ynx(0),x.TgZ(1,"td",31),x._UZ(2,"span",32),x.qZA(),x.TgZ(3,"td")(4,"span",33),x._uU(5),x.qZA()(),x.BQk()),2&Ae){const me=x.oxw().$implicit,he=x.oxw(2);x.xp6(5),x.Oqu(he.getConflicts(me))}}function Ee(Ae,Ze){1&Ae&&x._UZ(0,"span",37)}function ve(Ae,Ze){1&Ae&&x._UZ(0,"span",38)}function ye(Ae,Ze){1&Ae&&x._UZ(0,"span",32)}function we(Ae,Ze){if(1&Ae&&(x.ynx(0),x.TgZ(1,"td",31),x.YNc(2,Ee,1,0,"span",34),x.YNc(3,ve,1,0,"span",35),x.YNc(4,ye,1,0,"span",36),x.qZA(),x.TgZ(5,"td")(6,"span",33),x._uU(7),x.qZA()(),x.BQk()),2&Ae){const me=x.oxw().$implicit,he=x.oxw(2);x.xp6(2),x.Q6J("ngIf",me.resourceState==he.resourceStates.New),x.xp6(1),x.Q6J("ngIf",me.resourceState==he.resourceStates.Duplicate),x.xp6(1),x.Q6J("ngIf",me.conflictedByDependencies),x.xp6(2),x.ekj("tw-italic",me.resourceState===he.resourceStates.Duplicate),x.xp6(1),x.hij(" ",he.getResourceState(me)," ")}}const re=function(Ae){return{"inactive disabled tw-opacity-50 tw-pointer-events-none":Ae}};function ce(Ae,Ze){if(1&Ae&&(x.TgZ(0,"tr",27)(1,"td",28)(2,"b"),x._uU(3),x.qZA()(),x.TgZ(4,"td",29),x._uU(5),x.qZA(),x.TgZ(6,"td",30),x._uU(7),x.ALo(8,"translate"),x.qZA(),x.YNc(9,le,6,1,"ng-container",2),x.YNc(10,we,8,6,"ng-container",2),x.qZA()),2&Ae){const me=Ze.$implicit,he=x.oxw(2);x.Q6J("ngClass",x.VKq(9,re,me.resourceState===he.resourceStates.Duplicate)),x.xp6(1),x.Q6J("title",me.displayName),x.xp6(2),x.Oqu(me.displayName),x.xp6(2),x.hij(" ",me.identifier," "),x.xp6(2),x.hij(" ",x.lcZ(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+me.displayType)," "),x.xp6(2),x.Q6J("ngIf",me.resourceState===he.resourceStates.Conflicted&&!me.conflictedByDependencies),x.xp6(1),x.Q6J("ngIf",me.resourceState!==he.resourceStates.Conflicted||me.conflictedByDependencies)}}function Ie(Ae,Ze){if(1&Ae){const me=x.EpF();x.TgZ(0,"h2",14)(1,"span",15),x._uU(2),x.qZA(),x.TgZ(3,"button",16),x.NdJ("click",function(){const Me=x.CHM(me).data,fe=x.oxw();return x.KtG(fe.editResourceSummary(Me))}),x._UZ(4,"span",17),x.TgZ(5,"span",18),x._uU(6),x.ALo(7,"translate"),x.qZA()()(),x.TgZ(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),x._uU(12),x.qZA(),x.TgZ(13,"th",21),x._uU(14),x.qZA(),x.TgZ(15,"th",22),x._uU(16),x.qZA(),x._UZ(17,"td",23),x.TgZ(18,"th",24)(19,"span",25),x._uU(20),x.ALo(21,"translate"),x.qZA()()()(),x.TgZ(22,"tbody"),x.YNc(23,ce,11,11,"tr",26),x.qZA()()}if(2&Ae){const me=Ze.title,he=Ze.editable,Y=Ze.header1,Me=Ze.header2,fe=Ze.header3,xe=Ze.data;x.xp6(2),x.Oqu(me),x.xp6(1),x.Q6J("disabled",!he),x.xp6(3),x.Oqu(x.lcZ(7,8,"Common.Edit")),x.xp6(6),x.Oqu(Y),x.xp6(2),x.Oqu(Me),x.xp6(2),x.Oqu(fe),x.xp6(4),x.Oqu(x.lcZ(21,10,"Common.Status")),x.xp6(3),x.Q6J("ngForOf",xe)}}let ke=(()=>{class Ae extends C.n{constructor(me,he){super(),this.importWizardService=me,this.translate=he,this.resourceStates=a.vZ,this.resourceTypes=a.JR}ngOnInit(){this.importWizardService.cache.subscribe(me=>{const he=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],Y=me.filter(xe=>xe.resourceType===a.JR.Client&&(xe.selected||xe.resourceState===a.vZ.Duplicate)),Me=[],fe=[];me.forEach(xe=>{xe.resourceType!==a.JR.Client&&Y.some(Ue=>xe.dependantClients.some(et=>et.identifier===Ue.identifier))&&(xe.resourceType===a.JR.ClaimType?Me.push(xe):fe.push(xe))}),this.clients=Y.sort((xe,Ue)=>he.indexOf(xe.resourceState)-he.indexOf(Ue.resourceState)),this.claims=Me.sort((xe,Ue)=>he.indexOf(xe.resourceState)-he.indexOf(Ue.resourceState)),this.resources=fe.sort((xe,Ue)=>he.indexOf(xe.resourceState)-he.indexOf(Ue.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(me,he){me.stopPropagation(),this.openModal(e.K.summaryConflicts,he)}getResourceState(me){return me.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[me.resourceState]}canEdit(me){return me.length>0&&me.some(he=>he.resourceState!==a.vZ.Duplicate)}editResourceSummary(me){this.importWizardController.goToSummaryStep(me[0].resourceType)}getConflicts(me){let Y,he=0;return me.conflicts.forEach(Me=>{he+=Me.conflicts.length}),Y=this.translate.instant(1===he?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),he+" "+Y}}return Ae.\u0275fac=function(me){return new(me||Ae)(x.Y36(T.U),x.Y36(S.sK))},Ae.\u0275cmp=x.Xpm({type:Ae,selectors:[["app-import-summary-all"]],features:[x.qOj],decls:23,vars:16,consts:[[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],["commonDatatable",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"disabled","click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(me,he){1&me&&(x.TgZ(0,"div",0)(1,"div",1)(2,"p"),x._uU(3),x.ALo(4,"translate"),x.qZA()(),x.YNc(5,y,6,16,"div",2),x.YNc(6,K,6,17,"div",3),x.YNc(7,j,6,17,"div",3),x.YNc(8,Ie,24,12,"ng-template",null,4,x.W1O),x.qZA(),x._UZ(10,"div",5),x.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),x.NdJ("click",function(){return he.goNext()}),x._uU(15),x.ALo(16,"translate"),x.qZA(),x.TgZ(17,"button",10),x.NdJ("click",function(){return he.back()}),x._uU(18),x.ALo(19,"translate"),x.qZA()(),x.TgZ(20,"button",11),x.NdJ("click",function(){return he.cancel()}),x._uU(21),x.ALo(22,"translate"),x.qZA()()()),2&me&&(x.xp6(3),x.Oqu(x.lcZ(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),x.xp6(2),x.Q6J("ngIf",(null==he.clients?null:he.clients.length)>0),x.xp6(1),x.Q6J("ngIf",(null==he.resources?null:he.resources.length)>0),x.xp6(1),x.Q6J("ngIf",(null==he.claims?null:he.claims.length)>0),x.xp6(7),x.Q6J("disabled",!he.canNext()),x.xp6(1),x.Oqu(x.lcZ(16,10,"Clients.Import.Import")),x.xp6(3),x.Oqu(x.lcZ(19,12,"Common.Back")),x.xp6(3),x.Oqu(x.lcZ(22,14,"Common.Cancel")))},dependencies:[_.mk,_.sg,_.O5,_.tP,S.X$],encapsulation:2}),Ae})()},3553:(it,oe,g)=>{"use strict";g.d(oe,{Gz:()=>Le});var a=g(3111),e=g(3334),C=g(8176),x=g(5669),T=g(8058);let S=(()=>{class je{}return je.RelyingPartyProperty="RelyingParty",je.RelyingPartyIdentifier="Relying Party",je.ServiceProviderProperty="ServiceProvider",je.ServiceProviderIdentifier="Service Provider",je.ClaimsProperty="Claims",je.PropertiesProperty="Properties",je.ScopesProperty="Scopes",je.UserClaimsProperty="UserClaims",je.sloProperty="SingleLogoutServices",je.acsProperty="AssertionConsumerServices",je.sloIdentifier="Single Logout Services",je.acsIdentifier="Assertion Consumer Services",je.ClaimMappingsIdentifier="Claim Mappings",je.ClaimMappingsKey="ClaimMappings",je.SamlDisplayType="Saml",je.WsFedDisplayType="WsFed",je.Client="Client",je.Endpoint="Endpoint",je.ProtectedResources="ProtectedResources",je.IdentityResources="IdentityResources",je.ClaimTypes="ClaimTypes",je.Secrets="Secrets",je.Certificates="Certificates",je})();var _=g(4650),U=g(7481),R=g(9066),y=g(2979),B=g(6895);let F=(()=>{class je{transform(rt){if(rt){const Lt=[...rt];let Gt="",En="";for(let yn=0;yn<Lt.length;yn++){const si=Lt[yn];if(0===Gt.length)Gt=si.toUpperCase();else if(yn+1===Lt.length)En===En.toUpperCase()||si===si.toLowerCase()?Gt+=si:Gt+=`${si}`;else if(si===si.toUpperCase()){const Ti=En===En.toUpperCase(),Ni=Lt[yn+1];Ti?Ni===Ni.toLowerCase()?Gt+=` ${si}`:Gt+=si:Gt+=` ${si}`}else Gt+=si;En=si}rt=Gt}return rt}}return je.\u0275fac=function(rt){return new(rt||je)},je.\u0275pipe=_.Yjl({name:"beautifyPropertyName",type:je,pure:!0}),je})();const K=["importSummaryConflictsModal"];function G(je,qt){1&je&&_._UZ(0,"span",24)}function j(je,qt){1&je&&_._UZ(0,"span",25)}function le(je,qt){1&je&&(_.TgZ(0,"span",35),_._uU(1,", "),_.qZA())}function Ee(je,qt){if(1&je&&(_.TgZ(0,"li",33)(1,"span"),_._uU(2),_.qZA(),_.YNc(3,le,2,0,"span",34),_.qZA()),2&je){const rt=qt.$implicit,Lt=qt.last;_.xp6(2),_.Oqu(rt.displayName),_.xp6(1),_.Q6J("ngIf",!Lt)}}function ve(je,qt){if(1&je&&(_.TgZ(0,"dl",29)(1,"dt",30),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"dd")(5,"ul",31),_.YNc(6,Ee,4,2,"li",32),_.qZA()()()),2&je){const rt=_.oxw(3);_.xp6(2),_.hij(" ",_.lcZ(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),_.xp6(4),_.Q6J("ngForOf",rt.linkedNewClients)}}function ye(je,qt){1&je&&(_.TgZ(0,"span",35),_._uU(1,", "),_.qZA())}function we(je,qt){if(1&je&&(_.TgZ(0,"li",33)(1,"a",37),_._uU(2),_.qZA(),_.YNc(3,ye,2,0,"span",34),_.qZA()),2&je){const rt=qt.$implicit,Lt=qt.last,Gt=_.oxw(4);_.xp6(1),_.Q6J("href",Gt.buildHref(rt.existingIdentifier),_.LSH),_.xp6(1),_.hij(" ",rt.displayName," "),_.xp6(1),_.Q6J("ngIf",!Lt)}}function re(je,qt){if(1&je&&(_.TgZ(0,"dl",36)(1,"dt",30),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"dd",33)(5,"ul",31),_.YNc(6,we,4,3,"li",32),_.qZA()()()),2&je){const rt=_.oxw(3);_.xp6(2),_.hij(" ",_.lcZ(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),_.xp6(4),_.Q6J("ngForOf",rt.linkedExistingClients)}}function ce(je,qt){if(1&je&&(_.TgZ(0,"div",26),_.YNc(1,ve,7,4,"dl",27),_.YNc(2,re,7,4,"dl",28),_.qZA()),2&je){const rt=_.oxw(2);_.xp6(1),_.Q6J("ngIf",rt.linkedNewClients.length>0),_.xp6(1),_.Q6J("ngIf",rt.linkedExistingClients.length>0)}}function Ie(je,qt){if(1&je){const rt=_.EpF();_.TgZ(0,"div",17)(1,"div",18)(2,"button",19),_.NdJ("click",function(){_.CHM(rt);const Gt=_.oxw();return _.KtG(Gt.toggleDisplayLinkedClientsDropdown())}),_.TgZ(3,"span"),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.TgZ(6,"span",20),_.YNc(7,G,1,0,"span",21),_.YNc(8,j,1,0,"span",22),_.qZA()(),_.YNc(9,ce,3,2,"div",23),_.qZA()()}if(2&je){const rt=_.oxw();_.ekj("tw-alert-warning",rt.linkedExistingClients.length>0),_.xp6(4),_.Oqu(_.lcZ(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),_.xp6(3),_.Q6J("ngIf",rt.displayLinkedClientsDropdown),_.xp6(1),_.Q6J("ngIf",!rt.displayLinkedClientsDropdown),_.xp6(1),_.Q6J("ngIf",rt.displayLinkedClientsDropdown)}}function ke(je,qt){if(1&je&&(_.TgZ(0,"span",46),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.previous," ")}}function Ae(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ze(je,qt){if(1&je&&(_.TgZ(0,"span",48),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.new," ")}}function me(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function he(je,qt){if(1&je){const rt=_.EpF();_.TgZ(0,"tr",42),_.NdJ("change",function(){_.CHM(rt);const Gt=_.oxw(2);return _.KtG(Gt.setupTableHeadings())}),_.TgZ(1,"td"),_._uU(2),_.ALo(3,"beautifyPropertyName"),_.qZA(),_.TgZ(4,"td"),_.YNc(5,ke,2,1,"span",43),_.YNc(6,Ae,3,3,"i",44),_.qZA(),_.TgZ(7,"td"),_.YNc(8,Ze,2,1,"span",45),_.YNc(9,me,3,3,"i",44),_.qZA()()}if(2&je){const rt=qt.$implicit,Lt=_.oxw(2);_.xp6(2),_.Oqu(_.lcZ(3,5,rt.propertyName)),_.xp6(3),_.Q6J("ngIf",Lt.hasValue(rt.previous)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.previous)),_.xp6(2),_.Q6J("ngIf",Lt.hasValue(rt.new)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.new))}}function Y(je,qt){if(1&je&&(_.TgZ(0,"div",38)(1,"table",39)(2,"thead")(3,"tr")(4,"th"),_._uU(5),_.ALo(6,"translate"),_.qZA(),_.TgZ(7,"th",40),_._uU(8),_.ALo(9,"translate"),_.qZA(),_.TgZ(10,"th",40),_._uU(11),_.ALo(12,"translate"),_.qZA()()(),_.TgZ(13,"tbody"),_.YNc(14,he,10,7,"tr",41),_.qZA()()()),2&je){const rt=_.oxw();_.xp6(5),_.Oqu(_.lcZ(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),_.xp6(3),_.Oqu(_.lcZ(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),_.xp6(3),_.Oqu(_.lcZ(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),_.xp6(3),_.Q6J("ngForOf",null==rt.fieldConflicts?null:rt.fieldConflicts.conflicts)}}function Me(je,qt){if(1&je&&(_.TgZ(0,"span",46),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.previous," ")}}function fe(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function xe(je,qt){if(1&je&&(_.TgZ(0,"span",48),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.new," ")}}function Ue(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function et(je,qt){if(1&je){const rt=_.EpF();_.TgZ(0,"tr",42),_.NdJ("change",function(){_.CHM(rt);const Gt=_.oxw(3);return _.KtG(Gt.setupTableHeadings())}),_.TgZ(1,"td"),_._uU(2),_.qZA(),_.TgZ(3,"td"),_.YNc(4,Me,2,1,"span",43),_.YNc(5,fe,3,3,"i",44),_.qZA(),_.TgZ(6,"td"),_.YNc(7,xe,2,1,"span",45),_.YNc(8,Ue,3,3,"i",44),_.qZA()()}if(2&je){const rt=qt.$implicit,Lt=_.oxw(3);_.xp6(2),_.Oqu(rt.propertyName),_.xp6(2),_.Q6J("ngIf",Lt.hasValue(rt.previous)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.previous)),_.xp6(2),_.Q6J("ngIf",Lt.hasValue(rt.new)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.new))}}function Qe(je,qt){if(1&je&&(_.TgZ(0,"div",51)(1,"h4",52),_._uU(2),_.ALo(3,"beautifyPropertyName"),_.qZA(),_.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),_._uU(8),_.ALo(9,"translate"),_.qZA(),_.TgZ(10,"th",40),_._uU(11),_.ALo(12,"translate"),_.qZA(),_.TgZ(13,"th",40),_._uU(14),_.ALo(15,"translate"),_.qZA()()(),_.TgZ(16,"tbody"),_.YNc(17,et,9,5,"tr",41),_.qZA()()()),2&je){const rt=qt.$implicit;_.xp6(2),_.hij(" ",_.lcZ(3,5,rt.identifier)," "),_.xp6(6),_.Oqu(_.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),_.xp6(3),_.Oqu(_.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),_.xp6(3),_.Oqu(_.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),_.xp6(3),_.Q6J("ngForOf",null==rt?null:rt.conflicts)}}function mt(je,qt){if(1&je&&(_.TgZ(0,"div",49),_.YNc(1,Qe,18,13,"div",50),_.qZA()),2&je){const rt=_.oxw();_.xp6(1),_.Q6J("ngForOf",rt.clientKeyValueConflicts)}}function $(je,qt){if(1&je&&(_.TgZ(0,"span",46),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.previous," ")}}function be(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function De(je,qt){if(1&je&&(_.TgZ(0,"span",48),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.new," ")}}function qe(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ct(je,qt){if(1&je){const rt=_.EpF();_.TgZ(0,"tr",42),_.NdJ("change",function(){_.CHM(rt);const Gt=_.oxw(3);return _.KtG(Gt.setupTableHeadings())}),_.TgZ(1,"td"),_._uU(2),_.ALo(3,"beautifyPropertyName"),_.qZA(),_.TgZ(4,"td"),_.YNc(5,$,2,1,"span",43),_.YNc(6,be,3,3,"i",44),_.qZA(),_.TgZ(7,"td"),_.YNc(8,De,2,1,"span",45),_.YNc(9,qe,3,3,"i",44),_.qZA()()}if(2&je){const rt=qt.$implicit,Lt=_.oxw(3);_.xp6(2),_.Oqu(_.lcZ(3,5,rt.propertyName)),_.xp6(3),_.Q6J("ngIf",Lt.hasValue(rt.previous)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.previous)),_.xp6(2),_.Q6J("ngIf",Lt.hasValue(rt.new)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.new))}}function $e(je,qt){if(1&je&&(_.TgZ(0,"div",51)(1,"h4",52),_._uU(2),_.ALo(3,"beautifyPropertyName"),_.qZA(),_.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),_._uU(8),_.ALo(9,"translate"),_.qZA(),_.TgZ(10,"th",40),_._uU(11),_.ALo(12,"translate"),_.qZA(),_.TgZ(13,"th",40),_._uU(14),_.ALo(15,"translate"),_.qZA()()(),_.TgZ(16,"tbody"),_.YNc(17,ct,10,7,"tr",41),_.qZA()()()),2&je){const rt=qt.$implicit;_.xp6(2),_.hij(" ",_.lcZ(3,5,rt.identifier)," "),_.xp6(6),_.Oqu(_.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),_.xp6(3),_.Oqu(_.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),_.xp6(3),_.Oqu(_.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),_.xp6(3),_.Q6J("ngForOf",null==rt?null:rt.conflicts)}}function ut(je,qt){if(1&je&&(_.TgZ(0,"div",53)(1,"h3",54),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.YNc(4,$e,18,13,"div",50),_.qZA()),2&je){const rt=_.oxw();_.xp6(2),_.hij(" ",_.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),_.xp6(2),_.Q6J("ngForOf",rt.scopeConflicts)}}function Vt(je,qt){if(1&je&&(_.TgZ(0,"td"),_._uU(1),_.ALo(2,"beautifyPropertyName"),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.Oqu(_.lcZ(2,1,rt.propertyName))}}function sn(je,qt){if(1&je&&(_.TgZ(0,"td"),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.Oqu(rt.propertyName)}}function rn(je,qt){if(1&je&&(_.TgZ(0,"dl",60)(1,"dt",61),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"dd",62),_._uU(5),_.qZA(),_.TgZ(6,"dt",61),_._uU(7),_.ALo(8,"translate"),_.qZA(),_.TgZ(9,"dd",62),_._uU(10),_.qZA(),_.TgZ(11,"dt",61),_._uU(12),_.ALo(13,"translate"),_.qZA(),_.TgZ(14,"dd",46),_._uU(15),_.qZA()()),2&je){const rt=_.oxw(2).$implicit;_.xp6(2),_.hij("",_.lcZ(3,6,"Common.URL"),":"),_.xp6(3),_.Oqu(rt.previous.location),_.xp6(2),_.hij("",_.lcZ(8,8,"Clients.Saml.BindingType"),":"),_.xp6(3),_.Oqu(rt.previous.binding),_.xp6(2),_.hij("",_.lcZ(13,10,"Clients.Saml.Index"),":"),_.xp6(3),_.Oqu(rt.previous.index)}}function Cn(je,qt){1&je&&(_.TgZ(0,"dl")(1,"i",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&je&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function vt(je,qt){if(1&je&&(_.TgZ(0,"dl",60)(1,"dt",61),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"dd",63),_._uU(5),_.qZA(),_.TgZ(6,"dt",61),_._uU(7),_.ALo(8,"translate"),_.qZA(),_.TgZ(9,"dd",63),_._uU(10),_.qZA(),_.TgZ(11,"dt",61),_._uU(12),_.ALo(13,"translate"),_.qZA(),_.TgZ(14,"dd",48),_._uU(15),_.qZA()()),2&je){const rt=_.oxw(2).$implicit;_.xp6(2),_.hij("",_.lcZ(3,6,"Common.URL"),":"),_.xp6(3),_.Oqu(rt.new.location),_.xp6(2),_.hij("",_.lcZ(8,8,"Clients.Saml.BindingType"),":"),_.xp6(3),_.Oqu(rt.new.binding),_.xp6(2),_.hij("",_.lcZ(13,10,"Clients.Saml.Index"),":"),_.xp6(3),_.Oqu(rt.new.index)}}function At(je,qt){1&je&&(_.TgZ(0,"dl")(1,"i",47),_._uU(2),_.ALo(3,"translate"),_.qZA()()),2&je&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Ge(je,qt){if(1&je&&(_.ynx(0),_.TgZ(1,"td"),_.YNc(2,rn,16,12,"dl",59),_.YNc(3,Cn,4,3,"dl",56),_.qZA(),_.TgZ(4,"td"),_.YNc(5,vt,16,12,"dl",59),_.YNc(6,At,4,3,"dl",56),_.qZA(),_.BQk()),2&je){const rt=_.oxw().$implicit,Lt=_.oxw(3);_.xp6(2),_.Q6J("ngIf",Lt.hasValue(rt.previous)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.previous)),_.xp6(2),_.Q6J("ngIf",Lt.hasValue(rt.new)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.new))}}function xt(je,qt){if(1&je&&(_.TgZ(0,"span",46),_._uU(1),_.qZA()),2&je){const rt=_.oxw(2).$implicit;_.xp6(1),_.hij(" ",rt.previous," ")}}function Et(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function _t(je,qt){if(1&je&&(_.TgZ(0,"span",48),_._uU(1),_.qZA()),2&je){const rt=_.oxw(2).$implicit;_.xp6(1),_.hij(" ",rt.new," ")}}function Ct(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function nt(je,qt){if(1&je&&(_.TgZ(0,"td",64),_.YNc(1,xt,2,1,"span",43),_.YNc(2,Et,3,3,"i",44),_.qZA(),_.TgZ(3,"td",64),_.YNc(4,_t,2,1,"span",45),_.YNc(5,Ct,3,3,"i",44),_.qZA()),2&je){const rt=_.oxw().$implicit,Lt=_.oxw(3);_.xp6(1),_.Q6J("ngIf",Lt.hasValue(rt.previous)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.previous)),_.xp6(2),_.Q6J("ngIf",Lt.hasValue(rt.new)),_.xp6(1),_.Q6J("ngIf",!Lt.hasValue(rt.new))}}function Ye(je,qt){if(1&je){const rt=_.EpF();_.TgZ(0,"tr",42),_.NdJ("change",function(){_.CHM(rt);const Gt=_.oxw(3);return _.KtG(Gt.setupTableHeadings())}),_.YNc(1,Vt,3,3,"td",56),_.YNc(2,sn,2,1,"td",56),_.YNc(3,Ge,7,4,"ng-container",57),_.YNc(4,nt,6,4,"ng-template",null,58,_.W1O),_.qZA()}if(2&je){const rt=_.MAs(5),Lt=_.oxw().$implicit,Gt=_.oxw(2);_.xp6(1),_.Q6J("ngIf",Lt.identifier!=Gt.summaryConflictsConstants.ClaimMappingsKey),_.xp6(1),_.Q6J("ngIf",Lt.identifier==Gt.summaryConflictsConstants.ClaimMappingsKey),_.xp6(1),_.Q6J("ngIf",Lt.identifier==Gt.summaryConflictsConstants.sloProperty||Lt.identifier==Gt.summaryConflictsConstants.acsProperty)("ngIfElse",rt)}}function Mt(je,qt){if(1&je&&(_.TgZ(0,"div",51)(1,"h4",52),_._uU(2),_.ALo(3,"beautifyPropertyName"),_.qZA(),_.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),_._uU(8),_.ALo(9,"translate"),_.qZA(),_.TgZ(10,"th",40),_._uU(11),_.ALo(12,"translate"),_.qZA(),_.TgZ(13,"th",40),_._uU(14),_.ALo(15,"translate"),_.qZA()()(),_.TgZ(16,"tbody"),_.YNc(17,Ye,6,4,"tr",41),_.qZA()()()),2&je){const rt=qt.$implicit;_.xp6(2),_.hij(" ",_.lcZ(3,5,rt.identifier)," "),_.xp6(6),_.Oqu(_.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),_.xp6(3),_.Oqu(_.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),_.xp6(3),_.Oqu(_.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),_.xp6(3),_.Q6J("ngForOf",null==rt?null:rt.conflicts)}}function Oe(je,qt){if(1&je&&(_.TgZ(0,"div",55)(1,"h3",54),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.YNc(4,Mt,18,13,"div",50),_.qZA()),2&je){const rt=_.oxw();_.xp6(2),_.hij(" ",_.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),_.xp6(2),_.Q6J("ngForOf",rt.serviceProviderConflicts)}}function Ke(je,qt){if(1&je&&(_.TgZ(0,"td"),_._uU(1),_.ALo(2,"beautifyPropertyName"),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.Oqu(_.lcZ(2,1,rt.propertyName))}}function Zt(je,qt){if(1&je&&(_.TgZ(0,"td"),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.Oqu(rt.propertyName)}}function tt(je,qt){if(1&je&&(_.TgZ(0,"span",46),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.previous," ")}}function Ne(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function W(je,qt){if(1&je&&(_.TgZ(0,"span",48),_._uU(1),_.qZA()),2&je){const rt=_.oxw().$implicit;_.xp6(1),_.hij(" ",rt.new," ")}}function P(je,qt){1&je&&(_.TgZ(0,"i",47),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&je&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function D(je,qt){if(1&je){const rt=_.EpF();_.TgZ(0,"tr",42),_.NdJ("change",function(){_.CHM(rt);const Gt=_.oxw(3);return _.KtG(Gt.setupTableHeadings())}),_.YNc(1,Ke,3,3,"td",56),_.YNc(2,Zt,2,1,"td",56),_.TgZ(3,"td",64),_.YNc(4,tt,2,1,"span",43),_.YNc(5,Ne,3,3,"i",44),_.qZA(),_.TgZ(6,"td",64),_.YNc(7,W,2,1,"span",45),_.YNc(8,P,3,3,"i",44),_.qZA()()}if(2&je){const rt=qt.$implicit,Lt=_.oxw().$implicit,Gt=_.oxw(2);_.xp6(1),_.Q6J("ngIf",Lt.identifier!=Gt.summaryConflictsConstants.ClaimMappingsIdentifier),_.xp6(1),_.Q6J("ngIf",Lt.identifier==Gt.summaryConflictsConstants.ClaimMappingsIdentifier),_.xp6(2),_.Q6J("ngIf",Gt.hasValue(rt.previous)),_.xp6(1),_.Q6J("ngIf",!Gt.hasValue(rt.previous)),_.xp6(2),_.Q6J("ngIf",Gt.hasValue(rt.new)),_.xp6(1),_.Q6J("ngIf",!Gt.hasValue(rt.new))}}function k(je,qt){if(1&je&&(_.TgZ(0,"div",51)(1,"h4",52),_._uU(2),_.ALo(3,"beautifyPropertyName"),_.qZA(),_.TgZ(4,"table",39)(5,"thead")(6,"tr")(7,"th"),_._uU(8),_.ALo(9,"translate"),_.qZA(),_.TgZ(10,"th",40),_._uU(11),_.ALo(12,"translate"),_.qZA(),_.TgZ(13,"th",40),_._uU(14),_.ALo(15,"translate"),_.qZA()()(),_.TgZ(16,"tbody"),_.YNc(17,D,9,6,"tr",41),_.qZA()()()),2&je){const rt=qt.$implicit;_.xp6(2),_.hij(" ",_.lcZ(3,5,rt.identifier)," "),_.xp6(6),_.Oqu(_.lcZ(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),_.xp6(3),_.Oqu(_.lcZ(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),_.xp6(3),_.Oqu(_.lcZ(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),_.xp6(3),_.Q6J("ngForOf",null==rt?null:rt.conflicts)}}function pe(je,qt){if(1&je&&(_.TgZ(0,"div",65)(1,"h3",54),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.YNc(4,k,18,13,"div",50),_.qZA()),2&je){const rt=_.oxw();_.xp6(2),_.hij(" ",_.lcZ(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),_.xp6(2),_.Q6J("ngForOf",rt.relyingPartyConflicts)}}let Le=(()=>{class je extends T.n{constructor(rt,Lt,Gt){super(),this.importWizardService=rt,this.translate=Lt,this.localizeRouterService=Gt,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=S}set data(rt){const Lt=JSON.parse(JSON.stringify(rt));this.resource=Lt,this.summaryDisplayType=x.m.getSummaryDisplayType(Lt.resourceType),this.setupLinkedClients(Lt),this.resource.resourceType===a.JR.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(Gt=>Gt.identifier===S.ClaimTypes)),this.resource.resourceType===a.JR.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(Gt=>Gt.identifier===S.IdentityResources)),this.resource.resourceType===a.JR.Client&&(this.initClient(),this.resource.displayType===S.SamlDisplayType?this.initServiceProvider():this.resource.displayType===S.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===a.JR.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(Gt=>Gt.identifier===S.ProtectedResources),this.initScopeConflicts())}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===x.m.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.K.summaryConflictsConfirmation,this.resource)}setupLinkedClients(rt){null!==rt.dependantClients&&0!==rt.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(rt.dependantClients.filter(Lt=>Lt.state===a.CP.Importing)),this.linkedExistingClients=this.sortDependentClients(rt.dependantClients.filter(Lt=>Lt.state===a.CP.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(rt){return rt.sort((Lt,Gt)=>Lt.displayName.localeCompare(Gt.displayName))}buildHref(rt){return this.localizeRouterService.translateRoute(`/clients/${rt}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(rt){return!(null==rt||(0,C.Ew)(rt.toString()))}initClient(){const rt=this.resource.conflicts.find(En=>En.identifier===S.Client),Lt=this.resource.conflicts.find(En=>En.identifier===S.ClaimsProperty),Gt=this.resource.conflicts.find(En=>En.identifier===S.PropertiesProperty);rt&&(this.fieldConflicts=rt),Lt&&this.clientKeyValueConflicts.push(Lt),Gt&&this.clientKeyValueConflicts.push(Gt)}initRelyingParty(){const rt=this.resource.conflicts.find(Gt=>Gt.identifier===S.RelyingPartyProperty),Lt=this.resource.conflicts.find(Gt=>Gt.identifier===S.ClaimMappingsKey);rt&&this.relyingPartyConflicts.push(rt),Lt&&this.relyingPartyConflicts.push(Lt)}initServiceProvider(){const rt=this.resource.conflicts.find(yn=>yn.identifier===S.ServiceProviderProperty),Lt=this.resource.conflicts.find(yn=>yn.identifier===S.ClaimMappingsKey),Gt=this.resource.conflicts.find(yn=>yn.identifier===S.acsProperty),En=this.resource.conflicts.find(yn=>yn.identifier===S.sloProperty);rt&&this.serviceProviderConflicts.push(rt),Lt&&this.serviceProviderConflicts.push(Lt),Gt&&this.serviceProviderConflicts.push(Gt),En&&this.serviceProviderConflicts.push(En)}initScopeConflicts(){const rt=this.resource.conflicts.filter(Lt=>Lt.identifier!==S.ProtectedResources);void 0!==rt&&(rt.forEach(Lt=>{const Gt=Lt.conflicts.find(En=>En.propertyName===S.UserClaimsProperty);Gt&&(Gt.new=Gt.new.join(", "),Gt.previous=Gt.previous.join(", "))}),this.scopeConflicts=rt)}}return je.\u0275fac=function(rt){return new(rt||je)(_.Y36(U.U),_.Y36(R.sK),_.Y36(y.An))},je.\u0275cmp=_.Xpm({type:je,selectors:[["app-import-summary-conflicts"]],viewQuery:function(rt,Lt){if(1&rt&&_.Gf(K,7),2&rt){let Gt;_.iGM(Gt=_.CRH())&&(Lt.importSummaryConflictsModal=Gt.first)}},features:[_.qOj],decls:30,vars:22,consts:[[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["normalConflicts",""],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(rt,Lt){1&rt&&(_.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"span"),_._uU(6),_.qZA()(),_.TgZ(7,"div",3)(8,"p"),_._uU(9),_.ALo(10,"translate"),_.qZA()(),_.YNc(11,Ie,10,8,"div",4),_.YNc(12,Y,15,10,"div",5),_.YNc(13,mt,2,1,"div",6),_.YNc(14,ut,5,4,"div",7),_.YNc(15,Oe,5,4,"div",8),_.YNc(16,pe,5,4,"div",9),_.qZA(),_._UZ(17,"div",10),_.TgZ(18,"div",11)(19,"div",12)(20,"div",13)(21,"button",14),_.NdJ("click",function(){return Lt.accept()}),_._uU(22),_.ALo(23,"translate"),_.qZA(),_.TgZ(24,"button",15),_.NdJ("click",function(){return Lt.decline()}),_._uU(25),_.ALo(26,"translate"),_.qZA()(),_.TgZ(27,"button",16),_.NdJ("click",function(){return Lt.back()}),_._uU(28),_.ALo(29,"translate"),_.qZA()()()),2&rt&&(_.xp6(3),_.hij("",_.lcZ(4,12,"Clients.Import.Wizard.Summary.Identifier."+Lt.summaryDisplayType),":"),_.xp6(3),_.Oqu(null==Lt.resource?null:Lt.resource.displayName),_.xp6(3),_.Oqu(_.lcZ(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+Lt.summaryDisplayType)),_.xp6(2),_.Q6J("ngIf",Lt.displayLinkedClients),_.xp6(1),_.Q6J("ngIf",Lt.fieldConflicts&&Lt.fieldConflicts.conflicts.length>0),_.xp6(1),_.Q6J("ngIf",Lt.clientKeyValueConflicts.length>0),_.xp6(1),_.Q6J("ngIf",Lt.scopeConflicts.length>0),_.xp6(1),_.Q6J("ngIf",Lt.serviceProviderConflicts.length>0),_.xp6(1),_.Q6J("ngIf",Lt.relyingPartyConflicts.length>0),_.xp6(6),_.Oqu(_.lcZ(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),_.xp6(3),_.Oqu(_.lcZ(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),_.xp6(3),_.Oqu(_.lcZ(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[B.sg,B.O5,R.X$,F],encapsulation:2}),je})()},9206:(it,oe,g)=>{"use strict";g.d(oe,{j:()=>Ze});var a=g(3111),e=g(3334),C=g(5669),x=g(8058),T=g(4650),S=g(7481),_=g(9066),U=g(6895),R=g(4006);function y(me,he){if(1&me){const Y=T.EpF();T.TgZ(0,"th",21)(1,"label",22)(2,"input",23),T.NdJ("ngModelChange",function(fe){T.CHM(Y);const xe=T.oxw();return T.KtG(xe.allSelected=fe)})("change",function(){T.CHM(Y);const fe=T.oxw();return T.KtG(fe.toggleAllSelected())}),T.qZA()()()}if(2&me){const Y=T.oxw();T.xp6(2),T.Q6J("ngModel",Y.allSelected)}}function B(me,he){if(1&me&&(T.TgZ(0,"th",24),T._uU(1),T.ALo(2,"translate"),T.qZA()),2&me){const Y=T.oxw();T.xp6(1),T.Oqu(T.lcZ(2,1,"Clients.Import.Wizard.Summary.Identifier."+Y.summaryDisplayType))}}function F(me,he){1&me&&(T.TgZ(0,"th",25),T._uU(1),T.ALo(2,"translate"),T.qZA()),2&me&&(T.xp6(1),T.hij("",T.lcZ(2,1,"Nav.Clients")," *"))}function K(me,he){if(1&me){const Y=T.EpF();T.TgZ(0,"label",22)(1,"input",23),T.NdJ("ngModelChange",function(fe){T.CHM(Y);const xe=T.oxw(2).$implicit;return T.KtG(xe.selected=fe)})("change",function(){T.CHM(Y);const fe=T.oxw(3);return T.KtG(fe.selectionChanged())}),T.ALo(2,"translate"),T.qZA()()}if(2&me){const Y=T.oxw(2).$implicit;T.xp6(1),T.Q6J("ngModel",Y.selected),T.uIk("aria-label",T.lcZ(2,2,"Common.Add"))}}function G(me,he){if(1&me&&(T.TgZ(0,"td",21),T.YNc(1,K,3,4,"label",32),T.qZA()),2&me){const Y=T.oxw().$implicit;T.xp6(1),T.Q6J("ngIf",Y.isSelectable)}}function j(me,he){if(1&me){const Y=T.EpF();T.TgZ(0,"td",33),T.NdJ("click",function(){T.CHM(Y);const fe=T.oxw().$implicit,xe=T.oxw();return T.KtG(xe.toggle(fe))}),T._uU(1),T.qZA()}if(2&me){const Y=T.oxw().$implicit;T.Q6J("title",Y.identifier),T.xp6(1),T.hij(" ",Y.identifier," ")}}function le(me,he){if(1&me&&(T.TgZ(0,"td",34),T._uU(1),T.qZA()),2&me){const Y=T.oxw().$implicit,Me=T.oxw();T.xp6(1),T.hij(" ",Me.displayLinkedClients(Y)," ")}}function Ee(me,he){1&me&&T._UZ(0,"span",40)}function ve(me,he){if(1&me){const Y=T.EpF();T.ynx(0),T.TgZ(1,"td",35),T.NdJ("click",function(fe){T.CHM(Y);const xe=T.oxw().$implicit,Ue=T.oxw();return T.KtG(Ue.viewConflicts(fe,xe))}),T.YNc(2,Ee,1,0,"span",36),T.qZA(),T.TgZ(3,"td",37),T.NdJ("click",function(fe){T.CHM(Y);const xe=T.oxw().$implicit,Ue=T.oxw();return T.KtG(Ue.viewConflicts(fe,xe))}),T.TgZ(4,"button",38),T.NdJ("click",function(fe){T.CHM(Y);const xe=T.oxw().$implicit,Ue=T.oxw();return T.KtG(Ue.viewConflicts(fe,xe))}),T.TgZ(5,"span",39),T._uU(6),T.qZA()()(),T.BQk()}if(2&me){const Y=T.oxw().$implicit,Me=T.oxw();T.xp6(2),T.Q6J("ngIf",Y.resourceState==Me.resourceStates.Conflicted),T.xp6(4),T.Oqu(Me.getConflicts(Y))}}function ye(me,he){1&me&&T._UZ(0,"span",45)}function we(me,he){1&me&&T._UZ(0,"span",46)}function re(me,he){1&me&&T._UZ(0,"span",40)}function ce(me,he){if(1&me){const Y=T.EpF();T.ynx(0),T.TgZ(1,"td",41),T.NdJ("click",function(){T.CHM(Y);const fe=T.oxw().$implicit,xe=T.oxw();return T.KtG(xe.toggle(fe))}),T.YNc(2,ye,1,0,"span",42),T.YNc(3,we,1,0,"span",43),T.YNc(4,re,1,0,"span",36),T.qZA(),T.TgZ(5,"td",44),T.NdJ("click",function(){T.CHM(Y);const fe=T.oxw().$implicit,xe=T.oxw();return T.KtG(xe.toggle(fe))}),T.TgZ(6,"span",39),T._uU(7),T.qZA()(),T.BQk()}if(2&me){const Y=T.oxw().$implicit,Me=T.oxw();T.xp6(2),T.Q6J("ngIf",Y.resourceState==Me.resourceStates.New),T.xp6(1),T.Q6J("ngIf",Y.resourceState==Me.resourceStates.Duplicate),T.xp6(1),T.Q6J("ngIf",Y.conflictedByDependencies),T.xp6(2),T.ekj("tw-italic",!Y.isSelectable),T.xp6(1),T.hij(" ",Me.getResourceState(Y)," ")}}const Ie=function(me){return{"inactive disabled tw-opacity-50 tw-pointer-events-none":me}};function ke(me,he){if(1&me){const Y=T.EpF();T.TgZ(0,"tr",26),T.YNc(1,G,2,1,"td",3),T.TgZ(2,"td",27),T.NdJ("click",function(){const xe=T.CHM(Y).$implicit,Ue=T.oxw();return T.KtG(Ue.toggle(xe))}),T.TgZ(3,"b"),T._uU(4),T.qZA()(),T.YNc(5,j,2,2,"td",28),T.TgZ(6,"td",29),T.NdJ("click",function(){const xe=T.CHM(Y).$implicit,Ue=T.oxw();return T.KtG(Ue.toggle(xe))}),T._uU(7),T.ALo(8,"translate"),T.qZA(),T.YNc(9,le,2,1,"td",30),T.YNc(10,ve,7,2,"ng-container",31),T.YNc(11,ce,8,6,"ng-container",31),T.qZA()}if(2&me){const Y=he.$implicit,Me=T.oxw();T.Q6J("ngClass",T.VKq(11,Ie,Y.resourceState===Me.resourceStates.Duplicate)),T.xp6(1),T.Q6J("ngIf",Me.showSelectAll()),T.xp6(1),T.Q6J("title",Y.displayName),T.xp6(2),T.Oqu(Y.displayName),T.xp6(1),T.Q6J("ngIf","ClaimType"!==Me.summaryDisplayType),T.xp6(2),T.hij(" ",T.lcZ(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+Y.displayType)," "),T.xp6(2),T.Q6J("ngIf","Client"!==Me.summaryDisplayType),T.xp6(1),T.Q6J("ngIf",Y.resourceState===Me.resourceStates.Conflicted&&!Y.conflictedByDependencies),T.xp6(1),T.Q6J("ngIf",Y.resourceState!==Me.resourceStates.Conflicted||Y.conflictedByDependencies)}}function Ae(me,he){1&me&&(T.TgZ(0,"p",47),T._uU(1),T.ALo(2,"translate"),T.qZA()),2&me&&(T.xp6(1),T.hij(" * ",T.lcZ(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let Ze=(()=>{class me extends x.n{constructor(Y,Me){super(),this.importWizardService=Y,this.translate=Me,this.resourceStates=a.vZ,this.nextImport=!1}get data(){return this._importResourceType}set data(Y){this._importResourceType=Y}ngOnInit(){this.summaryDisplayType=C.m.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(Y=>{Y.every(fe=>fe.resourceType===a.JR.Client)&&(this.nextImport=!0);let Me=Y.filter(fe=>this.data.includes(fe.resourceType));if(!this.data.includes(a.JR.Client)){const fe=Y.filter(xe=>xe.resourceType===a.JR.Client&&!0===xe.selected).map(xe=>xe.identifier);Me=Me.filter(xe=>xe.dependantClients.map(Ue=>Ue.identifier).some(Ue=>fe.includes(Ue)))}if(1===this.data.length&&this.data.includes(a.JR.Client)){const fe=Me.filter(Ue=>Ue.resourceState===a.vZ.Duplicate),xe=Y.filter(Ue=>Ue.resourceType!==a.JR.Client&&Ue.dependantClients.length>0&&Ue.resourceState===a.vZ.Conflicted);fe.forEach(Ue=>{xe.filter(Qe=>Qe.dependantClients.some(mt=>mt.identifier===Ue.identifier)).length>0&&(Ue.resourceState=a.vZ.Conflicted,Ue.selected=!0,Ue.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(Me),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(Y=>Y.selected)||this.displayData.every(Y=>!1===Y.isSelectable)&&this.summaryDisplayType!==C.m.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===C.m.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(Y=>Y.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(Y=>Y.resourceState!==this.resourceStates.Duplicate).every(Y=>!0===Y.selected)}toggle(Y){Y.isSelectable&&(Y.selected=!Y.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(Y=>Y.selected=this.allSelected),this.selectionChanged()}getConflicts(Y){let fe,Me=0;return Y.conflicts.forEach(xe=>{Me+=xe.conflicts.length}),fe=this.translate.instant(1===Me?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),Me+" "+fe}viewConflicts(Y,Me){Y.stopPropagation(),this.openModal(e.K.summaryConflicts,Me)}showSelectAll(){return this.displayData.some(Y=>Y.isSelectable)&&!this.displayData.every(Y=>Y.resourceState===a.vZ.Duplicate)}displayLinkedClients(Y){return null===Y.dependantClients||0===Y.dependantClients.length?"-":Y.dependantClients.length.toString()}getResourceState(Y){return Y.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[Y.resourceState]}}return me.\u0275fac=function(Y){return new(Y||me)(T.Y36(S.U),T.Y36(_.sK))},me.\u0275cmp=T.Xpm({type:me,selectors:[["app-import-summary"]],features:[T.qOj],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModel","ngModelChange","change"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"title","click"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"title","click"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(Y,Me){1&Y&&(T.TgZ(0,"div",0)(1,"div",1)(2,"p"),T._uU(3),T.ALo(4,"translate"),T.qZA()(),T.TgZ(5,"table",2)(6,"thead")(7,"tr"),T.YNc(8,y,3,1,"th",3),T.TgZ(9,"th",4),T._uU(10),T.ALo(11,"translate"),T.qZA(),T.YNc(12,B,3,3,"th",5),T.TgZ(13,"th",6),T._uU(14),T.ALo(15,"translate"),T.qZA(),T.YNc(16,F,3,3,"th",7),T._UZ(17,"td",8),T.TgZ(18,"th",9)(19,"span",10),T._uU(20),T.ALo(21,"translate"),T.qZA()()()(),T.TgZ(22,"tbody",11),T.YNc(23,ke,12,13,"tr",12),T.qZA()(),T.YNc(24,Ae,3,3,"p",13),T.qZA(),T._UZ(25,"div",14),T.TgZ(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),T.NdJ("click",function(){return Me.goNext()}),T._uU(30),T.qZA(),T.TgZ(31,"button",19),T.NdJ("click",function(){return Me.goBack()}),T._uU(32),T.ALo(33,"translate"),T.qZA()(),T.TgZ(34,"button",20),T.NdJ("click",function(){return Me.cancel()}),T._uU(35),T.ALo(36,"translate"),T.qZA()()()),2&Y&&(T.xp6(3),T.Oqu(T.lcZ(4,15,"Clients.Import.Wizard.Summary.Intro."+Me.summaryDisplayType)),T.xp6(2),T.ekj("selectable",Me.showSelectAll()),T.xp6(3),T.Q6J("ngIf",Me.showSelectAll()),T.xp6(2),T.Oqu(T.lcZ(11,17,"Clients.Import.Wizard.Summary.Name."+Me.summaryDisplayType)),T.xp6(2),T.Q6J("ngIf","ClaimType"!==Me.summaryDisplayType),T.xp6(2),T.Oqu(T.lcZ(15,19,"Clients.Import.Wizard.Summary.Type."+Me.summaryDisplayType)),T.xp6(2),T.Q6J("ngIf","Client"!==Me.summaryDisplayType),T.xp6(4),T.Oqu(T.lcZ(21,21,"Common.Status")),T.xp6(3),T.Q6J("ngForOf",Me.displayData),T.xp6(1),T.Q6J("ngIf","Client"!==Me.summaryDisplayType),T.xp6(5),T.Q6J("disabled",!Me.canNext()),T.xp6(1),T.Oqu(Me.getNextText()),T.xp6(2),T.Oqu(T.lcZ(33,23,"Common.Back")),T.xp6(3),T.Oqu(T.lcZ(36,25,"Common.Cancel")))},dependencies:[U.mk,U.sg,U.O5,R.Wl,R.JJ,R.On,_.X$],encapsulation:2}),me})()},8058:(it,oe,g)=>{"use strict";g.d(oe,{n:()=>a});class a{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(C){this._data=C}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(C,x){this.importWizardController.insertAndOpenStep(C,x)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},5309:(it,oe,g)=>{"use strict";g.d(oe,{j:()=>e});var a=g(4650);let e=(()=>{class C{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},2148:(it,oe,g)=>{"use strict";var a=g(1481),e=g(4650),C=g(4006),x=g(529),T=g(7340);function _(i){return new e.vHH(3e3,!1)}function Vt(){return typeof window<"u"&&typeof window.document<"u"}function sn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function rn(i){switch(i.length){case 0:return new T.ZN;case 1:return i[0];default:return new T.ZE(i)}}function Cn(i,o,t,n,c=new Map,m=new Map){const M=[],Q=[];let ue=-1,Pe=null;if(n.forEach(at=>{const Nt=at.get("offset"),Jt=Nt==ue,zt=Jt&&Pe||new Map;at.forEach((hn,tn)=>{let vn=tn,Dn=hn;if("offset"!==tn)switch(vn=o.normalizePropertyName(vn,M),Dn){case T.k1:Dn=c.get(tn);break;case T.l3:Dn=m.get(tn);break;default:Dn=o.normalizeStyleValue(tn,vn,Dn,M)}zt.set(vn,Dn)}),Jt||Q.push(zt),Pe=zt,ue=Nt}),M.length)throw function fe(i){return new e.vHH(3502,!1)}();return Q}function vt(i,o,t,n){switch(o){case"start":i.onStart(()=>n(t&&At(t,"start",i)));break;case"done":i.onDone(()=>n(t&&At(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&At(t,"destroy",i)))}}function At(i,o,t){const m=Ge(i.element,i.triggerName,i.fromState,i.toState,o||i.phaseName,t.totalTime??i.totalTime,!!t.disabled),M=i._data;return null!=M&&(m._data=M),m}function Ge(i,o,t,n,c="",m=0,M){return{element:i,triggerName:o,fromState:t,toState:n,phaseName:c,totalTime:m,disabled:!!M}}function xt(i,o,t){let n=i.get(o);return n||i.set(o,n=t),n}function Et(i){const o=i.indexOf(":");return[i.substring(1,o),i.slice(o+1)]}let _t=(i,o)=>!1,Ct=(i,o,t)=>[],nt=null;function Ye(i){const o=i.parentNode||i.host;return o===nt?null:o}(sn()||typeof Element<"u")&&(Vt()?(nt=(()=>document.documentElement)(),_t=(i,o)=>{for(;o;){if(o===i)return!0;o=Ye(o)}return!1}):_t=(i,o)=>i.contains(o),Ct=(i,o,t)=>{if(t)return Array.from(i.querySelectorAll(o));const n=i.querySelector(o);return n?[n]:[]});let Ke=null,Zt=!1;const P=_t,D=Ct;let pe=(()=>{class i{validateStyleProperty(t){return function tt(i){Ke||(Ke=function W(){return typeof document<"u"?document.body:null}()||{},Zt=!!Ke.style&&"WebkitAppearance"in Ke.style);let o=!0;return Ke.style&&!function Oe(i){return"ebkit"==i.substring(1,6)}(i)&&(o=i in Ke.style,!o&&Zt&&(o="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ke.style)),o}(t)}matchesElement(t,n){return!1}containsElement(t,n){return P(t,n)}getParentElement(t){return Ye(t)}query(t,n,c){return D(t,n,c)}computeStyle(t,n,c){return c||""}animate(t,n,c,m,M,Q=[],ue){return new T.ZN(c,m)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Le=(()=>{class i{}return i.NOOP=new pe,i})();const dn="ng-enter",Bt="ng-leave",Qt="ng-trigger",Yt=".ng-trigger",je="ng-animating",qt=".ng-animating";function rt(i){if("number"==typeof i)return i;const o=i.match(/^(-?[\.\d]+)(m?s)/);return!o||o.length<2?0:Lt(parseFloat(o[1]),o[2])}function Lt(i,o){return"s"===o?1e3*i:i}function Gt(i,o,t){return i.hasOwnProperty("duration")?i:function En(i,o,t){let c,m=0,M="";if("string"==typeof i){const Q=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Q)return o.push(_()),{duration:0,delay:0,easing:""};c=Lt(parseFloat(Q[1]),Q[2]);const ue=Q[3];null!=ue&&(m=Lt(parseFloat(ue),Q[4]));const Pe=Q[5];Pe&&(M=Pe)}else c=i;if(!t){let Q=!1,ue=o.length;c<0&&(o.push(function U(){return new e.vHH(3100,!1)}()),Q=!0),m<0&&(o.push(function R(){return new e.vHH(3101,!1)}()),Q=!0),Q&&o.splice(ue,0,_())}return{duration:c,delay:m,easing:M}}(i,o,t)}function yn(i,o={}){return Object.keys(i).forEach(t=>{o[t]=i[t]}),o}function si(i){const o=new Map;return Object.keys(i).forEach(t=>{o.set(t,i[t])}),o}function It(i,o=new Map,t){if(t)for(let[n,c]of t)o.set(n,c);for(let[n,c]of i)o.set(n,c);return o}function qn(i,o,t){return t?o+":"+t+";":""}function jn(i){let o="";for(let t=0;t<i.style.length;t++){const n=i.style.item(t);o+=qn(0,n,i.style.getPropertyValue(n))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(o+=qn(0,wn(t),i.style[t]));i.setAttribute("style",o)}function Xn(i,o,t){i.style&&(o.forEach((n,c)=>{const m=Rt(c);t&&!t.has(c)&&t.set(c,i.style[m]),i.style[m]=n}),sn()&&jn(i))}function ri(i,o){i.style&&(o.forEach((t,n)=>{const c=Rt(n);i.style[c]=""}),sn()&&jn(i))}function ai(i){return Array.isArray(i)?1==i.length?i[0]:(0,T.vP)(i):i}const Xe=new RegExp("{{\\s*(.+?)\\s*}}","g");function Be(i){let o=[];if("string"==typeof i){let t;for(;t=Xe.exec(i);)o.push(t[1]);Xe.lastIndex=0}return o}function yt(i,o,t){const n=i.toString(),c=n.replace(Xe,(m,M)=>{let Q=o[M];return null==Q&&(t.push(function B(i){return new e.vHH(3003,!1)}()),Q=""),Q.toString()});return c==n?i:c}function Ft(i){const o=[];let t=i.next();for(;!t.done;)o.push(t.value),t=i.next();return o}const an=/-+([a-z0-9])/g;function Rt(i){return i.replace(an,(...o)=>o[1].toUpperCase())}function wn(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mn(i,o,t){switch(o.type){case 7:return i.visitTrigger(o,t);case 0:return i.visitState(o,t);case 1:return i.visitTransition(o,t);case 2:return i.visitSequence(o,t);case 3:return i.visitGroup(o,t);case 4:return i.visitAnimate(o,t);case 5:return i.visitKeyframes(o,t);case 6:return i.visitStyle(o,t);case 8:return i.visitReference(o,t);case 9:return i.visitAnimateChild(o,t);case 10:return i.visitAnimateRef(o,t);case 11:return i.visitQuery(o,t);case 12:return i.visitStagger(o,t);default:throw function F(i){return new e.vHH(3004,!1)}()}}function vi(i,o){return window.getComputedStyle(i)[o]}function wr(i,o){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function ei(i,o,t){if(":"==i[0]){const ue=function Ss(i,o){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return o.push(function me(i){return new e.vHH(3016,!1)}()),"* => *"}}(i,t);if("function"==typeof ue)return void o.push(ue);i=ue}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function Ze(i){return new e.vHH(3015,!1)}()),o;const c=n[1],m=n[2],M=n[3];o.push(sr(c,M));"<"==m[0]&&!("*"==c&&"*"==M)&&o.push(sr(M,c))}(n,t,o)):t.push(i),t}const Ps=new Set(["true","1"]),Ii=new Set(["false","0"]);function sr(i,o){const t=Ps.has(i)||Ii.has(i),n=Ps.has(o)||Ii.has(o);return(c,m)=>{let M="*"==i||i==c,Q="*"==o||o==m;return!M&&t&&"boolean"==typeof c&&(M=c?Ps.has(i):Ii.has(i)),!Q&&n&&"boolean"==typeof m&&(Q=m?Ps.has(o):Ii.has(o)),M&&Q}}const js=new RegExp("s*:selfs*,?","g");function Qi(i,o,t,n){return new $s(i).build(o,t,n)}class $s{constructor(o){this._driver=o}build(o,t,n){const c=new zr(t);return this._resetContextStyleTimingState(c),mn(this,ai(o),c)}_resetContextStyleTimingState(o){o.currentQuerySelector="",o.collectedStyles=new Map,o.collectedStyles.set("",new Map),o.currentTime=0}visitTrigger(o,t){let n=t.queryCount=0,c=t.depCount=0;const m=[],M=[];return"@"==o.name.charAt(0)&&t.errors.push(function G(){return new e.vHH(3006,!1)}()),o.definitions.forEach(Q=>{if(this._resetContextStyleTimingState(t),0==Q.type){const ue=Q,Pe=ue.name;Pe.toString().split(/\s*,\s*/).forEach(at=>{ue.name=at,m.push(this.visitState(ue,t))}),ue.name=Pe}else if(1==Q.type){const ue=this.visitTransition(Q,t);n+=ue.queryCount,c+=ue.depCount,M.push(ue)}else t.errors.push(function j(){return new e.vHH(3007,!1)}())}),{type:7,name:o.name,states:m,transitions:M,queryCount:n,depCount:c,options:null}}visitState(o,t){const n=this.visitStyle(o.styles,t),c=o.options&&o.options.params||null;if(n.containsDynamicStyles){const m=new Set,M=c||{};n.styles.forEach(Q=>{Q instanceof Map&&Q.forEach(ue=>{Be(ue).forEach(Pe=>{M.hasOwnProperty(Pe)||m.add(Pe)})})}),m.size&&(Ft(m.values()),t.errors.push(function le(i,o){return new e.vHH(3008,!1)}()))}return{type:0,name:o.name,style:n,options:c?{params:c}:null}}visitTransition(o,t){t.queryCount=0,t.depCount=0;const n=mn(this,ai(o.animation),t);return{type:1,matchers:wr(o.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ln(o.options)}}visitSequence(o,t){return{type:2,steps:o.steps.map(n=>mn(this,n,t)),options:Ln(o.options)}}visitGroup(o,t){const n=t.currentTime;let c=0;const m=o.steps.map(M=>{t.currentTime=n;const Q=mn(this,M,t);return c=Math.max(c,t.currentTime),Q});return t.currentTime=c,{type:3,steps:m,options:Ln(o.options)}}visitAnimate(o,t){const n=function Yr(i,o){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return rr(Gt(i,o).duration,0,"");const t=i;if(t.split(/\s+/).some(m=>"{"==m.charAt(0)&&"{"==m.charAt(1))){const m=rr(0,0,"");return m.dynamic=!0,m.strValue=t,m}const c=Gt(t,o);return rr(c.duration,c.delay,c.easing)}(o.timings,t.errors);t.currentAnimateTimings=n;let c,m=o.styles?o.styles:(0,T.oB)({});if(5==m.type)c=this.visitKeyframes(m,t);else{let M=o.styles,Q=!1;if(!M){Q=!0;const Pe={};n.easing&&(Pe.easing=n.easing),M=(0,T.oB)(Pe)}t.currentTime+=n.duration+n.delay;const ue=this.visitStyle(M,t);ue.isEmptyStep=Q,c=ue}return t.currentAnimateTimings=null,{type:4,timings:n,style:c,options:null}}visitStyle(o,t){const n=this._makeStyleAst(o,t);return this._validateStyleAst(n,t),n}_makeStyleAst(o,t){const n=[],c=Array.isArray(o.styles)?o.styles:[o.styles];for(let Q of c)"string"==typeof Q?Q===T.l3?n.push(Q):t.errors.push(new e.vHH(3002,!1)):n.push(si(Q));let m=!1,M=null;return n.forEach(Q=>{if(Q instanceof Map&&(Q.has("easing")&&(M=Q.get("easing"),Q.delete("easing")),!m))for(let ue of Q.values())if(ue.toString().indexOf("{{")>=0){m=!0;break}}),{type:6,styles:n,easing:M,offset:o.offset,containsDynamicStyles:m,options:null}}_validateStyleAst(o,t){const n=t.currentAnimateTimings;let c=t.currentTime,m=t.currentTime;n&&m>0&&(m-=n.duration+n.delay),o.styles.forEach(M=>{"string"!=typeof M&&M.forEach((Q,ue)=>{const Pe=t.collectedStyles.get(t.currentQuerySelector),at=Pe.get(ue);let Nt=!0;at&&(m!=c&&m>=at.startTime&&c<=at.endTime&&(t.errors.push(function ye(i,o,t,n,c){return new e.vHH(3010,!1)}()),Nt=!1),m=at.startTime),Nt&&Pe.set(ue,{startTime:m,endTime:c}),t.options&&function Je(i,o,t){const n=o.params||{},c=Be(i);c.length&&c.forEach(m=>{n.hasOwnProperty(m)||t.push(function y(i){return new e.vHH(3001,!1)}())})}(Q,t.options,t.errors)})})}visitKeyframes(o,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function we(){return new e.vHH(3011,!1)}()),n;let m=0;const M=[];let Q=!1,ue=!1,Pe=0;const at=o.steps.map(Dn=>{const Hn=this._makeStyleAst(Dn,t);let Ci=null!=Hn.offset?Hn.offset:function Br(i){if("string"==typeof i)return null;let o=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;o=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const t=i;o=parseFloat(t.get("offset")),t.delete("offset")}return o}(Hn.styles),Qn=0;return null!=Ci&&(m++,Qn=Hn.offset=Ci),ue=ue||Qn<0||Qn>1,Q=Q||Qn<Pe,Pe=Qn,M.push(Qn),Hn});ue&&t.errors.push(function re(){return new e.vHH(3012,!1)}()),Q&&t.errors.push(function ce(){return new e.vHH(3200,!1)}());const Nt=o.steps.length;let Jt=0;m>0&&m<Nt?t.errors.push(function Ie(){return new e.vHH(3202,!1)}()):0==m&&(Jt=1/(Nt-1));const zt=Nt-1,hn=t.currentTime,tn=t.currentAnimateTimings,vn=tn.duration;return at.forEach((Dn,Hn)=>{const Ci=Jt>0?Hn==zt?1:Jt*Hn:M[Hn],Qn=Ci*vn;t.currentTime=hn+tn.delay+Qn,tn.duration=Qn,this._validateStyleAst(Dn,t),Dn.offset=Ci,n.styles.push(Dn)}),n}visitReference(o,t){return{type:8,animation:mn(this,ai(o.animation),t),options:Ln(o.options)}}visitAnimateChild(o,t){return t.depCount++,{type:9,options:Ln(o.options)}}visitAnimateRef(o,t){return{type:10,animation:this.visitReference(o.animation,t),options:Ln(o.options)}}visitQuery(o,t){const n=t.currentQuerySelector,c=o.options||{};t.queryCount++,t.currentQuery=o;const[m,M]=function ki(i){const o=!!i.split(/\s*,\s*/).find(t=>":self"==t);return o&&(i=i.replace(js,"")),i=i.replace(/@\*/g,Yt).replace(/@\w+/g,t=>Yt+"-"+t.slice(1)).replace(/:animating/g,qt),[i,o]}(o.selector);t.currentQuerySelector=n.length?n+" "+m:m,xt(t.collectedStyles,t.currentQuerySelector,new Map);const Q=mn(this,ai(o.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:m,limit:c.limit||0,optional:!!c.optional,includeSelf:M,animation:Q,originalSelector:o.selector,options:Ln(o.options)}}visitStagger(o,t){t.currentQuery||t.errors.push(function ke(){return new e.vHH(3013,!1)}());const n="full"===o.timings?{duration:0,delay:0,easing:"full"}:Gt(o.timings,t.errors,!0);return{type:12,animation:mn(this,ai(o.animation),t),timings:n,options:null}}}class zr{constructor(o){this.errors=o,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ln(i){return i?(i=yn(i)).params&&(i.params=function Cs(i){return i?yn(i):null}(i.params)):i={},i}function rr(i,o,t){return{duration:i,delay:o,easing:t}}function or(i,o,t,n,c,m,M=null,Q=!1){return{type:1,element:i,keyframes:o,preStyleProps:t,postStyleProps:n,duration:c,delay:m,totalTime:c+m,easing:M,subTimeline:Q}}class Us{constructor(){this._map=new Map}get(o){return this._map.get(o)||[]}append(o,t){let n=this._map.get(o);n||this._map.set(o,n=[]),n.push(...t)}has(o){return this._map.has(o)}clear(){this._map.clear()}}const Ji=new RegExp(":enter","g"),br=new RegExp(":leave","g");function Vr(i,o,t,n,c,m=new Map,M=new Map,Q,ue,Pe=[]){return(new xo).buildKeyframes(i,o,t,n,c,m,M,Q,ue,Pe)}class xo{buildKeyframes(o,t,n,c,m,M,Q,ue,Pe,at=[]){Pe=Pe||new Us;const Nt=new Kr(o,t,Pe,c,m,at,[]);Nt.options=ue;const Jt=ue.delay?rt(ue.delay):0;Nt.currentTimeline.delayNextStep(Jt),Nt.currentTimeline.setStyles([M],null,Nt.errors,ue),mn(this,n,Nt);const zt=Nt.timelines.filter(hn=>hn.containsAnimation());if(zt.length&&Q.size){let hn;for(let tn=zt.length-1;tn>=0;tn--){const vn=zt[tn];if(vn.element===t){hn=vn;break}}hn&&!hn.allowOnlyTimelineStyles()&&hn.setStyles([Q],null,Nt.errors,ue)}return zt.length?zt.map(hn=>hn.buildKeyframes()):[or(t,[],[],[],0,Jt,"",!1)]}visitTrigger(o,t){}visitState(o,t){}visitTransition(o,t){}visitAnimateChild(o,t){const n=t.subInstructions.get(t.element);if(n){const c=t.createSubContext(o.options),m=t.currentTimeline.currentTime,M=this._visitSubInstructions(n,c,c.options);m!=M&&t.transformIntoNewTimeline(M)}t.previousNode=o}visitAnimateRef(o,t){const n=t.createSubContext(o.options);n.transformIntoNewTimeline(),this._applyAnimateRefDelay(o.animation,t,n),this.visitReference(o.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=o}_applyAnimateRefDelay(o,t,n){var c;const m=null===(c=o.options)||void 0===c?void 0:c.delay;if(!m)return;let M;var Q,ue;"string"==typeof m?M=rt(yt(m,null!==(Q=null===(ue=o.options)||void 0===ue?void 0:ue.params)&&void 0!==Q?Q:{},t.errors)):M=m;n.delayNextStep(M)}_visitSubInstructions(o,t,n){let m=t.currentTimeline.currentTime;const M=null!=n.duration?rt(n.duration):null,Q=null!=n.delay?rt(n.delay):null;return 0!==M&&o.forEach(ue=>{const Pe=t.appendInstructionToTimeline(ue,M,Q);m=Math.max(m,Pe.duration+Pe.delay)}),m}visitReference(o,t){t.updateOptions(o.options,!0),mn(this,o.animation,t),t.previousNode=o}visitSequence(o,t){const n=t.subContextCount;let c=t;const m=o.options;if(m&&(m.params||m.delay)&&(c=t.createSubContext(m),c.transformIntoNewTimeline(),null!=m.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=hr);const M=rt(m.delay);c.delayNextStep(M)}o.steps.length&&(o.steps.forEach(M=>mn(this,M,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>n&&c.transformIntoNewTimeline()),t.previousNode=o}visitGroup(o,t){const n=[];let c=t.currentTimeline.currentTime;const m=o.options&&o.options.delay?rt(o.options.delay):0;o.steps.forEach(M=>{const Q=t.createSubContext(o.options);m&&Q.delayNextStep(m),mn(this,M,Q),c=Math.max(c,Q.currentTimeline.currentTime),n.push(Q.currentTimeline)}),n.forEach(M=>t.currentTimeline.mergeTimelineCollectedStyles(M)),t.transformIntoNewTimeline(c),t.previousNode=o}_visitTiming(o,t){if(o.dynamic){const n=o.strValue;return Gt(t.params?yt(n,t.params,t.errors):n,t.errors)}return{duration:o.duration,delay:o.delay,easing:o.easing}}visitAnimate(o,t){const n=t.currentAnimateTimings=this._visitTiming(o.timings,t),c=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),c.snapshotCurrentStyles());const m=o.style;5==m.type?this.visitKeyframes(m,t):(t.incrementTime(n.duration),this.visitStyle(m,t),c.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=o}visitStyle(o,t){const n=t.currentTimeline,c=t.currentAnimateTimings;!c&&n.hasCurrentStyleProperties()&&n.forwardFrame();const m=c&&c.easing||o.easing;o.isEmptyStep?n.applyEmptyStep(m):n.setStyles(o.styles,m,t.errors,t.options),t.previousNode=o}visitKeyframes(o,t){const n=t.currentAnimateTimings,c=t.currentTimeline.duration,m=n.duration,Q=t.createSubContext().currentTimeline;Q.easing=n.easing,o.styles.forEach(ue=>{Q.forwardTime((ue.offset||0)*m),Q.setStyles(ue.styles,ue.easing,t.errors,t.options),Q.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(Q),t.transformIntoNewTimeline(c+m),t.previousNode=o}visitQuery(o,t){const n=t.currentTimeline.currentTime,c=o.options||{},m=c.delay?rt(c.delay):0;m&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hr);let M=n;const Q=t.invokeQuery(o.selector,o.originalSelector,o.limit,o.includeSelf,!!c.optional,t.errors);t.currentQueryTotal=Q.length;let ue=null;Q.forEach((Pe,at)=>{t.currentQueryIndex=at;const Nt=t.createSubContext(o.options,Pe);m&&Nt.delayNextStep(m),Pe===t.element&&(ue=Nt.currentTimeline),mn(this,o.animation,Nt),Nt.currentTimeline.applyStylesToKeyframe(),M=Math.max(M,Nt.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(M),ue&&(t.currentTimeline.mergeTimelineCollectedStyles(ue),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=o}visitStagger(o,t){const n=t.parentContext,c=t.currentTimeline,m=o.timings,M=Math.abs(m.duration),Q=M*(t.currentQueryTotal-1);let ue=M*t.currentQueryIndex;switch(m.duration<0?"reverse":m.easing){case"reverse":ue=Q-ue;break;case"full":ue=n.currentStaggerTime}const at=t.currentTimeline;ue&&at.delayNextStep(ue);const Nt=at.currentTime;mn(this,o.animation,t),t.previousNode=o,n.currentStaggerTime=c.currentTime-Nt+(c.startTime-n.currentTimeline.startTime)}}const hr={};class Kr{constructor(o,t,n,c,m,M,Q,ue){this._driver=o,this.element=t,this.subInstructions=n,this._enterClassName=c,this._leaveClassName=m,this.errors=M,this.timelines=Q,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new Zs(this._driver,t,0),Q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(o,t){if(!o)return;const n=o;let c=this.options;null!=n.duration&&(c.duration=rt(n.duration)),null!=n.delay&&(c.delay=rt(n.delay));const m=n.params;if(m){let M=c.params;M||(M=this.options.params={}),Object.keys(m).forEach(Q=>{(!t||!M.hasOwnProperty(Q))&&(M[Q]=yt(m[Q],M,this.errors))})}}_copyOptions(){const o={};if(this.options){const t=this.options.params;if(t){const n=o.params={};Object.keys(t).forEach(c=>{n[c]=t[c]})}}return o}createSubContext(o=null,t,n){const c=t||this.element,m=new Kr(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,n||0));return m.previousNode=this.previousNode,m.currentAnimateTimings=this.currentAnimateTimings,m.options=this._copyOptions(),m.updateOptions(o),m.currentQueryIndex=this.currentQueryIndex,m.currentQueryTotal=this.currentQueryTotal,m.parentContext=this,this.subContextCount++,m}transformIntoNewTimeline(o){return this.previousNode=hr,this.currentTimeline=this.currentTimeline.fork(this.element,o),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(o,t,n){const c={duration:t??o.duration,delay:this.currentTimeline.currentTime+(n??0)+o.delay,easing:""},m=new Tr(this._driver,o.element,o.keyframes,o.preStyleProps,o.postStyleProps,c,o.stretchStartingKeyframe);return this.timelines.push(m),c}incrementTime(o){this.currentTimeline.forwardTime(this.currentTimeline.duration+o)}delayNextStep(o){o>0&&this.currentTimeline.delayNextStep(o)}invokeQuery(o,t,n,c,m,M){let Q=[];if(c&&Q.push(this.element),o.length>0){o=(o=o.replace(Ji,"."+this._enterClassName)).replace(br,"."+this._leaveClassName);let Pe=this._driver.query(this.element,o,1!=n);0!==n&&(Pe=n<0?Pe.slice(Pe.length+n,Pe.length):Pe.slice(0,n)),Q.push(...Pe)}return!m&&0==Q.length&&M.push(function Ae(i){return new e.vHH(3014,!1)}()),Q}}class Zs{constructor(o,t,n,c){this._driver=o,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(o){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+o),t&&this.snapshotCurrentStyles()):this.startTime+=o}fork(o,t){return this.applyStylesToKeyframe(),new Zs(this._driver,o,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(o){this.applyStylesToKeyframe(),this.duration=o,this._loadKeyframe()}_updateStyle(o,t){this._localTimelineStyles.set(o,t),this._globalTimelineStyles.set(o,t),this._styleSummary.set(o,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(o){o&&this._previousKeyframe.set("easing",o);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||T.l3),this._currentKeyframe.set(t,T.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(o,t,n,c){t&&this._previousKeyframe.set("easing",t);const m=c&&c.params||{},M=function Hr(i,o){const t=new Map;let n;return i.forEach(c=>{if("*"===c){n=n||o.keys();for(let m of n)t.set(m,T.l3)}else It(c,t)}),t}(o,this._globalTimelineStyles);for(let[ue,Pe]of M){const at=yt(Pe,m,n);var Q;this._pendingStyles.set(ue,at),this._localTimelineStyles.has(ue)||this._backFill.set(ue,null!==(Q=this._globalTimelineStyles.get(ue))&&void 0!==Q?Q:T.l3),this._updateStyle(ue,at)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((o,t)=>{this._currentKeyframe.set(t,o)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((o,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,o)}))}snapshotCurrentStyles(){for(let[o,t]of this._localTimelineStyles)this._pendingStyles.set(o,t),this._updateStyle(o,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const o=[];for(let t in this._currentKeyframe)o.push(t);return o}mergeTimelineCollectedStyles(o){o._styleSummary.forEach((t,n)=>{const c=this._styleSummary.get(n);(!c||t.time>c.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const o=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((Q,ue)=>{const Pe=It(Q,new Map,this._backFill);Pe.forEach((at,Nt)=>{at===T.k1?o.add(Nt):at===T.l3&&t.add(Nt)}),n||Pe.set("offset",ue/this.duration),c.push(Pe)});const m=o.size?Ft(o.values()):[],M=t.size?Ft(t.values()):[];if(n){const Q=c[0],ue=new Map(Q);Q.set("offset",0),ue.set("offset",1),c=[Q,ue]}return or(this.element,c,m,M,this.duration,this.startTime,this.easing,!1)}}class Tr extends Zs{constructor(o,t,n,c,m,M,Q=!1){super(o,t,M.delay),this.keyframes=n,this.preStyleProps=c,this.postStyleProps=m,this._stretchStartingKeyframe=Q,this.timings={duration:M.duration,delay:M.delay,easing:M.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let o=this.keyframes,{delay:t,duration:n,easing:c}=this.timings;if(this._stretchStartingKeyframe&&t){const m=[],M=n+t,Q=t/M,ue=It(o[0]);ue.set("offset",0),m.push(ue);const Pe=It(o[0]);Pe.set("offset",lo(Q)),m.push(Pe);const at=o.length-1;for(let Nt=1;Nt<=at;Nt++){let Jt=It(o[Nt]);const zt=Jt.get("offset");Jt.set("offset",lo((t+zt*n)/M)),m.push(Jt)}n=M,t=0,c="",o=m}return or(this.element,o,this.preStyleProps,this.postStyleProps,n,t,c,!0)}}function lo(i,o=3){const t=Math.pow(10,o-1);return Math.round(i*t)/t}class ui{}const xs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sn extends ui{normalizePropertyName(o,t){return Rt(o)}normalizeStyleValue(o,t,n,c){let m="";const M=n.toString().trim();if(xs.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)m="px";else{const Q=n.match(/^[+-]?[\d\.]+([a-z]*)$/);Q&&0==Q[1].length&&c.push(function K(i,o){return new e.vHH(3005,!1)}())}return M+m}}function Ar(i,o,t,n,c,m,M,Q,ue,Pe,at,Nt,Jt){return{type:0,element:i,triggerName:o,isRemovalTransition:c,fromState:t,fromStyles:m,toState:n,toStyles:M,timelines:Q,queriedElements:ue,preStyleProps:Pe,postStyleProps:at,totalTime:Nt,errors:Jt}}const bn={};class Gi{constructor(o,t,n){this._triggerName=o,this.ast=t,this._stateStyles=n}match(o,t,n,c){return function Ks(i,o,t,n,c){return i.some(m=>m(o,t,n,c))}(this.ast.matchers,o,t,n,c)}buildStyles(o,t,n){let c=this._stateStyles.get("*");return void 0!==o&&(c=this._stateStyles.get(o?.toString())||c),c?c.buildStyles(t,n):new Map}build(o,t,n,c,m,M,Q,ue,Pe,at){var Nt;const Jt=[],zt=this.ast.options&&this.ast.options.params||bn,tn=this.buildStyles(n,Q&&Q.params||bn,Jt),vn=ue&&ue.params||bn,Dn=this.buildStyles(c,vn,Jt),Hn=new Set,Ci=new Map,Qn=new Map,ci="void"===c,_i={params:ls(vn,zt),delay:null===(Nt=this.ast.options)||void 0===Nt?void 0:Nt.delay},wi=at?[]:Vr(o,t,this.ast.animation,m,M,tn,Dn,_i,Pe,Jt);let bi=0;if(wi.forEach(fs=>{bi=Math.max(fs.duration+fs.delay,bi)}),Jt.length)return Ar(t,this._triggerName,n,c,ci,tn,Dn,[],[],Ci,Qn,bi,Jt);wi.forEach(fs=>{const Hs=fs.element,So=xt(Ci,Hs,new Set);fs.preStyleProps.forEach(sa=>So.add(sa));const Zr=xt(Qn,Hs,new Set);fs.postStyleProps.forEach(sa=>Zr.add(sa)),Hs!==t&&Hn.add(Hs)});const pr=Ft(Hn.values());return Ar(t,this._triggerName,n,c,ci,tn,Dn,wi,pr,Ci,Qn,bi)}}function ls(i,o){const t=yn(o);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(t[n]=i[n]);return t}class Ds{constructor(o,t,n){this.styles=o,this.defaultParams=t,this.normalizer=n}buildStyles(o,t){const n=new Map,c=yn(this.defaultParams);return Object.keys(o).forEach(m=>{const M=o[m];null!==M&&(c[m]=M)}),this.styles.styles.forEach(m=>{"string"!=typeof m&&m.forEach((M,Q)=>{M&&(M=yt(M,c,t));const ue=this.normalizer.normalizePropertyName(Q,t);M=this.normalizer.normalizeStyleValue(Q,ue,M,t),n.set(ue,M)})}),n}}class Xs{constructor(o,t,n){this.name=o,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(c=>{this.states.set(c.name,new Ds(c.style,c.options&&c.options.params||{},n))}),Yi(this.states,"true","1"),Yi(this.states,"false","0"),t.transitions.forEach(c=>{this.transitionFactories.push(new Gi(o,c,this.states))}),this.fallbackTransition=function Oi(i,o,t){return new Gi(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(M,Q)=>!0],options:null,queryCount:0,depCount:0},o)}(o,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(o,t,n,c){return this.transitionFactories.find(M=>M.match(o,t,n,c))||null}matchStyles(o,t,n){return this.fallbackTransition.buildStyles(o,t,n)}}function Yi(i,o,t){i.has(o)?i.has(t)||i.set(t,i.get(o)):i.has(t)&&i.set(o,i.get(t))}const er=new Us;class qi{constructor(o,t,n){this.bodyNode=o,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(o,t){const n=[],m=Qi(this._driver,t,n,[]);if(n.length)throw function xe(i){return new e.vHH(3503,!1)}();this._animations.set(o,m)}_buildPlayer(o,t,n){const c=o.element,m=Cn(0,this._normalizer,0,o.keyframes,t,n);return this._driver.animate(c,m,o.duration,o.delay,o.easing,[],!0)}create(o,t,n={}){const c=[],m=this._animations.get(o);let M;const Q=new Map;if(m?(M=Vr(this._driver,t,m,dn,Bt,new Map,new Map,n,er,c),M.forEach(at=>{const Nt=xt(Q,at.element,new Map);at.postStyleProps.forEach(Jt=>Nt.set(Jt,null))})):(c.push(function Ue(){return new e.vHH(3300,!1)}()),M=[]),c.length)throw function et(i){return new e.vHH(3504,!1)}();Q.forEach((at,Nt)=>{at.forEach((Jt,zt)=>{at.set(zt,this._driver.computeStyle(Nt,zt,T.l3))})});const Pe=rn(M.map(at=>{const Nt=Q.get(at.element);return this._buildPlayer(at,new Map,Nt)}));return this._playersById.set(o,Pe),Pe.onDestroy(()=>this.destroy(o)),this.players.push(Pe),Pe}destroy(o){const t=this._getPlayer(o);t.destroy(),this._playersById.delete(o);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(o){const t=this._playersById.get(o);if(!t)throw function Qe(i){return new e.vHH(3301,!1)}();return t}listen(o,t,n,c){const m=Ge(t,"","","");return vt(this._getPlayer(o),n,m,c),()=>{}}command(o,t,n,c){if("register"==n)return void this.register(o,c[0]);if("create"==n)return void this.create(o,t,c[0]||{});const m=this._getPlayer(o);switch(n){case"play":m.play();break;case"pause":m.pause();break;case"reset":m.reset();break;case"restart":m.restart();break;case"finish":m.finish();break;case"init":m.init();break;case"setPosition":m.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(o)}}}const pi="ng-animate-queued",lr="ng-animate-disabled",li=[],Sr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Do={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ts="__ng_removed";class Ws{constructor(o,t=""){this.namespaceId=t;const n=o&&o.hasOwnProperty("value");if(this.value=function Po(i){return i??null}(n?o.value:o),n){const m=yn(o);delete m.value,this.options=m}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(o){const t=o.params;if(t){const n=this.options.params;Object.keys(t).forEach(c=>{null==n[c]&&(n[c]=t[c])})}}}const Jr="void",Nr=new Ws(Jr);class xr{constructor(o,t,n){this.id=o,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+o,gs(t,this._hostClassName)}listen(o,t,n,c){if(!this._triggers.has(t))throw function mt(i,o){return new e.vHH(3302,!1)}();if(null==n||0==n.length)throw function $(i){return new e.vHH(3303,!1)}();if(!function Ki(i){return"start"==i||"done"==i}(n))throw function be(i,o){return new e.vHH(3400,!1)}();const m=xt(this._elementListeners,o,[]),M={name:t,phase:n,callback:c};m.push(M);const Q=xt(this._engine.statesByElement,o,new Map);return Q.has(t)||(gs(o,Qt),gs(o,Qt+"-"+t),Q.set(t,Nr)),()=>{this._engine.afterFlush(()=>{const ue=m.indexOf(M);ue>=0&&m.splice(ue,1),this._triggers.has(t)||Q.delete(t)})}}register(o,t){return!this._triggers.has(o)&&(this._triggers.set(o,t),!0)}_getTrigger(o){const t=this._triggers.get(o);if(!t)throw function De(i){return new e.vHH(3401,!1)}();return t}trigger(o,t,n,c=!0){const m=this._getTrigger(t),M=new Ro(this.id,t,o);let Q=this._engine.statesByElement.get(o);Q||(gs(o,Qt),gs(o,Qt+"-"+t),this._engine.statesByElement.set(o,Q=new Map));let ue=Q.get(t);const Pe=new Ws(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&ue&&Pe.absorbOptions(ue.options),Q.set(t,Pe),ue||(ue=Nr),Pe.value!==Jr&&ue.value===Pe.value){if(!function mr(i,o){const t=Object.keys(i),n=Object.keys(o);if(t.length!=n.length)return!1;for(let c=0;c<t.length;c++){const m=t[c];if(!o.hasOwnProperty(m)||i[m]!==o[m])return!1}return!0}(ue.params,Pe.params)){const tn=[],vn=m.matchStyles(ue.value,ue.params,tn),Dn=m.matchStyles(Pe.value,Pe.params,tn);tn.length?this._engine.reportError(tn):this._engine.afterFlush(()=>{ri(o,vn),Xn(o,Dn)})}return}const Jt=xt(this._engine.playersByElement,o,[]);Jt.forEach(tn=>{tn.namespaceId==this.id&&tn.triggerName==t&&tn.queued&&tn.destroy()});let zt=m.matchTransition(ue.value,Pe.value,o,Pe.params),hn=!1;if(!zt){if(!c)return;zt=m.fallbackTransition,hn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:t,transition:zt,fromState:ue,toState:Pe,player:M,isFallbackTransition:hn}),hn||(gs(o,pi),M.onStart(()=>{cr(o,pi)})),M.onDone(()=>{let tn=this.players.indexOf(M);tn>=0&&this.players.splice(tn,1);const vn=this._engine.playersByElement.get(o);if(vn){let Dn=vn.indexOf(M);Dn>=0&&vn.splice(Dn,1)}}),this.players.push(M),Jt.push(M),M}deregister(o){this._triggers.delete(o),this._engine.statesByElement.forEach(t=>t.delete(o)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(c=>c.name!=o))})}clearElementCache(o){this._engine.statesByElement.delete(o),this._elementListeners.delete(o);const t=this._engine.playersByElement.get(o);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(o))}_signalRemovalForInnerTriggers(o,t){const n=this._engine.driver.query(o,Yt,!0);n.forEach(c=>{if(c[Ts])return;const m=this._engine.fetchNamespacesByElement(c);m.size?m.forEach(M=>M.triggerLeaveAnimation(c,t,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(o,t,n,c){const m=this._engine.statesByElement.get(o),M=new Map;if(m){const Q=[];if(m.forEach((ue,Pe)=>{if(M.set(Pe,ue.value),this._triggers.has(Pe)){const at=this.trigger(o,Pe,Jr,c);at&&Q.push(at)}}),Q.length)return this._engine.markElementAsRemoved(this.id,o,!0,t,M),n&&rn(Q).onDone(()=>this._engine.processLeaveNode(o)),!0}return!1}prepareLeaveAnimationListeners(o){const t=this._elementListeners.get(o),n=this._engine.statesByElement.get(o);if(t&&n){const c=new Set;t.forEach(m=>{const M=m.name;if(c.has(M))return;c.add(M);const ue=this._triggers.get(M).fallbackTransition,Pe=n.get(M)||Nr,at=new Ws(Jr),Nt=new Ro(this.id,M,o);this._engine.totalQueuedPlayers++,this._queue.push({element:o,triggerName:M,transition:ue,fromState:Pe,toState:at,player:Nt,isFallbackTransition:!0})})}}removeNode(o,t){const n=this._engine;if(o.childElementCount&&this._signalRemovalForInnerTriggers(o,t),this.triggerLeaveAnimation(o,t,!0))return;let c=!1;if(n.totalAnimations){const m=n.players.length?n.playersByQueriedElement.get(o):[];if(m&&m.length)c=!0;else{let M=o;for(;M=M.parentNode;)if(n.statesByElement.get(M)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(o),c)n.markElementAsRemoved(this.id,o,!1,t);else{const m=o[Ts];(!m||m===Sr)&&(n.afterFlush(()=>this.clearElementCache(o)),n.destroyInnerAnimations(o),n._onRemovalComplete(o,t))}}insertNode(o,t){gs(o,this._hostClassName)}drainQueuedTransitions(o){const t=[];return this._queue.forEach(n=>{const c=n.player;if(c.destroyed)return;const m=n.element,M=this._elementListeners.get(m);M&&M.forEach(Q=>{if(Q.name==n.triggerName){const ue=Ge(m,n.triggerName,n.fromState.value,n.toState.value);ue._data=o,vt(n.player,Q.phase,ue,Q.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):t.push(n)}),this._queue=[],t.sort((n,c)=>{const m=n.transition.ast.depCount,M=c.transition.ast.depCount;return 0==m||0==M?m-M:this._engine.driver.containsElement(n.element,c.element)?1:-1})}destroy(o){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,o)}elementContainsData(o){let t=!1;return this._elementListeners.has(o)&&(t=!0),t=!!this._queue.find(n=>n.element===o)||t,t}}class hi{constructor(o,t,n){this.bodyNode=o,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,m)=>{}}_onRemovalComplete(o,t){this.onRemovalComplete(o,t)}get queuedPlayers(){const o=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&o.push(n)})}),o}createNamespace(o,t){const n=new xr(o,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[o]=n}_balanceNamespaceList(o,t){const n=this._namespaceList,c=this.namespacesByHostElement;if(n.length-1>=0){let M=!1,Q=this.driver.getParentElement(t);for(;Q;){const ue=c.get(Q);if(ue){const Pe=n.indexOf(ue);n.splice(Pe+1,0,o),M=!0;break}Q=this.driver.getParentElement(Q)}M||n.unshift(o)}else n.push(o);return c.set(t,o),o}register(o,t){let n=this._namespaceLookup[o];return n||(n=this.createNamespace(o,t)),n}registerTrigger(o,t,n){let c=this._namespaceLookup[o];c&&c.register(t,n)&&this.totalAnimations++}destroy(o,t){if(!o)return;const n=this._fetchNamespace(o);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[o];const c=this._namespaceList.indexOf(n);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(o){return this._namespaceLookup[o]}fetchNamespacesByElement(o){const t=new Set,n=this.statesByElement.get(o);if(n)for(let c of n.values())if(c.namespaceId){const m=this._fetchNamespace(c.namespaceId);m&&t.add(m)}return t}trigger(o,t,n,c){if(oi(t)){const m=this._fetchNamespace(o);if(m)return m.trigger(t,n,c),!0}return!1}insertNode(o,t,n,c){if(!oi(t))return;const m=t[Ts];if(m&&m.setForRemoval){m.setForRemoval=!1,m.setForMove=!0;const M=this.collectedLeaveElements.indexOf(t);M>=0&&this.collectedLeaveElements.splice(M,1)}if(o){const M=this._fetchNamespace(o);M&&M.insertNode(t,n)}c&&this.collectEnterElement(t)}collectEnterElement(o){this.collectedEnterElements.push(o)}markElementAsDisabled(o,t){t?this.disabledNodes.has(o)||(this.disabledNodes.add(o),gs(o,lr)):this.disabledNodes.has(o)&&(this.disabledNodes.delete(o),cr(o,lr))}removeNode(o,t,n,c){if(oi(t)){const m=o?this._fetchNamespace(o):null;if(m?m.removeNode(t,c):this.markElementAsRemoved(o,t,!1,c),n){const M=this.namespacesByHostElement.get(t);M&&M.id!==o&&M.removeNode(t,c)}}else this._onRemovalComplete(t,c)}markElementAsRemoved(o,t,n,c,m){this.collectedLeaveElements.push(t),t[Ts]={namespaceId:o,setForRemoval:c,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:m}}listen(o,t,n,c,m){return oi(t)?this._fetchNamespace(o).listen(t,n,c,m):()=>{}}_buildInstruction(o,t,n,c,m){return o.transition.build(this.driver,o.element,o.fromState.value,o.toState.value,n,c,o.fromState.options,o.toState.options,t,m)}destroyInnerAnimations(o){let t=this.driver.query(o,Yt,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(o,qt,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(o){const t=this.playersByElement.get(o);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(o){const t=this.playersByQueriedElement.get(o);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(o=>{if(this.players.length)return rn(this.players).onDone(()=>o());o()})}processLeaveNode(o){var t;const n=o[Ts];if(n&&n.setForRemoval){if(o[Ts]=Sr,n.namespaceId){this.destroyInnerAnimations(o);const c=this._fetchNamespace(n.namespaceId);c&&c.clearElementCache(o)}this._onRemovalComplete(o,n.setForRemoval)}null!==(t=o.classList)&&void 0!==t&&t.contains(lr)&&this.markElementAsDisabled(o,!1),this.driver.query(o,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(o=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,c)=>this._balanceNamespaceList(n,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)gs(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,o)}finally{for(let c=0;c<n.length;c++)n[c]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?rn(t).onDone(()=>{n.forEach(c=>c())}):n.forEach(c=>c())}}reportError(o){throw function qe(i){return new e.vHH(3402,!1)}()}_flushAnimations(o,t){const n=new Us,c=[],m=new Map,M=[],Q=new Map,ue=new Map,Pe=new Map,at=new Set;this.disabledNodes.forEach(gn=>{at.add(gn);const xn=this.driver.query(gn,".ng-animate-queued",!0);for(let Bn=0;Bn<xn.length;Bn++)at.add(xn[Bn])});const Nt=this.bodyNode,Jt=Array.from(this.statesByElement.keys()),zt=us(Jt,this.collectedEnterElements),hn=new Map;let tn=0;zt.forEach((gn,xn)=>{const Bn=dn+tn++;hn.set(xn,Bn),gn.forEach(ii=>gs(ii,Bn))});const vn=[],Dn=new Set,Hn=new Set;for(let gn=0;gn<this.collectedLeaveElements.length;gn++){const xn=this.collectedLeaveElements[gn],Bn=xn[Ts];Bn&&Bn.setForRemoval&&(vn.push(xn),Dn.add(xn),Bn.hasAnimation?this.driver.query(xn,".ng-star-inserted",!0).forEach(ii=>Dn.add(ii)):Hn.add(xn))}const Ci=new Map,Qn=us(Jt,Array.from(Dn));Qn.forEach((gn,xn)=>{const Bn=Bt+tn++;Ci.set(xn,Bn),gn.forEach(ii=>gs(ii,Bn))}),o.push(()=>{zt.forEach((gn,xn)=>{const Bn=hn.get(xn);gn.forEach(ii=>cr(ii,Bn))}),Qn.forEach((gn,xn)=>{const Bn=Ci.get(xn);gn.forEach(ii=>cr(ii,Bn))}),vn.forEach(gn=>{this.processLeaveNode(gn)})});const ci=[],_i=[];for(let gn=this._namespaceList.length-1;gn>=0;gn--)this._namespaceList[gn].drainQueuedTransitions(t).forEach(Bn=>{const ii=Bn.player,Js=Bn.element;if(ci.push(ii),this.collectedEnterElements.length){const Fr=Js[Ts];if(Fr&&Fr.setForMove){if(Fr.previousTriggersValues&&Fr.previousTriggersValues.has(Bn.triggerName)){const qo=Fr.previousTriggersValues.get(Bn.triggerName),ko=this.statesByElement.get(Bn.element);if(ko&&ko.has(Bn.triggerName)){const ip=ko.get(Bn.triggerName);ip.value=qo,ko.set(Bn.triggerName,ip)}}return void ii.destroy()}}const ra=!Nt||!this.driver.containsElement(Nt,Js),oo=Ci.get(Js),Ca=hn.get(Js),vs=this._buildInstruction(Bn,n,Ca,oo,ra);if(vs.errors&&vs.errors.length)return void _i.push(vs);if(ra)return ii.onStart(()=>ri(Js,vs.fromStyles)),ii.onDestroy(()=>Xn(Js,vs.toStyles)),void c.push(ii);if(Bn.isFallbackTransition)return ii.onStart(()=>ri(Js,vs.fromStyles)),ii.onDestroy(()=>Xn(Js,vs.toStyles)),void c.push(ii);const Xa=[];vs.timelines.forEach(Fr=>{Fr.stretchStartingKeyframe=!0,this.disabledNodes.has(Fr.element)||Xa.push(Fr)}),vs.timelines=Xa,n.append(Js,vs.timelines),M.push({instruction:vs,player:ii,element:Js}),vs.queriedElements.forEach(Fr=>xt(Q,Fr,[]).push(ii)),vs.preStyleProps.forEach((Fr,qo)=>{if(Fr.size){let ko=ue.get(qo);ko||ue.set(qo,ko=new Set),Fr.forEach((ip,ku)=>ko.add(ku))}}),vs.postStyleProps.forEach((Fr,qo)=>{let ko=Pe.get(qo);ko||Pe.set(qo,ko=new Set),Fr.forEach((ip,ku)=>ko.add(ku))})});if(_i.length){const gn=[];_i.forEach(xn=>{gn.push(function $e(i,o){return new e.vHH(3505,!1)}())}),ci.forEach(xn=>xn.destroy()),this.reportError(gn)}const wi=new Map,bi=new Map;M.forEach(gn=>{const xn=gn.element;n.has(xn)&&(bi.set(xn,xn),this._beforeAnimationBuild(gn.player.namespaceId,gn.instruction,wi))}),c.forEach(gn=>{const xn=gn.element;this._getPreviousPlayers(xn,!1,gn.namespaceId,gn.triggerName,null).forEach(ii=>{xt(wi,xn,[]).push(ii),ii.destroy()})});const pr=vn.filter(gn=>es(gn,ue,Pe)),fs=new Map;Mn(fs,this.driver,Hn,Pe,T.l3).forEach(gn=>{es(gn,ue,Pe)&&pr.push(gn)});const So=new Map;zt.forEach((gn,xn)=>{Mn(So,this.driver,new Set(gn),ue,T.k1)}),pr.forEach(gn=>{var xn,Bn;const ii=fs.get(gn),Js=So.get(gn);fs.set(gn,new Map([...Array.from(null!==(xn=ii?.entries())&&void 0!==xn?xn:[]),...Array.from(null!==(Bn=Js?.entries())&&void 0!==Bn?Bn:[])]))});const Zr=[],sa=[],bl={};M.forEach(gn=>{const{element:xn,player:Bn,instruction:ii}=gn;if(n.has(xn)){if(at.has(xn))return Bn.onDestroy(()=>Xn(xn,ii.toStyles)),Bn.disabled=!0,Bn.overrideTotalTime(ii.totalTime),void c.push(Bn);let Js=bl;if(bi.size>1){let oo=xn;const Ca=[];for(;oo=oo.parentNode;){const vs=bi.get(oo);if(vs){Js=vs;break}Ca.push(oo)}Ca.forEach(vs=>bi.set(vs,Js))}const ra=this._buildAnimation(Bn.namespaceId,ii,wi,m,So,fs);if(Bn.setRealPlayer(ra),Js===bl)Zr.push(Bn);else{const oo=this.playersByElement.get(Js);oo&&oo.length&&(Bn.parentPlayer=rn(oo)),c.push(Bn)}}else ri(xn,ii.fromStyles),Bn.onDestroy(()=>Xn(xn,ii.toStyles)),sa.push(Bn),at.has(xn)&&c.push(Bn)}),sa.forEach(gn=>{const xn=m.get(gn.element);if(xn&&xn.length){const Bn=rn(xn);gn.setRealPlayer(Bn)}}),c.forEach(gn=>{gn.parentPlayer?gn.syncPlayerEvents(gn.parentPlayer):gn.destroy()});for(let gn=0;gn<vn.length;gn++){const xn=vn[gn],Bn=xn[Ts];if(cr(xn,Bt),Bn&&Bn.hasAnimation)continue;let ii=[];if(Q.size){let ra=Q.get(xn);ra&&ra.length&&ii.push(...ra);let oo=this.driver.query(xn,qt,!0);for(let Ca=0;Ca<oo.length;Ca++){let vs=Q.get(oo[Ca]);vs&&vs.length&&ii.push(...vs)}}const Js=ii.filter(ra=>!ra.destroyed);Js.length?Dr(this,xn,Js):this.processLeaveNode(xn)}return vn.length=0,Zr.forEach(gn=>{this.players.push(gn),gn.onDone(()=>{gn.destroy();const xn=this.players.indexOf(gn);this.players.splice(xn,1)}),gn.play()}),Zr}elementContainsData(o,t){let n=!1;const c=t[Ts];return c&&c.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(o).elementContainsData(t)||n}afterFlush(o){this._flushFns.push(o)}afterFlushAnimationsDone(o){this._whenQuietFns.push(o)}_getPreviousPlayers(o,t,n,c,m){let M=[];if(t){const Q=this.playersByQueriedElement.get(o);Q&&(M=Q)}else{const Q=this.playersByElement.get(o);if(Q){const ue=!m||m==Jr;Q.forEach(Pe=>{Pe.queued||!ue&&Pe.triggerName!=c||M.push(Pe)})}}return(n||c)&&(M=M.filter(Q=>!(n&&n!=Q.namespaceId||c&&c!=Q.triggerName))),M}_beforeAnimationBuild(o,t,n){const m=t.element,M=t.isRemovalTransition?void 0:o,Q=t.isRemovalTransition?void 0:t.triggerName;for(const ue of t.timelines){const Pe=ue.element,at=Pe!==m,Nt=xt(n,Pe,[]);this._getPreviousPlayers(Pe,at,M,Q,t.toState).forEach(zt=>{const hn=zt.getRealPlayer();hn.beforeDestroy&&hn.beforeDestroy(),zt.destroy(),Nt.push(zt)})}ri(m,t.fromStyles)}_buildAnimation(o,t,n,c,m,M){const Q=t.triggerName,ue=t.element,Pe=[],at=new Set,Nt=new Set,Jt=t.timelines.map(hn=>{const tn=hn.element;at.add(tn);const vn=tn[Ts];if(vn&&vn.removedBeforeQueried)return new T.ZN(hn.duration,hn.delay);const Dn=tn!==ue,Hn=function fi(i){const o=[];return Di(i,o),o}((n.get(tn)||li).map(wi=>wi.getRealPlayer())).filter(wi=>!!wi.element&&wi.element===tn),Ci=m.get(tn),Qn=M.get(tn),ci=Cn(0,this._normalizer,0,hn.keyframes,Ci,Qn),_i=this._buildPlayer(hn,ci,Hn);if(hn.subTimeline&&c&&Nt.add(tn),Dn){const wi=new Ro(o,Q,tn);wi.setRealPlayer(_i),Pe.push(wi)}return _i});Pe.forEach(hn=>{xt(this.playersByQueriedElement,hn.element,[]).push(hn),hn.onDone(()=>function tr(i,o,t){let n=i.get(o);if(n){if(n.length){const c=n.indexOf(t);n.splice(c,1)}0==n.length&&i.delete(o)}return n}(this.playersByQueriedElement,hn.element,hn))}),at.forEach(hn=>gs(hn,je));const zt=rn(Jt);return zt.onDestroy(()=>{at.forEach(hn=>cr(hn,je)),Xn(ue,t.toStyles)}),Nt.forEach(hn=>{xt(c,hn,[]).push(zt)}),zt}_buildPlayer(o,t,n){return t.length>0?this.driver.animate(o.element,t,o.duration,o.delay,o.easing,n):new T.ZN(o.duration,o.delay)}}class Ro{constructor(o,t,n){this.namespaceId=o,this.triggerName=t,this.element=n,this._player=new T.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(o){this._containsRealPlayer||(this._player=o,this._queuedCallbacks.forEach((t,n)=>{t.forEach(c=>vt(o,n,void 0,c))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(o.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(o){this.totalTime=o}syncPlayerEvents(o){const t=this._player;t.triggerCallback&&o.onStart(()=>t.triggerCallback("start")),o.onDone(()=>this.finish()),o.onDestroy(()=>this.destroy())}_queueEvent(o,t){xt(this._queuedCallbacks,o,[]).push(t)}onDone(o){this.queued&&this._queueEvent("done",o),this._player.onDone(o)}onStart(o){this.queued&&this._queueEvent("start",o),this._player.onStart(o)}onDestroy(o){this.queued&&this._queueEvent("destroy",o),this._player.onDestroy(o)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(o){this.queued||this._player.setPosition(o)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(o){const t=this._player;t.triggerCallback&&t.triggerCallback(o)}}function oi(i){return i&&1===i.nodeType}function Xi(i,o){const t=i.style.display;return i.style.display=o??"none",t}function Mn(i,o,t,n,c){const m=[];t.forEach(ue=>m.push(Xi(ue)));const M=[];n.forEach((ue,Pe)=>{const at=new Map;ue.forEach(Nt=>{const Jt=o.computeStyle(Pe,Nt,c);at.set(Nt,Jt),(!Jt||0==Jt.length)&&(Pe[Ts]=Do,M.push(Pe))}),i.set(Pe,at)});let Q=0;return t.forEach(ue=>Xi(ue,m[Q++])),M}function us(i,o){const t=new Map;if(i.forEach(Q=>t.set(Q,[])),0==o.length)return t;const c=new Set(o),m=new Map;function M(Q){if(!Q)return 1;let ue=m.get(Q);if(ue)return ue;const Pe=Q.parentNode;return ue=t.has(Pe)?Pe:c.has(Pe)?1:M(Pe),m.set(Q,ue),ue}return o.forEach(Q=>{const ue=M(Q);1!==ue&&t.get(ue).push(Q)}),t}function gs(i,o){var t;null===(t=i.classList)||void 0===t||t.add(o)}function cr(i,o){var t;null===(t=i.classList)||void 0===t||t.remove(o)}function Dr(i,o,t){rn(t).onDone(()=>i.processLeaveNode(o))}function Di(i,o){for(let t=0;t<i.length;t++){const n=i[t];n instanceof T.ZE?Di(n.players,o):o.push(n)}}function es(i,o,t){const n=t.get(i);if(!n)return!1;let c=o.get(i);return c?n.forEach(m=>c.add(m)):o.set(i,n),t.delete(i),!0}class jt{constructor(o,t,n){this.bodyNode=o,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(c,m)=>{},this._transitionEngine=new hi(o,t,n),this._timelineEngine=new qi(o,t,n),this._transitionEngine.onRemovalComplete=(c,m)=>this.onRemovalComplete(c,m)}registerTrigger(o,t,n,c,m){const M=o+"-"+c;let Q=this._triggerCache[M];if(!Q){const ue=[],at=Qi(this._driver,m,ue,[]);if(ue.length)throw function Me(i,o){return new e.vHH(3404,!1)}();Q=function zi(i,o,t){return new Xs(i,o,t)}(c,at,this._normalizer),this._triggerCache[M]=Q}this._transitionEngine.registerTrigger(t,c,Q)}register(o,t){this._transitionEngine.register(o,t)}destroy(o,t){this._transitionEngine.destroy(o,t)}onInsert(o,t,n,c){this._transitionEngine.insertNode(o,t,n,c)}onRemove(o,t,n,c){this._transitionEngine.removeNode(o,t,c||!1,n)}disableAnimations(o,t){this._transitionEngine.markElementAsDisabled(o,t)}process(o,t,n,c){if("@"==n.charAt(0)){const[m,M]=Et(n);this._timelineEngine.command(m,t,M,c)}else this._transitionEngine.trigger(o,t,n,c)}listen(o,t,n,c,m){if("@"==n.charAt(0)){const[M,Q]=Et(n);return this._timelineEngine.listen(M,t,Q,m)}return this._transitionEngine.listen(o,t,n,c,m)}flush(o=-1){this._transitionEngine.flush(o)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Is=(()=>{class i{constructor(t,n,c){this._element=t,this._startStyles=n,this._endStyles=c,this._state=0;let m=i.initialStylesByElement.get(t);m||i.initialStylesByElement.set(t,m=new Map),this._initialStyles=m}start(){this._state<1&&(this._startStyles&&Xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xn(this._element,this._initialStyles),this._endStyles&&(Xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(ri(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),Xn(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Ms(i){let o=null;return i.forEach((t,n)=>{(function Zn(i){return"display"===i||"position"===i})(n)&&(o=o||new Map,o.set(n,t))}),o}class ee{constructor(o,t,n,c){this.element=o,this.keyframes=t,this.options=n,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const o=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,o,this.options),this._finalKeyframe=o.length?o[o.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(o){const t=[];return o.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(o,t,n){return o.animate(this._convertKeyframesToObject(t),n)}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o)}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o)}onDestroy(o){this._onDestroyFns.push(o)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(o=>o()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[])}setPosition(o){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=o*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const o=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,c)=>{"offset"!==c&&o.set(c,this._finished?n:vi(this.element,c))}),this.currentSnapshot=o}triggerCallback(o){const t="start"===o?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class J{validateStyleProperty(o){return!0}validateAnimatableStyleProperty(o){return!0}matchesElement(o,t){return!1}containsElement(o,t){return P(o,t)}getParentElement(o){return Ye(o)}query(o,t,n){return D(o,t,n)}computeStyle(o,t,n){return window.getComputedStyle(o)[t]}animate(o,t,n,c,m,M=[]){const ue={duration:n,delay:c,fill:0==c?"both":"forwards"};m&&(ue.easing=m);const Pe=new Map,at=M.filter(zt=>zt instanceof ee);(function Ai(i,o){return 0===i||0===o})(n,c)&&at.forEach(zt=>{zt.currentSnapshot.forEach((hn,tn)=>Pe.set(tn,hn))});let Nt=function Ti(i){return i.length?i[0]instanceof Map?i:i.map(o=>si(o)):[]}(t).map(zt=>It(zt));Nt=function ys(i,o,t){if(t.size&&o.length){let n=o[0],c=[];if(t.forEach((m,M)=>{n.has(M)||c.push(M),n.set(M,m)}),c.length)for(let m=1;m<o.length;m++){let M=o[m];c.forEach(Q=>M.set(Q,vi(i,Q)))}}return o}(o,Nt,Pe);const Jt=function cn(i,o){let t=null,n=null;return Array.isArray(o)&&o.length?(t=Ms(o[0]),o.length>1&&(n=Ms(o[o.length-1]))):o instanceof Map&&(t=Ms(o)),t||n?new Is(i,t,n):null}(o,Nt);return new ee(o,Nt,ue,Jt)}}var N=g(6895);let Te=(()=>{class i extends T._j{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(t)?(0,T.vP)(t):t;return yi(this._renderer,null,n,"register",[c]),new kt(n,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.FYo),e.LFG(N.K0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class kt extends T.LC{constructor(o,t){super(),this._id=o,this._renderer=t}create(o,t){return new pn(this._id,o,t||{},this._renderer)}}class pn{constructor(o,t,n,c){this.id=o,this.element=t,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(o,t){return this._renderer.listen(this.element,`@@${this.id}:${o}`,t)}_command(o,...t){return yi(this._renderer,this.element,this.id,o,t)}onDone(o){this._listen("done",o)}onStart(o){this._listen("start",o)}onDestroy(o){this._listen("destroy",o)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(o){this._command("setPosition",o)}getPosition(){var o,t;return null!==(o=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==o?o:0}}function yi(i,o,t,n,c){return i.setProperty(o,`@@${t}:${n}`,c)}const mi="@.disabled";let Si=(()=>{class i{constructor(t,n,c){this.delegate=t,this.engine=n,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(m,M)=>{const Q=M?.parentNode(m);Q&&M.removeChild(Q,m)}}createRenderer(t,n){const m=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let at=this._rendererCache.get(m);return at||(at=new _n("",m,this.engine),this._rendererCache.set(m,at)),at}const M=n.id,Q=n.id+"-"+this._currentId;this._currentId++,this.engine.register(Q,t);const ue=at=>{Array.isArray(at)?at.forEach(ue):this.engine.registerTrigger(M,Q,t,at.name,at)};return n.data.animation.forEach(ue),new ne(this,Q,m,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,c){t>=0&&t<this._microtaskId?this._zone.run(()=>n(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(m=>{const[M,Q]=m;M(Q)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.FYo),e.LFG(jt),e.LFG(e.R0b))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class _n{constructor(o,t,n){this.namespaceId=o,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}appendChild(o,t){this.delegate.appendChild(o,t),this.engine.onInsert(this.namespaceId,t,o,!1)}insertBefore(o,t,n,c=!0){this.delegate.insertBefore(o,t,n),this.engine.onInsert(this.namespaceId,t,o,c)}removeChild(o,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,n,c){this.delegate.setAttribute(o,t,n,c)}removeAttribute(o,t,n){this.delegate.removeAttribute(o,t,n)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,n,c){this.delegate.setStyle(o,t,n,c)}removeStyle(o,t,n){this.delegate.removeStyle(o,t,n)}setProperty(o,t,n){"@"==t.charAt(0)&&t==mi?this.disableAnimations(o,!!n):this.delegate.setProperty(o,t,n)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,n){return this.delegate.listen(o,t,n)}disableAnimations(o,t){this.engine.disableAnimations(o,t)}}class ne extends _n{constructor(o,t,n,c){super(t,n,c),this.factory=o,this.namespaceId=t}setProperty(o,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==mi?this.disableAnimations(o,n=void 0===n||!!n):this.engine.process(this.namespaceId,o,t.slice(1),n):this.delegate.setProperty(o,t,n)}listen(o,t,n){if("@"==t.charAt(0)){const c=function _e(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(o);let m=t.slice(1),M="";return"@"!=m.charAt(0)&&([m,M]=function ze(i){const o=i.indexOf(".");return[i.substring(0,o),i.slice(o+1)]}(m)),this.engine.listen(this.namespaceId,c,m,M,Q=>{this.factory.scheduleListenerCallback(Q._data||-1,n,Q)})}return this.delegate.listen(o,t,n)}}const Ht=[{provide:T._j,useClass:Te},{provide:ui,useFactory:function bt(){return new Sn}},{provide:jt,useClass:(()=>{class i extends jt{constructor(t,n,c,m){super(t.body,n,c)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(N.K0),e.LFG(Le),e.LFG(ui),e.LFG(e.z2F))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})()},{provide:e.FYo,useFactory:function ft(i,o,t){return new Si(i,o,t)},deps:[a.se,jt,e.R0b]}],en=[{provide:Le,useFactory:()=>new J},{provide:e.QbO,useValue:"BrowserAnimations"},...Ht],On=[{provide:Le,useClass:pe},{provide:e.QbO,useValue:"NoopAnimations"},...Ht];let Tn=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?On:en}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:en,imports:[a.b2]}),i})();var Rn=g(7185),nn=g(8185),_o=g(6055),Xr=g(4128),V=g(9300),ae=g(5698);const q="6.5.1";var ge=g(2976),Re=g(8176),Dt=g(5259);let Pt=(()=>{class i{}return i.DefaultAdministratorUsername="info@rocksolidknowledge.com",i})();var dt=g(1206),Gn=g(1837),In=g(1060),wt=g(9066),un=g(2979),ss=g(4707);let zn=(()=>{class i{constructor(t){this.http=t,this.idsReady=!1,this.idsHealthCheckComplete=new ss.t(1),this.uiReady=!1,this.uiHealthCheckComplete=new ss.t(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(x.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var Fi=g(1228),ps=g(4961),Bi=g(6219),kr=g(5834);let rs=(()=>{class i{constructor(){let t=new kr.UAParser,n=t.getBrowser(),c=t.getOS();this.browserName=n.name,this.browserVersion=n.major,this.browserVersionToInt=parseInt(n.major),this.operatingSystem=c.name,this.operatingSystemVersion=c.version}validBrowser(){switch(this.browserName){case ji.InternetExplorer:return this.verifyInternetExplorer();case ji.Edge:return this.verifyEdge();case ji.Firefox:return this.verifyFirefox();case ji.Chrome:return this.verifyChrome();case ji.Safari:case ji.MobileSafari:return this.verifySafari();case ji.Opera:case ji.OperaMobile:return this.verifyOpera();case ji.SamsungBrowser:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Er.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Er.Android||this.operatingSystem==Er.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Er.Android||this.operatingSystem==Er.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const t=parseFloat(this.operatingSystemVersion);return this.browserName==ji.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&t>=10.14}verifyOpera(){return this.browserName==ji.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),ji=(()=>{class i{}return i.InternetExplorer="IE",i.Edge="Edge",i.Firefox="Firefox",i.Chrome="Chrome",i.Safari="Safari",i.MobileSafari="Mobile Safari",i.Opera="Opera",i.OperaMobile="Opera Mobi",i.SamsungBrowser="Samsung Browser",i})(),Er=(()=>{class i{}return i.Windows="Windows",i.Android="Android",i.ApplePhone="iOS",i})();var qr=g(9455),oa=g(4717),Fs=g(965);const jo=["resourcesMenu"],Ua=["sameSiteBrowserNotification"],aa=["defaultUserResolveButton"];function Rr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"nav",14,15),e.ALo(2,"translate"),e.TgZ(3,"div",16)(4,"div",17)(5,"div",18)(6,"div",19)(7,"b",20),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",21),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.closeSameSiteBrowserNotification())}),e.TgZ(11,"b"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()()()}2&i&&(e.uIk("aria-label",e.lcZ(2,3,"Nav.Account")),e.xp6(8),e.hij(" ",e.lcZ(9,5,"Common.SameSiteCookiesBannerError")," "),e.xp6(4),e.Oqu(e.lcZ(13,7,"Common.Close")))}function nr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"nav",22),e.ALo(1,"translate"),e.TgZ(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19)(6,"b",20),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",23,24),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.defaultUserDeleteConfirmation())}),e.TgZ(11,"b"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()()()}2&i&&(e.uIk("aria-label",e.lcZ(1,3,"Nav.Account")),e.xp6(7),e.hij(" ",e.lcZ(8,5,"InitialAdminCreation.ReminderMessage")," "),e.xp6(5),e.Oqu(e.lcZ(13,7,"InitialAdminCreation.Resolve")))}function Eo(i,o){if(1&i&&(e.TgZ(0,"nav",25),e.ALo(1,"translate"),e.TgZ(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19)(6,"b",20),e._uU(7),e.qZA()()()()()()),2&i){const t=e.oxw();e.uIk("aria-label",e.lcZ(1,2,"Nav.Account")),e.xp6(7),e.hij(" ",t.licenseIsInGracePeriodMessage," ")}}const gr=function(i,o){return{"tw-opacity-75":i,"tw-pill-info":o}};function jr(i,o){if(1&i&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("ngClass",e.WLB(2,gr,t.securityService.isNonProd(),!t.securityService.isNonProd())),e.xp6(1),e.hij(" ",t.securityService.licenseType," ")}}function la(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"nav",26),e.ALo(1,"translate"),e.TgZ(2,"div",16)(3,"div",27),e.YNc(4,jr,2,5,"div",28),e.TgZ(5,"div",29),e._UZ(6,"span",30),e.TgZ(7,"span",31),e._uU(8),e.qZA(),e.TgZ(9,"span",32),e._uU(10,"\u2022"),e.qZA()(),e.TgZ(11,"button",33),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.logoff())}),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.uIk("aria-label",e.lcZ(1,4,"Nav.Account")),e.xp6(4),e.Q6J("ngIf","Legacy"!=t.securityService.organisation),e.xp6(4),e.Oqu(t.authService.user),e.xp6(4),e.hij(" ",e.lcZ(13,6,"Nav.Logout")," ")}}function el(i,o){1&i&&e._UZ(0,"span",47)}function co(i,o){1&i&&e._UZ(0,"span",48)}function ts(i,o){1&i&&e._UZ(0,"div",54)}function tl(i,o){1&i&&e.GkF(0)}function Io(i,o){1&i&&e.GkF(0)}function vo(i,o){1&i&&e.GkF(0)}function eo(i,o){1&i&&e.GkF(0)}function Tl(i,o){1&i&&e.GkF(0)}function Lo(i,o){1&i&&e.GkF(0)}function Yn(i,o){1&i&&e.GkF(0)}const yo=function(i){return{title:i,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/identityresources",display:!0}},uo=function(i){return{title:i,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/protectedresources",display:!0}};function te(i,o){if(1&i&&(e.TgZ(0,"li",55,56)(2,"button",57)(3,"span",58),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"span",59),e.qZA(),e.TgZ(7,"nav",60),e.ALo(8,"translate"),e.TgZ(9,"ul",61),e.YNc(10,Lo,1,0,"ng-container",11),e.ALo(11,"translate"),e.YNc(12,Yn,1,0,"ng-container",11),e.ALo(13,"translate"),e.qZA()()()),2&i){const t=e.oxw(3),n=e.MAs(9);e.xp6(2),e.ekj("tw-nav-active",t.isActiveResourceRoute()),e.xp6(2),e.Oqu(e.lcZ(5,8,"Nav.Resources")),e.xp6(3),e.uIk("aria-label",e.lcZ(8,10,"Nav.Resources")),e.xp6(3),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(16,yo,e.lcZ(11,12,"Nav.IdentityResources"))),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(18,uo,e.lcZ(13,14,"Nav.ProtectedResources")))}}function E(i,o){1&i&&e.GkF(0)}function X(i,o){1&i&&e.GkF(0)}const de=function(i){return{title:i,classes:"lg:tw-hidden",activeClass:"tw-nav-active",route:"/home",display:!0}},Fe=function(i,o){return{title:i,classes:"",activeClass:"tw-nav-active",route:"/users",display:o}},ht=function(i,o){return{title:i,classes:"",activeClass:"tw-nav-active",route:"/roles",display:o}},ot=function(i,o){return{title:i,classes:"",activeClass:"tw-nav-active",route:"/claim-types",display:o}},St=function(i,o){return{title:i,classes:"",activeClass:"tw-nav-active",route:"/clients",display:o}},Wt=function(i,o){return{title:i,classes:"",activeClass:"tw-nav-active",route:"/auditing",display:o}},on=function(i,o){return{title:i,classes:"",activeClass:"tw-nav-active",route:"/settings/accesspolicy",display:o}};function ti(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"nav",49),e.YNc(1,ts,1,0,"div",50),e.TgZ(2,"ul",37),e.YNc(3,tl,1,0,"ng-container",11),e.ALo(4,"translate"),e.YNc(5,Io,1,0,"ng-container",11),e.ALo(6,"translate"),e.YNc(7,vo,1,0,"ng-container",11),e.ALo(8,"translate"),e.YNc(9,eo,1,0,"ng-container",11),e.ALo(10,"translate"),e.YNc(11,Tl,1,0,"ng-container",11),e.ALo(12,"translate"),e.YNc(13,te,14,20,"li",51),e.YNc(14,E,1,0,"ng-container",11),e.ALo(15,"translate"),e.YNc(16,X,1,0,"ng-container",11),e.ALo(17,"translate"),e.TgZ(18,"li",52)(19,"button",53),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.logoff())}),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw(2),n=e.MAs(9);e.xp6(1),e.Q6J("ngIf",!t.healthCheckService.uiReady),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(33,de,e.lcZ(4,17,"Nav.Home"))),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(35,Fe,e.lcZ(6,19,"Nav.Users"),t.securityService.userManagerView||t.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(38,ht,e.lcZ(8,21,"Nav.Roles"),t.securityService.userManagerView||t.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(41,ot,e.lcZ(10,23,"Nav.ClaimTypes"),t.securityService.userManagerView||t.securityService.userManagerReadOnlyView)),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(44,St,e.lcZ(12,25,"Nav.Clients"),t.securityService.identityServerManagerView||t.securityService.identityServerManagerReadOnlyView)),e.xp6(2),e.Q6J("ngIf",t.securityService.identityServerManagerView||t.securityService.identityServerManagerReadOnlyView),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(47,Wt,e.lcZ(15,27,"Nav.Auditing"),t.securityService.auditerView)),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(50,on,e.lcZ(17,29,"Nav.Settings"),t.securityService.allView)),e.xp6(4),e.hij(" ",e.lcZ(21,31,"Logout")," ")}}const Kn=function(i){return[i]};function hs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"header",35),e.NdJ("resize",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.detectSize())},!1,e.Jf7),e.TgZ(1,"div",36)(2,"div",37)(3,"h2",38),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",39)(7,"a",40),e.ALo(8,"localize"),e._UZ(9,"img",41),e.TgZ(10,"span",42),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"button",43),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.menuToggle())}),e.TgZ(14,"span",42),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,el,1,0,"span",44),e.YNc(18,co,1,0,"span",45),e.qZA()(),e.YNc(19,ti,22,53,"nav",46),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"Nav.Menu")),e.xp6(3),e.Q6J("routerLink",e.VKq(18,Kn,e.lcZ(8,12,"/home"))),e.xp6(4),e.Oqu(e.lcZ(12,14,"Nav.Home")),e.xp6(2),e.ekj("tw-bg-primary-700",t.openMenu),e.uIk("aria-expanded",1==t.openMenu),e.xp6(2),e.Oqu(e.lcZ(16,16,"Nav.ToggleNavigation")),e.xp6(2),e.Q6J("ngIf",!t.openMenu),e.xp6(1),e.Q6J("ngIf",t.openMenu),e.xp6(1),e.Q6J("ngIf",t.openMenu&&t.appComponentViewConfig.showNav)}}const Nn=function(i,o){return{"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":i,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":o}};function os(i,o){if(1&i&&(e.TgZ(0,"li")(1,"a",63),e.ALo(2,"localize"),e._uU(3),e.qZA()()),2&i){const t=e.oxw(),c=t.sub,m=t.activeClass,M=t.route,Q=t.title;e.Tol(t.classes),e.xp6(1),e.Q6J("ngClass",e.WLB(8,Nn,c,!c))("routerLinkActive",m)("routerLink",e.VKq(11,Kn,e.lcZ(2,6,M))),e.xp6(2),e.hij(" ",Q," ")}}function to(i,o){1&i&&e.YNc(0,os,4,13,"li",62),2&i&&e.Q6J("ngIf",o.display)}function Pr(i,o){1&i&&(e.TgZ(0,"div",64)(1,"div",65)(2,"div")(3,"h1",66),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"Errors.Unauthorized")),e.xp6(3),e.Oqu(e.lcZ(8,4,"Errors.ContactAdmin")))}function Co(i,o){1&i&&e._UZ(0,"router-outlet")}function nl(i,o){1&i&&e.GkF(0)}function il(i,o){if(1&i&&(e.TgZ(0,"div",68)(1,"div",69),e._UZ(2,"span",70),e.TgZ(3,"span",71)(4,"b"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._uU(7),e.qZA()()()),2&i){const t=e.oxw(),c=t.text;e.Q6J("@fadeInOut",t.check),e.xp6(5),e.hij("",e.lcZ(6,3,"Common.Loading"),":"),e.xp6(2),e.hij(" ",c," ")}}function sl(i,o){1&i&&e.YNc(0,il,8,5,"div",67),2&i&&e.Q6J("ngIf",o.check)}function Al(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"footer",72)(1,"button",73),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.jumpToTop())}),e._UZ(2,"span",74),e.TgZ(3,"span",42),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",75)(7,"div",76)(8,"p",77)(9,"span",78),e._uU(10),e.qZA(),e._uU(11),e.TgZ(12,"a",79),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"ul",80)(16,"li",81)(17,"a",82),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"span",83),e._uU(21,"\u2022"),e.qZA()(),e.TgZ(22,"li",17)(23,"a",84),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Nav.ToTop")),e.xp6(6),e.hij("AdminUI ",t.versionNumber,""),e.xp6(1),e.hij(" \xa9 ",t.appCopyright," "),e.xp6(2),e.hij(" ",e.lcZ(14,8,"Common.CompanyName")," "),e.xp6(5),e.hij(" ",e.lcZ(19,10,"LandingPage.Documentation")," "),e.xp6(6),e.hij(" ",e.lcZ(25,12,"Nav.Support")," ")}}const $r=function(i){return{text:"IdentityServer",check:i}};let $o=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt,Jt,zt,hn){this.securityService=t,this.translate=n,this.localizeRouter=c,this.toastr=m,this.router=M,this.healthCheckService=Q,this.authService=ue,this.userService=Pe,this.localizeParser=at,this.modalService=Nt,this.browserSameSiteService=Jt,this.appComponentViewService=zt,this.licenseService=hn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[Dt.n.Save],M.events.pipe((0,V.h)(Dn=>Dn instanceof nn.m2)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=q}),Gn.Zr.defaultLocale="utc",Gn.Zr.defaultZone="utc";const tn=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",tn);const vn=new Date;this.appCopyright="2017 - "+vn.getFullYear()}ngOnInit(){if(this.detectSize(),this.router.events.subscribe(n=>{this.desktop||(this.openMenu=!1)}),this.appViewComponentSubscription=this.appComponentViewService.viewConfig$.subscribe(n=>{this.appComponentViewConfig=n}),this.healthCheckService.checkHealthUi().pipe((0,ae.q)(1)).subscribe(n=>{this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof n&&!(0,Re.Ew)(n)&&this.toastr.warning(n,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),(0,Xr.D)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(c=>{c.authentication.isAuthenticated&&c.authentication.username!=Pt.DefaultAdministratorUsername&&c.permissions.includes(dt.y[dt.y.All])&&this.userService.getUsers(ge.de.defaultEmbeddedUserName).subscribe(m=>{m.results.length>0&&(this.defaultUserExists=!0)})}),this.licenseService.getLicenseInfo().subscribe(c=>{if(this.licenseIsInGracePeriod=c.isInGracePeriod,this.licenseIsInGracePeriod){const m=(0,Re.X1)(c.gracePeriodExpiry,"ccc LLL dd yyyy, T");let M=this.translate.instant("Common.LicenseIsInGracePeriod");M=M.replace("{0}",m),this.licenseIsInGracePeriodMessage=M}})},n=>{this.healthCheckService.uiHealthCheckComplete.next(!0);const c=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:c?` (${c})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}),this.healthCheckService.checkHealthIdentityServer().pipe((0,ae.q)(1)).subscribe(n=>{this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)},n=>{this.healthCheckService.idsHealthCheckComplete.next(!0);const c=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:ge.de.checkHealthIdentityServerDocs,error:c?` (${c})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const n={link:ge.de.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",n),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe(()=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},t=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.appViewComponentSubscription&&this.appViewComponentSubscription.unsubscribe()}isActive(t,n=!1){return this.router.isActive(t,n)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const t=window.matchMedia("(min-width: 1024px)");t.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!t.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(t){if(!t)return"";const n=t.error;if(n){if("string"==typeof n)return n;if(n.errors&&n.errors.length>0)return n.errors[0]}return t.message?t.message:t.statusText?t.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(In.I),e.Y36(wt.sK),e.Y36(un.An),e.Y36(Rn._W),e.Y36(nn.F0),e.Y36(zn),e.Y36(Fi.e),e.Y36(ps.K),e.Y36(un.DJ),e.Y36(Bi.Z),e.Y36(rs),e.Y36(qr.t),e.Y36(oa.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-root"]],viewQuery:function(t,n){if(1&t&&(e.Gf(jo,5),e.Gf(Ua,5),e.Gf(aa,5)),2&t){let c;e.iGM(c=e.CRH())&&(n.resourcesMenu=c.first),e.iGM(c=e.CRH())&&(n.sameSiteBrowserNotification=c.first),e.iGM(c=e.CRH())&&(n.defaultUserResolveButton=c.first)}},decls:20,vars:20,consts:[["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["commonNavItem",""],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"actions","title","modalId","saveText","onSave","onCancel"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["commonLoader",""],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],[1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],["sameSiteBrowserNotification",""],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],[1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["defaultUserResolveButton",""],["id","licenseExpiredNotification",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],["class","tw-relative",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[1,"tw-relative"],["resourcesMenu",""],["id","menuResourcesToggle","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","dropdown-toggle","trans"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],[1,"tw-bg-primary-800","tw-relative","lg:tw-bg-primary-500","lg:tw-absolute","dropdown-menu"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"class",4,"ngIf"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","trans"]],template:function(t,n){if(1&t&&(e.TgZ(0,"a",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Rr,14,9,"nav",1),e.YNc(4,nr,14,9,"nav",2),e.YNc(5,Eo,8,4,"nav",3),e.YNc(6,la,14,8,"nav",4),e.YNc(7,hs,20,20,"header",5),e.YNc(8,to,1,1,"ng-template",null,6,e.W1O),e.TgZ(10,"main",7)(11,"app-custom-modal",8),e.NdJ("onSave",function(){return n.removeDefaultUser()})("onCancel",function(){return n.cancelDefaultUserDelete()}),e.TgZ(12,"p"),e._uU(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.qZA()(),e.YNc(14,Pr,9,6,"div",9),e.YNc(15,Co,1,0,"router-outlet",10),e.qZA(),e.YNc(16,nl,1,0,"ng-container",11),e.YNc(17,sl,1,1,"ng-template",null,12,e.W1O),e.YNc(19,Al,26,14,"footer",13)),2&t){const c=e.MAs(18);e.Q6J("href",n.skipLinkPath,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(2,16,"Nav.SkipToContent"),"\n"),e.xp6(2),e.Q6J("ngIf",n.noSameSiteSupport),e.xp6(1),e.Q6J("ngIf",n.defaultUserExists),e.xp6(1),e.Q6J("ngIf",n.licenseIsInGracePeriod),e.xp6(1),e.Q6J("ngIf",n.appComponentViewConfig.showBanner),e.xp6(1),e.Q6J("ngIf",n.appComponentViewConfig.showNav),e.xp6(4),e.Q6J("actions",n.resolveModalActions)("title","Remove Default Administrator")("modalId",n.defaultUserRemovalModalId)("saveText","Remove User"),e.xp6(3),e.Q6J("ngIf",n.securityService.noPermissions),e.xp6(1),e.Q6J("ngIf",!n.securityService.noPermissions),e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(18,$r,!n.healthCheckService.idsReady)),e.xp6(3),e.Q6J("ngIf",n.appComponentViewConfig.showFooter)}},dependencies:[N.mk,N.O5,N.tP,nn.lC,nn.yS,nn.Od,Fs.R,wt.X$,un.lO],encapsulation:2,data:{animation:[(0,_o.zS)(),(0,_o.Ic)()]}}),i})();var ir=g(2320),no=g(5241),Ir=g(9241),gi=g(388);class wa{constructor(){this.rss=new ca,this.rss.channel=new Rc,this.rss.channel.item=new Array}}class ca{}class Rc{}class zl{}var Vi=g(317),io=g(5925);function Pu(i,o){1&i&&(e.TgZ(0,"div",6),e._UZ(1,"app-simple-loader"),e.qZA())}function Lu(i,o){if(1&i&&(e.TgZ(0,"li",8)(1,"a",9)(2,"h3",10),e._uU(3),e.qZA(),e.TgZ(4,"span",11),e._uU(5),e.qZA(),e.TgZ(6,"p",12),e._uU(7),e.qZA()()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("href",n.domSanitizer.bypassSecurityTrustUrl(t.link),e.LSH),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.pubDate),e.xp6(2),e.Oqu(t.description)}}function Pc(i,o){if(1&i&&(e.TgZ(0,"ul"),e.YNc(1,Lu,8,4,"li",7),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.dto?null:t.dto.rss.channel.item)}}const Uu=function(i,o){return{"tw-bg-white":i,"tw-bg-grey-100":o}};let Zu=(()=>{class i{constructor(t,n,c){this.http=t,this.domSanitizer=n,this.translate=c,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new zl}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new x.WM({Accept:"application/xml"}),responseType:"text"}).subscribe(t=>{this.dto=(new Vi).xml2js(t),Object.setPrototypeOf(this.dto,wa.prototype),this.dto.rss.channel.item.forEach(n=>{n.pubDate=this.formatDate(n.pubDate)}),this.isLoading=!1},t=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new wa,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(t){return t?Gn.ou.fromHTTP(t).toFormat("DD"):""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.eN),e.Y36(a.H7),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._UZ(2,"span",2),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",3),e.YNc(7,Pu,2,0,"div",4),e.YNc(8,Pc,2,1,"ul",5),e.qZA()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,4,"LandingPage.LatestNews")),e.xp6(2),e.Q6J("ngClass",e.WLB(6,Uu,!n.altTheme,n.altTheme)),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[N.mk,N.sg,N.O5,io.w,wt.X$],encapsulation:2}),i})();function Sl(i,o){if(1&i&&(e.TgZ(0,"li",16)(1,"span",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",19),e._uU(5),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"Index.LicensedTo")),e.xp6(3),e.hij(" ",t.securityService.organisation," ")}}const Za=function(i,o){return{"tw-pill":i,"tw-pill-info":o}};function Yl(i,o){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.YNc(5,Sl,6,4,"li",15),e.TgZ(6,"li",16)(7,"span",17),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",18),e._uU(11),e.qZA()()()()()()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.securityService.organisation),e.xp6(3),e.Oqu(e.lcZ(9,4,"Index.LicenseType")),e.xp6(2),e.Q6J("ngClass",e.WLB(6,Za,t.isNonProd(),!t.isNonProd())),e.xp6(1),e.hij(" ",t.securityService.licenseType," ")}}function sp(i,o){1&i&&e.GkF(0)}function Qs(i,o){1&i&&e.GkF(0)}function ua(i,o){1&i&&e.GkF(0)}function Uo(i,o){if(1&i&&(e.TgZ(0,"li",20)(1,"a",21),e._UZ(2,"span",22),e.TgZ(3,"span",23),e._uU(4),e.qZA()()()),2&i){const t=o.title,n=o.link,c=o.icon;e.xp6(1),e.Q6J("href",n,e.LSH),e.xp6(1),e.Gre("",c," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.xp6(2),e.Oqu(t)}}const rp=function(i){return{title:i,link:"documentation/index.html",icon:"fad fa-file fa-swap-opacity"}},Fu=function(i,o){return{title:i,link:o,icon:"fad fa-file-code fa-swap-opacity"}},Wr=function(i){return{title:i,link:"mailto:support@identityserver.com?subject=AdminUI",icon:"fad fa-envelope fa-swap-opacity"}};let Zo=(()=>{class i{constructor(t,n,c,m){this.titleService=t,this.translate=n,this.securityService=c,this.healthCheckService=m,this.apiDocsLink="",this.titleService.setTitle(`Home - ${ge.de.SITE_TITLE}`),this.apiDocsLink="/swagger"}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return"Demo"===this.securityService.licenseType}isNonProd(){return"Production"!==this.securityService.licenseType}isLegacy(){return"Legacy"===this.securityService.organisation}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Dx),e.Y36(wt.sK),e.Y36(In.I),e.Y36(zn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-index"]],decls:18,vars:23,consts:[[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],["commonDocsButton",""],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Yl,12,9,"div",1),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"ul",5),e.YNc(8,sp,1,0,"ng-container",6),e.ALo(9,"translate"),e.YNc(10,Qs,1,0,"ng-container",6),e.ALo(11,"translate"),e.YNc(12,ua,1,0,"ng-container",6),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",7),e._UZ(15,"app-rss-feed",8),e.qZA()(),e.YNc(16,Uo,5,5,"ng-template",null,9,e.W1O)),2&t){const c=e.MAs(17);e.xp6(1),e.Oqu(e.lcZ(2,8,"Common.AppName")),e.xp6(2),e.Q6J("ngIf",!n.isLegacy()),e.xp6(5),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(16,rp,e.lcZ(9,10,"LandingPage.Documentation"))),e.xp6(2),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(18,Fu,e.lcZ(11,12,"LandingPage.APIDocs"),n.apiDocsLink)),e.xp6(2),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(21,Wr,e.lcZ(13,14,"Nav.Support")))}},dependencies:[N.mk,N.O5,N.tP,Zu,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var xi=g(7579),se=g(4004),d=g(8372),l=g(1884),p=g(5683),f=g(8675),w=g(5577),A=g(9883),O=g(4889),Z=g(2294),z=g(7696),Ce=g(8163);let We=(()=>{class i{constructor(){this.onSearch=new e.vpe}search(t){this.onSearch.emit(t.target.value)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search"]],outputs:{onSearch:"onSearch"},decls:8,vars:3,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"keyup"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._UZ(3,"span",3),e.TgZ(4,"span",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"input",5),e.NdJ("keyup",function(m){return n.search(m)}),e.qZA()()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"Common.Search")))},dependencies:[wt.X$],encapsulation:2}),i})();class Tt{constructor(){this.selected=!1}}var gt=g(7608);const Kt=["addRoleModal"],Pn=function(){return{animated:!1,backdrop:"static"}};let ni=(()=>{class i{constructor(t,n,c,m,M,Q){this.rolesService=t,this.errorService=n,this.translate=c,this.router=m,this.fb=M,this.toastr=Q,this.added=new e.vpe}keydown(t){"Enter"===t.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",C.kI.required],description:["",C.kI.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let t=new Tt;t=this.addRoleForm.value,t.name=t.name.trim(),this.rolesService.addRole(t).subscribe(n=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+t.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},n=>{this.errorService.handleError(n)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.f),e.Y36(O.T),e.Y36(wt.sK),e.Y36(nn.F0),e.Y36(C.QS),e.Y36(Rn._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-role"]],viewQuery:function(t,n){if(1&t&&e.Gf(Kt,7),2&t){let c;e.iGM(c=e.CRH())&&(n.addRoleModal=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},outputs:{added:"added"},decls:33,vars:26,consts:[["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addRoleModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"app-form-row",13),e._UZ(18,"textarea",14),e.qZA()()(),e._UZ(19,"div",15),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.NdJ("click",function(){return n.addRole(),n.hide()}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"span",20)(27,"button",21),e.NdJ("click",function(){return n.addAnotherRole()}),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.TgZ(30,"button",22),e.NdJ("click",function(){return n.hide()}),e._uU(31),e.ALo(32,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(25,Pn)),e.xp6(6),e.Oqu(e.lcZ(7,15,"Roles.NewRole")),e.xp6(5),e.Oqu(e.lcZ(12,17,"Common.Close")),e.xp6(3),e.Q6J("formGroup",n.addRoleForm),e.xp6(1),e.Q6J("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.xp6(2),e.Q6J("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.xp6(6),e.Q6J("disabled",!n.addRoleForm.valid),e.xp6(1),e.Oqu(e.lcZ(25,19,"Common.Save")),e.xp6(3),e.Q6J("disabled",!n.addRoleForm.valid),e.xp6(1),e.Oqu(e.lcZ(29,21,"Common.SaveAndAdd")),e.xp6(3),e.Oqu(e.lcZ(32,23,"Common.Cancel")))},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,gi.oB,gt.L,wt.X$],encapsulation:2}),i})();function $i(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(3);return e.KtG(c.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Roles.AddRole")," "))}function ur(i,o){1&i&&e._UZ(0,"app-simple-loader")}function Bs(i,o){1&i&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Roles.NoRolesFound")))}function as(i,o){1&i&&e._UZ(0,"span",23)}function Qr(i,o){1&i&&e._UZ(0,"span",24)}function Ri(i,o){1&i&&(e.TgZ(0,"span",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function ba(i,o){1&i&&(e.TgZ(0,"span",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const Kl=function(i,o){return{"fad fa-pencil":i,"fas fa-eye":o}};function Ta(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",25)(1,"td",26),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditRole(m))}),e.TgZ(2,"b",27),e._uU(3),e.qZA()(),e.TgZ(4,"td",28),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditRole(m))}),e._uU(5),e.qZA(),e.TgZ(6,"td",29),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditRole(m))}),e.YNc(7,Ri,3,3,"span",30),e.qZA(),e.TgZ(8,"td",31),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditRole(m))}),e.YNc(9,ba,3,3,"span",32),e.qZA(),e.TgZ(10,"td",33),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditRole(m))}),e.TgZ(11,"button",34),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditRole(m))}),e._UZ(12,"span",35),e.TgZ(13,"span",19),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",n.isPolicyRole(t)),e.xp6(2),e.Q6J("ngIf",t.reserved),e.xp6(3),e.Q6J("ngClass",e.WLB(8,Kl,!n.isUserManagerReadOnly,n.isUserManagerReadOnly)),e.xp6(2),e.Oqu(e.lcZ(15,6,"Common.Edit"))}}function xl(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.sort())}),e.TgZ(4,"span",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,as,1,0,"span",15),e.YNc(8,Qr,1,0,"span",16),e.qZA(),e.TgZ(9,"th",17),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",18)(13,"span",19),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",20)(17,"span",19),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"th",21)(21,"span",19),e._uU(22),e.ALo(23,"translate"),e.qZA()()()(),e.TgZ(24,"tbody"),e.YNc(25,Ta,16,11,"tr",22),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,8,"Common.Name")),e.xp6(2),e.Q6J("ngIf",t.sortIcon),e.xp6(1),e.Q6J("ngIf",!t.sortIcon),e.xp6(2),e.hij(" ",e.lcZ(11,10,"Common.Description")," "),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Policy")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(23,16,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.roles)}}function op(i,o){if(1&i&&e._UZ(0,"app-pager",38),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.roles?null:t.roles.length)}}let Wo=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.rolesService=t,this.securityService=n,this.translate=c,this.router=m,this.titleService=M,this.localize=Q,this.errorService=ue,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new xi.x,this.sortStream=new xi.x}ngOnInit(){const t=this.translate.instant("Nav.Roles")+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(t),this.isLoading=!0;const n=this.sortStream.pipe((0,se.U)(M=>({search:this.term,sort:M})));this.searchTermStream.pipe((0,d.b)(300),(0,l.x)(),(0,se.U)(M=>(this.term=M,{search:M,sort:this.sortCriteria}))).pipe((0,p.T)(n),(0,f.O)({search:this.term,sort:this.sortCriteria}),(0,w.z)(M=>this.rolesService.getRoles(M.search,M.sort))).subscribe(M=>{this.roles=M,this.isLoading=!1},M=>{this.errorService.handleError(M),this.isLoading=!1})}search(t){this.searchTermStream.next(t)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(t){this.isUserManagerReadOnly?this.viewRole(t):this.editRole(t)}editRole(t){const n=[this.localize.translateRoute("/roles"),t.id];this.router.navigate(n)}viewRole(t){const n=[this.localize.translateRoute("/roles/view"),t.id];this.router.navigate(n)}allowedToEditRole(t){return!this.securityService.allView&&this.isPolicyRole(t)}isPolicyRole(t){const n=this.securityService.policyClaims;for(let c=0;c<n.length;c++)if("role"===n[c].type&&n[c].value===t.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Re.ub)(this.securityService.userPermissions)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.f),e.Y36(In.I),e.Y36(wt.sK),e.Y36(nn.F0),e.Y36(a.Dx),e.Y36(un.An),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:11,vars:8,consts:[[3,"title"],[3,"added"],["addRoleModal",""],["id","rolesList",1,"tw-container","mx-auto"],[3,"onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(t,n){1&t&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-role",1,2),e.NdJ("added",function(){return n.update()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(m){return n.search(m)}),e.qZA(),e.YNc(6,$i,5,3,"app-action-bar",5),e.YNc(7,ur,1,0,"app-simple-loader",5),e.YNc(8,Bs,4,3,"div",6),e.YNc(9,xl,26,18,"table",7),e.YNc(10,op,1,1,"app-pager",8),e.qZA()),2&t&&(e.Q6J("title",e.lcZ(1,6,"Nav.Roles")),e.xp6(6),e.Q6J("ngIf",!n.isLoading&&!n.isUserManagerReadOnly),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",(!n.roles||n.roles.length<=0)&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.roles&&n.roles.length>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.roles&&n.roles.length>0&&!n.isLoading))},dependencies:[N.mk,N.sg,N.O5,Z.G,z.P,Ce.K,We,io.w,ni,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();function ns(i,o){1&i&&(e.TgZ(0,"p",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Errors.UnableToCompilePolicy")))}function po(i,o){1&i&&(e.TgZ(0,"p",7),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Errors.UnauthenticatedDescription")))}let Aa=(()=>{class i{constructor(t){this.isEnforcerCompilationError=!1,this.getNavigationState(t)}getNavigationState(t){const n=t.getCurrentNavigation();if(null!=n&&null!=n.extras.state){const c=n.extras.state;c.enforcer&&(this.isEnforcerCompilationError=c.enforcer)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:10,vars:5,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["normalError",""],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,ns,3,3,"p",4),e.YNc(8,po,3,3,"ng-template",null,5,e.W1O),e.qZA()()()()),2&t){const c=e.MAs(9);e.xp6(5),e.Oqu(e.lcZ(6,3,"Errors.UnauthenticatedTitle")),e.xp6(2),e.Q6J("ngIf",n.isEnforcerCompilationError)("ngIfElse",c)}},dependencies:[N.O5,wt.X$],encapsulation:2}),i})(),Ns=(()=>{class i{constructor(t){this.translate=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.ForbiddenTitle")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.ForbiddenDescription")))},dependencies:[wt.X$],encapsulation:2}),i})();var wo=g(3366);const Qo=function(){return["active"]};function Fa(i,o){1&i&&(e.TgZ(0,"li",14)(1,"button",24),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("routerLinkActive",e.DdM(4,Qo)),e.xp6(1),e.Oqu(e.lcZ(3,2,"Nav.SessionManagement")))}function rl(i,o){1&i&&(e.TgZ(0,"div",25)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.AsE("",e.lcZ(3,2,"Users.Delete.DeletedUser")," ",e.lcZ(4,4,"Users.Delete.AuditingPurposes"),""))}const Ba=function(i,o){return{title:i,link:o}},Lc=function(i){return[i]};let Uc=(()=>{class i{constructor(t,n,c,m){this.r=t,this.route=n,this.errorService=c,this.configService=m}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:t=>{this.user=t.user},error:t=>{this.errorService.handleError(t)}}),this.configSubscription=this.configService.getConfig().subscribe({next:t=>{this.showSessionManagement=t.featureFlagOptions.sessionManagementEnabled},error:t=>{this.errorService.handleError(t)}})}mobRoute(t){this.r.navigate([t],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.F0),e.Y36(nn.gz),e.Y36(O.T),e.Y36(wo.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:64,vars:75,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["value","sessions"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(m){return n.mobRoute(m.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"option",9),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"option",10),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"option",11),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"option",12),e._uU(32),e.ALo(33,"translate"),e.qZA()()()(),e.TgZ(34,"ul",13),e.ALo(35,"translate"),e.TgZ(36,"li",14)(37,"button",15),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"li",14)(41,"button",16),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"li",14)(45,"button",17),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"li",14)(49,"button",18),e._uU(50),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"li",14)(53,"button",19),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"li",14)(57,"button",20),e._uU(58),e.ALo(59,"translate"),e.qZA()(),e.YNc(60,Fa,4,5,"li",21),e.qZA(),e.BQk(),e.qZA(),e.TgZ(61,"div",22),e.YNc(62,rl,5,6,"div",23),e._UZ(63,"router-outlet"),e.qZA()),2&t&&(e.Q6J("title",n.user.firstName+" "+n.user.lastName)("totpEnabled",n.user.totpEnabled)("crumbs",e.VKq(67,Lc,e.WLB(64,Ba,e.lcZ(1,28,"Nav.Users"),e.lcZ(2,30,"/users"))))("hasTabs",!0),e.xp6(6),e.Oqu(e.lcZ(7,32,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,34,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,36,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,38,"Nav.Roles")),e.xp6(3),e.Oqu(e.lcZ(21,40,"Nav.Additional Details")),e.xp6(3),e.Oqu(e.lcZ(24,42,"Nav.Applications")),e.xp6(3),e.Oqu(e.lcZ(27,44,"Nav.External Logins")),e.xp6(3),e.Oqu(e.lcZ(30,46,"Nav.Audits")),e.xp6(3),e.Oqu(e.lcZ(33,48,"Nav.SessionManagement")),e.xp6(2),e.uIk("aria-label",e.lcZ(35,50,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(69,Qo)),e.xp6(1),e.Oqu(e.lcZ(39,52,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(70,Qo)),e.xp6(1),e.Oqu(e.lcZ(43,54,"Nav.Roles")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(71,Qo)),e.xp6(1),e.Oqu(e.lcZ(47,56,"Nav.Additional Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(72,Qo)),e.xp6(1),e.Oqu(e.lcZ(51,58,"Nav.Applications")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(73,Qo)),e.xp6(1),e.Oqu(e.lcZ(55,60,"Nav.External Logins")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(74,Qo)),e.xp6(1),e.Oqu(e.lcZ(59,62,"Nav.Audits")),e.xp6(2),e.Q6J("ngIf",n.showSessionManagement),e.xp6(2),e.Q6J("ngIf",n.user.isDeleted))},dependencies:[N.O5,C.YN,C.Kr,Z.G,nn.lC,nn.rH,nn.Od,wt.X$,un.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var bo=g(6478),da=g(7073);function im(i,o){1&i&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function Zc(i,o){1&i&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function H1(i,o){if(1&i&&(e.ynx(0,5),e.YNc(1,im,3,3,"span",6),e.YNc(2,Zc,3,3,"span",7),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isPolicyRole()),e.xp6(1),e.Q6J("ngIf",t.role.reserved)}}const sm=function(i,o){return{title:i,link:o}},Fc=function(i){return[i]};let Bu=(()=>{class i{constructor(t,n,c,m){this.activatedRoute=t,this.errorService=n,this.router=c,this.securityService=m}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(t=>{this.role=t.role},t=>{this.errorService.handleError(t)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const t=this.securityService.policyClaims;for(let n=0;n<t.length;n++)if("role"===t[n].type&&t[n].value===this.role.name)return!0;return!1}mobRoute(t){this.router.navigate([t],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.gz),e.Y36(O.T),e.Y36(nn.F0),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,H1,3,2,"ng-container",1),e.ynx(4,2),e.TgZ(5,"app-custom-tabs"),e._UZ(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.qZA(),e.BQk(),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"router-outlet"),e.qZA()),2&t&&(e.Q6J("title",n.role.name)("crumbs",e.VKq(15,Fc,e.WLB(12,sm,e.lcZ(1,8,"Nav.Roles"),e.lcZ(2,10,"/roles"))))("hasTabs",!0),e.xp6(3),e.Q6J("ngIf",n.isPolicyRole()||n.role.reserved),e.xp6(3),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[N.O5,nn.lC,Z.G,bo.v,da.x,wt.X$,un.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();function Va(...i){return(0,p.T)(...i)}var Vu=g(1005),Hu=g(9046),_s=g(799);function Dl(i){const o=i.value;if(null==o)return{validEmail:!1};if(o.indexOf(" ")>-1)return{validEmail:!1};let t=!1;for(let n=0;n<o.length;n++)if("@"===i.value[n]){if(t||0===n||n===o.length-1)return{validEmail:!1};t=!0}return t?null:{validEmail:!1}}var pa=(()=>{return(i=pa||(pa={}))[i.None=0]="None",i[i.Add=1]="Add",i[i.AddAnother=2]="AddAnother",i[i.AddAndConfigure=3]="AddAndConfigure",pa;var i})(),so=g(3667),ol=g(4225),Bc=g(9751),Ju=g(3900),al=g(9646),ap=g(5963),lp=g(1607),Vc=g(8664),qu=g(727),cp=g(5191),El=g(515),J1=g(2076),up=g(2381),rm=g(8505),dp=g(7359),om=g(4482);const ju=(i,o)=>(i.push(o),i);const Xl=["ulElement"],q1=["liElements"];function j1(i,o){}function AT(i,o){if(1&i&&e._UZ(0,"span",4),2&i){const t=o.match,n=o.query,c=e.oxw();e.Q6J("innerHtml",c.highlight(t,n),e.oJD)}}function $u(i,o){if(1&i&&(e.TgZ(0,"li",10,11),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t)}}function hp(i,o){}const fp=function(i,o,t,n){return{item:i,index:o,match:t,query:n}};function lm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",12,11),e.NdJ("mouseenter",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.selectActive(c))}),e.TgZ(2,"a",13),e.NdJ("click",function(c){e.CHM(t);const m=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.selectMatch(m,c))}),e.YNc(3,hp,0,0,"ng-template",0),e.qZA()()}if(2&i){const t=e.oxw(),n=t.$implicit,c=t.index,m=e.oxw(2),M=e.MAs(2);e.ekj("active",m.isActive(n)),e.Q6J("id",m.popupId+"-"+c)("@typeaheadAnimation",m.animationState),e.xp6(3),e.Q6J("ngTemplateOutlet",m.itemTemplate||M)("ngTemplateOutletContext",e.l5B(6,fp,n.item,c,n,m.query))}}function cm(i,o){if(1&i&&(e.YNc(0,$u,3,1,"li",8),e.YNc(1,lm,4,11,"li",9)),2&i){const t=o.$implicit;e.Q6J("ngIf",t.isHeader()),e.xp6(1),e.Q6J("ngIf",!t.isHeader())}}function Il(i,o){if(1&i&&(e.TgZ(0,"ul",5,6),e.YNc(2,cm,2,2,"ng-template",7),e.qZA()),2&i){const t=e.oxw();e.Udp("overflow-y",t.needScrollbar?"scroll":"auto")("height",t.needScrollbar?t.guiHeight:"auto"),e.xp6(2),e.Q6J("ngForOf",t.matches)}}function $1(i,o){if(1&i&&(e.TgZ(0,"h6",10),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function W1(i,o){}function Q1(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",15,11),e.NdJ("click",function(c){e.CHM(t);const m=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.selectMatch(m,c))})("mouseenter",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.selectActive(c))}),e.YNc(2,W1,0,0,"ng-template",0),e.qZA()}if(2&i){const t=e.oxw(),n=t.$implicit,c=t.index,m=e.oxw(2),M=e.MAs(2);e.ekj("active",m.isActive(n)),e.Q6J("id",m.popupId+"-"+c)("@typeaheadAnimation",m.animationState),e.xp6(2),e.Q6J("ngTemplateOutlet",m.itemTemplate||M)("ngTemplateOutletContext",e.l5B(6,fp,n.item,c,n,m.query))}}function G1(i,o){if(1&i&&(e.YNc(0,$1,2,1,"h6",8),e.YNc(1,Q1,3,11,"ng-template",14)),2&i){const t=o.$implicit;e.Q6J("ngIf",t.isHeader()),e.xp6(1),e.Q6J("ngIf",!t.isHeader())}}function z1(i,o){if(1&i&&e.YNc(0,G1,2,2,"ng-template",7),2&i){const t=e.oxw();e.Q6J("ngForOf",t.matches)}}const Ha=function(i,o,t,n){return{matches:i,itemTemplate:o,query:t,$implicit:n}},ec={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Wu{constructor(o,t=o,n=!1){this.item=o,this.value=t,this.header=n}isHeader(){return this.header}toString(){return this.value}}function Hc(i){return i?i.replace(/[^A-Za-z0-9[\] ]/g,function(o){return ec[o]||o}):""}function mp(i,o=" ",t="",n){let c=[];if(n){const M=i.split(new RegExp(`([${n}]+)`,"g")),Q=M[M.length-1];Q>""&&(o&&t?c=um(Q,o,t):c.push(Q))}else c=um(i,o,t);return c}function um(i,o,t){const n=[],m=i.split(new RegExp(`(?:[${t}])([^${t}]+)(?:[${t}])|([^${o}]+)`,"g")),M=m.length;let Q;const ue=new RegExp(`[${t}]+`,"g");for(let Pe=0;Pe<M;Pe+=1)Q=m[Pe],Q&&Q.length&&Q!==o&&n.push(Q.replace(ue,""));return n}function ll(i,o){if(!o||"object"!=typeof i)return i.toString();if(o.endsWith("()"))return i[o.slice(0,o.length-2)]().toString();const n=o.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const c of n)c in i&&(i=i[c]);return i?i.toString():""}const dm="220ms cubic-bezier(0, 0, 0.2, 1)",Y1=(0,T.X$)("typeaheadAnimation",[(0,T.SB)("animated-down",(0,T.oB)({height:"*",overflow:"hidden"})),(0,T.eR)("* => animated-down",[(0,T.oB)({height:0,overflow:"hidden"}),(0,T.jt)(dm)]),(0,T.SB)("animated-up",(0,T.oB)({height:"*",overflow:"hidden"})),(0,T.eR)("* => animated-up",[(0,T.oB)({height:"*",overflow:"hidden"}),(0,T.jt)(dm)]),(0,T.eR)("* => unanimated",(0,T.jt)("0s"))]);let K1=0,X1=(()=>{class i{constructor(t,n,c,m){var M;this.positionService=t,this.renderer=n,this.element=c,this.changeDetectorRef=m,this.activeChangeEvent=new e.vpe,this.isFocused=!1,this.positionServiceSubscription=new qu.w0,this.height=0,this.popupId="ngb-typeahead-"+K1++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(null===(M=this.positionService.event$)||void 0===M?void 0:M.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get isBs4(){return!(0,lp.XA)()}get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}get active(){return this._active}set active(t){this._active=t,this.activeChanged()}get matches(){return this._matches}set matches(t){var n;if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=t,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),null!==(n=this._active)&&void 0!==n&&n.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const c=this._matches.find(m=>{var M;return m.value===(null===(M=this._active)||void 0===M?void 0:M.value)});if(c)return void this.selectActive(c);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){var t;return!(null===(t=this.parent)||void 0===t||!t.selectItemOnBlur)}selectActiveMatch(t){var n,c;this._active&&null!==(n=this.parent)&&void 0!==n&&n.typeaheadSelectFirstItem&&this.selectMatch(this._active),(null===(c=this.parent)||void 0===c||!c.typeaheadSelectFirstItem)&&t&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const t=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${t}`)}prevActiveMatch(){if(!this._active)return;const t=this.matches.indexOf(this._active);this.setActive(this.matches[t-1<0?this.matches.length-1:t-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(t)}nextActiveMatch(){var t;const n=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[n+1>this.matches.length-1?0:n+1]),null!==(t=this._active)&&void 0!==t&&t.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(n)}selectActive(t){this.isFocused=!0,this.setActive(t)}highlight(t,n){let M,Q,c=t.value,m=(this.parent&&this.parent.typeaheadLatinize?Hc(c):c).toLowerCase();if("object"==typeof n){const ue=n.length;for(let Pe=0;Pe<ue;Pe+=1)M=m.indexOf(n[Pe]),Q=n[Pe].length,M>=0&&Q>0&&(c=`${c.substring(0,M)}<strong>${c.substring(M,M+Q)}</strong>${c.substring(M+Q)}`,m=`${m.substring(0,M)}        ${" ".repeat(Q)}         ${m.substring(M+Q)}`)}else n&&(M=m.indexOf(n),Q=n.length,M>=0&&Q>0&&(c=`${c.substring(0,M)}<strong>${c.substring(M,M+Q)}</strong>${c.substring(M+Q)}`));return c}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(t){return this.active===t}selectMatch(t,n){var c;return n&&(n.stopPropagation(),n.preventDefault()),null===(c=this.parent)||void 0===c||c.changeModel(t),setTimeout(()=>{var m;return null===(m=this.parent)||void 0===m?void 0:m.typeaheadOnSelect.emit(t)},0),!1}setScrollableMode(){var t;if(this.ulElement||(this.ulElement=this.element),null!==(t=this.liElements)&&void 0!==t&&t.first){const n=lp.cQ.getStyles(this.ulElement.nativeElement),c=lp.cQ.getStyles(this.liElements.first.nativeElement),m=parseFloat((n["padding-bottom"]?n["padding-bottom"]:"").replace("px","")),M=parseFloat((n["padding-top"]?n["padding-top"]:"0").replace("px","")),Q=parseFloat((c.height?c.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*Q+M+m}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(t){if(0!==t){if(this.liElements&&this.ulElement){const n=this.liElements.toArray()[t-1];n&&!this.isScrolledIntoView(n.nativeElement)&&(this.ulElement.nativeElement.scrollTop=n.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(t){if(t+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const n=this.liElements.toArray()[t+1];n&&!this.isScrolledIntoView(n.nativeElement)&&(this.ulElement.nativeElement.scrollTop=n.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(n.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(t){var n;let c;this._active=t,null==this._active||this._active.isHeader()||(c=t),null===(n=this.parent)||void 0===n||n.typeaheadOnPreview.emit(c)}isScrolledIntoView(t){if(!this.ulElement)return!1;const n=this.ulElement.nativeElement.scrollTop,c=n+Number(this.ulElement.nativeElement.offsetHeight),m=t.offsetTop;return m+t.offsetHeight<=c&&m>=n}scrollToBottom(){var t;null===(t=this.ulElement)||void 0===t||!t.nativeElement||(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){var t;null===(t=this.ulElement)||void 0===t||!t.nativeElement||(this.ulElement.nativeElement.scrollTop=0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Vc.sA),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["typeahead-container"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Xl,5),e.Gf(q1,5)),2&t){let c;e.iGM(c=e.CRH())&&(n.ulElement=c.first),e.iGM(c=e.CRH())&&(n.liElements=c)}},hostAttrs:[1,"dropdown","open","bottom",2,"position","absolute","display","block"],hostVars:9,hostBindings:function(t,n){1&t&&e.NdJ("mouseleave",function(){return n.focusLost()})("blur",function(){return n.focusLost()}),2&t&&(e.uIk("role",n.isBs4?"listbox":null),e.Udp("height",n.isBs4&&n.needScrollbar?n.guiHeight:"auto")("visibility","inherit"),e.ekj("dropdown-menu",n.isBs4)("dropup",n.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:7,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["bsItemTemplate",""],["bs3Template",""],["bs4Template",""],[3,"innerHtml"],["role","listbox",1,"dropdown-menu"],["ulElement",""],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],["role","option",3,"id","active","mouseenter",4,"ngIf"],[1,"dropdown-header"],["liElements",""],["role","option",3,"id","mouseenter"],["href","#","tabindex","-1",3,"click"],[3,"ngIf"],["role","option",1,"dropdown-item",3,"id","click","mouseenter"]],template:function(t,n){if(1&t&&(e.YNc(0,j1,0,0,"ng-template",0),e.YNc(1,AT,1,1,"ng-template",null,1,e.W1O),e.YNc(3,Il,3,5,"ng-template",null,2,e.W1O),e.YNc(5,z1,1,1,"ng-template",null,3,e.W1O)),2&t){const c=e.MAs(2),m=e.MAs(4),M=e.MAs(6);e.Q6J("ngTemplateOutlet",n.optionsListTemplate||(n.isBs4?M:m))("ngTemplateOutletContext",e.l5B(2,Ha,n.matches,n.itemTemplate||c,n.query,n.typeaheadTemplateMethods))}},dependencies:[N.sg,N.O5,N.tP],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[Y1]}}),i})(),Jc=(()=>{class i{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ja=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.changeDetection=c,this.element=m,this.ngControl=M,this.renderer=Q,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new e.vpe,this.typeaheadNoResults=new e.vpe,this.typeaheadOnSelect=new e.vpe,this.typeaheadOnPreview=new e.vpe,this.typeaheadOnBlur=new e.vpe,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new e.vpe,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=t.createLoader(m,ue,Q).provide({provide:Jc,useValue:n}),Object.assign(this,{typeaheadHideResultsOnBlur:n.hideResultsOnBlur,cancelRequestOnFocusLost:n.cancelRequestOnFocusLost,typeaheadSelectFirstItem:n.selectFirstItem,typeaheadIsFirstItemActive:n.isFirstItemActive,typeaheadMinLength:n.minLength,adaptivePosition:n.adaptivePosition,isAnimated:n.isAnimated,selectItemOnBlur:n.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,cp.b)(this.typeahead)&&(this.typeaheadAsync=!1),(0,cp.b)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(t){const n=void 0!==t.target.value?t.target.value:void 0!==t.target.textContent?t.target.textContent:t.target.innerText;null!=n&&n.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(t.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(t){if(this._container){if(27===t.keyCode||"Escape"===t.key)return void this.hide();if(38===t.keyCode||"ArrowUp"===t.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===t.keyCode||"ArrowDown"===t.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===t.keyCode||"Enter"===t.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){var t;this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===(null===(t=this._matches)||void 0===t?void 0:t.length)&&this.typeaheadOnBlur.emit(new Wu(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(t){if(this._container&&((9===t.keyCode||"Tab"===t.key)&&this.onBlur(),9===t.keyCode||"Tab"===t.key||13===t.keyCode||"Enter"===t.key)){if(t.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(t){var n;if(!t)return;let c;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const m=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=m.slice(0,m.length-1).concat(t.value).join(""),c=this._allEnteredValue}else c=t.value;this.ngControl.viewToModelUpdate(c),null===(n=this.ngControl.control)||void 0===n||n.setValue(c),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(X1).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",n=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(n.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(n.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const t=(this.typeaheadLatinize?Hc(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(t),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(n=>{this.activeDescendant=n,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,d.b)(this.typeaheadWaitMs),(0,rm.b)(t=>this._allEnteredValue=t),(0,Ju.w)(()=>this.typeahead?this.typeahead:El.E)).subscribe(t=>{this.finalizeAsyncCall(t)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,d.b)(this.typeaheadWaitMs),(0,w.z)(t=>{this._allEnteredValue=t;const n=this.normalizeQuery(t);return this.typeahead?((0,cp.b)(this.typeahead)?this.typeahead:(0,J1.D)(this.typeahead)).pipe((0,V.h)(m=>!!m&&this.testMatch(this.normalizeOption(m),n)),function pp(){return(0,om.e)((i,o)=>{(function am(i,o){return(0,om.e)((0,dp.U)(i,o,arguments.length>=2,!1,!0))})(ju,[])(i).subscribe(o)})}()):El.E})).subscribe(t=>{this.finalizeAsyncCall(t)}))}normalizeOption(t){const n=ll(t,this.typeaheadOptionField);return(this.typeaheadLatinize?Hc(n):n).toLowerCase()}tokenizeQuery(t){let n=t;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(n=mp(n,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):n=this.typeaheadSingleWords?mp(n,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):mp(n,void 0,void 0,this.typeaheadMultipleSearchDelimiters),n}normalizeQuery(t){let n=(this.typeaheadLatinize?Hc(t):t).toString().toLowerCase();return n=this.tokenizeQuery(n),n}testMatch(t,n){let c;if("object"==typeof n){c=n.length;for(let m=0;m<c;m+=1)if(n[m].length>0&&t.indexOf(n[m])<0)return!1;return!0}return t.indexOf(n)>=0}finalizeAsyncCall(t){if(this.prepareMatches(t||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const c=((this.typeaheadLatinize?Hc(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(c),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(t){const n=t.slice(0,this.typeaheadOptionsLimit),c=this.typeaheadOrderBy?this.orderMatches(n):n;if(this.typeaheadGroupField){let m=[];c.map(Q=>ll(Q,this.typeaheadGroupField)).filter((Q,ue,Pe)=>Pe.indexOf(Q)===ue).forEach(Q=>{m.push(new Wu(Q,Q,!0)),m=m.concat(c.filter(ue=>ll(ue,this.typeaheadGroupField)===Q).map(ue=>new Wu(ue,ll(ue,this.typeaheadOptionField))))}),this._matches=m}else this._matches=c.map(m=>new Wu(m,ll(m,this.typeaheadOptionField)))}orderMatches(t){if(!t.length)return t;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),t;const{field:n,direction:c}=this.typeaheadOrderBy||{};return!c||"asc"!==c&&"desc"!==c?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),t):"string"==typeof t[0]?"asc"===c?t.sort():t.sort().reverse():n&&"string"==typeof n?t.sort((m,M)=>{const Q=ll(m,n),ue=ll(M,n);return Q<ue?"asc"===c?-1:1:Q>ue?"asc"===c?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),t)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(t,n){for(let c=0;c<t.length;c++)if(t.charAt(c).indexOf(n)>-1)return!0;return!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(up.oj),e.Y36(Jc),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(C.a5),e.Y36(e.Qsj),e.Y36(e.s_b))},i.\u0275dir=e.lG2({type:i,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(t,n){1&t&&e.NdJ("input",function(m){return n.onInput(m)})("keyup",function(m){return n.onChange(m)})("click",function(){return n.onFocus()})("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("keydown",function(m){return n.onKeydown(m)}),2&t&&e.uIk("aria-activedescendant",n.activeDescendant)("aria-owns",n.isOpen?n._container.popupId:null)("aria-expanded",n.isOpen)("aria-autocomplete",n.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]}),i})(),qc=(()=>{class i{static forRoot(){return{ngModule:i,providers:[up.oj,Vc.sA]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})();function pm(i,o){if(1&i&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function hm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"select",8,9),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.valueChanged.emit(c))})("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.keyupEvent.emit())}),e.YNc(2,pm,2,2,"option",10),e.qZA()}if(2&i){const t=e.MAs(1),n=e.oxw();e.Q6J("id",n.forId)("ngModel",n.value)("disabled",n.disabled&&!t.dirty),e.xp6(2),e.Q6J("ngForOf",n.allowedValues)}}function fm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",12,9),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.valueChanged.emit(c))})("focus",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.onFocus(c))}),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.MAs(1),n=e.oxw(),c=e.MAs(5);e.s9C("placeholder",e.lcZ(2,9,"ClaimTypes.TypeaheadHelp")),e.Q6J("id",n.forId)("container",n.hostingModal)("ngModel",n.value)("typeahead",n.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",c)("disabled",n.disabled&&!t.dirty)}}function DT(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&i){const t=o.item;e.xp6(1),e.Oqu(t.length>20?e.Dn7(2,1,t,0,20)+"...":t)}}function ET(i,o){1&i&&(e.TgZ(0,"div",13),e._UZ(1,"span",14),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"Common.LoadingPleaseWait")))}function IT(i,o){1&i&&(e.TgZ(0,"div",15),e._UZ(1,"span",16),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function gp(i,o){if(1&i&&(e.TgZ(0,"div",17),e._UZ(1,"span",16),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.AsE("",e.lcZ(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",t.totalValues,")")}}let tc=(()=>{class i{constructor(t){this.claimTypesService=t,this.valueChanged=new e.vpe,this.disabled=!1,this.keyupEvent=new e.vpe,this.typeIdSub=new xi.x,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(n=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(c=>{this.totalValues=c.totalAllowedValues,this.allowedValues=c.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}set hostingModal(t){this._hostingModal=t}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(t){this._typeId=t,this.typeIdSub.next(t)}get typeId(){return this._typeId}initDataSrc(){return new Bc.y(t=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,t.next(this.value)}).pipe((0,Ju.w)(t=>t?this.claimTypesService.getAllowedValues(this.typeId,t,this.threshold).pipe((0,se.U)(n=>(this.totalValues=n.totalAllowedValues,this.allowedValues=n.allowedValues,this.loading=!1,this.nothingFound=n.totalAllowedValues<=0,this.tooManyResults=n.totalAllowedValues>=this.threshold,n.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,al.of)([]))))}onFocus(t){t.stopPropagation(),(0,ap.H)(1).subscribe(()=>{const n=new Event("input");t.target?.dispatchEvent(n)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(so.M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:["id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["customItemTemplate",""],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"id","ngModel","disabled","ngModelChange","keyup"],["claimvalue","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,hm,3,4,"select",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,fm,3,11,"input",3),e.qZA(),e.YNc(4,DT,3,5,"ng-template",null,4,e.W1O),e.YNc(6,ET,5,3,"div",5),e.YNc(7,IT,5,3,"div",6),e.YNc(8,gp,5,4,"div",7)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.typeahead),e.xp6(2),e.Q6J("ngIf",n.typeahead),e.xp6(3),e.Q6J("ngIf",n.typeahead&&n.loading),e.xp6(1),e.Q6J("ngIf",n.typeahead&&n.nothingFound),e.xp6(1),e.Q6J("ngIf",n.typeahead&&n.tooManyResults))},dependencies:[N.sg,N.O5,C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.Q7,C.On,Ja,N.OU,wt.X$],encapsulation:2}),i})();const MT=["addClaimsForm"],OT=["addUserModal"];function mm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",41),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw(),c=t.$implicit;e.MGl("id","claim-",t.index,""),e.Q6J("ngModel",c.value)}}function ey(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",42),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw(),c=t.$implicit;e.MGl("id","claim-",t.index,""),e.Q6J("ngModel",c.value)}}function ty(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",43)(1,"select",44),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.TgZ(2,"option",45),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",46),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(),n=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","claim-",n,""),e.Q6J("ngModel",c.value),e.xp6(2),e.Oqu(e.lcZ(4,4,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(7,6,"Common.False"))}}function ny(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",48),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2),n=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","claim-",n,""),e.Q6J("ngModel",c.value)}}function iy(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",49),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2),n=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","claim-",n,""),e.Q6J("ngModel",c.value)("displayType","date")}}function gm(i,o){if(1&i&&(e.TgZ(0,"div",47),e.YNc(1,ny,2,2,"ng-container",20),e.YNc(2,iy,2,3,"ng-container",20),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","birthdate"!=t.name),e.xp6(1),e.Q6J("ngIf","birthdate"==t.name)}}function Qu(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",43)(1,"app-enum-claim-type-input",50),e.NdJ("valueChanged",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.qZA()()}if(2&i){const t=e.oxw(),n=t.index,c=t.$implicit;e.xp6(1),e.Q6J("id","claim-"+n)("typeId",c.claimTypeId)("value",c.value)}}function _m(i,o){if(1&i&&(e.TgZ(0,"span",51),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.failureMessage," ")}}function _p(i,o){if(1&i&&(e.TgZ(0,"app-form-row",35),e.YNc(1,mm,1,2,"input",36),e.YNc(2,ey,1,2,"input",37),e.YNc(3,ty,8,8,"div",38),e.YNc(4,gm,3,2,"div",39),e.YNc(5,Qu,2,3,"div",38),e.YNc(6,_m,2,1,"span",40),e.qZA()),2&i){const t=o.$implicit,n=o.index,c=e.oxw(2);e.Q6J("id","claim-"+n)("label",t.name)("help","DateTime"==t.format?"Common.Dates.UTCWarning":"")("isLast",n===c.displayClaims.length-1&&!c.canCreatePassword),e.xp6(1),e.Q6J("ngIf","String"==t.format),e.xp6(1),e.Q6J("ngIf","Int"==t.format),e.xp6(1),e.Q6J("ngIf","Boolean"==t.format),e.xp6(1),e.Q6J("ngIf","DateTime"==t.format),e.xp6(1),e.Q6J("ngIf","Enum"==t.format),e.xp6(1),e.Q6J("ngIf",null!=t.failureMessage)}}function sy(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,_p,7,10,"app-form-row",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.displayClaims)}}function _r(i,o){1&i&&(e.TgZ(0,"h2",56),e._UZ(1,"span",57),e.TgZ(2,"span",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span")(6,"a",58),e._uU(7),e.ALo(8,"translate"),e.qZA()()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"Users.Password.DemoTitle")),e.xp6(4),e.hij(" ",e.lcZ(8,4,"Users.Password.DemoLink")," "))}function vm(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div",52),e.YNc(2,_r,9,6,"h2",53),e.TgZ(3,"app-form-row",15),e._UZ(4,"input",54),e.TgZ(5,"ul",55)(6,"li"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"li"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"li"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"li"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"li"),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isDemo),e.xp6(1),e.Q6J("id","Password")("label","Users.Password.Title")("isLast",!0),e.xp6(4),e.Oqu(e.lcZ(8,9,"Users.Password.Requirements.1")),e.xp6(3),e.Oqu(e.lcZ(11,11,"Users.Password.Requirements.2")),e.xp6(3),e.Oqu(e.lcZ(14,13,"Users.Password.Requirements.3")),e.xp6(3),e.Oqu(e.lcZ(17,15,"Users.Password.Requirements.4")),e.xp6(3),e.Oqu(e.lcZ(20,17,"Users.Password.Requirements.5"))}}function ry(i,o){1&i&&e._UZ(0,"span",59)}function vp(i,o){1&i&&e._UZ(0,"span",59)}function ym(i,o){1&i&&e._UZ(0,"span",59)}const oy=function(){return{animated:!1,backdrop:"static"}};let ay=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt,Jt){this.userService=t,this.claimTypesService=n,this.errorService=c,this.translate=m,this.router=M,this.fb=Q,this.toastr=ue,this.localize=Pe,this.securityService=at,this.healthCheckService=Nt,this.configService=Jt,this.addAnother=!1,this.displayClaims=[],this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new e.vpe,this.inFlight=!1,this.addButtonClick=pa,this.addClicked=pa.None}keydown(t){"Enter"===t.key&&"addUserSubmit"!==t.srcElement.id&&this.claimsForm.valid&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,ae.q)(1)).subscribe(t=>{null!==t.addUserPassword&&""!==t.addUserPassword&&(this.canCreatePassword=!0===t.addUserPassword||"true"===t.addUserPassword||t.isDemo),this.isDemo=t.isDemo||"Demo"===this.securityService.licenseType,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(t=>{this.claimTypes=t;for(const c of this.claimTypes)c.required&&this.displayClaims.push({claimTypeId:c.id,format:c.valueType,name:c.name,value:null,failureMessage:c.ruleValidationFailureDescription,allowedValues:c.allowedValues})},t=>{this.errorService.handleError(t)})}addAnotherUser(){this.addAnother=!0,this.addClicked=pa.AddAnother,this.addUser()}addUser(t){let n;this.addClicked===pa.None&&(this.addClicked=t?pa.AddAndConfigure:pa.Add),n=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(n,{claims:[]});for(const c of this.displayClaims){if(null===c.value)continue;let m=c.value;"DateTime"===c.format&&(m=c.value),"Int"===c.format&&(m=m.toString()),n.claims.push({claimTypeId:c.claimTypeId,value:m,type:c.name})}!1===this.canCreatePassword&&(n.password=null),this.inFlight=!0,this.userService.addUser(n).subscribe(c=>{this.inFlight=!1,this.addClicked=pa.None,this.claimsForm.form.reset(),this.addUserForm.reset();const m=this.translate.instant("Notifications.AccountCreated"),M=this.translate.instant("Users.Singular")+" "+n.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(m,M),t&&c.headers.get("location")?this.addUserAndConfigure(c.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},c=>{this.inFlight=!1,this.addClicked=pa.None,this.addAnother=!1,this.errorService.handleError(c)})}addUserAndConfigure(t){const n=t.lastIndexOf("/"),c=t.substring(n+1),m=[this.localize.translateRoute("/users"),c];this.router.navigate(m)}createForms(){this.addUserForm=this.fb.group({username:["",[C.kI.required,(0,Re.Fd)()]],email:["",Dl],firstName:["",C.kI.required],lastName:["",C.kI.required],password:["",C.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ps.K),e.Y36(so.M),e.Y36(O.T),e.Y36(wt.sK),e.Y36(nn.F0),e.Y36(C.QS),e.Y36(Rn._W),e.Y36(un.An),e.Y36(In.I),e.Y36(zn),e.Y36(wo.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-user"]],viewQuery:function(t,n){if(1&t&&(e.Gf(MT,7),e.Gf(OT,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.claimsForm=c.first),e.iGM(c=e.CRH())&&(n.addUserModal=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},outputs:{onSubmitted:"onSubmitted"},decls:50,vars:39,consts:[["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addUserModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["addClaimsForm","ngForm"],["id","requiredClaims",4,"ngIf"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"disabled","click"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","requiredClaims"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["type","number","name","number","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],["name","claimValue","required","",3,"id","ngModel","ngModelChange"],["name","claimValue","required","",3,"id","ngModel","displayType","ngModelChange"],[3,"id","typeId","value","valueChanged"],[1,"tw-form-text"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"app-form-row",11),e._UZ(18,"input",13),e.qZA(),e.TgZ(19,"app-form-row",11),e._UZ(20,"input",14),e.qZA(),e.TgZ(21,"app-form-row",15),e._UZ(22,"input",16),e.qZA()(),e.TgZ(23,"form",null,17),e.YNc(25,sy,2,1,"div",18),e.qZA(),e.TgZ(26,"form",19),e.YNc(27,vm,21,19,"div",20),e.qZA()(),e._UZ(28,"div",21),e.TgZ(29,"div",22)(30,"div",23)(31,"div",24)(32,"span",25)(33,"button",26),e.NdJ("click",function(){return n.addUser()}),e._uU(34),e.ALo(35,"translate"),e.YNc(36,ry,1,0,"span",27),e.qZA()(),e.TgZ(37,"span",28)(38,"button",29),e.NdJ("click",function(){return n.addUser(!0)}),e._uU(39),e.ALo(40,"translate"),e.YNc(41,vp,1,0,"span",27),e.qZA()(),e.TgZ(42,"span",30)(43,"button",31),e.NdJ("click",function(){return n.addAnotherUser()}),e._uU(44),e.ALo(45,"translate"),e.YNc(46,ym,1,0,"span",27),e.qZA()()(),e.TgZ(47,"button",32),e.NdJ("click",function(){return n.hide()}),e._uU(48),e.ALo(49,"translate"),e.qZA()()()()()()),2&t){const c=e.MAs(24);e.Q6J("config",e.DdM(38,oy)),e.xp6(6),e.Oqu(e.lcZ(7,26,"Users.NewUser")),e.xp6(5),e.Oqu(e.lcZ(12,28,"Common.Close")),e.xp6(3),e.Q6J("formGroup",n.addUserForm),e.xp6(1),e.Q6J("id","FirstName")("label","Users.FirstName"),e.xp6(2),e.Q6J("id","LastName")("label","Users.LastName"),e.xp6(2),e.Q6J("id","Username")("label","Users.Username"),e.xp6(2),e.Q6J("id","Email")("label","Users.Email")("isLast",!n.canCreatePassword&&0==(null==n.displayClaims?null:n.displayClaims.length)),e.xp6(4),e.Q6J("ngIf",n.displayClaims.length>0),e.xp6(1),e.Q6J("formGroup",n.addUserForm),e.xp6(1),e.Q6J("ngIf",n.canCreatePassword),e.xp6(6),e.Q6J("disabled",!n.addUserForm.valid||!c.form.valid||n.inFlight),e.xp6(1),e.hij(" ",e.lcZ(35,30,"Common.Save")," "),e.xp6(2),e.Q6J("ngIf",n.inFlight&&n.addClicked===n.addButtonClick.Add),e.xp6(2),e.Q6J("disabled",n.addAnother||!n.addUserForm.valid||!c.form.valid||n.inFlight),e.xp6(1),e.hij(" ",e.lcZ(40,32,"Common.SaveAndConfigure")," "),e.xp6(2),e.Q6J("ngIf",n.inFlight&&n.addClicked===n.addButtonClick.AddAndConfigure),e.xp6(2),e.Q6J("disabled",!n.addUserForm.valid||!c.form.valid||n.inFlight),e.xp6(1),e.hij(" ",e.lcZ(45,34,"Common.SaveAndAdd")," "),e.xp6(2),e.Q6J("ngIf",n.inFlight&&n.addClicked===n.addButtonClick.AddAnother),e.xp6(2),e.Oqu(e.lcZ(49,36,"Common.Cancel"))}},dependencies:[N.sg,N.O5,C._Y,C.YN,C.Kr,C.Fj,C.wV,C.EJ,C.JJ,C.JL,C.Q7,C.On,C.F,C.sg,C.u,gi.oB,gt.L,ol.j,tc,wt.X$],encapsulation:2}),i})();const ly=["addUserModal"];function cy(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-add-user",28,29),e.NdJ("onSubmitted",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.onSubmitted(c))}),e.qZA()}}function uy(i,o){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",30),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Auditing.ShowFilters")," "))}function NT(i,o){1&i&&(e.TgZ(0,"span"),e._UZ(1,"span",31),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Auditing.HideFilters")," "))}function kT(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"label",36),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",37),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.pageSize=c)})("change",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.setPageLength(+c.pageSize))}),e.TgZ(5,"option",38),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"option",39),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"option",40),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.AsE("",t.pageSize," ",e.lcZ(3,6,"Nav.PerPage"),""),e.xp6(2),e.Q6J("ngModel",t.pageSize),e.xp6(2),e.hij("25 ",e.lcZ(7,8,"Nav.PerPage"),""),e.xp6(3),e.hij("50 ",e.lcZ(10,10,"Nav.PerPage"),""),e.xp6(3),e.hij("100 ",e.lcZ(13,12,"Nav.PerPage"),"")}}function jc(i,o){if(1&i){const t=e.EpF();e.ynx(0,41),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.addModal.show())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Users.AddUser")," "))}function yp(i,o){if(1&i&&(e.TgZ(0,"app-action-bar"),e.ynx(1,32),e.YNc(2,kT,14,14,"div",33),e.BQk(),e.YNc(3,jc,4,3,"ng-container",34),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0),e.xp6(1),e.Q6J("ngIf",!t.isUserManagerReadOnly)}}function Cm(i,o){1&i&&e._UZ(0,"app-simple-loader")}function wm(i,o){1&i&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.NoUsersFound")))}function bm(i,o){1&i&&(e.TgZ(0,"span",63)(1,"span",6),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.Filter.Deleted")))}function dy(i,o){1&i&&(e.TgZ(0,"span",64)(1,"span",6),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.Filter.Blocked")))}function Tm(i,o){1&i&&(e.TgZ(0,"span",65),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Users.Filter.Deleted")," "))}function Am(i,o){1&i&&(e.TgZ(0,"span",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Users.Filter.Blocked")," "))}const Cp=function(i,o){return{"fad fa-pencil":i,"fas fa-eye":o}};function RT(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",51)(1,"td",52),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditUser(m))}),e.YNc(2,bm,4,3,"span",53),e.YNc(3,dy,4,3,"span",54),e.TgZ(4,"b",55),e._uU(5),e.qZA()(),e.TgZ(6,"td",56),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditUser(m))}),e._uU(7),e.qZA(),e.TgZ(8,"td",57),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditUser(m))}),e._uU(9),e.qZA(),e.TgZ(10,"td",58),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditUser(m))}),e.YNc(11,Tm,3,3,"span",59),e.YNc(12,Am,3,3,"span",60),e.qZA(),e.TgZ(13,"td",58),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditUser(m))}),e.TgZ(14,"button",61),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditUser(m))}),e._UZ(15,"span",62),e.TgZ(16,"span",6),e._uU(17),e.ALo(18,"translate"),e.qZA()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.ekj("inactive",t.isBlocked||t.isDeleted),e.xp6(2),e.Q6J("ngIf",t.isDeleted),e.xp6(1),e.Q6J("ngIf",t.isBlocked&&!t.isDeleted),e.xp6(2),e.hij(" ",t.username," "),e.xp6(2),e.AsE(" ",t.firstName," ",t.lastName," "),e.xp6(2),e.hij(" ",t.email," "),e.xp6(2),e.Q6J("ngIf",t.isDeleted),e.xp6(1),e.Q6J("ngIf",t.isBlocked&&!t.isDeleted),e.xp6(3),e.Q6J("ngClass",e.WLB(14,Cp,!n.isUserManagerReadOnly,n.isUserManagerReadOnly)),e.xp6(2),e.Oqu(e.lcZ(18,12,"Common.Edit"))}}function py(i,o){if(1&i&&(e.TgZ(0,"table",44)(1,"thead")(2,"tr")(3,"th",45),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",46),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",47),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",48)(13,"span",6),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",48)(17,"span",6),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody",49),e.YNc(21,RT,19,17,"tr",50),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,6,"Users.Username")," "),e.xp6(3),e.hij(" ",e.lcZ(8,8,"Users.FullName")," "),e.xp6(3),e.hij(" ",e.lcZ(11,10,"Users.Email")," "),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Status")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.pagedResult.results)}}function wp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-pager",67),e.NdJ("onGoToPage",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.goToPage(c))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("totalResults",null==t.pagedResult?null:t.pagedResult.totalCount)("currentPage",t.page)("lastPage",null==t.pagedResult?null:t.pagedResult.pageCount)}}let Sm=(()=>{class i extends Hu.bk{constructor(t,n,c,m,M,Q,ue,Pe){super(ue,M,!0),this.router=t,this.userService=n,this.errorService=c,this.titleService=m,this.localize=Q,this.securityService=Pe,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new xi.x,this.advancedFilterStream=new xi.x,this.pageStream=new xi.x,this.pageSizeStream=new xi.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${ge.de.SITE_TITLE}`),this.isLoading=!0;const t=this.pageStream.pipe((0,se.U)(Q=>(this.page=Q,{searchTerm:this.term,page:Q,pageSize:this.pageSize,filters:this.activeFilters}))),n=this.pageSizeStream.pipe((0,se.U)(Q=>(this.pageSize=Q,{searchTerm:this.term,page:this.page,pageSize:Q,filters:this.activeFilters}))),c=this.filterStream.pipe((0,se.U)(Q=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Q}))),m=this.advancedFilterStream.pipe((0,se.U)(Q=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Q})));t.pipe(Va(n),Va(this.searchSource),Va(c),Va(m),Va(this.enterKeySource),(0,f.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,w.z)(Q=>(this.isLoading=!0,this.userService.getUsersLightweight(Q.searchTerm,Q.page,Q.pageSize,Q.filters,Q.advancedFilters).pipe((0,Vu.g)(200))))).subscribe(Q=>{this.pagedResult=Q,this.isLoading=!1},Q=>{500===Q.status?this.handleInternalServerError():this.errorService.handleError(Q),this.isLoading=!1})}mapSearchTerm(t){return this.term=t,{searchTerm:t,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(t){const n=this.localize.translateRoute("/users");this.router.navigate([n,t.subject])}viewUser(t){const n=this.localize.translateRoute("/users/view");this.router.navigate([n,t.subject])}viewOrEditUser(t){this.isUserManagerReadOnly?this.viewUser(t):this.editUser(t)}goToPage(t){this.pageStream.next(t)}setPageLength(t){this.page=1,this.pageSizeStream.next(t)}filter(t){if(this.activeFilters.includes(t)){const n=this.activeFilters.indexOf(t);this.activeFilters.splice(n,1)}else this.activeFilters.push(t);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(t){if(this.activeAdvancedFilters.includes(t)){const n=this.activeAdvancedFilters.indexOf(t);this.activeAdvancedFilters.splice(n,1)}else this.activeAdvancedFilters.push(t);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(t){return this.activeFilters.includes(t)}onSubmitted(t){t&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,Re.ub)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.F0),e.Y36(ps.K),e.Y36(O.T),e.Y36(a.Dx),e.Y36(wt.sK),e.Y36(un.An),e.Y36(Rn._W),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(ly,5),2&t){let c;e.iGM(c=e.CRH())&&(n.addModal=c.first)}},features:[e.qOj],decls:44,vars:33,consts:[["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","ngModelChange","keyup"],["searchUserName",""],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"ngClass","click"],["id","blockedFilter",3,"ngClass","click"],["id","deletedFilter",3,"ngClass","click"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["addUserModal",""],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(t,n){1&t&&(e.YNc(0,cy,2,0,"app-add-user",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._UZ(5,"span",5),e.TgZ(6,"span",6),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"input",7,8),e.NdJ("ngModelChange",function(m){return n.searchTerm=m})("keyup",function(m){return n.search(m)}),e.qZA()(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.showAdvancedFilters=!n.showAdvancedFilters}),e.YNc(12,uy,4,3,"span",10),e.YNc(13,NT,4,3,"span",10),e.qZA(),e.TgZ(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"app-form-row",15)(19,"app-form-toggle",16)(20,"input",17),e.NdJ("click",function(){return n.advancedFilter("claims")}),e.qZA()()()()(),e.TgZ(21,"div",18)(22,"p",19),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"ul",20)(26,"li",21)(27,"button",22),e.NdJ("click",function(){return n.filter("active")}),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"li",21)(31,"button",23),e.NdJ("click",function(){return n.filter("blocked")}),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"li")(35,"button",24),e.NdJ("click",function(){return n.filter("deleted")}),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()(),e._UZ(38,"hr"),e.qZA()(),e.YNc(39,yp,4,2,"app-action-bar",10),e.YNc(40,Cm,1,0,"app-simple-loader",10),e.YNc(41,wm,4,3,"div",25),e.YNc(42,py,22,16,"table",26),e.YNc(43,wp,1,3,"app-pager",27),e.qZA()),2&t&&(e.Q6J("ngIf",!n.isUserManagerReadOnly),e.xp6(7),e.Oqu(e.lcZ(8,23,"Common.Search")),e.xp6(2),e.Q6J("ngModel",n.searchTerm),e.xp6(3),e.Q6J("ngIf",!n.showAdvancedFilters),e.xp6(1),e.Q6J("ngIf",n.showAdvancedFilters),e.xp6(1),e.Q6J("hidden",!n.showAdvancedFilters),e.xp6(4),e.Q6J("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),e.xp6(1),e.Q6J("id","includeClaims"),e.xp6(4),e.Oqu(e.lcZ(24,25,"Auditing.Showing")),e.xp6(4),e.Q6J("ngClass",n.isShowing("active")?"tw-btn":"tw-btn-link"),e.xp6(1),e.hij(" ",e.lcZ(29,27,"Users.Filter.Active")," "),e.xp6(3),e.Q6J("ngClass",n.isShowing("blocked")?"tw-btn":"tw-btn-link"),e.xp6(1),e.hij(" ",e.lcZ(33,29,"Users.Filter.Blocked")," "),e.xp6(3),e.Q6J("ngClass",n.isShowing("deleted")?"tw-btn":"tw-btn-link"),e.xp6(1),e.hij(" ",e.lcZ(37,31,"Users.Filter.Deleted")," "),e.xp6(3),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)<1&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading))},dependencies:[N.mk,N.sg,N.O5,C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.On,z.P,Ce.K,io.w,gt.L,_s.O,ay,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})(),xm=(()=>{class i{constructor(t){this.translate=t}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.NotFoundTitle")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.NotFoundDescription")))},dependencies:[wt.X$],encapsulation:2}),i})();var Lr=g(8024);class hy{}var vr=g(160);function fy(i,o){1&i&&e._UZ(0,"span",6)}function bp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",2)(1,"button",3),e.NdJ("click",function(){const m=e.CHM(t).index,M=e.oxw();return e.KtG(M.deleteValue(m))}),e.YNc(2,fy,1,0,"span",4),e.TgZ(3,"span",5),e._uU(4),e.qZA()()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.uIk("aria-label",n.enumValues),e.xp6(1),e.Q6J("ngIf",!n.readonly),e.xp6(2),e.Oqu(t)}}let Gu=(()=>{class i{constructor(){this.readonly=!1,this.onDelete=new e.vpe}get id(){return this._id}set id(t){this._id=t||(0,Re.qs)()}ngOnInit(){}deleteValue(t){this.readonly||this.onDelete.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["class","fas fa-times tw-mr-1","aria-hidden","true",4,"ngIf"],[1,"tw-pl-1"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"ul",0),e.YNc(1,bp,5,3,"li",1),e.qZA()),2&t&&(e.s9C("id",n.id+"-enumValues-select"),e.xp6(1),e.Q6J("ngForOf",n.values))},dependencies:[N.sg,N.O5]}),i})();function Ml(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"input",6),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.newEnumValue=c)}),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onAdd())}),e._UZ(4,"span",8),e.TgZ(5,"span",9),e._uU(6),e.ALo(7,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.s9C("id",t.id+"-newValue-input"),e.Q6J("ngModel",t.newEnumValue),e.xp6(1),e.s9C("id",t.id+"-newValue-button"),e.Q6J("disabled",t.addDisabled),e.xp6(3),e.Oqu(e.lcZ(7,5,"Common.Add"))}}function Em(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-pill-list",10),e.NdJ("onDelete",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.onDelete(c))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("readonly",t.reserved)("id",t.id)("values",t.value)}}function Tp(i,o){if(1&i&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"number"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE("",e.lcZ(2,2,"ClaimTypes.TooManyAllowedValues")," (",e.lcZ(3,4,t.value.length),")")}}let Im=(()=>{class i{constructor(){this.id=(0,Re.qs)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){!this.newEnumValue||(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(t){this.value.splice(t,1),this.onChange(this.value)}isNullOrEmpty(t){return!t||null!==t.match(/^ *$/)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[e._Bn([{provide:C.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0},{provide:C.Cf,useExisting:(0,e.Gpc)(()=>i),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id","ngModel","ngModelChange"],[1,"tw-btn","tw-rounded-l-none",3,"id","disabled","click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"readonly","id","values","onDelete"],["id","too-many-values"]],template:function(t,n){1&t&&(e.YNc(0,Ml,8,7,"div",0),e.TgZ(1,"div",1),e.YNc(2,Em,1,3,"app-pill-list",2),e.YNc(3,Tp,4,6,"span",3),e.qZA()),2&t&&(e.Q6J("ngIf",!n.reserved),e.xp6(2),e.Q6J("ngIf",n.value.length<=50||!n.reserved),e.xp6(1),e.Q6J("ngIf",n.value.length>50&&n.reserved))},dependencies:[N.O5,C.Fj,C.JJ,C.On,Gu,N.JJ,wt.X$],encapsulation:2}),i})();const my=["addClaimTypeModal"];function Mm(i,o){if(1&i&&(e.TgZ(0,"app-form-row",38),e._UZ(1,"app-edit-enum-claim-type",39),e.qZA()),2&i){const t=e.oxw();e.Q6J("label","Claims.AllowedValues"),e.xp6(1),e.Q6J("required","Enum"===t.addClaimTypeForm.get("valueType").value)}}const nc=function(){return{animated:!1,backdrop:"static"}};let gy=(()=>{class i{constructor(t,n,c,m,M,Q){this.cdr=t,this.claimTypeService=n,this.errorService=c,this.translate=m,this.fb=M,this.toastr=Q,this.onSubmitted=new e.vpe,this.descFocus=!1}keydown(t){"Enter"===t.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",C.kI.required],name:["",C.kI.required],displayName:[""],description:["",C.kI.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,C.kI.required],userEditable:[!1,C.kI.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let t=new hy;t=this.addClaimTypeForm.value,this.claimTypeService.addClaimType(t).subscribe(n=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+t.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},n=>{(this.errorService.handleError(n)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const t=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(t?.disable(),this.cdr.detectChanges()):(t?.setValue([]),t?.enable(),this.cdr.detectChanges())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(so.M),e.Y36(O.T),e.Y36(wt.sK),e.Y36(C.QS),e.Y36(Rn._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-claimtype"]],viewQuery:function(t,n){if(1&t&&e.Gf(my,7),2&t){let c;e.iGM(c=e.CRH())&&(n.addClaimTypeModal=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},outputs:{onSubmitted:"onSubmitted"},decls:64,vars:59,consts:[["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addClaimTypeModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"form",10)(15,"app-form-row",11),e._UZ(16,"input",12),e.qZA(),e.TgZ(17,"app-form-row",11),e._UZ(18,"input",13),e.qZA(),e.TgZ(19,"app-form-row",14)(20,"div",15)(21,"select",16),e.NdJ("change",function(){return n.onValueTypeChanged()}),e.TgZ(22,"option",17),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"option",18),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"option",19),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"option",20),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"option",21),e._uU(35),e.ALo(36,"translate"),e.qZA()()()(),e.YNc(37,Mm,2,2,"app-form-row",22),e.TgZ(38,"app-form-row",14)(39,"textarea",23),e.NdJ("focus",function(){return n.descFocus=!n.descFocus})("blur",function(){return n.descFocus=!n.descFocus}),e.qZA()(),e.TgZ(40,"app-form-row",14),e._UZ(41,"input",24),e.qZA(),e.TgZ(42,"app-form-row",14),e._UZ(43,"input",25),e.qZA(),e.TgZ(44,"app-form-row",11)(45,"app-form-toggle",26),e._UZ(46,"input",27),e.qZA()(),e.TgZ(47,"app-form-row",28)(48,"app-form-toggle",26),e._UZ(49,"input",29),e.qZA()()()(),e._UZ(50,"div",30),e.TgZ(51,"div",31)(52,"div",32)(53,"div",33)(54,"button",34),e.NdJ("click",function(){return n.addClaimType()}),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"span",35)(58,"button",36),e.NdJ("click",function(){return n.addAnotherClaimType()}),e._uU(59),e.ALo(60,"translate"),e.qZA()()(),e.TgZ(61,"button",37),e.NdJ("click",function(){return n.hide()}),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(58,nc)),e.xp6(6),e.Oqu(e.lcZ(7,38,"Claims.New")),e.xp6(5),e.Oqu(e.lcZ(12,40,"Common.Close")),e.xp6(3),e.Q6J("formGroup",n.addClaimTypeForm),e.xp6(1),e.Q6J("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.xp6(2),e.Q6J("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.xp6(2),e.Q6J("id","type")("label","Common.Type"),e.xp6(4),e.Oqu(e.lcZ(24,42,"Common.Types.String")),e.xp6(3),e.Oqu(e.lcZ(27,44,"Common.Types.Int")),e.xp6(3),e.Oqu(e.lcZ(30,46,"Common.Types.DateTime")),e.xp6(3),e.Oqu(e.lcZ(33,48,"Common.Types.Boolean")),e.xp6(3),e.Oqu(e.lcZ(36,50,"Common.Types.Enum")),e.xp6(2),e.Q6J("ngIf","Enum"===n.addClaimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","description")("label","Common.Description"),e.xp6(2),e.Q6J("id","rules")("label","Claims.RegexRule"),e.xp6(2),e.Q6J("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription"),e.xp6(2),e.Q6J("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.xp6(1),e.Q6J("id","required"),e.xp6(2),e.Q6J("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.xp6(1),e.Q6J("id","userEditable"),e.xp6(6),e.Q6J("disabled",!n.addClaimTypeForm.valid),e.xp6(1),e.Oqu(e.lcZ(56,52,"Common.Save")),e.xp6(3),e.Q6J("disabled",!n.addClaimTypeForm.valid),e.xp6(1),e.Oqu(e.lcZ(60,54,"Common.SaveAndAdd")),e.xp6(3),e.Oqu(e.lcZ(63,56,"Common.Cancel")))},dependencies:[N.O5,C._Y,C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C.JJ,C.JL,C.Q7,C.sg,C.u,gi.oB,gt.L,_s.O,Im,wt.X$],encapsulation:2}),i})();function _y(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(3);return e.KtG(c.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Claims.Add")," "))}function vy(i,o){1&i&&e._UZ(0,"app-simple-loader")}function yy(i,o){1&i&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Claims.NoClaimsFound")))}function Ap(i,o){1&i&&e._UZ(0,"span",25)}function Cy(i,o){1&i&&e._UZ(0,"span",26)}function Om(i,o){1&i&&e._UZ(0,"span",27)}function wy(i,o){1&i&&e._UZ(0,"span",25)}function Nm(i,o){1&i&&e._UZ(0,"span",26)}function PT(i,o){1&i&&e._UZ(0,"span",27)}function by(i,o){1&i&&e._UZ(0,"span",25)}function $c(i,o){1&i&&e._UZ(0,"span",26)}function Ty(i,o){1&i&&e._UZ(0,"span",27)}function ic(i,o){1&i&&e._UZ(0,"span",25)}function Wc(i,o){1&i&&e._UZ(0,"span",26)}function Ay(i,o){1&i&&e._UZ(0,"span",27)}function LT(i,o){1&i&&(e.TgZ(0,"span",40)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.Yes")))}function km(i,o){1&i&&(e.TgZ(0,"span",41)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.No")))}function Sy(i,o){1&i&&(e.TgZ(0,"span",40)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.Yes")))}function xy(i,o){1&i&&(e.TgZ(0,"span",41)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.No")))}function Dy(i,o){1&i&&(e.TgZ(0,"span",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const Rm=function(i,o){return{"fad fa-pencil":i,"fas fa-eye":o}};function Ey(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",28)(1,"td",29),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e.TgZ(2,"b",30),e._uU(3),e.qZA()(),e.TgZ(4,"td",31),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e.TgZ(5,"b",30),e._uU(6),e.qZA()(),e.TgZ(7,"td",31),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e.TgZ(8,"code"),e._uU(9),e.qZA()(),e.TgZ(10,"td",32),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e._uU(11),e.qZA(),e.TgZ(12,"td",33),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e.YNc(13,LT,4,3,"span",34),e.YNc(14,km,4,3,"span",35),e.qZA(),e.TgZ(15,"td",33),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e.YNc(16,Sy,4,3,"span",34),e.YNc(17,xy,4,3,"span",35),e.qZA(),e.TgZ(18,"td",36),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e.YNc(19,Dy,3,3,"span",37),e.qZA(),e.TgZ(20,"td",36),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e.TgZ(21,"button",38),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditClaimType(m))}),e._UZ(22,"span",39),e.TgZ(23,"span",23),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.hij(" ",t.displayName," "),e.xp6(3),e.Oqu(t.valueType),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",t.required),e.xp6(1),e.Q6J("ngIf",!t.required),e.xp6(2),e.Q6J("ngIf",t.userEditable),e.xp6(1),e.Q6J("ngIf",!t.userEditable),e.xp6(2),e.Q6J("ngIf",t.reserved),e.xp6(3),e.Q6J("ngClass",e.WLB(13,Rm,n.isAllPermission&&!n.isAllPermissionReadOnly,!n.isAllPermission)),e.xp6(2),e.Oqu(e.lcZ(25,11,"Common.Edit"))}}function Sp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.sort("name"))}),e.TgZ(4,"span",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Ap,1,0,"span",15),e.YNc(8,Cy,1,0,"span",16),e.YNc(9,Om,1,0,"span",17),e.qZA(),e.TgZ(10,"th",18),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",19),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.sort("valueType"))}),e.TgZ(14,"span",14),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,wy,1,0,"span",15),e.YNc(18,Nm,1,0,"span",16),e.YNc(19,PT,1,0,"span",17),e.qZA(),e.TgZ(20,"th",20),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th",21),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.sort("required"))}),e.TgZ(24,"span",14),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.YNc(27,by,1,0,"span",15),e.YNc(28,$c,1,0,"span",16),e.YNc(29,Ty,1,0,"span",17),e.qZA(),e.TgZ(30,"th",21),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.sort("userEditable"))}),e.TgZ(31,"span",14),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.YNc(34,ic,1,0,"span",15),e.YNc(35,Wc,1,0,"span",16),e.YNc(36,Ay,1,0,"span",17),e.qZA(),e.TgZ(37,"th",22)(38,"span",23),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"th",22)(42,"span",23),e._uU(43),e.ALo(44,"translate"),e.qZA()()()(),e.TgZ(45,"tbody"),e.YNc(46,Ey,26,16,"tr",24),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,21,"Common.Name")),e.xp6(2),e.Q6J("ngIf",!t.sortContains("name")),e.xp6(1),e.Q6J("ngIf","name"===t.sortCriteria),e.xp6(1),e.Q6J("ngIf","-name"===t.sortCriteria),e.xp6(2),e.hij(" ",e.lcZ(12,23,"Common.DisplayName")," "),e.xp6(4),e.Oqu(e.lcZ(16,25,"Common.Type")),e.xp6(2),e.Q6J("ngIf",!t.sortContains("valueType")),e.xp6(1),e.Q6J("ngIf","valueType"===t.sortCriteria),e.xp6(1),e.Q6J("ngIf","-valueType"===t.sortCriteria),e.xp6(2),e.hij(" ",e.lcZ(22,27,"Common.Description")," "),e.xp6(4),e.Oqu(e.lcZ(26,29,"Common.Required")),e.xp6(2),e.Q6J("ngIf",!t.sortContains("required")),e.xp6(1),e.Q6J("ngIf","required"===t.sortCriteria),e.xp6(1),e.Q6J("ngIf","-required"===t.sortCriteria),e.xp6(3),e.Oqu(e.lcZ(33,31,"Common.UserEditable")),e.xp6(2),e.Q6J("ngIf",!t.sortContains("userEditable")),e.xp6(1),e.Q6J("ngIf","userEditable"===t.sortCriteria),e.xp6(1),e.Q6J("ngIf","-userEditable"===t.sortCriteria),e.xp6(3),e.Oqu(e.lcZ(40,33,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(44,35,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.claimTypes)}}function Iy(i,o){if(1&i&&e._UZ(0,"app-pager",43),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.claimTypes?null:t.claimTypes.length)}}let My=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.router=t,this.claimTypeService=n,this.errorService=c,this.translate=m,this.titleService=M,this.localize=Q,this.securityService=ue,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new xi.x,this.searchStream=new xi.x}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+ge.de.SITE_TITLE);const t=this.searchStream.pipe((0,d.b)(300),(0,l.x)(),(0,se.U)(m=>(this.term=m,{search:m,sort:this.sortCriteria})));this.sortStream.pipe((0,se.U)(m=>(this.sortCriteria=m,{search:this.term,sort:m}))).pipe((0,p.T)(t),(0,f.O)({search:this.term,sort:this.sortCriteria}),(0,w.z)(m=>this.claimTypeService.getClaimTypes(m.search,m.sort,!0))).subscribe(m=>{this.claimTypes=m,this.isLoading=!1},m=>{this.errorService.handleError(m),this.isLoading=!1})}search(t){this.searchStream.next(t)}sort(t){this.sortCriteria=this.sortCriteria.startsWith("-")?t:"-"+t,this.sortStream.next(this.sortCriteria)}sortContains(t){return!!this.sortCriteria.includes(t)}onSubmitted(t){t&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(t){this.isAllPermission?this.editClaimType(t):this.viewClaimType(t)}viewClaimType(t){const n=this.localize.translateRoute("/claim-types/view");this.router.navigate([n,t.id])}editClaimType(t){const n=this.localize.translateRoute("/claim-types");this.router.navigate([n,t.id])}get isAllPermission(){return(0,Re.Zr)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,Re.Hr)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,Re.hC)(this.securityService.userPermissions)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.F0),e.Y36(so.M),e.Y36(O.T),e.Y36(wt.sK),e.Y36(a.Dx),e.Y36(un.An),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:11,vars:8,consts:[[3,"title"],[3,"onSubmitted"],["addClaimTypeModal",""],["id","claimTypeList",1,"tw-container","tw-mx-auto"],[3,"onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover","id","claimTypesTable",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],["class","group",4,"ngFor","ngForOf"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(t,n){1&t&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-claimtype",1,2),e.NdJ("onSubmitted",function(m){return n.onSubmitted(m)}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(m){return n.search(m)}),e.qZA(),e.YNc(6,_y,5,3,"app-action-bar",5),e.YNc(7,vy,1,0,"app-simple-loader",5),e.YNc(8,yy,4,3,"div",6),e.YNc(9,Sp,47,37,"table",7),e.YNc(10,Iy,1,1,"app-pager",8),e.qZA()),2&t&&(e.Q6J("title",e.lcZ(1,6,"Nav.ClaimTypes")),e.xp6(6),e.Q6J("ngIf",!n.isLoading&&n.isIdentityServerManager),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.claimTypes?null:n.claimTypes.length)<1&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.claimTypes?null:n.claimTypes.length)>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.claimTypes?null:n.claimTypes.length)>0&&!n.isLoading))},dependencies:[N.mk,N.sg,N.O5,Z.G,z.P,Ce.K,We,io.w,gy,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var Mo=g(3570);const UT=["canDeactivate"],ZT=function(){return{animated:!1,backdrop:"static"}};let ha=(()=>{class i{constructor(t,n){this.service=t,this.translate=n,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(t=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Mo.x),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-can-deactivate"]],viewQuery:function(t,n){if(1&t&&e.Gf(UT,7),2&t){let c;e.iGM(c=e.CRH())&&(n.modal=c.first)}},decls:28,vars:20,consts:[["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["canDeactivate","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.stay()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"p"),e._uU(15),e.ALo(16,"translate"),e.ALo(17,"translate"),e.qZA()(),e._UZ(18,"div",10),e.TgZ(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),e.NdJ("click",function(){return n.stay()}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"button",15),e.NdJ("click",function(){return n.leave()}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(19,ZT)),e.xp6(6),e.Oqu(e.lcZ(7,7,"Notifications.UnsavedChangesTitle")),e.xp6(5),e.Oqu(e.lcZ(12,9,"Common.Close")),e.xp6(4),e.AsE("",e.lcZ(16,11,"Notifications.UnsavedChanges")," ",e.lcZ(17,13,"Notifications.ContinueWithoutSaving"),""),e.xp6(8),e.Oqu(e.lcZ(24,15,"Notifications.StayHere")),e.xp6(3),e.Oqu(e.lcZ(27,17,"Notifications.DiscardChanges")))},dependencies:[gi.oB,wt.X$],encapsulation:2}),i})();const FT=["*",[["","right",""]]],BT=["*","[right]"];let cl=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-button-bar"]],ngContentSelectors:BT,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(t,n){1&t&&(e.F$t(FT),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.Hsn(4),e.qZA(),e.Hsn(5,1),e.qZA()()())},encapsulation:2}),i})();function VT(i,o){if(1&i&&(e.TgZ(0,"app-form-row",27),e._UZ(1,"app-edit-enum-claim-type",28),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("label","Claims.AllowedValues"),e.xp6(1),e.Q6J("reserved",t.claimType.reserved)("required","Enum"===t.claimTypeForm.get("valueType").value)}}function HT(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"form",7)(2,"app-form-row",8),e._UZ(3,"input",9),e.qZA(),e.TgZ(4,"app-form-row",8),e._UZ(5,"input",10),e.qZA(),e.TgZ(6,"app-form-row",11)(7,"div",12)(8,"select",13),e.NdJ("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onValueTypeChanged())}),e.TgZ(9,"option",14),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"option",15),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"option",16),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"option",17),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"option",18),e._uU(22),e.ALo(23,"translate"),e.qZA()()()(),e.YNc(24,VT,2,3,"app-form-row",19),e.TgZ(25,"app-form-row",11),e._UZ(26,"textarea",20),e.qZA(),e.TgZ(27,"app-form-row",11),e._UZ(28,"input",21),e.qZA(),e.TgZ(29,"app-form-row",11),e._UZ(30,"input",22),e.qZA(),e.TgZ(31,"app-form-row",8)(32,"app-form-toggle",23),e._UZ(33,"input",24),e.qZA()(),e.TgZ(34,"app-form-row",25)(35,"app-form-toggle",23),e._UZ(36,"input",26),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.claimTypeForm),e.xp6(1),e.Q6J("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.xp6(2),e.Q6J("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.xp6(2),e.Q6J("id","type")("label","Common.Type"),e.xp6(3),e.Q6J("selected","String"==t.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(11,34,"Common.Types.String")),e.xp6(2),e.Q6J("selected","Int"==t.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(14,36,"Common.Types.Int")),e.xp6(2),e.Q6J("selected","DateTime"==t.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(17,38,"Common.Types.DateTime")),e.xp6(2),e.Q6J("selected","Boolean"==t.claimType.valueType),e.xp6(1),e.Oqu(e.lcZ(20,40,"Common.Types.Boolean")),e.xp6(3),e.Oqu(e.lcZ(23,42,"Common.Types.Enum")),e.xp6(2),e.Q6J("ngIf","Enum"===t.claimTypeForm.get("valueType").value),e.xp6(1),e.Q6J("id","description")("label","Common.Description"),e.xp6(2),e.Q6J("id","rule")("label","Claims.RegexRule"),e.xp6(2),e.Q6J("id","ruleValidation")("label","Claims.RuleValidationFailureDescription"),e.xp6(2),e.Q6J("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.xp6(1),e.Q6J("id","required"),e.xp6(2),e.Q6J("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.xp6(1),e.Q6J("id","userEditable")}}const Oy=function(){return{backdrop:"static",animated:!1}};function Pm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"h5",33),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",34),e._UZ(8,"span",35),e.TgZ(9,"span",36),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",37)(13,"p",38),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"strong"),e._uU(17),e.qZA(),e._uU(18,"?"),e.qZA(),e._UZ(19,"p",39),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"div",40),e.TgZ(22,"div",41)(23,"div",42)(24,"div",43)(25,"button",44),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.delete())}),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"button",45),e._uU(29),e.ALo(30,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.Q6J("config",e.DdM(20,Oy)),e.xp6(5),e.Oqu(e.lcZ(6,8,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(11,10,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(15,12,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(t.claimType.name),e.xp6(2),e.Q6J("innerHTML",e.lcZ(20,14,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(27,16,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(30,18,"Common.Delete.No"))}}const xp=function(i,o){return{title:i,link:o}},Lm=function(i){return[i]};let Um=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt,Jt,zt){this.router=t,this.route=n,this.translate=c,this.toastr=m,this.fb=M,this.claimTypeService=Q,this.titleService=ue,this.dialogService=Pe,this.localize=at,this.errorService=Nt,this.securityService=Jt,this.cdr=zt,this.claimType=null}ngOnInit(){this.route.snapshot.paramMap.get("Id"),this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe(n=>{this.claimType=n,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${ge.de.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(n)},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,C.kI.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[C.kI.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},C.kI.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},C.kI.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,C.kI.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const t=this.claimTypeForm.getRawValue();this.claimTypeService.updateClaimType(t).subscribe(n=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(t),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},n=>{(this.errorService.handleError(n)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe(t=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const n=this.localize.translateRoute("/claim-types");this.router.navigate([n])},t=>{(this.errorService.handleError(t)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))})}onValueTypeChanged(){const t=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(t?.disable(),this.cdr.detectChanges()):(t?.setValue(this.claimType.allowedValues||[]),t?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,Re.hC)(this.securityService.userPermissions)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.F0),e.Y36(nn.gz),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(C.QS),e.Y36(so.M),e.Y36(a.Dx),e.Y36(Mo.x),e.Y36(un.An),e.Y36(O.T),e.Y36(In.I),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:14,vars:21,consts:[[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","deleteBtn","type","button","data-toggle","modal","data-target","#deleteClaimTypeModal",1,"tw-btn-danger","tw-mb-3",3,"disabled"],["bsModal","","id","deleteClaimTypeModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","readonly","","formControlName","name","name","name","id","name",1,"tw-form-control"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label",4,"ngIf"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["bsModal","","id","deleteClaimTypeModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(t,n){1&t&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,HT,37,44,"div",1),e.TgZ(4,"app-button-bar")(5,"button",2),e.NdJ("click",function(){return n.submit()}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.ynx(8,3),e.TgZ(9,"button",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(12,"app-can-deactivate"),e.YNc(13,Pm,31,21,"div",5)),2&t&&(e.Q6J("title",n.claimType.name)("crumbs",e.VKq(19,Lm,e.WLB(16,xp,e.lcZ(1,8,"Nav.ClaimTypes"),e.lcZ(2,10,"/claim-types")))),e.xp6(3),e.Q6J("ngIf",n.claimType),e.xp6(2),e.Q6J("disabled",!(n.claimTypeForm.dirty&&n.claimTypeForm.valid)),e.xp6(1),e.hij(" ",e.lcZ(7,12,"Common.Save")," "),e.xp6(3),e.Q6J("disabled",n.claimType.reserved||!n.isIdentityServerManager),e.xp6(1),e.hij(" ",e.lcZ(11,14,"Common.Delete.Title")," "),e.xp6(3),e.Q6J("ngIf",n.claimType))},dependencies:[N.O5,C._Y,C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C.JJ,C.JL,C.Q7,C.sg,C.u,gi.oB,ha,Z.G,cl,gt.L,_s.O,Im,wt.X$,un.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();class sc{}class zu extends sc{constructor(){super()}}var Zm=g(3431),Wi=g(590),Ol=g(7111);let Fm=(()=>{class i{validate(t){return this.regex?(0,Re.ry)(new RegExp(this.regex,"i"))(t):null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","appClaimRegex",""]],inputs:{regex:["appClaimRegex","regex"]},features:[e._Bn([{provide:C.Cf,useExisting:i,multi:!0}])]}),i})();const Ny=["claimsForm"];function ky(i,o){1&i&&(e.TgZ(0,"app-form-row",37),e._UZ(1,"app-date-time",48),e.qZA()),2&i&&(e.Q6J("id","LockoutEnd")("label","Users.LockoutEnd"),e.xp6(1),e.Q6J("displayType","datetime"))}function Bm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",36)(1,"app-form-row",37)(2,"app-form-toggle",38),e._UZ(3,"input",39),e.qZA()(),e.TgZ(4,"app-form-row",37),e._UZ(5,"input",40),e.qZA(),e.TgZ(6,"app-form-row",41)(7,"input",42),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.checkForPolicyUserForm("firstName","given_name",null==c.userForm.controls.firstName?null:c.userForm.controls.firstName.value))}),e.qZA()(),e.TgZ(8,"app-form-row",41)(9,"input",43),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.checkForPolicyUserForm("lastName","family_name",null==c.userForm.controls.lastName?null:c.userForm.controls.lastName.value))}),e.qZA()(),e.TgZ(10,"app-form-row",41)(11,"input",44),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.checkForPolicyUserForm("username","name",null==c.userForm.controls.username?null:c.userForm.controls.username.value))}),e.qZA()(),e.TgZ(12,"app-form-row",41)(13,"input",45),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.checkForPolicyUserForm("email","email",null==c.userForm.controls.email?null:c.userForm.controls.email.value))}),e.qZA()(),e.TgZ(14,"app-form-row",37)(15,"app-form-toggle",38)(16,"input",46),e.NdJ("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.clearLockoutEnd())}),e.qZA()()(),e.YNc(17,ky,2,3,"app-form-row",47),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.userForm),e.xp6(1),e.Q6J("id","Blocked")("label","UserDetails.Active"),e.xp6(1),e.Q6J("id","Blocked")("isTraffic",!0)("isAlt",!0),e.xp6(2),e.Q6J("id","userId")("label","Common.ID"),e.xp6(1),e.Q6J("value",t.user.subject),e.xp6(1),e.Q6J("id","FirstName")("label","Users.FirstName")("help",t.ifUserInfoPolicyClaim("given_name",null==t.userForm.controls.firstName?null:t.userForm.controls.firstName.value)?"Common.Policy":""),e.xp6(2),e.Q6J("id","LastName")("label","Users.LastName")("help",t.ifUserInfoPolicyClaim("family_name",null==t.userForm.controls.lastName?null:t.userForm.controls.lastName.value)?"Common.Policy":""),e.xp6(2),e.Q6J("id","Username")("label","Users.Username")("help",t.ifUserInfoPolicyClaim("name",null==t.userForm.controls.username?null:t.userForm.controls.username.value)?"Common.Policy":""),e.xp6(2),e.Q6J("id","Email")("label","Users.Email")("help",t.ifUserInfoPolicyClaim("email",null==t.userForm.controls.email?null:t.userForm.controls.email.value)?"Common.Policy":""),e.xp6(2),e.Q6J("id","LockoutEnabled")("label","Users.LockoutEnabled"),e.xp6(1),e.Q6J("id","LockoutEnabled")("isTraffic",!0)("isAlt",!1),e.xp6(2),e.Q6J("ngIf",null==t.userForm.controls.lockoutEnabled?null:t.userForm.controls.lockoutEnabled.value)}}function Ry(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",55,56),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.checkForPolicyClaimForm(c.type,c))})("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.MAs(1),n=e.oxw(),c=n.index,m=n.$implicit,M=e.oxw();e.MGl("id","claim-",c,""),e.Q6J("name",m.type)("ngModel",m.value)("appClaimRegex",m.regex)("disabled",M.notAllowedToEditClaim(m)&&!t.dirty)}}function Py(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",57,56),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.checkForPolicyClaimForm(c.type,c))})("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.MAs(1),n=e.oxw(),c=n.index,m=n.$implicit,M=e.oxw();e.MGl("id","claim-",c,""),e.Q6J("name",m.type)("ngModel",m.value)("disabled",M.notAllowedToEditClaim(m)&&!t.dirty)}}function Ly(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"select",59,56),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.checkForPolicyClaimForm(c.type,c))})("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.TgZ(3,"option",60),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"option",61),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}if(2&i){const t=e.MAs(2),n=e.oxw(),c=n.index,m=n.$implicit,M=e.oxw();e.xp6(1),e.MGl("id","claim-",c,""),e.Q6J("name",m.type)("ngModel",m.value)("disabled",M.notAllowedToEditClaim(m)&&!t.dirty),e.xp6(3),e.Oqu(e.lcZ(5,6,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Common.False"))}}function Uy(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",64,56),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)})("keyup",function(){e.CHM(t);const c=e.oxw(2).$implicit,m=e.oxw();return e.KtG(m.checkForPolicyClaimForm(c.type,c))})("change",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.setDateDirty())}),e.qZA(),e.BQk()}if(2&i){const t=e.MAs(2),n=e.oxw(2),c=n.index,m=n.$implicit,M=e.oxw();e.xp6(1),e.MGl("id","claim-",c,"")("name","claim-",c,""),e.Q6J("ngModel",m.value)("disabled",M.notAllowedToEditClaim(m)&&!t.dirty)}}function Dp(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",65,56),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)})("keyup",function(){e.CHM(t);const c=e.oxw(2).$implicit,m=e.oxw();return e.KtG(m.checkForPolicyClaimForm(c.type,c))})("change",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.setDateDirty())}),e.qZA(),e.BQk()}if(2&i){const t=e.MAs(2),n=e.oxw(2),c=n.index,m=n.$implicit,M=e.oxw();e.xp6(1),e.MGl("id","claim-",c,"")("name","claim-",c,""),e.Q6J("displayType",M.dateTimeDisplayType.Date)("ngModel",m.value)("disabled",M.notAllowedToEditClaim(m)&&!t.dirty)}}function Zy(i,o){if(1&i&&(e.TgZ(0,"div",62),e.YNc(1,Uy,3,4,"ng-container",63),e.YNc(2,Dp,3,5,"ng-container",63),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","birthdate"!=t.type),e.xp6(1),e.Q6J("ngIf","birthdate"==t.type)}}function Fy(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",66)(1,"app-enum-claim-type-input",67),e.NdJ("valueChanged",function(c){e.CHM(t);const m=e.oxw().$implicit,M=e.oxw();return m.value=c,e.KtG(M.setDateDirty())})("keyupEvent",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.checkForPolicyClaimForm(c.type,c))}),e.qZA()()}if(2&i){const t=e.oxw(),n=t.index,c=t.$implicit,m=e.oxw();e.xp6(1),e.Q6J("id","claim-"+n)("typeId",m.getClaimType(c).id)("value",c.value)("disabled",m.notAllowedToEditClaim(c))}}function By(i,o){if(1&i&&(e.TgZ(0,"p",68),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.failureMessage)}}function Vm(i,o){if(1&i&&(e.TgZ(0,"app-form-row",41),e.YNc(1,Ry,2,5,"input",49),e.YNc(2,Py,2,4,"input",50),e.YNc(3,Ly,9,10,"div",51),e.YNc(4,Zy,3,2,"div",52),e.YNc(5,Fy,2,4,"div",53),e.YNc(6,By,2,1,"p",54),e.qZA()),2&i){const t=o.$implicit,n=o.index,c=e.oxw();let m;e.Q6J("id","claim-"+n)("label",null!==(m=t.displayName)&&void 0!==m?m:t.type)("help",c.getHelpTextString(t)),e.xp6(1),e.Q6J("ngIf","String"==t.format),e.xp6(1),e.Q6J("ngIf","Int"==t.format),e.xp6(1),e.Q6J("ngIf","Boolean"==t.format),e.xp6(1),e.Q6J("ngIf","DateTime"==t.format),e.xp6(1),e.Q6J("ngIf","Enum"==t.format),e.xp6(1),e.Q6J("ngIf",null!=t.failureMessage)}}function Vy(i,o){if(1&i&&(e.TgZ(0,"form",36)(1,"app-form-row",69)(2,"app-form-toggle",38),e._UZ(3,"input",70),e.qZA()()()),2&i){const t=e.oxw();e.Q6J("formGroup",t.userForm),e.xp6(1),e.Q6J("id","EnabledTwoFactor")("label","UserDetails.EnabledTwoFactor")("help","UserDetails.EnabledTwoFactorHelp")("isLast",!0),e.xp6(1),e.Q6J("id","EnabledTwoFactor")("isTraffic",!0)("isAlt",!1)}}function Hy(i,o){1&i&&(e.TgZ(0,"button",71),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"UserDetails.ChangePassword")," "))}function To(i,o){1&i&&(e.TgZ(0,"button",72),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"UserDetails.ResetMfa")," "))}function Ep(i,o){1&i&&(e.TgZ(0,"button",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Delete.Title")," "))}function Hm(i,o){1&i&&(e.TgZ(0,"button",74),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Delete.UndoDelete")," "))}function Ip(i,o){1&i&&e._UZ(0,"span",78)}function ho(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",75)(1,"div",14)(2,"h5",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",16),e._UZ(6,"span",17),e.TgZ(7,"span",18),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",19)(11,"p"),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"strong"),e._uU(15),e.qZA(),e._uU(16,"?"),e.qZA()(),e.TgZ(17,"div",23)(18,"div",24)(19,"div",25)(20,"button",76),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.resetPassword())}),e._uU(21),e.ALo(22,"translate"),e.YNc(23,Ip,1,0,"span",77),e.qZA()(),e.TgZ(24,"button",27),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"Common.ResetPassword.Confirm")),e.xp6(5),e.Oqu(e.lcZ(9,10,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(13,12,"Common.ResetPassword.AreYouSureSimple")," "),e.xp6(3),e.Oqu(null==t.user?null:t.user.username),e.xp6(5),e.Q6J("disabled",t.inFlight),e.xp6(1),e.hij(" ",e.lcZ(22,14,"Common.ResetPassword.Title")," "),e.xp6(2),e.Q6J("ngIf",t.inFlight),e.xp6(2),e.Oqu(e.lcZ(26,16,"Common.Cancel"))}}function Qc(i,o){1&i&&(e.TgZ(0,"div",79)(1,"div",14)(2,"h5",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",16),e._UZ(6,"span",17),e.TgZ(7,"span",18),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",19)(11,"p"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",23)(15,"div",24)(16,"div",25)(17,"a",80),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",27),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,5,"Common.ResetPassword.HowToSetupTitle")),e.xp6(5),e.Oqu(e.lcZ(9,7,"Common.Close")),e.xp6(4),e.Oqu(e.lcZ(13,9,"Common.ResetPassword.HowToSetup")),e.xp6(6),e.Oqu(e.lcZ(19,11,"LandingPage.Documentation")),e.xp6(3),e.Oqu(e.lcZ(22,13,"Common.Cancel")))}function Jm(i,o){1&i&&e._UZ(0,"span",78)}function Jy(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",81)(1,"div",14)(2,"h5",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",16),e._UZ(6,"span",17),e.TgZ(7,"span",18),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",19)(11,"p"),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"strong"),e._uU(15),e.qZA(),e._uU(16,"?"),e.qZA()(),e.TgZ(17,"div",23)(18,"div",24)(19,"div",25)(20,"button",76),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.resetMfa())}),e._uU(21),e.ALo(22,"translate"),e.YNc(23,Jm,1,0,"span",77),e.qZA()(),e.TgZ(24,"button",27),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"Common.ResetMfa.Confirm")),e.xp6(5),e.Oqu(e.lcZ(9,10,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(13,12,"Common.ResetMfa.AreYouSureSimple")," "),e.xp6(3),e.Oqu(null==t.user?null:t.user.username),e.xp6(5),e.Q6J("disabled",t.inFlight),e.xp6(1),e.hij(" ",e.lcZ(22,14,"Common.ResetMfa.Title")," "),e.xp6(2),e.Q6J("ngIf",t.inFlight),e.xp6(2),e.Oqu(e.lcZ(26,16,"Common.Cancel"))}}function qy(i,o){1&i&&(e.TgZ(0,"div",82)(1,"div",14)(2,"h5",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",16),e._UZ(6,"span",17),e.TgZ(7,"span",18),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",19)(11,"p"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",23)(15,"div",24)(16,"div",25)(17,"a",80),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"button",27),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,5,"Common.ResetMfa.HowToSetupTitle")),e.xp6(5),e.Oqu(e.lcZ(9,7,"Common.Close")),e.xp6(4),e.Oqu(e.lcZ(13,9,"Common.ResetMfa.HowToSetup")),e.xp6(6),e.Oqu(e.lcZ(19,11,"LandingPage.Documentation")),e.xp6(3),e.Oqu(e.lcZ(22,13,"Common.Cancel")))}const Gc=function(){return{backdrop:"static",animated:!1}};let jy=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt,Jt,zt,hn){this.fb=t,this.userService=n,this.errorService=c,this.router=m,this.translate=M,this.claimsService=Q,this.dialogService=ue,this.titleService=Pe,this.toastr=at,this.localize=Nt,this.configService=Jt,this.apClaimsService=zt,this.securityService=hn,this.isDeleting=!1,this.requiredClaims=[],this.requiredCount=0,this.dateTimeDisplayType=ol.V,this.inFlight=!1}ngOnInit(){this.combinedObservable=this.claimsService.getClaimTypes(null,null).pipe((0,Zm.a)(this.userService.getCachedUser(),(t,n)=>({claimTypes:t,user:n})),(0,Wi.P)()).subscribe(t=>{this.user=t.user,this.claimTypes=t.claimTypes,this.sortClaims(),this.createForms();const n=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Details")+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(n)},t=>{this.errorService.handleError(t)}),this.configService.getConfig(!0).pipe((0,ae.q)(1)).subscribe(t=>{this.passwordWebhookSetup=t.resetPasswordConfigured,this.resetMfaWebhookSetup=t.resetMfaConfigured})}ngOnDestroy(){this.combinedObservable.unsubscribe()}createForms(){this.userForm=this.fb.group({subject:[this.user.subject,C.kI.required],username:[{value:this.user.username,disabled:this.notAllowedToEditUserInfo("name",this.user.username)},[C.kI.required,(0,Re.Fd)()]],email:[{value:this.user.email,disabled:this.notAllowedToEditUserInfo("name",this.user.email)},[C.kI.required,Dl]],firstName:[{value:this.user.firstName,disabled:this.notAllowedToEditUserInfo("given_name",this.user.firstName)},C.kI.required],lastName:[{value:this.user.lastName,disabled:this.notAllowedToEditUserInfo("family_name",this.user.lastName)},C.kI.required],isBlocked:[this.user.isBlocked,C.kI.required],lockoutEnd:[this.user.lockoutEnd],lockoutEnabled:[this.user.lockoutEnabled],isDeleted:[this.user.isDeleted],twoFactorEnabled:[this.user.twoFactorEnabled]})}canDeactivate(){return!!this.isDeleting||!this.requiredClaimsForm.dirty&&!this.userForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}deleteUser(){this.userService.deleteUser(this.user).subscribe(t=>{this.isDeleting=!0;const n=this.localize.translateRoute("/users");this.router.navigate([n]);const c=this.translate.instant("Users.Delete.Confirmation").replace("{0}",this.user.username);this.toastr.success(c,this.translate.instant("Notifications.Saving Success Title"))},t=>{const n={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(t,n)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(n.toastBody,n.toastTitle)})}unDeleteUser(){const t=JSON.parse(JSON.stringify(this.user));t.isDeleted=!1,this.userService.updateUser(t).subscribe(n=>{this.user=t,this.userService.userSubject.next(t);const c=this.translate.instant("Notifications.Saving Success Title"),m=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(m,c)},n=>{this.errorService.handleError(n)})}submit(){const t=this.userForm.value,n=this.user.claims.slice();for(const m of n){const M=this.requiredClaims.find(Q=>m.type===Q.type);M&&(m.value=M.value)}this.requiredClaims.forEach(m=>{void 0===n.find(Q=>Q.type===m.type)&&n.push(m)});const c=Object.assign(t,{claims:n},{roles:this.user.roles});this.userService.updateUser(c).subscribe(m=>{this.userForm.controls.username.dirty&&(this.user.username=this.userForm.controls.username.value);const M=this.translate.instant("Notifications.Saving Success Title"),Q=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(Q,M),this.userService.userSubject.next(c),this.userForm.markAsPristine(),this.userForm.markAsUntouched(),this.requiredClaimsForm.form.markAsUntouched(),this.requiredClaimsForm.form.markAsPristine()},m=>{this.errorService.handleError(m)})}resetPassword(){this.inFlight=!0,this.userService.resetPassword(this.user.subject).subscribe(t=>{this.inFlight=!1;const n=this.translate.instant("Notifications.Saving Success Title"),c=this.translate.instant("Notifications.Reset Success Message");this.toastr.success(c,n)},t=>{this.inFlight=!1,this.errorService.handleError(t)})}resetMfa(){this.inFlight=!0,this.userService.resetMfa(this.user.subject).subscribe(t=>{this.inFlight=!1;const n=this.translate.instant("Notifications.Saving Success Title"),c=this.translate.instant("Notifications.Reset Success Message");this.toastr.success(c,n)},t=>{this.inFlight=!1,this.errorService.handleError(t)})}sortClaims(){for(const t of this.claimTypes)if(t.required){const n={typeId:t.id,format:t.valueType,value:"",type:t.name,displayName:t.displayName,editing:!1,required:t.required};t.rule&&(n.regex=t.rule,n.failureMessage=t.ruleValidationFailureDescription),this.requiredClaims.push(n)}for(const t of this.user.claims){const n=this.requiredClaims.find(c=>c.type===t.type);n&&(n.value=t.value)}}setDateDirty(){this.requiredClaimsForm.form.markAsDirty()}ifUserInfoPolicyClaim(t,n){const c=new sc;return c.type=t,c.value=n,this.apClaimsService.isPolicyClaim(c)}notAllowedToEditUserInfo(t,n){const c=new sc;return c.type=t,c.value=n,this.apClaimsService.notAllowedToEditClaim(c)}notAllowedToEditClaim(t){return this.apClaimsService.notAllowedToEditClaim(t)}getHelpTextString(t){return this.apClaimsService.isPolicyClaim(t)?"DateTime"==t.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==t.format?"Common.Dates.UTCWarning":""}checkForPolicyUserForm(t,n,c){const m=new sc;m.type=n,m.value=c,this.apClaimsService.notAllowedToEditClaim(m)&&this.userForm.controls[t].setErrors({incorrect:!0})}checkForPolicyClaimForm(t,n){this.apClaimsService.notAllowedToEditClaim(n)&&this.requiredClaimsForm.form.controls[t].setErrors({incorrect:!0})}getClaimType(t){return this.claimTypes.find(n=>n.name===t.type)}getAllowedValues(t){const n=this.claimTypes.find(c=>c.name===t.type);return n&&n.allowedValues||[]}clearLockoutEnd(){this.userForm.get("lockoutEnd").reset()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(ps.K),e.Y36(O.T),e.Y36(nn.F0),e.Y36(wt.sK),e.Y36(so.M),e.Y36(Mo.x),e.Y36(a.Dx),e.Y36(Rn._W),e.Y36(un.An),e.Y36(wo.E),e.Y36(Ol.n),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-details"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ny,7),2&t){let c;e.iGM(c=e.CRH())&&(n.requiredClaimsForm=c.first)}},decls:84,vars:58,consts:[["id","editUserDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],["id","requiredClaims"],["claimsForm","ngForm"],[3,"id","label","help",4,"ngFor","ngForOf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["class","tw-btn tw-mr-3 tw-mb-3","data-toggle","modal","data-target","#resetPasswordModal","id","resetPasswordButton","type","button",4,"ngIf"],["class","tw-btn tw-mr-3 tw-mb-3","data-toggle","modal","data-target","#resetMfaModal","id","resetMfaButton","type","button",4,"ngIf"],["right",""],["class","tw-btn-danger tw-mb-3","type","button","data-toggle","modal","data-target","#deleteUserModal",4,"ngIf"],["id","undoDelete","class","tw-btn-danger tw-mb-3","type","button","data-toggle","modal","data-target","#unDeleteUserModal",4,"ngIf"],["id","deleteUserModal","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-warning"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["id","unDeleteUserModal","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["bsModal","","id","resetPasswordModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--narrow"],["id","passwordResetModal","class","modal-content",4,"ngIf"],["id","passwordResetHowToSetupModal","class","modal-content",4,"ngIf"],["bsModal","","id","resetMfaModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["id","mfaResetModal","class","modal-content",4,"ngIf"],["id","mfaResetHowToSetupModal","class","modal-content",4,"ngIf"],[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Blocked","formControlName","isBlocked","type","checkbox",1,"tw-form-switch__input"],["id","userId","type","text","readonly","",1,"tw-form-control",3,"value"],[3,"id","label","help"],["type","text","name","FirstName","id","FirstName","formControlName","firstName","required","",1,"tw-form-control",3,"keyup"],["type","text","name","LastName","id","LastName","formControlName","lastName","required","",1,"tw-form-control",3,"keyup"],["type","text","name","Username","id","Username","formControlName","username","required","",1,"tw-form-control",3,"keyup"],["type","email","name","Email","id","Email","formControlName","email","required","",1,"tw-form-control",3,"keyup"],["id","LockoutEnabled","formControlName","lockoutEnabled","type","checkbox",1,"tw-form-switch__input",3,"change"],[3,"id","label",4,"ngIf"],["id","LockoutEnd","name","lockoutEnd","formControlName","lockoutEnd","aria-describedby","toErrorLabel",3,"displayType"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange"],["claimvalue","ngModel"],["type","number","required","",1,"tw-form-control",3,"name","ngModel","id","disabled","keyup","ngModelChange"],[1,"tw-form-select"],["required","",1,"tw-form-control",3,"id","name","ngModel","disabled","keyup","ngModelChange"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"id","name","ngModel","disabled","ngModelChange","keyup","change"],[3,"id","name","displayType","ngModel","disabled","ngModelChange","keyup","change"],[1,""],[3,"id","typeId","value","disabled","valueChanged","keyupEvent"],[1,"tw-form-text-danger"],[3,"id","label","help","isLast"],["id","EnabledTwoFactor","formControlName","twoFactorEnabled","type","checkbox",1,"tw-form-switch__input"],["data-toggle","modal","data-target","#resetPasswordModal","id","resetPasswordButton","type","button",1,"tw-btn","tw-mr-3","tw-mb-3"],["data-toggle","modal","data-target","#resetMfaModal","id","resetMfaButton","type","button",1,"tw-btn","tw-mr-3","tw-mb-3"],["type","button","data-toggle","modal","data-target","#deleteUserModal",1,"tw-btn-danger","tw-mb-3"],["id","undoDelete","type","button","data-toggle","modal","data-target","#unDeleteUserModal",1,"tw-btn-danger","tw-mb-3"],["id","passwordResetModal",1,"modal-content"],["data-dismiss","modal",1,"tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"],["id","passwordResetHowToSetupModal",1,"modal-content"],["href","documentation/Webhooks/webhooks.html","target","_blank",1,"tw-btn"],["id","mfaResetModal",1,"modal-content"],["id","mfaResetHowToSetupModal",1,"modal-content"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Bm,18,27,"form",1),e.TgZ(2,"form",2,3),e.YNc(4,Vm,7,9,"app-form-row",4),e.qZA(),e.YNc(5,Vy,4,8,"form",1),e.qZA(),e.TgZ(6,"app-button-bar")(7,"button",5),e.NdJ("click",function(){return n.submit()}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,Hy,3,3,"button",6),e.YNc(11,To,3,3,"button",7),e.ynx(12,8),e.YNc(13,Ep,3,3,"button",9),e.YNc(14,Hm,3,3,"button",10),e.BQk(),e.qZA(),e.TgZ(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"h5",15),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"button",16),e._UZ(23,"span",17),e.TgZ(24,"span",18),e._uU(25),e.ALo(26,"translate"),e.qZA()()(),e.TgZ(27,"div",19)(28,"p",20),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"strong"),e._uU(32),e.qZA(),e._uU(33,"?"),e.qZA(),e.TgZ(34,"p",21),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e._UZ(37,"div",22),e.TgZ(38,"div",23)(39,"div",24)(40,"div",25)(41,"button",26),e.NdJ("click",function(){return n.deleteUser()}),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"button",27),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()(),e.TgZ(47,"div",28)(48,"div",12)(49,"div",13)(50,"div",14)(51,"h5",15),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"button",16),e._UZ(55,"span",17),e.TgZ(56,"span",18),e._uU(57),e.ALo(58,"translate"),e.qZA()()(),e.TgZ(59,"div",19)(60,"p"),e._uU(61),e.ALo(62,"translate"),e.TgZ(63,"strong"),e._uU(64),e.qZA(),e._uU(65,"?"),e.qZA()(),e.TgZ(66,"div",23)(67,"div",24)(68,"div",25)(69,"button",26),e.NdJ("click",function(){return n.unDeleteUser()}),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"button",27),e._uU(73),e.ALo(74,"translate"),e.qZA()()()()()(),e.TgZ(75,"div",29)(76,"div",30),e.YNc(77,ho,27,18,"div",31),e.YNc(78,Qc,23,15,"div",32),e.qZA()(),e.TgZ(79,"div",33)(80,"div",30),e.YNc(81,Jy,27,18,"div",34),e.YNc(82,qy,23,15,"div",35),e.qZA()(),e._UZ(83,"app-can-deactivate")),2&t){const c=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.user),e.xp6(3),e.Q6J("ngForOf",n.requiredClaims),e.xp6(1),e.Q6J("ngIf",n.user),e.xp6(2),e.Q6J("disabled",(null==n.userForm?null:n.userForm.invalid)||(null==c?null:c.form.invalid)||(null==n.userForm?null:n.userForm.pristine)&&(null==c?null:c.form.pristine)),e.xp6(1),e.hij(" ",e.lcZ(9,30,"Common.Save")," "),e.xp6(2),e.Q6J("ngIf",!(null!=n.user&&n.user.isDeleted)),e.xp6(1),e.Q6J("ngIf",!(null!=n.user&&n.user.isDeleted)),e.xp6(2),e.Q6J("ngIf",!(null!=n.user&&n.user.isDeleted)),e.xp6(1),e.Q6J("ngIf",null==n.user?null:n.user.isDeleted),e.xp6(1),e.Q6J("config",e.DdM(54,Gc)),e.xp6(5),e.Oqu(e.lcZ(21,32,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(26,34,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(30,36,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(null==n.user?null:n.user.username),e.xp6(3),e.Oqu(e.lcZ(36,38,"Users.Delete.AuditingPurposes")),e.xp6(7),e.Oqu(e.lcZ(43,40,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(46,42,"Common.Delete.No")),e.xp6(2),e.Q6J("config",e.DdM(55,Gc)),e.xp6(5),e.Oqu(e.lcZ(53,44,"Common.Delete.UndoDelete")),e.xp6(5),e.Oqu(e.lcZ(58,46,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(62,48,"Common.Delete.ConfirmUndoDelete")," "),e.xp6(3),e.Oqu(null==n.user?null:n.user.username),e.xp6(6),e.Oqu(e.lcZ(71,50,"Common.Delete.TitleUndo")),e.xp6(3),e.Oqu(e.lcZ(74,52,"Common.Cancel")),e.xp6(2),e.Q6J("config",e.DdM(56,Gc)),e.xp6(2),e.Q6J("ngIf",n.passwordWebhookSetup),e.xp6(1),e.Q6J("ngIf",!n.passwordWebhookSetup),e.xp6(1),e.Q6J("config",e.DdM(57,Gc)),e.xp6(2),e.Q6J("ngIf",n.resetMfaWebhookSetup),e.xp6(1),e.Q6J("ngIf",!n.resetMfaWebhookSetup)}},dependencies:[N.sg,N.O5,C._Y,C.YN,C.Kr,C.Fj,C.wV,C.Wl,C.EJ,C.JJ,C.JL,C.Q7,C.On,C.F,C.sg,C.u,gi.oB,ha,cl,gt.L,_s.O,ol.j,tc,Fm,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var zc=g(8783),Yu=g(927),Yc=g(8190),Mp=g(9841);let $y=(()=>{class i{transform(t,n){let c=t;return n&&(c=t.filter(m=>m.name.toUpperCase().includes(n))),c}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"search",type:i,pure:!0}),i})();function qm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._UZ(2,"span",21),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"input",22),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.availableSearchValue=c)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.Search")),e.xp6(2),e.Q6J("ngModel",t.availableSearchValue)}}function jm(i,o){1&i&&e._UZ(0,"span",30)}function Wy(i,o){if(1&i&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}const Nl=function(i){return{"tw-text-grey-600":i}};function qa(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",23)(1,"label",24)(2,"input",25),e.NdJ("change",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.selectAvailable(m))}),e.qZA(),e.TgZ(3,"span",26)(4,"span",27),e.YNc(5,jm,1,0,"span",28),e._uU(6),e.qZA(),e.YNc(7,Wy,2,1,"span",29),e.qZA()()()}if(2&i){const t=o.$implicit,n=e.oxw();let c;e.xp6(1),e.Q6J("htmlFor",n.prefix+t.name),e.xp6(1),e.s9C("id",n.prefix+t.name),e.s9C("name",t.name),e.Q6J("checked",t.selected)("disabled",n.isRestricted(t)||n.isReadOnly),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Nl,n.isReadOnly)),e.xp6(1),e.Q6J("ngIf",n.isRestricted(t)),e.xp6(1),e.AsE(" ",null!==(c=t.displayName)&&void 0!==c?c:t.name," ",t.shared?"*":""," "),e.xp6(1),e.Q6J("ngIf",(null==t.description?null:t.description.length)>0)}}function Qy(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"label",33),e._UZ(2,"span",21),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.assignedSearchValue=c)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.Search")),e.xp6(2),e.Q6J("ngModel",t.assignedSearchValue)}}function Gy(i,o){1&i&&e._UZ(0,"span",30)}function JT(i,o){if(1&i&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function qT(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",35)(1,"label",24)(2,"input",25),e.NdJ("change",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.selectAssigned(m))}),e.qZA(),e.TgZ(3,"span",26)(4,"span",27),e.YNc(5,Gy,1,0,"span",28),e._uU(6),e.qZA(),e.YNc(7,JT,2,1,"span",29),e.qZA()()()}if(2&i){const t=o.$implicit,n=e.oxw();let c;e.xp6(1),e.Q6J("htmlFor",n.prefix+t.name),e.xp6(1),e.s9C("id",n.prefix+t.name),e.s9C("name",t.name),e.Q6J("checked",t.selected)("disabled",n.isRestricted(t)||n.isReadOnly),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Nl,n.isReadOnly)),e.xp6(1),e.Q6J("ngIf",n.isRestricted(t)),e.xp6(1),e.AsE(" ",null!==(c=t.displayName)&&void 0!==c?c:t.name," ",t.shared?"*":""," "),e.xp6(1),e.Q6J("ngIf",(null==t.description?null:t.description.length)>0)}}let Go=(()=>{class i{constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new xi.x,this.assignedStream=new xi.x}set isReadOnly(t){this._isReadOnly=t||!1}get isReadOnly(){return this._isReadOnly}ngOnInit(){this.available=this.sortArray(this.availableInput),this.assigned=this.sortArray(this.assignedInput),this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}ngOnChanges(t){t.availableInput&&(this.available=t.availableInput.firstChange?this.availableInput.slice():t.availableInput.currentValue),t.assignedInput&&(this.assigned=t.assignedInput.firstChange?this.availableInput.slice():t.assignedInput.currentValue)}sortArray(t){if(t&&t.length>0){for(const n of t)n.selected=!1;return t}return t}selectAvailable(t){t.selected?this.availableCount-=1:this.availableCount+=1,t.selected=!t.selected}selectAssigned(t){t.selected?this.assignedCount-=1:this.assignedCount+=1,t.selected=!t.selected}assignItems(){let t=this.available.filter(n=>n.selected);this.assignedStream.next(t),this.available.forEach(n=>{n.selected=!1}),this.assignedInput.forEach(n=>{n.selected=!1}),t=[]}unAssignItems(){let t=this.assigned.filter(n=>n.selected);this.unAssignedStream.next(t),this.assigned.forEach(n=>{n.selected=!1}),this.available.forEach(n=>{n.selected=!1}),t=[]}isRestricted(t){if(this.restrictedInput)for(let n=0;n<this.restrictedInput.length;n++)if(this.restrictedInput[n].value===t.name)return!0}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},features:[e.TTD],decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"disabled","click"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"disabled","click"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModel","ngModelChange"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"id","name","checked","disabled","change"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModel","ngModelChange"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,qm,7,4,"div",4),e.qZA(),e.TgZ(7,"ul",5),e.YNc(8,qa,8,12,"li",6),e.ALo(9,"search"),e.ALo(10,"uppercase"),e.qZA()(),e.TgZ(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.NdJ("click",function(){return n.assignItems()}),e._UZ(15,"span",11)(16,"span",12),e.TgZ(17,"span",13),e._uU(18),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"li",9)(21,"button",14),e.NdJ("click",function(){return n.unAssignItems()}),e._UZ(22,"span",15)(23,"span",16),e.TgZ(24,"span",13),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()(),e.TgZ(27,"div",1)(28,"div",2)(29,"h2",3),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.YNc(32,Qy,7,4,"div",17),e.qZA(),e.TgZ(33,"ul",5),e.YNc(34,qT,8,12,"li",18),e.ALo(35,"search"),e.ALo(36,"uppercase"),e.qZA()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,10,"UserDetails.Available")),e.xp6(2),e.Q6J("ngIf",n.availableSearch||!n.isReadOnly),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,12,n.available,e.lcZ(10,15,n.availableSearchValue))),e.xp6(6),e.Q6J("disabled",n.availableCount<1||n.isReadOnly),e.xp6(4),e.Oqu(e.lcZ(19,17,"Common.Unassign")),e.xp6(3),e.Q6J("disabled",n.assignedCount<1||n.isReadOnly),e.xp6(4),e.Oqu(e.lcZ(26,19,"Common.Assign")),e.xp6(5),e.Oqu(e.lcZ(31,21,"UserDetails.Assigned")),e.xp6(2),e.Q6J("ngIf",n.assignedSearch||!n.isReadOnly),e.xp6(2),e.Q6J("ngForOf",e.xi3(35,23,n.assigned,e.lcZ(36,26,n.assignedSearchValue))))},dependencies:[N.mk,N.sg,N.O5,C.Fj,C.JJ,C.On,N.gd,$y,wt.X$],encapsulation:2}),i})();const jT=["RolePicker"];let Sa=(()=>{class i{constructor(t,n,c,m,M,Q){this.rolesService=t,this.userService=n,this.titleService=c,this.translate=m,this.toastr=M,this.securityService=Q,this.availableRoles=[],this.assignedRoles=[],this.restrictedPolicies=[],this.roleSearchValue=""}ngOnInit(){this.combinedObservable=(0,Mp.a)([this.rolesService.getRoles(),this.userService.getCachedUser()]).pipe((0,Wi.P)()).subscribe(t=>{this.availableRoles=t[0],this.assignedRoles=t[1].roles,this.user=t[1],this.matchRoles();const n=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Roles")+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(n)})}ngAfterViewInit(){this.rolePicker.assignedStream.subscribe(t=>{this.addRoles(t)}),this.rolePicker.unAssignedStream.subscribe(t=>{this.deleteRoles(t)})}ngOnDestroy(){this.combinedObservable.unsubscribe()}isPolicyRole(t){const n=this.securityService.policyClaims;for(let c=0;c<n.length;c++)if("role"===n[c].type&&n[c].value===t)return!0;return!1}matchRoles(){for(const t of this.assignedRoles)for(const n of this.availableRoles)n.name===t.name&&this.availableRoles.splice(this.availableRoles.indexOf(n),1)}addRoles(t){const n=t.map(c=>c.name);this.userService.addUserRoles(this.user.subject,n).subscribe(c=>{this.availableRoles=(0,Re.mn)(this.availableRoles.slice(),t);const m=this.assignedRoles.slice();this.assignedRoles=m.concat(t),this.rolePicker.availableCount=0,this.user.roles=this.assignedRoles.slice(),this.userService.userSubject.next(this.user),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},c=>{401===c.status&&this.toastr.warning(this.translate.instant("Roles.AssignUnauthorized"),this.translate.instant("Notifications.Unauthorized"))})}deleteRoles(t){const n=t.map(c=>c.name);this.userService.deleteUserRoles(this.user.subject,n).subscribe(c=>{this.assignedRoles=(0,Re.mn)(this.assignedRoles.slice(),t);const m=this.availableRoles.slice();this.availableRoles=m.concat(t),this.rolePicker.assignedCount=0,this.user.roles=this.assignedRoles.slice(),this.userService.userSubject.next(this.user),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},c=>{401===c.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.f),e.Y36(ps.K),e.Y36(a.Dx),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-roles"]],viewQuery:function(t,n){if(1&t&&e.Gf(jT,7),2&t){let c;e.iGM(c=e.CRH())&&(n.rolePicker=c.first)}},decls:3,vars:5,consts:[["id","editUserRoles",1,"tw-container","tw-mx-auto"],[3,"assignedInput","availableInput","restrictedInput","assignedSearch","availableSearch"],["RolePicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-common-picker",1,2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("assignedInput",n.assignedRoles)("availableInput",n.availableRoles)("restrictedInput",n.restrictedPolicies)("assignedSearch",!1)("availableSearch",!0))},dependencies:[Go],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var Kc=g(3110);const Op=["editClaimsForm"],zy=["addClaimModal"],$m=["deleteClaimModal"];function Yy(i,o){if(1&i&&(e.TgZ(0,"option",44)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(),c=t.$implicit;let m;e.Q6J("value",t.index),e.xp6(2),e.hij(" ",null!==(m=c.displayName)&&void 0!==m?m:c.name," ")}}function Xc(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Yy,3,2,"option",43),e.BQk()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!t.required&&"role"!=t.name&&"sub"!=t.name)}}function Ky(i,o){if(1&i&&e._UZ(0,"input",45),2&i){const t=e.oxw();e.Q6J("appClaimRegex",null==t.selectedClaim?null:t.selectedClaim.rule)}}function Xy(i,o){1&i&&e._UZ(0,"input",46)}function Np(i,o){1&i&&(e.TgZ(0,"div",15)(1,"select",47),e._UZ(2,"option"),e.TgZ(3,"option",48),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"option",49),e._uU(7),e.ALo(8,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(8,4,"Common.False")))}function kp(i,o){1&i&&(e.ynx(0),e._UZ(1,"app-date-time",52),e.BQk())}function Wm(i,o){1&i&&(e.ynx(0),e._UZ(1,"app-date-time",53),e.BQk()),2&i&&(e.xp6(1),e.Q6J("displayType","date"))}function $T(i,o){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,kp,2,0,"ng-container",51),e.YNc(2,Wm,2,1,"ng-container",51),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","birthdate"!=t.selectedClaim.name),e.xp6(1),e.Q6J("ngIf","birthdate"==t.selectedClaim.name)}}function rc(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"app-enum-claim-type-input",55),e.NdJ("valueChanged",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.claimsForm.controls.value.setValue(c))}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("id","value-for-"+t.selectedClaim.id),e.xp6(1),e.Q6J("id","claimsFormInput")("typeId",t.selectedClaim.id)("hostingModal","addClaimModal")("value",t.claimsForm.value.value)}}function Rp(i,o){if(1&i&&(e.TgZ(0,"p",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.selectedClaim.ruleValidationFailureDescription," ")}}function Qm(i,o){1&i&&(e.TgZ(0,"div",57)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"UserDetails.NoClaimsMessage")," "))}function eC(i,o){if(1&i&&(e.TgZ(0,"b"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.displayName)}}function Pp(i,o){if(1&i&&(e.TgZ(0,"b"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.type)}}function tC(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function nC(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"standardDate"),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.value),"")}}function iC(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"standardDateTime"),e.qZA()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.value),"")}}function sC(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,nC,3,3,"span",51),e.YNc(2,iC,3,3,"span",51),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf","birthdate"==t.type),e.xp6(1),e.Q6J("ngIf","birthdate"!=t.type)}}function rC(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.True")))}function oC(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.False")))}function Gm(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,rC,3,3,"div",51),e.YNc(2,oC,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf","true"==t.value),e.xp6(1),e.Q6J("ngIf","false"==t.value)}}function Lp(i,o){if(1&i&&(e.TgZ(0,"div",68),e.YNc(1,tC,2,1,"span",51),e.YNc(2,sC,3,2,"span",51),e.YNc(3,Gm,3,2,"span",51),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","DateTime"!=t.format&&"Boolean"!=t.format),e.xp6(1),e.Q6J("ngIf","DateTime"==t.format),e.xp6(1),e.Q6J("ngIf","Boolean"==t.format)}}function zm(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",73),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw(2),n=t.$implicit,c=t.index;e.Q6J("ngModel",n.value)("name","Claim"+c)("appClaimRegex",n.regex)}}function Up(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",74),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.value)}}function aC(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",76),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(3).$implicit;return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.value)}}function lC(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",77),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(3).$implicit;return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.value)("displayType","date")}}function Ym(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,aC,2,1,"ng-container",51),e.YNc(2,lC,2,2,"ng-container",51),e.TgZ(3,"span",75),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf","birthdate"!=t.type),e.xp6(1),e.Q6J("ngIf","birthdate"==t.type),e.xp6(2),e.hij(" ",e.lcZ(5,3,"Common.Dates.UTCWarning")," ")}}function Km(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span")(1,"div",15)(2,"select",78),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.TgZ(3,"option",48),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"option",49),e._uU(7),e.ALo(8,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngModel",t.value),e.xp6(2),e.Oqu(e.lcZ(5,3,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(8,5,"Common.False"))}}function kl(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span")(1,"app-enum-claim-type-input",79),e.NdJ("valueChanged",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.qZA()()}if(2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("id","claimsFormInput")("typeId",t.typeId)("value",t.value)}}function Xm(i,o){if(1&i&&(e.TgZ(0,"span",75),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.failureMessage," ")}}function eg(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"form",null,69),e.YNc(3,zm,1,3,"input",70),e.YNc(4,Up,1,1,"input",71),e.YNc(5,Ym,6,5,"div",51),e.YNc(6,Km,9,7,"span",51),e.YNc(7,kl,2,3,"span",51),e.YNc(8,Xm,2,1,"span",72),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf","String"==t.format),e.xp6(1),e.Q6J("ngIf","Int"==t.format),e.xp6(1),e.Q6J("ngIf","DateTime"==t.format),e.xp6(1),e.Q6J("ngIf","Boolean"==t.format),e.xp6(1),e.Q6J("ngIf","Enum"==t.format),e.xp6(1),e.Q6J("ngIf",null!=t.failureMessage)}}function cC(i,o){1&i&&(e.TgZ(0,"span",80),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function WT(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",81),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.editClaim(c))}),e._UZ(2,"span",82),e.TgZ(3,"span",12),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"button",83),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.delete(c))}),e._UZ(7,"span",11),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"Common.Edit")),e.xp6(5),e.Oqu(e.lcZ(10,4,"Common.Delete.Title")))}function Ku(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",84)(1,"button",85),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.updateClaim(c))}),e._UZ(2,"span",86),e.TgZ(3,"span",12),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"button",87),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.cancelEdit(c))}),e._UZ(7,"span",11),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(),n=t.$implicit,c=t.index,m=e.oxw(2);e.xp6(1),e.Q6J("disabled",m.notAllowedToEditClaim(n)||m.checkDisabled("Claim"+c)),e.xp6(3),e.Oqu(e.lcZ(5,3,"Common.Save")),e.xp6(5),e.Oqu(e.lcZ(10,5,"Common.Cancel"))}}const uC=function(i){return{"disabled inactive":i}};function tg(i,o){if(1&i&&(e.TgZ(0,"tr",63)(1,"td"),e.YNc(2,eC,2,1,"b",51),e.YNc(3,Pp,2,1,"b",51),e.qZA(),e.TgZ(4,"td"),e.YNc(5,Lp,4,3,"div",64),e.YNc(6,eg,9,6,"ng-container",51),e.qZA(),e.TgZ(7,"td"),e.YNc(8,cC,3,3,"span",65),e.qZA(),e.TgZ(9,"td"),e.YNc(10,WT,11,6,"div",66),e.YNc(11,Ku,11,7,"div",67),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("ngClass",e.VKq(8,uC,n.notAllowedToEditClaim(t))),e.xp6(2),e.Q6J("ngIf",t.displayName),e.xp6(1),e.Q6J("ngIf",!t.displayName),e.xp6(2),e.Q6J("ngIf",!t.editing),e.xp6(1),e.Q6J("ngIf",t.editing),e.xp6(2),e.Q6J("ngIf",n.isPolicyClaim(t)),e.xp6(2),e.Q6J("ngIf",!t.editing&&!n.notAllowedToEditClaim(t)),e.xp6(1),e.Q6J("ngIf",t.editing)}}function ng(i,o){if(1&i&&(e.TgZ(0,"table",58)(1,"thead")(2,"tr")(3,"th",59),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",60)(10,"span",12),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"th",60)(14,"span",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"tbody",61),e.YNc(18,tg,12,10,"tr",62),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,5,"Common.Name")," "),e.xp6(3),e.hij(" ",e.lcZ(8,7,"Common.Value")," "),e.xp6(4),e.hij("",e.lcZ(12,9,"Common.Policy")," "),e.xp6(4),e.Oqu(e.lcZ(16,11,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.optionalClaims)}}function ig(i,o){if(1&i&&e._UZ(0,"app-pager",88),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.optionalClaims?null:t.optionalClaims.length)}}const Xu=function(){return{animated:!1,backdrop:"static"}};let sg=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt){this.fb=t,this.userService=n,this.claimTypesService=c,this.translate=m,this.errorService=M,this.titleService=Q,this.toastr=ue,this.dialogService=Pe,this.apClaimsService=at,this.domSanitizer=Nt,this.editing=!1,this.optionalClaims=[],this.requiredClaims=[],this.parser=new DOMParser}ngOnInit(){this.combinedObservable=this.claimTypesService.getClaimTypes(null,null,!0).pipe((0,Zm.a)(this.userService.getCachedUser(),(t,n)=>({claimTypes:t,user:n})),(0,Wi.P)()).subscribe(t=>{this.claimTypes=t.claimTypes,this.user=t.user,this.claims=t.user.claims,this.sortClaims();const n=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Additional Details")+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(n)}),this.claimsForm=this.fb.group({type:[""],value:[""]},C.kI.required)}deleteClaim(t){this.userService.deleteUserClaim(this.user.subject,t).subscribe(n=>{this.closeDeleteModal();const c=this.optionalClaims.indexOf(t);this.optionalClaims.splice(c,1);const m=this.translate.instant("Notifications.Saving Success Title"),M=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(m,M),this.user.claims=this.optionalClaims.concat(this.requiredClaims),this.userService.userSubject.next(this.user)},n=>{401===n.status?this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarningDelete"),this.translate.instant("Notifications.Unauthorized")):this.errorService.handleError(n)})}delete(t){this.toDelete=t,this.deleteClaimModal.show()}closeDeleteModal(){this.toDelete=null,this.deleteClaimModal.hide()}closeAddModal(){this.addClaimModal.hide()}canDeactivate(){return!this.editing||!this.editClaimsForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}cancelEdit(t){t.value=t.oldValue,t.editing=!1,this.editing=!1}changeFormat(t){(!this.selectedClaim||this.selectedClaim&&this.claimTypes[t].valueType!==this.selectedClaim.valueType||"Enum"===this.selectedClaim.valueType)&&this.claimsForm.controls.value.setValue(null),this.selectedClaim=this.claimTypes[t]}editClaim(t){t.oldValue=t.value,t.editing=!0,this.editing=!0}addClaim(){"sub"!==this.selectedClaim.name&&("Int"===this.selectedClaim.valueType&&(this.claimsForm.value.value=this.claimsForm.value.value.toString()),this.currentClaim=this.claimsForm.value,this.currentClaim.type=this.selectedClaim.name,this.currentClaim.typeId=this.selectedClaim.id,this.currentClaim.format=this.selectedClaim.valueType,this.currentClaim.displayName=this.selectedClaim.displayName,this.submitClaim(this.currentClaim),this.closeAddModal())}checkDisabled(t){return!(!this.editClaimsForm||!this.editClaimsForm.controls[t])&&this.editClaimsForm.controls[t].invalid}updateClaim(t){"DateTime"===t.format&&(t.value=t.value),"Int"===t.format&&(t.value=t.value.toString()),this.userService.updateUserClaim(this.user.subject,{oldClaimType:t.type,oldClaimValue:t.oldValue,newClaimType:t.type,newClaimValue:t.value}).subscribe(c=>{t.editing=!1;const m=this.translate.instant("Notifications.Saving Success Title"),M=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(m,M),this.user.claims=this.optionalClaims.concat(this.requiredClaims),this.userService.userSubject.next(this.user),this.editing=!1},c=>{if(401===c.status)this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarningEdit"),this.translate.instant("Notifications.Unauthorized"));else{const m={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(c,m)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(m.toastBody,m.toastTitle)}})}submitClaim(t){this.userService.addUserClaim(this.user.subject,t).subscribe(n=>{this.currentClaim.editing=!1,this.selectedClaim=void 0,this.optionalClaims.push(this.currentClaim),this.claimsForm.setValue({type:"",value:""});const c=this.translate.instant("Notifications.Saving Success Title"),m=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(c,m),this.user.claims=this.optionalClaims.concat(this.requiredClaims),this.userService.userSubject.next(this.user)},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("UserDetails.UnauthorizedWarning"),this.translate.instant("Notifications.Unauthorized"));else{const c={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,c)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(c.toastBody,c.toastTitle)}})}sortClaims(){for(const t of this.claims)for(const n of this.claimTypes)if(n.name===t.type){const c={format:n.valueType,type:t.type,typeId:n.id,displayName:n.displayName,value:t.value,editing:!1,required:n.required};n.rule&&(c.regex=n.rule,c.failureMessage=n.ruleValidationFailureDescription),n.required?this.requiredClaims.push(c):this.optionalClaims.push(c)}}notAllowedToEditClaim(t){return this.apClaimsService.notAllowedToEditClaim(t)}isPolicyClaim(t){return this.apClaimsService.isPolicyClaim(t)}getAllowedValues(t){const n=this.claimTypes.find(c=>c.name===t.type);return n&&n.allowedValues||[]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(ps.K),e.Y36(so.M),e.Y36(wt.sK),e.Y36(O.T),e.Y36(a.Dx),e.Y36(Rn._W),e.Y36(Mo.x),e.Y36(Ol.n),e.Y36(a.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-additional-details"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Op,5),e.Gf(zy,7),e.Gf($m,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.editClaimsForm=c.first),e.iGM(c=e.CRH())&&(n.addClaimModal=c.first),e.iGM(c=e.CRH())&&(n.deleteClaimModal=c.first)}},decls:82,vars:58,consts:[["id","editUserClaims",1,"tw-container","tw-mx-auto"],[1,"cms"],["right",""],[1,"tw-btn-success",3,"click"],["bsModal","","id","addClaimModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addClaimModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content",3,"formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["formControlName","type","id","claimsFormDropdown",1,"tw-form-control",3,"change"],["disabled","","selected",""],[4,"ngFor","ngForOf"],[3,"id","label","isLast"],["class","tw-form-control","formControlName","value","type","text","name","string","id","claimsFormInput","required","",3,"appClaimRegex",4,"ngIf"],["class","tw-form-control","formControlName","value","type","number","name","number","id","claimsFormInput","required","",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-form-text-danger",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit",1,"tw-btn-success",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["bsModal","","id","deleteClaimModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteClaimModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-btn-danger",3,"click"],[3,"value",4,"ngIf"],[3,"value"],["formControlName","value","type","text","name","string","id","claimsFormInput","required","",1,"tw-form-control",3,"appClaimRegex"],["formControlName","value","type","number","name","number","id","claimsFormInput","required","",1,"tw-form-control"],["formControlName","value","id","claimsFormInput","required","",1,"tw-form-control"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","claimsFormInput","formControlName","value","required","true"],["id","claimsFormInput","formControlName","value","required","true",3,"displayType"],[1,"",3,"id"],[3,"id","typeId","hostingModal","value","valueChanged"],[1,"tw-form-text-danger"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"tw-w-1/4"],[1,"tw-w-1"],["id","claimsTable"],["class","claim",3,"ngClass",4,"ngFor","ngForOf"],[1,"claim",3,"ngClass"],["class","tw-truncate",4,"ngIf"],["class","tw-pill",4,"ngIf"],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-h-full",4,"ngIf"],[1,"tw-truncate"],["editClaimsForm","ngForm"],["class","tw-form-control","type","text","required","",3,"ngModel","name","appClaimRegex","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"ngModel","name","appClaimRegex","ngModelChange"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],[1,"tw-form-text"],["id","claimsFormInput","name","claimValue","required","true",3,"ngModel","ngModelChange"],["id","claimsFormInput","name","claimValue","required","true",3,"ngModel","displayType","ngModelChange"],["name","Boolean",1,"tw-form-control",3,"ngModel","ngModelChange"],[3,"id","typeId","value","valueChanged"],[1,"tw-pill"],["value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],[1,"tw-flex","tw-h-full"],["value","Save",1,"tw-btn-success","tw-mr-2",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-check"],["value","CancelEdit",1,"tw-btn",3,"click"],["hidePager","true",3,"totalResults"]],template:function(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"app-action-bar"),e.ynx(6,2),e.TgZ(7,"button",3),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(11);return e.KtG(M.show())}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(10,"div",4,5)(12,"div",6)(13,"form",7)(14,"div",8)(15,"h5",9),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"button",10),e.NdJ("click",function(){return n.closeAddModal()}),e._UZ(19,"span",11),e.TgZ(20,"span",12),e._uU(21),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"div",13)(24,"app-form-row",14)(25,"div",15)(26,"select",16),e.NdJ("change",function(M){return n.changeFormat(M.target.value)}),e._UZ(27,"option",17),e.YNc(28,Xc,2,1,"ng-container",18),e.qZA()()(),e.TgZ(29,"app-form-row",19),e.YNc(30,Ky,1,1,"input",20),e.YNc(31,Xy,1,0,"input",21),e.YNc(32,Np,9,6,"div",22),e.YNc(33,$T,3,2,"div",23),e.YNc(34,rc,2,5,"div",24),e.YNc(35,Rp,2,1,"p",25),e.qZA()(),e._UZ(36,"div",26),e.TgZ(37,"div",27)(38,"div",28)(39,"div",29)(40,"button",30),e.NdJ("click",function(){return n.addClaim()}),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"button",31),e.NdJ("click",function(){return n.closeAddModal()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()(),e.YNc(46,Qm,4,3,"div",32),e.YNc(47,ng,19,13,"table",33),e.YNc(48,ig,1,1,"app-pager",34),e.qZA(),e.TgZ(49,"div",35,36)(51,"div",37)(52,"div",38)(53,"div",8)(54,"h5",9),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"button",10),e.NdJ("click",function(){return n.closeDeleteModal()}),e._UZ(58,"span",11),e.TgZ(59,"span",12),e._uU(60),e.ALo(61,"translate"),e.qZA()()(),e.TgZ(62,"div",39)(63,"p",40),e._uU(64),e.ALo(65,"translate"),e.TgZ(66,"strong"),e._uU(67),e.qZA(),e._uU(68,"?"),e.qZA(),e._UZ(69,"p",41),e.ALo(70,"translate"),e.qZA(),e._UZ(71,"div",26),e.TgZ(72,"div",27)(73,"div",28)(74,"div",29)(75,"button",42),e.NdJ("click",function(){return n.deleteClaim(n.toDelete)}),e._uU(76),e.ALo(77,"translate"),e.qZA()(),e.TgZ(78,"button",31),e.NdJ("click",function(){return n.closeDeleteModal()}),e._uU(79),e.ALo(80,"translate"),e.qZA()()()()()(),e._UZ(81,"app-can-deactivate")}2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,32,"Users.Details.AdditionalDetailsBody")),e.xp6(5),e.hij(" ",e.lcZ(9,34,"Users.Details.AddClaim")," "),e.xp6(2),e.Q6J("config",e.DdM(56,Xu)),e.xp6(3),e.Q6J("formGroup",n.claimsForm),e.xp6(3),e.Oqu(e.lcZ(17,36,"Users.Details.AddClaim")),e.xp6(5),e.Oqu(e.lcZ(22,38,"Common.Close")),e.xp6(3),e.Q6J("id","claimsFormDropdown")("label","Common.Type"),e.xp6(4),e.Q6J("ngForOf",n.claimTypes),e.xp6(1),e.Q6J("id","claimsFormInput")("label","Common.Value")("isLast",!0),e.xp6(1),e.Q6J("ngIf","String"==(null==n.selectedClaim?null:n.selectedClaim.valueType)||""==n.claimsForm.controls.type.value),e.xp6(1),e.Q6J("ngIf","Int"==(null==n.selectedClaim?null:n.selectedClaim.valueType)),e.xp6(1),e.Q6J("ngIf","Boolean"==(null==n.selectedClaim?null:n.selectedClaim.valueType)),e.xp6(1),e.Q6J("ngIf","DateTime"==(null==n.selectedClaim?null:n.selectedClaim.valueType)),e.xp6(1),e.Q6J("ngIf","Enum"==(null==n.selectedClaim?null:n.selectedClaim.valueType)),e.xp6(1),e.Q6J("ngIf",null==n.selectedClaim?null:n.selectedClaim.ruleValidationFailureDescription),e.xp6(5),e.Q6J("disabled",!n.claimsForm.valid||""==n.claimsForm.controls.type.value),e.xp6(1),e.Oqu(e.lcZ(42,40,"Common.Add")),e.xp6(3),e.Oqu(e.lcZ(45,42,"Common.Cancel")),e.xp6(2),e.Q6J("ngIf",n.optionalClaims&&n.optionalClaims.length<=0),e.xp6(1),e.Q6J("ngIf",(null==n.optionalClaims?null:n.optionalClaims.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.optionalClaims?null:n.optionalClaims.length)>0),e.xp6(1),e.Q6J("config",e.DdM(57,Xu)),e.xp6(6),e.Oqu(e.lcZ(56,44,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(61,46,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(65,48,"Common.Delete.AreYouSure")," "),e.xp6(3),e.Oqu(null==n.toDelete?null:n.toDelete.type),e.xp6(2),e.Q6J("innerHTML",e.lcZ(70,50,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(77,52,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(80,54,"Common.Delete.No")))},dependencies:[N.mk,N.sg,N.O5,C._Y,C.YN,C.Kr,C.Fj,C.wV,C.EJ,C.JJ,C.JL,C.Q7,C.On,C.F,C.sg,C.u,gi.oB,ha,z.P,Ce.K,gt.L,ol.j,tc,Fm,Kc.C9,Kc.g9,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();function ed(i,o){1&i&&e._UZ(0,"app-simple-loader")}function td(i,o){1&i&&(e.TgZ(0,"div",27)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.Applications.None")))}function rg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",33)(1,"td",34),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.modalInfo(m))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",35),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.modalInfo(m))}),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"button",36),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.modalInfo(m))}),e._UZ(8,"span",37),e.TgZ(9,"span",15),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()}if(2&i){const t=o.$implicit;e.xp6(3),e.Oqu(t.clientName),e.xp6(2),e.hij(" ",t.clientDescription," "),e.xp6(5),e.Oqu(e.lcZ(11,3,"Common.Info"))}}function Zp(i,o){if(1&i&&(e.TgZ(0,"table",28)(1,"thead")(2,"tr")(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",29),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",30)(10,"span",15),e._uU(11),e.ALo(12,"translate"),e.qZA()()()(),e.TgZ(13,"tbody",31),e.YNc(14,rg,12,5,"tr",32),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"UserDetails.Name")),e.xp6(3),e.Oqu(e.lcZ(8,6,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(12,8,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.userApps)}}function og(i,o){if(1&i&&e._UZ(0,"app-pager",38),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.userApps?null:t.userApps.length)}}function Fp(i,o){if(1&i&&e._UZ(0,"input",51),2&i){const t=e.oxw(2);e.Q6J("value",t.selectedApp.expires)}}function eu(i,o){1&i&&(e._UZ(0,"input",51),e.ALo(1,"translate")),2&i&&e.Q6J("value",e.lcZ(1,1,"Common.Never"))}function dC(i,o){1&i&&(e.TgZ(0,"div",52)(1,"div",53),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.Applications.DataEncrypted")))}function ag(i,o){if(1&i&&(e.TgZ(0,"li",57)(1,"span",58),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t)}}function pC(i,o){if(1&i&&(e.TgZ(0,"dl")(1,"dt",54),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"dd")(5,"ul",55),e.YNc(6,ag,3,1,"li",56),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"Users.Applications.Accessible")),e.xp6(4),e.Q6J("ngForOf",t.selectedApp.scopes)}}const hC=function(){return{backdrop:"static",animated:!1,keyboard:!0}};function lg(i,o){if(1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"div",10)(3,"div",11)(4,"h5",12),e._uU(5),e.qZA(),e.TgZ(6,"button",13),e._UZ(7,"span",14),e.TgZ(8,"span",15),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",41)(12,"app-form-row",42),e._UZ(13,"input",43),e.qZA(),e.TgZ(14,"app-form-row",42),e._UZ(15,"input",44),e.qZA(),e.TgZ(16,"app-form-row",42)(17,"textarea",45),e._uU(18),e.qZA()(),e.TgZ(19,"app-form-row",42),e._UZ(20,"input",46),e.qZA(),e.TgZ(21,"app-form-row",42),e._UZ(22,"input",47),e.qZA(),e.TgZ(23,"app-form-row",42),e.YNc(24,Fp,1,1,"input",48),e.YNc(25,eu,2,3,"input",48),e.qZA(),e.YNc(26,dC,4,3,"div",49),e.YNc(27,pC,7,4,"dl",2),e.qZA(),e.TgZ(28,"div",20)(29,"div",21)(30,"div",22)(31,"button",50),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"button",24),e._uU(35),e.ALo(36,"translate"),e.qZA()()()()()()),2&i){const t=e.oxw();e.Q6J("config",e.DdM(32,hC)),e.xp6(5),e.Oqu(t.selectedApp.clientName),e.xp6(4),e.Oqu(e.lcZ(10,26,"Common.Close")),e.xp6(3),e.Q6J("id","selectedAppName")("label","Common.Name"),e.xp6(1),e.Q6J("value",t.selectedApp.clientName),e.xp6(1),e.Q6J("id","selectedAppName")("label","Common.LogoURL"),e.xp6(1),e.Q6J("value",t.selectedApp.clientLogoUrl),e.xp6(1),e.Q6J("id","selectedAppDescription")("label","Common.Description"),e.xp6(2),e.Oqu(t.selectedApp.clientDescription),e.xp6(1),e.Q6J("id","selectedAppURL")("label","Common.URL"),e.xp6(1),e.Q6J("value",t.selectedApp.clientUrl),e.xp6(1),e.Q6J("id","selectedAppCreated")("label","Common.Created"),e.xp6(1),e.Q6J("value",t.selectedApp.created),e.xp6(1),e.Q6J("id","selectedAppExpires")("label","Common.Expires"),e.xp6(1),e.Q6J("ngIf",t.selectedApp.expires),e.xp6(1),e.Q6J("ngIf",!t.selectedApp.expires),e.xp6(1),e.Q6J("ngIf",t.selectedApp.scopes.length<1),e.xp6(1),e.Q6J("ngIf",(null==t.selectedApp?null:t.selectedApp.scopes.length)>0),e.xp6(5),e.Oqu(e.lcZ(33,28,"Users.Applications.Revoke")),e.xp6(3),e.Oqu(e.lcZ(36,30,"Common.Cancel"))}}const nd=function(){return{backdrop:"static",animated:!1}};function cg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h5",12),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",13),e._UZ(8,"span",14),e.TgZ(9,"span",15),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",16)(13,"p",17),e._uU(14),e.ALo(15,"translate"),e.TgZ(16,"strong"),e._uU(17),e.qZA(),e._uU(18),e.ALo(19,"translate"),e.TgZ(20,"strong"),e._uU(21),e.qZA(),e._uU(22,"."),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",20)(27,"div",21)(28,"div",22)(29,"button",23),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.revokeSingle(c.selectedApp.clientId))}),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"button",60),e._uU(33),e.ALo(34,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.Q6J("config",e.DdM(24,nd)),e.xp6(5),e.hij(" ",e.lcZ(6,10,"Users.Applications.RevokeApp")," "),e.xp6(5),e.Oqu(e.lcZ(11,12,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(15,14,"Users.Applications.RevokeUserConfirm")," "),e.xp6(3),e.Oqu(t.selectedApp.clientName),e.xp6(1),e.hij(" ",e.lcZ(19,16,"Users.Applications.ForUser")," "),e.xp6(3),e.Oqu(t.user.username),e.xp6(3),e.Oqu(e.lcZ(25,18,"Common.AreYouSureContinue")),e.xp6(6),e.hij(" ",e.lcZ(31,20,"Users.Applications.RevokeYes")," "),e.xp6(3),e.Oqu(e.lcZ(34,22,"Common.Cancel"))}}let QT=(()=>{class i{constructor(t,n,c,m){this.titleService=t,this.userService=n,this.translate=c,this.toastr=m,this.isLoading=!0,this.isUnavailable=!1}ngOnInit(){this.userService.getCachedUser().pipe((0,ae.q)(1)).subscribe(t=>{this.user=t,this.userService.getUserApps(this.user.subject).subscribe(n=>{this.userApps=n,this.isLoading=!1,this.isUnavailable=!1;const c=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Applications")+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(c)},n=>{this.isLoading=!1})})}modalInfo(t){this.selectedApp=t}revokeAll(){this.userService.revokeAllUserApps(this.user.subject).subscribe(t=>{this.toastr.success(this.translate.instant("Notifications.AllAppsRevoked"),this.translate.instant("Notifications.Success")),this.userApps=[]},t=>{this.toastr.error(t,this.translate.instant("Notifications.Failure"))})}revokeSingle(t){this.userService.revokeSingleUserApp(this.user.subject,t).subscribe(n=>{this.toastr.success(this.translate.instant("Notifications.AppRevoked"),this.translate.instant("Notifications.Success"));const c=this.userApps.findIndex(m=>m.clientId===t);this.userApps.splice(c,1)},n=>{this.toastr.error(n,this.translate.instant("Notifications.Failure"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Dx),e.Y36(ps.K),e.Y36(wt.sK),e.Y36(Rn._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-applications"]],decls:45,vars:32,consts:[["id","editUserApplications",1,"tw-container","tw-mx-auto"],[1,"cms"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],["data-toggle","modal","data-target","#revokeAllModal",1,"tw-btn-danger","tw-mb-3"],["id","revokeAllModal","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["bsModal","","id","appInfoModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["bsModal","","id","revokeAppModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["id","userAppList"],["class","group",4,"ngFor","ngForOf"],[1,"group"],["data-toggle","modal","data-target","#appInfoModal",1,"tw-max-w-0","tw-truncate",3,"click"],["data-toggle","modal","data-target","#appInfoModal",1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],["data-toggle","modal","data-target","#appInfoModal",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["hidePager","true",3,"totalResults"],["bsModal","","id","appInfoModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-body","scrollbars"],[3,"id","label"],["id","selectedAppName","readonly","",1,"tw-form-control",3,"value"],["id","selectedAppLogoUrl","readonly","",1,"tw-form-control",3,"value"],["id","selectedAppDescription","readonly","",1,"tw-form-control"],["id","selectedAppURL","readonly","",1,"tw-form-control",3,"value"],["id","selectedAppCreated","readonly","",1,"tw-form-control",3,"value"],["id","selectedAppExpires","class","tw-form-control","readonly","",3,"value",4,"ngIf"],["class","tw-alert-warning","role","alert",4,"ngIf"],["data-dismiss","modal","data-toggle","modal","data-target","#revokeAppModal",1,"tw-btn-danger"],["id","selectedAppExpires","readonly","",1,"tw-form-control",3,"value"],["role","alert",1,"tw-alert-warning"],["id","DataEncryptedWarning"],[1,"tw-font-semibold","tw-text-sm","tw-mb-2"],[1,"tw-flex","tw-flex-wrap","tw-item-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngFor","ngForOf"],[1,"tw-pt-2","tw-pl-2"],[1,"tw-pill"],["bsModal","","id","revokeAppModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["data-dismiss","modal","data-toggle","modal","data-target","#appInfoModal",1,"tw-btn-link","tw--mr-4"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,ed,1,0,"app-simple-loader",2),e.YNc(6,td,4,3,"div",3),e.YNc(7,Zp,15,10,"table",4),e.YNc(8,og,1,1,"app-pager",5),e.qZA(),e.TgZ(9,"app-button-bar"),e.ynx(10,6),e.TgZ(11,"button",7),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"h5",12),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",13),e._UZ(22,"span",14),e.TgZ(23,"span",15),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"div",16)(27,"p",17),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"p",18),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e._UZ(33,"div",19),e.TgZ(34,"div",20)(35,"div",21)(36,"div",22)(37,"button",23),e.NdJ("click",function(){return n.revokeAll()}),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"button",24),e._uU(41),e.ALo(42,"translate"),e.qZA()()()()()(),e.YNc(43,lg,37,33,"div",25),e.YNc(44,cg,35,25,"div",26)),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,15,"Users.Applications.Access")),e.xp6(2),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",0==(null==n.userApps?null:n.userApps.length)&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.userApps?null:n.userApps.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.userApps?null:n.userApps.length)>0&&!n.isLoading),e.xp6(4),e.hij(" ",e.lcZ(13,17,"Users.Applications.RevokeAll")," "),e.xp6(2),e.Q6J("config",e.DdM(31,nd)),e.xp6(5),e.Oqu(e.lcZ(20,19,"Users.Applications.RevokeAll")),e.xp6(5),e.Oqu(e.lcZ(25,21,"Common.Close")),e.xp6(4),e.Oqu(e.lcZ(29,23,"Users.Applications.RevokeConfirm")),e.xp6(3),e.Oqu(e.lcZ(32,25,"Common.Delete.Warning")),e.xp6(7),e.Oqu(e.lcZ(39,27,"Users.Applications.RevokeAll")),e.xp6(3),e.Oqu(e.lcZ(42,29,"Users.Applications.DontRevokeAll")),e.xp6(2),e.Q6J("ngIf",n.selectedApp),e.xp6(1),e.Q6J("ngIf",n.selectedApp))},dependencies:[N.sg,N.O5,gi.oB,z.P,io.w,cl,gt.L,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();class ug{constructor(o){this.id=o.id,this.clientId=o.clientId,this.clientName=o.clientName,this.description=o.description,this.enabled=o.enabled,this.selected=!1,this.nonEditable=o.nonEditable}}var Rl=g(9012),fC=g(9002);class $n{constructor(o,t){this.component=o,this.data=t}}var Vn=(()=>{return(i=Vn||(Vn={})).Home="Home",i.SinglePageApplication="SinglePageApplication",i.WebApplication="WebApplication",i.NativeApplication="NativeApplication",i.RobotApplication="RobotApplication",i.CIBARobotApplication="CIBARobotApplication",i.DeviceApplication="DeviceApplication",i.SamlApplication="SamlApplication",i.WsFedApplication="WsFedApplication",i.LegacySinglePageApplication="LegacySinglePageApplication",i.PKCEWebApplication="PKCEWebApplication",i.PKCENativeApplication="PKCENativeApplication",i.ImportWizard="ImportWizard",Vn;var i})(),Pi=g(9848);let ul=(()=>{class i{constructor(t){this.fb=t}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",C.kI.required]})}getStepSummary(){const t=new Map;return t.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===Pi.B.BrowserBased||this.data.clientType===Pi.B.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Re.RW)(this.callbackUrlForm.get("callbackUrl").value),t.set("corsurl",[this.corsUrl])),t}getStepDTO(){const t=this.getStepSummary(),n={};return t.forEach((c,m)=>{"corsurl"===m&&(m="allowedCorsOrigins"),"callbackUrl"===m&&(m="redirectUris"),n[m]=c}),n}canNext(){return this.callbackUrlForm.valid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p",1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"form",2)(4,"app-form-row",3),e._UZ(5,"input",4),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,6,"Clients.CallbackURL"),e.oJD),e.xp6(2),e.Q6J("formGroup",n.callbackUrlForm),e.xp6(1),e.Q6J("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,gt.L,wt.X$],encapsulation:2}),i})();class Pl{constructor(o){this.clientType=o}}const mC=["commonPicker"];let dg=(()=>{class i{constructor(t,n){this.wizardResourceService=n,this.resourceType=t}hosted(){}ngOnInit(){}getStepSummary(){const n=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(c=>c.name);return new Map([[this.resourceType,n]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(c=>c.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}}return i.\u0275fac=function(t){e.$Z()},i.\u0275dir=e.lG2({type:i,viewQuery:function(t,n){if(1&t&&e.Gf(mC,7),2&t){let c;e.iGM(c=e.CRH())&&(n.commonPicker=c.first)}}}),i})();var Oo=g(7733),Bp=g(5309);function gC(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.ProtectedResourcesAccess")))}function _C(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.IdentityResourcesAccess")))}let ja=(()=>{class i extends dg{constructor(t,n){super("protectedResources",n),this.protectedResourceService=t,this.wizardResourceService=n,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(t=>{const n=[];t.forEach(c=>{c.scopes.forEach(m=>{n.find(M=>M.name==m.name)||n.push(m)})}),this.resources=n})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(t=>{this.resources=(0,Re.mn)(this.resources.slice(),t);const n=this.assignedResources.slice();this.assignedResources=n.concat(t),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(t=>{const n=this.resources;this.assignedResources=(0,Re.mn)(this.assignedResources.slice(),t),this.resources=n.concat(t),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Oo.m),e.Y36(Bp.j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e.qOj],decls:5,vars:4,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"],["commonPicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,gC,3,3,"p",1),e.YNc(2,_C,3,3,"p",1),e.qZA(),e._UZ(3,"app-common-picker",2,3)),2&t&&(e.xp6(1),e.Q6J("ngIf","protectedResources"==n.resourceType),e.xp6(1),e.Q6J("ngIf","identityResources"==n.resourceType),e.xp6(1),e.Q6J("assignedInput",n.assignedResources)("availableInput",n.resources))},dependencies:[N.O5,Go,wt.X$],encapsulation:2}),i})();var Fn=g(8506);function pg(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.ProtectedResourcesAccess")))}function hg(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.IdentityResourcesAccess")))}let fa=(()=>{class i extends dg{constructor(t,n){super("identityResources",n),this.identityResourceService=t,this.wizardResourceService=n,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(t=>{const n=t.find(c=>"openid"===c.name);n&&(t.splice(t.indexOf(n),1),this.assignedResources=[n],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=t})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(t=>{this.resources=(0,Re.mn)(this.resources.slice(),t);const n=this.assignedResources.slice();this.assignedResources=n.concat(t),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(t=>{const n=this.resources;this.assignedResources=(0,Re.mn)(this.assignedResources.slice(),t),this.resources=n.concat(t),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Fn.Q),e.Y36(Bp.j))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e.qOj],decls:5,vars:4,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"],["commonPicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,pg,3,3,"p",1),e.YNc(2,hg,3,3,"p",1),e.qZA(),e._UZ(3,"app-common-picker",2,3)),2&t&&(e.xp6(1),e.Q6J("ngIf","protectedResources"==n.resourceType),e.xp6(1),e.Q6J("ngIf","identityResources"==n.resourceType),e.xp6(1),e.Q6J("assignedInput",n.assignedResources)("availableInput",n.resources))},dependencies:[N.O5,Go,wt.X$],encapsulation:2}),i})();var Vp=g(1660);const vC=["secretPicker"];let Ll=(()=>{class i{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const t=new Map;return t.set("secrets",this.secrets.map(n=>n.type)),t}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(t=>{this.secretPicker.clientSecrets.push(t)}),this.secretPicker.secretsRemoveStream.subscribe(t=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(t),1)})}filePickerStateChanged(t){this.filePickerClosed=!t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-secret-picker"]],viewQuery:function(t,n){if(1&t&&e.Gf(vC,7),2&t){let c;e.iGM(c=e.CRH())&&(n.secretPicker=c.first)}},decls:5,vars:6,consts:[[1,"tw-mb-4"],[3,"clientSecrets","nonModelCertPicker","showCreatedColumn","filepickerDisplayed"],["secretPicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"p",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"app-secret-picker",1,2),e.NdJ("filepickerDisplayed",function(m){return n.filePickerStateChanged(m)}),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,4,"Clients.NativeApp.Secrets")),e.xp6(2),e.Q6J("clientSecrets",n.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[Vp.P,wt.X$],encapsulation:2,data:{animation:[(0,_o.Ic)()]}}),i})(),id=(()=>{class i{constructor(t){this.fb=t}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",C.kI.pattern("^https?://.*$")]})}getStepSummary(){const t="logoutUrl",n=new Map,c=this.logoutUrlForm.value[t];return(0,Re.Ew)(c)||n.set(t,[c]),n}getStepDTO(){const t=this.logoutUrlForm.value.logoutUrl;return(0,Re.Ew)(t)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[t]}}canNext(){return this.logoutUrlForm.valid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p",1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"form",2)(4,"app-form-row",3),e._UZ(5,"input",4),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,6,"Clients.PostLogoutURL"),e.oJD),e.xp6(2),e.Q6J("formGroup",n.logoutUrlForm),e.xp6(1),e.Q6J("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,gt.L,wt.X$],encapsulation:2}),i})(),sd=(()=>{class i{constructor(){this.map=new Map,this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval")}transform(t,n){return this.map.get(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"keyToString",type:i,pure:!0}),i})();function yC(i,o){1&i&&(e.TgZ(0,"div")(1,"app-form-row",2),e._UZ(2,"input",13),e.qZA(),e.TgZ(3,"app-form-row",2),e._UZ(4,"input",14),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),e.xp6(2),e.Q6J("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function CC(i,o){1&i&&(e.TgZ(0,"app-form-row",10)(1,"app-form-toggle",15),e._UZ(2,"input",16),e.qZA()()),2&i&&(e.Q6J("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),e.xp6(1),e.Q6J("id","requireConsent"))}let xa=(()=>{class i{constructor(t){this.fb=t,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[C.kI.required,C.kI.maxLength(100)]],clientName:["",[C.kI.required,C.kI.maxLength(50)]],description:["",C.kI.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===Pi.B.Native||this.data.clientType===Pi.B.NativePKCE||this.data.clientType===Pi.B.BrowserBased||this.data.clientType===Pi.B.LegacyClientSide||this.data.clientType===Pi.B.ServerSide||this.data.clientType===Pi.B.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new C.p4("",C.kI.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new C.p4("",C.kI.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new C.p4(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Re.qs)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const t=new Map;for(const n in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(n)&&t.set("clientId"===n?this.clientIdKey:n,[this.descriptionForm.value[n]]);return t.delete("clientType"),t}getStepDTO(){const t=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(t.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(t.logoUri=null)),t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"div",1)(5,"app-form-row",2),e.ALo(6,"keyToString"),e.TgZ(7,"div",3),e._UZ(8,"input",4),e.TgZ(9,"button",5),e.NdJ("click",function(){return n.setRandomID()}),e._UZ(10,"span",6),e.TgZ(11,"span",7),e._uU(12),e.ALo(13,"translate"),e.qZA()()()(),e.TgZ(14,"app-form-row",2),e._UZ(15,"input",8),e.qZA(),e.YNc(16,yC,5,6,"div",9),e.TgZ(17,"app-form-row",10)(18,"textarea",11),e.NdJ("blur",function(){return n.desFocus=!n.desFocus})("focus",function(){return n.desFocus=!n.desFocus}),e.qZA()(),e.YNc(19,CC,3,5,"app-form-row",12),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,15,"Clients.EnterBasicDetails")),e.xp6(2),e.Q6J("formGroup",n.descriptionForm),e.xp6(1),e.Q6J("id","ClientId")("label",e.lcZ(6,17,n.clientIdKey))("help","Clients.IDHelp"),e.xp6(7),e.Oqu(e.lcZ(13,19,"Common.GenerateRandom")),e.xp6(2),e.Q6J("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.xp6(2),e.Q6J("ngIf",n.hasExtraFields),e.xp6(1),e.Q6J("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!n.hasExtraFields),e.xp6(2),e.Q6J("ngIf",n.hasExtraFields))},dependencies:[N.O5,C.Fj,C.Wl,C.JJ,C.JL,C.sg,C.u,gt.L,_s.O,wt.X$,sd],encapsulation:2}),i})(),Ul=(()=>{class i{}return i.Default="clientId",i.Saml="entityId",i.WsFed="realm",i})();class zo{constructor(o,t=Ul.Default){this.clientType=o,this.clientIdKey=t}}function Zl(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.SloEndpoints")))}function wC(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.AcsEndpoints")))}function Hp(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.ArsEndpoints")))}function Jp(i,o){1&i&&(e.TgZ(0,"option",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.Post")))}function bC(i,o){1&i&&(e.TgZ(0,"option",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.Redirect")))}function zT(i,o){1&i&&(e.TgZ(0,"option",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.Artifact")))}function YT(i,o){1&i&&(e.TgZ(0,"option",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.Soap")))}let fg=(()=>{class i{constructor(t){this.fb=t}hosted(){}ngOnInit(){const t=[C.kI.pattern("^https?://.*$")],n=[];"ACSEndpoint"===this.data.endpointType&&(t.push(C.kI.required),n.push(C.kI.required)),this.endpointForm=this.fb.group({location:["",t],index:[0,[C.kI.min(0),C.kI.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",n]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const t=this.endpointForm.get("location"),n=this.endpointForm.get("binding");this.valueChangesSub=t.valueChanges.subscribe(c=>{n.setValidators(c.length>0?C.kI.required:null),n.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let t,n;switch(this.data.endpointType){case"SLOEndpoint":t="SLOBindingType",n="SLOEndpointIndex";break;case"ACSEndpoint":t="ACSBindingType",n="ACSEndpointIndex";break;default:t="ARSBindingType",n="ARSEndpointIndex"}const c=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[t]:this.endpointForm.get("binding").value,[n]:c}}}canNext(){return this.endpointForm.valid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Zl,3,3,"p",1),e.YNc(2,wC,3,3,"p",1),e.YNc(3,Hp,3,3,"p",1),e.qZA(),e.TgZ(4,"form",2)(5,"app-form-row",3),e._UZ(6,"input",4),e.qZA(),e.TgZ(7,"app-form-row",3)(8,"div",5)(9,"select",6),e.YNc(10,Jp,3,3,"option",7),e.YNc(11,bC,3,3,"option",8),e.YNc(12,zT,3,3,"option",9),e.YNc(13,YT,3,3,"option",10),e.qZA()()(),e.TgZ(14,"app-form-row",11),e._UZ(15,"input",12),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","SLOEndpoint"==n.data.endpointType),e.xp6(1),e.Q6J("ngIf","ACSEndpoint"==n.data.endpointType),e.xp6(1),e.Q6J("ngIf","ARSEndpoint"==n.data.endpointType),e.xp6(1),e.Q6J("formGroup",n.endpointForm),e.xp6(1),e.Q6J("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==n.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==n.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),e.xp6(2),e.Q6J("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),e.xp6(3),e.Q6J("ngIf","ARSEndpoint"!=n.data.endpointType),e.xp6(1),e.Q6J("ngIf","ARSEndpoint"!=n.data.endpointType),e.xp6(1),e.Q6J("ngIf","ARSEndpoint"!=n.data.endpointType),e.xp6(1),e.Q6J("ngIf","ARSEndpoint"==n.data.endpointType),e.xp6(1),e.Q6J("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[N.O5,C._Y,C.YN,C.Kr,C.Fj,C.wV,C.EJ,C.JJ,C.JL,C.qQ,C.sg,C.u,gt.L,wt.X$],encapsulation:2}),i})();class tu{constructor(o){this.clientType=o}}let XT=(()=>{class i{constructor(t){this.fb=t}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",C.kI.required],pollingInterval:["",C.kI.required]})}getStepSummary(){const t=new Map;return t.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),t.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===Pi.B.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,t.set("cibaLifetime",[this.cibaLifetime.toString()]),t.set("pollingInterval",[this.pollingInterval.toString()])),t}getStepDTO(){const t=this.getStepSummary(),n={};return t.forEach((c,m)=>{"cibaLifetime"===m&&(m="cibaLifetime"),"pollingInterval"===m&&(m="pollingInterval"),n[m]=c[0]}),n}canNext(){return this.cibaConfigForm.valid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p",1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"form",2)(4,"app-form-row",3),e._UZ(5,"input",4),e.qZA(),e.TgZ(6,"app-form-row",5),e._UZ(7,"input",6),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,9,"Clients.CIBAConfiguration"),e.oJD),e.xp6(2),e.Q6J("formGroup",n.cibaConfigForm),e.xp6(1),e.Q6J("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),e.xp6(2),e.Q6J("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[C._Y,C.Fj,C.wV,C.JJ,C.JL,C.sg,C.u,gt.L,wt.X$],encapsulation:2}),i})();class mg{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map,this.nameComponentMap.set(Vn.SinglePageApplication,[new $n(xa,new zo(Pi.B.BrowserBased)),new $n(ul,new Pl(Pi.B.BrowserBased)),new $n(id,new tu(Pi.B.BrowserBased)),new $n(fa,{}),new $n(ja,{})]),this.nameComponentMap.set(Vn.LegacySinglePageApplication,[new $n(xa,new zo(Pi.B.LegacyClientSide)),new $n(ul,new Pl(Pi.B.LegacyClientSide)),new $n(id,new tu(Pi.B.LegacyClientSide)),new $n(fa,{}),new $n(ja,{})]),this.nameComponentMap.set(Vn.SamlApplication,[new $n(xa,new zo(Pi.B.Saml,Ul.Saml)),new $n(fg,{endpointType:"ACSEndpoint"}),new $n(fg,{endpointType:"SLOEndpoint"}),new $n(fg,{endpointType:"ARSEndpoint"}),new $n(fa)]),this.nameComponentMap.set(Vn.WsFedApplication,[new $n(xa,new zo(Pi.B.WsFed,Ul.WsFed)),new $n(ul,new Pl(Pi.B.WsFed)),new $n(fa)]),this.nameComponentMap.set(Vn.DeviceApplication,[new $n(xa,new zo(Pi.B.Device)),new $n(ja,{}),new $n(fa,{})]),this.nameComponentMap.set(Vn.RobotApplication,[new $n(xa,new zo(Pi.B.Machine)),new $n(ja,{}),new $n(Ll,{})]),this.nameComponentMap.set(Vn.CIBARobotApplication,[new $n(xa,new zo(Pi.B.CIBAMachine)),new $n(fa,{}),new $n(ja,{}),new $n(Ll,{}),new $n(XT,{})]),this.nameComponentMap.set(Vn.NativeApplication,[new $n(xa,new zo(Pi.B.Native)),new $n(ul,new Pl(Pi.B.Native)),new $n(Ll,{}),new $n(fa,{}),new $n(ja,{})]),this.nameComponentMap.set(Vn.PKCENativeApplication,[new $n(xa,new zo(Pi.B.NativePKCE)),new $n(ul,new Pl(Pi.B.NativePKCE)),new $n(Ll,{}),new $n(fa,{}),new $n(ja,{})]),this.nameComponentMap.set(Vn.WebApplication,[new $n(xa,new zo(Pi.B.ServerSide)),new $n(ul,new Pl(Pi.B.ServerSide)),new $n(id,new tu(Pi.B.ServerSide)),new $n(Ll,{}),new $n(fa,{}),new $n(ja,{})]),this.nameComponentMap.set(Vn.PKCEWebApplication,[new $n(xa,new zo(Pi.B.ServerSidePKCE)),new $n(ul,new Pl(Pi.B.ServerSidePKCE)),new $n(id,new tu(Pi.B.ServerSidePKCE)),new $n(Ll,{}),new $n(fa,{}),new $n(ja,{})]),this.nameTitleMap.set(Vn.SinglePageApplication,new fo("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(Vn.LegacySinglePageApplication,new fo("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(Vn.DeviceApplication,new fo("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(Vn.RobotApplication,new fo("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(Vn.CIBARobotApplication,new fo("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(Vn.NativeApplication,new fo("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Vn.PKCENativeApplication,new fo("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Vn.WebApplication,new fo("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(Vn.PKCEWebApplication,new fo("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(Vn.SamlApplication,new fo("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(Vn.WsFedApplication,new fo("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(o){return this.nameComponentMap.get(o)}getWizardTitle(o){return this.nameTitleMap.get(o)}}class fo{constructor(o,t){this.setupTitle=o,this.summaryTitle=t}}let gg=(()=>{class i{constructor(t){this.viewContainerRef=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.s_b))},i.\u0275dir=e.lG2({type:i,selectors:[["","appStepHost",""]]}),i})(),_g=(()=>{class i{constructor(t){this.componentFactoryResolver=t,this.cancel=new e.vpe,this.finish=new e.vpe,this.hide=new e.vpe,this.index=0,this.progressPercent=0,this.wizardProvider=new mg}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(t){"Enter"===t.key&&this.canNext()&&this.nextTab()}hideWizard(){this.hide.emit()}cancelWizard(){this.cancel.emit()}finishWizard(){this.finish.emit(),this.cancel.emit()}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const t=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(t.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const n=this.componentFactoryResolver.resolveComponentFactory(this.wizardSteps[this.index].component),c=this.wizardHost.viewContainerRef.createComponent(n);this.components.set(this.index,c),c.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(t=>{t?.destroy()}),this.components.clear(),this.summaryComponentRef&&this.summaryComponentRef.destroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e._Vd))},i.\u0275dir=e.lG2({type:i,viewQuery:function(t,n){if(1&t&&e.Gf(gg,7),2&t){let c;e.iGM(c=e.CRH())&&(n.wizardHost=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},inputs:{wizardName:"wizardName"},outputs:{cancel:"cancel",finish:"finish",hide:"hide"}}),i})();function rd(i,o){if(1&i&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function TC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",10)(1,"td",11),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.jumpToTab(c.stepIndex))}),e.TgZ(2,"b"),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"keyToString"),e.qZA()(),e.TgZ(6,"td",12),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.jumpToTab(c.stepIndex))}),e.YNc(7,rd,2,1,"span",13),e.qZA(),e.TgZ(8,"td",11),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.jumpToTab(c.stepIndex))}),e.TgZ(9,"button",14),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw();return e.KtG(m.jumpToTab(c.stepIndex))}),e._UZ(10,"span",15),e.TgZ(11,"span",2),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&i){const t=o.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,3,e.lcZ(5,5,t.key))),e.xp6(4),e.Q6J("ngForOf",t.value),e.xp6(5),e.Oqu(e.lcZ(13,7,"Common.Edit"))}}function vg(i,o){if(1&i&&(e.ynx(0),e.YNc(1,TC,14,9,"tr",9),e.ALo(2,"keyvalue"),e.BQk()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.stepData))}}let AC=(()=>{class i{constructor(){this.emitNavigate=new e.vpe}ngOnInit(){}jumpToTab(t){this.emitNavigate.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-wizard-summary"]],decls:29,vars:19,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-block tw-truncate",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block","tw-truncate"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th")(14,"span",2),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"td",5)(24,"span",6),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e._UZ(27,"td",7),e.qZA(),e.YNc(28,vg,3,3,"ng-container",8),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,7,"Clients.Review")),e.xp6(6),e.Oqu(e.lcZ(9,9,"Common.Key")),e.xp6(3),e.Oqu(e.lcZ(12,11,"Common.Value")),e.xp6(4),e.Oqu(e.lcZ(16,13,"Common.Actions")),e.xp6(6),e.Oqu(e.lcZ(22,15,"Common.Type")),e.xp6(4),e.Oqu(e.lcZ(26,17,n.summaryTitle)),e.xp6(3),e.Q6J("ngForOf",n.summary))},dependencies:[N.sg,N.Nd,wt.X$,sd],encapsulation:2}),i})();function SC(i,o){}function xC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",!t.canNext()),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function DC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Save")))}function EC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.previousTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Back")))}function yg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.cancelWizard())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Back")))}let IC=(()=>{class i extends _g{constructor(t,n,c,m,M){super(t),this.componentFactoryResolver=t,this.clientsService=n,this.errorService=c,this.toastr=m,this.translate=M,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const t=[];this.wizardSteps.forEach((n,c)=>{const M=this.components.get(c).instance.getStepSummary();null!=M&&t.push({stepIndex:c,stepData:M})}),this.displaySummaryComponent(t)}displaySummaryComponent(t){if(this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef){this.wizardHost.viewContainerRef.detach();const n=this.componentFactoryResolver.resolveComponentFactory(AC);this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(n)}else this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView);this.summaryComponentRef.instance.summary=t,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,Wi.P)()).subscribe(n=>{this.index=n,this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let t={};return this.wizardSteps.forEach((n,c)=>{const M=this.components.get(c).instance.getStepDTO();t=Object.assign({},t,M)}),t}submit(){const t=this.getWizardDto();this.clientsService.addClient(t).subscribe(()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Clients.Created")+": "+t.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},n=>{this.errorService.handleError(n)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e._Vd),e.Y36(Rl.a),e.Y36(O.T),e.Y36(Rn._W),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-wizard-host"]],features:[e._Bn([Rl.a]),e.qOj],decls:24,vars:15,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return n.hideWizard()}),e._UZ(5,"span",3),e.TgZ(6,"span",4),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"div",5),e._UZ(10,"div",6),e.qZA(),e.TgZ(11,"div",7),e.YNc(12,SC,0,0,"ng-template",8),e.qZA(),e._UZ(13,"div",9),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12),e.YNc(17,xC,3,4,"button",13),e.YNc(18,DC,3,3,"button",14),e.YNc(19,EC,3,3,"button",15),e.YNc(20,yg,3,3,"button",15),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return n.cancelWizard()}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,9,n.wizardTitles.setupTitle)),e.xp6(5),e.Oqu(e.lcZ(8,11,"Common.Close")),e.xp6(3),e.Udp("width",n.progressPercent+"%"),e.xp6(7),e.Q6J("ngIf",n.index<(null==n.wizardSteps?null:n.wizardSteps.length)),e.xp6(1),e.Q6J("ngIf",n.index==(null==n.wizardSteps?null:n.wizardSteps.length)),e.xp6(1),e.Q6J("ngIf",n.index>0),e.xp6(1),e.Q6J("ngIf",n.index<=0),e.xp6(2),e.Oqu(e.lcZ(23,13,"Common.Cancel")))},dependencies:[N.O5,gg,wt.X$],encapsulation:2}),i})();const Cg=["addClientModal"];function wg(i,o){1&i&&e.GkF(0)}function qp(i,o){1&i&&e.GkF(0)}function eA(i,o){1&i&&e.GkF(0)}function jp(i,o){1&i&&e.GkF(0)}function MC(i,o){1&i&&e.GkF(0)}function tA(i,o){1&i&&e.GkF(0)}function oc(i,o){1&i&&e.GkF(0)}function bg(i,o){1&i&&e.GkF(0)}function Tg(i,o){if(1&i&&(e.TgZ(0,"option",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,"Clients.WizardTypes."+t))}}function od(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",32)(1,"app-form-row",33)(2,"div",34)(3,"select",35,36),e.NdJ("change",function(){e.CHM(t);const c=e.MAs(4),m=e.oxw(2);return e.KtG(m.setActive(c.value))}),e.YNc(5,Tg,3,4,"option",37),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.webAppSelectForm),e.xp6(1),e.Q6J("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),e.xp6(4),e.Q6J("ngForOf",t.webAppTypes)}}function ma(i,o){if(1&i&&(e.TgZ(0,"option",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,"Clients.WizardTypes."+t))}}function Ag(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",39)(1,"app-form-row",33)(2,"div",34)(3,"select",40,41),e.NdJ("change",function(){e.CHM(t);const c=e.MAs(4),m=e.oxw(2);return e.KtG(m.setActive(c.value))}),e.YNc(5,ma,3,4,"option",37),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.robotAppSelectForm),e.xp6(1),e.Q6J("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),e.xp6(4),e.Q6J("ngForOf",t.robotAppTypes)}}function OC(i,o){if(1&i&&(e.TgZ(0,"option",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,"Clients.WizardTypes."+t))}}function $p(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",42)(1,"app-form-row",33)(2,"div",34)(3,"select",43,44),e.NdJ("change",function(){e.CHM(t);const c=e.MAs(4),m=e.oxw(2);return e.KtG(m.setActive(c.value))}),e.YNc(5,OC,3,4,"option",37),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.nativeAppSelectForm),e.xp6(1),e.Q6J("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),e.xp6(4),e.Q6J("ngForOf",t.nativeAppTypes)}}function $a(i,o){1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.Selected")))}const Wp=function(i){return{"tw-bg-green-200":i}},Sg=function(i,o){return{"tw-bg-green-500":i,"tw-bg-grey-200":o}},Qp=function(i,o){return{"tw-text-white":i,"tw-text-grey-400 group-hover:tw-text-grey-700":o}},nA=function(i,o){return{"tw-text-green-800":i,"tw-text-navy-500":o}},xg=function(i,o){return{"tw-text-green-600":i,"tw-text-grey-600":o}},iA=function(i){return{"tw-text-green-300":i}};function ad(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",45)(1,"button",46),e.NdJ("click",function(){const m=e.CHM(t).type,M=e.oxw(2);return e.KtG(M.setActive(m))}),e.TgZ(2,"div",47),e._UZ(3,"span",48),e.YNc(4,$a,3,3,"span",49),e.qZA(),e.TgZ(5,"div",50)(6,"span",51),e._uU(7),e.qZA(),e.TgZ(8,"span",52),e._uU(9),e.qZA()(),e.TgZ(10,"div",53),e._UZ(11,"span",54),e.qZA()()()}if(2&i){const n=o.btnId,c=o.title,m=o.summary,M=o.icon,Q=o.selected;e.s9C("id",o.id),e.xp6(1),e.s9C("id",n),e.Q6J("ngClass",e.VKq(14,Wp,Q)),e.xp6(1),e.Q6J("ngClass",e.WLB(16,Sg,Q,!Q)),e.xp6(1),e.Q6J("ngClass",e.WLB(19,Qp,Q,!Q)),e.xp6(1),e.Q6J("ngIf",Q),e.xp6(2),e.Q6J("ngClass",e.WLB(22,nA,Q,!Q)),e.xp6(1),e.hij(" ",c," "),e.xp6(1),e.Q6J("ngClass",e.WLB(25,xg,Q,!Q)),e.xp6(1),e.hij(" ",m," "),e.xp6(2),e.Gre("",M," tw-text-black tw-text-grey-300 tw-text-3xl trans"),e.Q6J("ngClass",e.VKq(28,iA,Q))}}function ld(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.Home.Title")))}function Gp(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.SPA.Title")))}function zp(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.WebApp.Title")))}function Yp(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.NativeApp.Title")))}function sA(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.MachineToMachine.Title")))}function NC(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.CIBAMachineToMachine.Title")))}function kC(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.DeviceFlow.Title")))}function RC(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.Saml.Title")))}function PC(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.WsFed.Title")))}function Dg(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Clients.LegacySPA.Title")))}function rA(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.Home.Description"),e.oJD)}function LC(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.SPA.Description"),e.oJD)}function oA(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.WebApp.Description"),e.oJD)}function Eg(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.NativeApp.Description"),e.oJD)}function Ig(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.MachineToMachine.Description"),e.oJD)}function UC(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.CIBAMachineToMachine.Description"),e.oJD)}function Kp(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.DeviceFlow.Description"),e.oJD)}function aA(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.Saml.Description"),e.oJD)}function lA(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.WsFed.Description"),e.oJD)}function cA(i,o){1&i&&(e._UZ(0,"p",55),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Clients.LegacySPA.Description"),e.oJD)}const uA=function(i,o,t,n){return{id:"spaBtn",btnId:"spaTestBtn",title:i,summary:o,icon:"fab fa-chrome",selected:t,type:n}},dA=function(i,o,t,n){return{id:"webAppBtn",btnId:"webAppTestBtn",title:i,summary:o,icon:"fas fa-globe",selected:t,type:n}},pA=function(i,o,t,n){return{id:"nativeBtn",btnId:"nativeTestBtn",title:i,summary:o,icon:"fas fa-mobile-alt",selected:t,type:n}},hA=function(i,o,t,n){return{id:"robotBtn",btnId:"robotTestBtn",title:i,summary:o,icon:"fas fa-microchip",selected:t,type:n}},fA=function(i,o,t,n){return{id:"deviceBtn",btnId:"deviceTestBtn",title:i,summary:o,icon:"fas fa-wifi",selected:t,type:n}},mA=function(i,o,t,n){return{id:"samlBtn",btnId:"samlTestBtn",title:i,summary:o,icon:"fas fa-code",selected:t,type:n}},gA=function(i,o,t,n){return{id:"wsfedBtn",btnId:"wsfedTestBtn",title:i,summary:o,icon:"far fa-id-card",selected:t,type:n}},dl=function(i,o,t,n){return{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:i,summary:o,icon:"fab fa-chrome",selected:t,type:n}};function Xp(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h5",6),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",7),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.hide())}),e.ALo(6,"translate"),e._UZ(7,"span",8),e.qZA()(),e.TgZ(8,"div",9),e._UZ(9,"div",10,11),e.qZA(),e.TgZ(11,"div",12)(12,"p",13),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",14)(16,"ul",15),e.YNc(17,wg,1,0,"ng-container",16),e.ALo(18,"translate"),e.ALo(19,"translate"),e.YNc(20,qp,1,0,"ng-container",16),e.ALo(21,"translate"),e.ALo(22,"translate"),e.YNc(23,eA,1,0,"ng-container",16),e.ALo(24,"translate"),e.ALo(25,"translate"),e.YNc(26,jp,1,0,"ng-container",16),e.ALo(27,"translate"),e.ALo(28,"translate"),e.YNc(29,MC,1,0,"ng-container",16),e.ALo(30,"translate"),e.ALo(31,"translate"),e.YNc(32,tA,1,0,"ng-container",16),e.ALo(33,"translate"),e.ALo(34,"translate"),e.YNc(35,oc,1,0,"ng-container",16),e.ALo(36,"translate"),e.ALo(37,"translate"),e.YNc(38,bg,1,0,"ng-container",16),e.ALo(39,"translate"),e.ALo(40,"translate"),e.qZA()(),e.YNc(41,od,6,5,"form",17),e.YNc(42,Ag,6,5,"form",18),e.YNc(43,$p,6,5,"form",19),e.YNc(44,ad,12,30,"ng-template",null,20,e.W1O),e.TgZ(46,"div",21)(47,"h2",22),e._UZ(48,"span",23),e.YNc(49,ld,3,3,"span",24),e.YNc(50,Gp,3,3,"span",24),e.YNc(51,zp,3,3,"span",24),e.YNc(52,Yp,3,3,"span",24),e.YNc(53,sA,3,3,"span",24),e.YNc(54,NC,3,3,"span",24),e.YNc(55,kC,3,3,"span",24),e.YNc(56,RC,3,3,"span",24),e.YNc(57,PC,3,3,"span",24),e.YNc(58,Dg,3,3,"span",24),e.qZA(),e.YNc(59,rA,2,3,"p",25),e.YNc(60,LC,2,3,"p",25),e.YNc(61,oA,2,3,"p",25),e.YNc(62,Eg,2,3,"p",25),e.YNc(63,Ig,2,3,"p",25),e.YNc(64,UC,2,3,"p",25),e.YNc(65,Kp,2,3,"p",25),e.YNc(66,aA,2,3,"p",25),e.YNc(67,lA,2,3,"p",25),e.YNc(68,cA,2,3,"p",25),e.qZA()(),e._UZ(69,"div",26),e.TgZ(70,"div",27)(71,"div",28)(72,"div",29)(73,"button",30),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.choosePage())}),e._uU(74),e.ALo(75,"translate"),e.qZA()(),e.TgZ(76,"button",31),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.hide())}),e._uU(77),e.ALo(78,"translate"),e.qZA()()()()}if(2&i){const t=e.MAs(45),n=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,45,"Clients.Setup")),e.xp6(2),e.uIk("aria-label",e.lcZ(6,47,"Common.Close")),e.xp6(8),e.Oqu(e.lcZ(14,49,"Clients.SelectType")),e.xp6(4),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(87,uA,e.lcZ(18,51,"Clients.SPA.Title"),e.lcZ(19,53,"Clients.SPA.Summary"),n.activeType===n.wizardTypes.SinglePageApplication,n.wizardTypes.SinglePageApplication)),e.xp6(3),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(92,dA,e.lcZ(21,55,"Clients.WebApp.Title"),e.lcZ(22,57,"Clients.WebApp.Summary"),n.activeType===n.wizardTypes.WebApplication||n.activeType===n.wizardTypes.PKCEWebApplication,n.wizardTypes.PKCEWebApplication)),e.xp6(3),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(97,pA,e.lcZ(24,59,"Clients.NativeApp.Title"),e.lcZ(25,61,"Clients.PKCENativeApp.Summary"),n.activeType===n.wizardTypes.PKCENativeApplication||n.activeType==n.wizardTypes.NativeApplication,n.wizardTypes.PKCENativeApplication)),e.xp6(3),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(102,hA,e.lcZ(27,63,"Clients.MachineToMachine.Title"),e.lcZ(28,65,"Clients.MachineToMachine.Summary"),n.activeType===n.wizardTypes.RobotApplication,n.wizardTypes.RobotApplication)),e.xp6(3),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(107,fA,e.lcZ(30,67,"Clients.DeviceFlow.Title"),e.lcZ(31,69,"Clients.DeviceFlow.Summary"),n.activeType===n.wizardTypes.DeviceApplication,n.wizardTypes.DeviceApplication)),e.xp6(3),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(112,mA,e.lcZ(33,71,"Clients.Saml.Title"),e.lcZ(34,73,"Clients.Saml.Summary"),n.activeType===n.wizardTypes.SamlApplication,n.wizardTypes.SamlApplication)),e.xp6(3),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(117,gA,e.lcZ(36,75,"Clients.WsFed.Title"),e.lcZ(37,77,"Clients.WsFed.Summary"),n.activeType===n.wizardTypes.WsFedApplication,n.wizardTypes.WsFedApplication)),e.xp6(3),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.l5B(122,dl,e.lcZ(39,79,"Clients.LegacySPA.Title"),e.lcZ(40,81,"Clients.LegacySPA.Summary"),n.activeType===n.wizardTypes.LegacySinglePageApplication,n.wizardTypes.LegacySinglePageApplication)),e.xp6(3),e.Q6J("ngIf",n.activeType===n.wizardTypes.WebApplication||n.activeType===n.wizardTypes.PKCEWebApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.RobotApplication||n.activeType===n.wizardTypes.CIBARobotApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.NativeApplication||n.activeType===n.wizardTypes.PKCENativeApplication),e.xp6(6),e.Q6J("ngIf",n.activeType===n.wizardTypes.Home),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.SinglePageApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.WebApplication||n.activeType===n.wizardTypes.PKCEWebApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.NativeApplication||n.activeType===n.wizardTypes.PKCENativeApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.RobotApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.CIBARobotApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.DeviceApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.SamlApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.WsFedApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.LegacySinglePageApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.Home),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.SinglePageApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.WebApplication||n.activeType===n.wizardTypes.PKCEWebApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.NativeApplication||n.activeType===n.wizardTypes.PKCENativeApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.RobotApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.CIBARobotApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.DeviceApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.SamlApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.WsFedApplication),e.xp6(1),e.Q6J("ngIf",n.activeType===n.wizardTypes.LegacySinglePageApplication),e.xp6(5),e.Q6J("disabled",n.activeType===n.wizardTypes.Home),e.xp6(1),e.Oqu(e.lcZ(75,83,"Common.Start")),e.xp6(3),e.Oqu(e.lcZ(78,85,"Common.Cancel"))}}function ZC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"app-client-wizard-host",56),e.NdJ("cancel",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onCancel())})("finish",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onFinish())})("hide",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.hide())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("wizardName",t.pageType)}}const Mg=function(){return{animated:!1,backdrop:"static",keyboard:!1}};let eh=(()=>{class i{constructor(t,n){this.fb=t,this.translate=n,this.finish=new e.vpe,this.pageType=Vn.Home,this.activeType=Vn.SinglePageApplication,this.showWizard=!1,this.wizardProvider=new mg,this.wizardTypes=Vn,this.webAppTypes=[Vn.PKCEWebApplication,Vn.WebApplication],this.robotAppTypes=[Vn.RobotApplication,Vn.CIBARobotApplication],this.nativeAppTypes=[Vn.PKCENativeApplication,Vn.NativeApplication]}ngOnInit(){this.setWebAppSelection(this.webAppTypes[0]),this.setRobotAppSelection(this.robotAppTypes[0]),this.setNativeAppSelection(this.nativeAppTypes[0])}setWebAppSelection(t){(t===Vn.WebApplication||t===Vn.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:t}))}setRobotAppSelection(t){(t===Vn.RobotApplication||t===Vn.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:t}))}setNativeAppSelection(t){(t===Vn.NativeApplication||t===Vn.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:t}))}setActive(t){this.activeType=t,this.setWebAppSelection(t),this.setRobotAppSelection(t),this.setNativeAppSelection(t)}choosePage(){this.pageType=this.activeType,this.showWizard=!0}onCancel(){this.pageType=Vn.Home,this.activeType=Vn.SinglePageApplication,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.addClientModal.hide(),setTimeout(()=>{this.onCancel()},500)}show(){this.addClientModal.show()}ngOnDestroy(){this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-wizard"]],viewQuery:function(t,n){if(1&t&&e.Gf(Cg,7),2&t){let c;e.iGM(c=e.CRH())&&(n.addClientModal=c.first)}},outputs:{finish:"finish"},decls:6,vars:4,consts:[["bsModal","","id","clientWizardModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addClientModal","bs-modal"],[1,"modal-dialog"],["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"sr-only"],[1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["commonTypeButton",""],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],["webAppSelection",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["robotAppSelection",""],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"],["nativeAppSelection",""],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","trans","hover:tw-shadow-md","md:tw-pr-16",3,"id","ngClass","click"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","trans",3,"ngClass"],[1,"fas","fa-check","tw-text-xl","trans",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","trans",3,"ngClass"],[1,"tw-block","tw-text-xs","trans",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","trans","md:tw-flex"],[3,"ngClass"],[3,"innerHTML"],[3,"wizardName","cancel","finish","hide"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2),e.ynx(3),e.YNc(4,Xp,79,127,"div",3),e.YNc(5,ZC,2,1,"div",3),e.BQk(),e.qZA()()),2&t&&(e.Q6J("config",e.DdM(3,Mg)),e.xp6(4),e.Q6J("ngIf",n.pageType===n.wizardTypes.Home),e.xp6(1),e.Q6J("ngIf",n.showWizard))},dependencies:[N.mk,N.sg,N.O5,N.tP,C._Y,C.YN,C.Kr,C.EJ,C.JJ,C.JL,C.sg,C.u,gi.oB,gt.L,IC,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var cd=g(3111),ud=g(2723),th=g(2449),pl=g(7393);class Og extends cd.yr{constructor(o,t=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=ud.C.DoNotSet,this.certificateAction=th.R6.DoNotSet,this.identifier=o.identifier,this.resourceType=o.resourceType,this.resourceState=o.resourceState,this.displayType=o.displayType,this.displayName=o.displayName,this.conflicts=o.conflicts,this.dependantClients=o.dependantClients,this.hadSecrets=o.hadSecrets,this.hadCertificates=o.hadCertificates,this.existingHasSecrets=o.existingHasSecrets,this.existingHasCertificates=o.existingHasCertificates,this.selected=t,this.certificates=new pl.w}set selected(o){this.isSelectable&&(this._selected=o)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==cd.vZ.Duplicate&&this.resourceType===cd.JR.Client}}var FC=g(6297),BC=g(7481),Ng=g(7331),VC=g(3553),HC=g(9659);function dd(i,o){if(1&i&&(e.TgZ(0,"div",7),e._UZ(1,"div",8),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Udp("width",t.progressComplete+"%")}}function ac(i,o){}let pd=(()=>{class i{constructor(t){this.viewContainerRef=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.s_b))},i.\u0275dir=e.lG2({type:i,selectors:[["","appImportStepHost",""]]}),i})(),lc=(()=>{class i{constructor(t,n,c){this.componentFactoryResolver=t,this.translate=n,this.importWizardController=c,this.finish=new e.vpe,this.warning=new e.vpe,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(t=>{t?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const t=this.importWizardController.getCurrentStep(),n=this.componentFactoryResolver.resolveComponentFactory(t.component);let c;if(t.component===th.V7){c=this.components.get(t)||this.wizardHost.viewContainerRef.createComponent(n)}else c=this.wizardHost.viewContainerRef.createComponent(n);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(c.hostView),c.instance.data=t.data,c.instance.importWizardController=this.importWizardController,this.title=t.stepTitle,this.components.set(t,c),this.updateProgressBar(),this.hideProgressBar=c.instance.isWarningModal||c.instance.hideProgressBar,this.warning.emit(c.instance.isWarningModal)}closeButton(){const t=this.importWizardController.getCurrentStep();t.component!==Ng.l?this.importWizardController.cancel():this.components.get(t).instance.goNext()}getStepsProgressForCurrentStep(){const t=this.importWizardController.getCurrentStep();if(t.component===ud.$||t.component===th.V7){const n=this.importWizardController.stepsCompleted.filter(m=>m.component===t.component).length,c=n+this.importWizardController.stepsAhead.filter(m=>m.component===t.component).length;return 1===c?"":"("+(n+1)+"/"+c+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==VC.Gz&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(t=>{t.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e._Vd),e.Y36(wt.sK),e.Y36(HC.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-import-wizard-host"]],viewQuery:function(t,n){if(1&t&&e.Gf(pd,7),2&t){let c;e.iGM(c=e.CRH())&&(n.wizardHost=c.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return n.closeButton()}),e._UZ(5,"span",3),e.TgZ(6,"span",4),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.YNc(9,dd,2,2,"div",5),e.TgZ(10,"div"),e.YNc(11,ac,0,0,"ng-template",6),e.qZA()),2&t&&(e.xp6(2),e.AsE("",e.lcZ(3,5,n.title)," ",n.progressStepString,""),e.xp6(2),e.Q6J("disabled",n.disableCloseButton()),e.xp6(3),e.Oqu(e.lcZ(8,7,"Common.Close")),e.xp6(2),e.Q6J("ngIf",!n.hideProgressBar))},dependencies:[N.O5,pd,wt.X$],encapsulation:2}),i})();const nh=["importWizardModal"];function hd(i,o){1&i&&(e._UZ(0,"app-simple-loader",21),e.ALo(1,"translate")),2&i&&e.Q6J("text",e.lcZ(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function kg(i,o){if(1&i&&(e.TgZ(0,"div",28)(1,"div"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.errorCode)}}function Rg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",22)(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,kg,3,1,"div",23),e.TgZ(6,"app-form-row",24)(7,"div",25)(8,"input",26,27),e.NdJ("change",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.handleFileInput(c.target.files))}),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,6,"Clients.Import.Wizard.Setup.Summary")),e.xp6(2),e.Q6J("ngIf",""!=t.errorCode),e.xp6(1),e.Q6J("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function ih(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h5",6),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",7),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.hide())}),e.ALo(6,"translate"),e._UZ(7,"span",8),e.qZA()(),e.TgZ(8,"div",9),e._UZ(9,"div",10,11),e.qZA(),e.TgZ(11,"div",12),e.YNc(12,hd,2,3,"app-simple-loader",13),e.YNc(13,Rg,11,8,"div",14),e.qZA(),e._UZ(14,"div",15),e.TgZ(15,"div",16)(16,"div",17)(17,"div",18)(18,"button",19),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.startImport())}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",20),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.hide())}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,9,"Clients.Import.Wizard.Setup.Title")),e.xp6(2),e.Q6J("disabled",t.disableButtons),e.uIk("aria-label",e.lcZ(6,11,"Common.Close")),e.xp6(7),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading),e.xp6(5),e.Q6J("disabled",t.disableButtons||null==t.fileToUpload),e.xp6(1),e.hij(" ",e.lcZ(20,13,"Common.Start")," "),e.xp6(2),e.Q6J("disabled",t.disableButtons),e.xp6(1),e.hij(" ",e.lcZ(23,15,"Common.Cancel")," ")}}function sh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"app-import-wizard-host",29),e.NdJ("cancel",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onCancel())})("warning",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.onWarning(c))})("finish",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onFinish())})("hide",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.hide())}),e.qZA()()}}const Pg=function(){return{animated:!1,backdrop:"static",keyboard:!1}},rh=function(i){return{"modal-dialog--danger":i}};let JC=(()=>{class i{constructor(t,n,c){this.translate=t,this.clientImportService=n,this.importWizardService=c,this.finish=new e.vpe,this.wizardTypes=Vn,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(m=>{this.reset(),null!=m&&(this.errorCode=m)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(t){this.isWarningModal=t}hide(){this.reset(),this.importWizardModal.hide()}show(){this.reset(),this.importWizardModal.show()}handleFileInput(t){this.fileToUpload=t.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(t=>{this.clientImportService.validateImportFile(t).subscribe(n=>{try{JSON.parse(t)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(t);const c=n.importResources.map(m=>new Og(m));this.importWizardService.cache.next(c),this.isLoading=!1,this.showWizard=!0},n=>{if(400===n.status){this.reset();const c=n.error;this.errorCode=this.translate.instant(`Errors.${c.errorCode}`),"ValidateImportError.WrongVersion"===c.errorCode&&(this.errorCode=this.errorCode.replace("{0}",c.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",c.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(t){this.storage.setItem("importFile",t)}ngOnDestroy(){this.reset(),this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(wt.sK),e.Y36(FC.wf),e.Y36(BC.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-import-wizard"]],viewQuery:function(t,n){if(1&t&&e.Gf(nh,7),2&t){let c;e.iGM(c=e.CRH())&&(n.importWizardModal=c.first)}},outputs:{finish:"finish"},decls:5,vars:7,consts:[["bsModal","","id","importWizardModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["importWizardModal","bs-modal"],[1,"modal-dialog",3,"ngClass"],["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],["progressBar",""],[1,"modal-body"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"disabled","click"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],["fileInput","","selectedFile",""],[1,"tw-alert-danger","tw-mb-6"],[3,"cancel","warning","finish","hide"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2),e.YNc(3,ih,24,17,"div",3),e.YNc(4,sh,2,0,"div",3),e.qZA()()),2&t&&(e.Q6J("config",e.DdM(4,Pg)),e.xp6(2),e.Q6J("ngClass",e.VKq(5,rh,n.isWarningModal)),e.xp6(1),e.Q6J("ngIf",!n.showWizard),e.xp6(1),e.Q6J("ngIf",n.showWizard))},dependencies:[N.mk,N.O5,gi.oB,io.w,gt.L,lc,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();function _A(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",21),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.pageSize=c)})("change",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.setPageLength(+c.pageSize))}),e.TgZ(5,"option",22),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"option",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"option",24),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.AsE("",t.pageSize," ",e.lcZ(3,6,"Nav.PerPage"),""),e.xp6(2),e.Q6J("ngModel",t.pageSize),e.xp6(2),e.hij("25 ",e.lcZ(7,8,"Nav.PerPage"),""),e.xp6(3),e.hij("50 ",e.lcZ(10,10,"Nav.PerPage"),""),e.xp6(3),e.hij("100 ",e.lcZ(13,12,"Nav.PerPage"),"")}}function qC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t),e.oxw(2);const c=e.MAs(5);return e.KtG(c.show())}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.TgZ(3,"span"),e._UZ(4,"span",26),e.qZA()()}2&i&&(e.Q6J("tooltip",e.lcZ(1,2,"Clients.Import.Import")),e.uIk("aria-label",e.lcZ(2,4,"Clients.Import.ImportClients")))}function Lg(i,o){if(1&i&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.clientSelectedCount)}}function jC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.exportClients())}),e.TgZ(1,"span"),e._UZ(2,"span",28),e.YNc(3,Lg,2,1,"span",29),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("tooltip",t.currentExportTooltip),e.uIk("aria-label",t.currentExportText),e.xp6(3),e.Q6J("ngIf",t.shouldDisplayCount)}}function Ug(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,13),e.YNc(2,_A,14,14,"div",14),e.BQk(),e.ynx(3,15),e.TgZ(4,"button",16),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(3);return e.KtG(c.show())}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,qC,5,6,"button",17),e.YNc(8,jC,4,3,"button",18),e.BQk(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0),e.xp6(3),e.hij(" ",e.lcZ(6,4,"Clients.Add")," "),e.xp6(2),e.Q6J("ngIf",t.canImportExport),e.xp6(1),e.Q6J("ngIf",t.canImportExport)}}function Zg(i,o){1&i&&e._UZ(0,"app-simple-loader")}function $C(i,o){1&i&&(e.TgZ(0,"div",34)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Clients.None")))}function Fo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"th",41)(1,"label",42)(2,"input",43),e.NdJ("change",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.toggleAllClients())})("ngModelChange",function(c){e.CHM(t);const m=e.oxw(3);return e.KtG(m.allClientsSelected=c)}),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.allClientsSelected)}}function Fg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"label",55)(1,"input",56),e.NdJ("change",function(){e.CHM(t);const c=e.oxw(5);return e.KtG(c.areAllClientsSelected())})("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.selected=c)}),e.qZA()()}if(2&i){const t=e.oxw(2).$implicit;e.s9C("for",t.id),e.xp6(1),e.s9C("id",t.id),e.Q6J("ngModel",t.selected)}}function WC(i,o){if(1&i&&(e.TgZ(0,"td",53),e.YNc(1,Fg,2,3,"label",54),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.nonEditable)}}function vA(i,o){1&i&&(e.TgZ(0,"span",57)(1,"span",10),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Common.Disabled")))}function QC(i,o){1&i&&(e.TgZ(0,"span",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Disabled")," "))}function oh(i,o){1&i&&(e.TgZ(0,"span",59),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const Bg=function(i,o){return{"fad fa-pencil":i,"fas fa-eye":o}};function GC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(3);return e.KtG(m.viewOrEditClient(c))}),e._UZ(1,"span",61),e.TgZ(2,"span",10),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.WLB(4,Bg,!t.isIdentityServerManagerReadOnly,t.isIdentityServerManagerReadOnly)),e.xp6(2),e.Oqu(e.lcZ(4,2,"Common.Edit"))}}function zC(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",44),e.YNc(1,WC,2,1,"td",45),e.TgZ(2,"td",46),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(3);return e.KtG(M.viewOrEditClient(m))}),e.YNc(3,vA,4,3,"span",47),e.TgZ(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"td",48),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(3);return e.KtG(M.viewOrEditClient(m))}),e._uU(7),e.qZA(),e.TgZ(8,"td",49),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(3);return e.KtG(M.viewOrEditClient(m))}),e.YNc(9,QC,3,3,"span",50),e.YNc(10,oh,3,3,"span",51),e.qZA(),e.TgZ(11,"td",49),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(3);return e.KtG(M.viewOrEditClient(m))}),e.YNc(12,GC,5,7,"button",52),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(3);e.ekj("inactive",!t.enabled||(null==t?null:t.nonEditable))("disabled",null==t?null:t.nonEditable),e.s9C("id",t.clientName),e.xp6(1),e.Q6J("ngIf",!n.isIdentityServerManagerReadOnly),e.xp6(2),e.Q6J("ngIf",!t.enabled),e.xp6(1),e.ekj("tw-text-blue-500",!(null!=t&&t.nonEditable)),e.xp6(1),e.hij(" ",null==t?null:t.clientName," "),e.xp6(2),e.hij(" ",null==t?null:t.description," "),e.xp6(2),e.Q6J("ngIf",!t.enabled),e.xp6(1),e.Q6J("ngIf",null==t?null:t.nonEditable),e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.nonEditable))}}function YC(i,o){if(1&i&&(e.TgZ(0,"table",35)(1,"thead")(2,"tr"),e.YNc(3,Fo,3,1,"th",36),e.TgZ(4,"th",37),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",38),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",39)(11,"span",10),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"th",39)(15,"span",10),e._uU(16),e.ALo(17,"translate"),e.qZA()()()(),e.TgZ(18,"tbody"),e.YNc(19,zC,13,14,"tr",40),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.isIdentityServerManagerReadOnly),e.xp6(2),e.Oqu(e.lcZ(6,6,"Common.Name")),e.xp6(3),e.Oqu(e.lcZ(9,8,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(13,10,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(17,12,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.allClients)}}function Vg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-pager",62),e.NdJ("onGoToPage",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.goToPage(c))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("totalResults",null==t.pagedResult?null:t.pagedResult.totalCount)("currentPage",t.page)("lastPage",null==t.pagedResult?null:t.pagedResult.pageCount)}}function KC(i,o){if(1&i&&(e.ynx(0),e.YNc(1,$C,4,3,"div",31),e.YNc(2,YC,20,14,"table",32),e.YNc(3,Vg,1,3,"app-pager",33),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.allClients?null:t.allClients.length)<1),e.xp6(1),e.Q6J("ngIf",(null==t.allClients?null:t.allClients.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0&&!t.isLoading)}}let Hg=(()=>{class i extends Hu.bk{constructor(t,n,c,m,M,Q,ue,Pe,at){super(Pe,M,!0),this.router=t,this.errorService=n,this.titleService=c,this.clientsService=m,this.translate=M,this.localize=Q,this.exportService=ue,this.securityService=at,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new xi.x,this.pageSizeStream=new xi.x,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(t){return this.term=t,{searchTerm:t,page:1,pageSize:this.pageSize}}ngOnInit(){const t=this.translate.instant("Nav.Clients")+" - "+ge.de.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(t),this.canImportExport=this.securityService.allView;const n=this.pageStream.pipe((0,se.U)(M=>(this.page=M,{searchTerm:this.term,page:M,pageSize:this.pageSize}))),c=this.pageSizeStream.pipe((0,se.U)(M=>(this.pageSize=M,{searchTerm:this.term,page:this.page,pageSize:M})));n.pipe(Va(c),Va(this.searchSource),Va(this.enterKeySource),(0,f.O)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,w.z)(M=>(this.isLoading=!0,this.clientsService.getClients(M.searchTerm,M.page,M.pageSize).pipe((0,Vu.g)(200))))).subscribe(M=>{this.pagedResult=M,this.allClients=this.pagedResult.results.map(Q=>new ug(Q)).sort((Q,ue)=>Number(ue.nonEditable)-Number(Q.nonEditable)),this.isLoading=!1},M=>{500===M.status?this.handleInternalServerError():this.errorService.handleError(M),this.isLoading=!1})}goToPage(t){this.pageStream.next(t)}setPageLength(t){this.page=1,this.pageSizeStream.next(t)}viewOrEditClient(t){this.isIdentityServerManagerReadOnly?this.viewClient(t):this.editClient(t)}viewClient(t){const n=this.localize.translateRoute("/clients/view");this.router.navigate([n,t.id])}editClient(t){if(!t.nonEditable){const n=this.localize.translateRoute("/clients");this.router.navigate([n,t.id])}}exportClients(){if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const t=this.allClients.filter(n=>n.selected).map(n=>n.clientId);this.exportService.exportSelectedClients(t)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(t=>t.selected||t.nonEditable),this.clientSelectedCount=this.allClients.filter(t=>t.selected&&!t.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(t=>!t.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let t=!0;this.allClients.forEach(n=>{!n.nonEditable&&!n.selected&&(t=!1)}),this.allClients.forEach(n=>{n.nonEditable||(n.selected=!t)}),this.shouldDisplayCount=!1,this.clientSelectedCount=t?0:this.allClients.filter(n=>!n.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!t}get isIdentityServerManagerReadOnly(){return(0,Re.gR)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.F0),e.Y36(O.T),e.Y36(a.Dx),e.Y36(Rl.a),e.Y36(wt.sK),e.Y36(un.An),e.Y36(fC.T),e.Y36(Rn._W),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e.qOj],decls:18,vars:10,consts:[[3,"title"],["id","addClientComponent",3,"finish"],["addClientModal",""],["id","importWizardModal",3,"finish"],["importWizardModal",""],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","ngModelChange","keyup"],[4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"tooltip","click"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3",3,"tooltip","click"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive","disabled",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModel","change","ngModelChange"],[1,"group",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button","class","tw-btn-link tw-btn-small group-hover:tw-text-blue-500",3,"click",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"id","ngModel","change","ngModelChange"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(t,n){1&t&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-client-wizard",1,2),e.NdJ("finish",function(){return n.reload()}),e.qZA(),e.TgZ(4,"app-import-wizard",3,4),e.NdJ("finish",function(){return n.reload()}),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e._UZ(10,"span",9),e.TgZ(11,"span",10),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(m){return n.searchTerm=m})("keyup",function(m){return n.search(m)}),e.qZA()()(),e.YNc(15,Ug,9,6,"app-action-bar",12),e.YNc(16,Zg,1,0,"app-simple-loader",12),e.YNc(17,KC,4,3,"ng-container",12),e.qZA()),2&t&&(e.Q6J("title",e.lcZ(1,6,"Nav.Clients")),e.xp6(12),e.Oqu(e.lcZ(13,8,"Common.Search")),e.xp6(2),e.Q6J("ngModel",n.searchTerm),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&!n.isIdentityServerManagerReadOnly),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading))},dependencies:[N.mk,N.sg,N.O5,C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C.JJ,C.On,ir.i9,Z.G,z.P,Ce.K,io.w,eh,JC,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var cc=g(262),No=g(9470),Gr=g(6349),Da=(()=>{return(i=Da||(Da={})).Client="Client",i.WsFed="WsFed",i.Saml="Saml",Da;var i})(),yr=g(4608),Bo=g(5150),Wa=g(9536),fd=g(1339),XC=g(3499);const yA=["cloneClientModal"],Jg=["addClaimTypeModal"];function ew(i,o){if(1&i&&(e.TgZ(0,"div",25)(1,"div"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.errorCode)}}function tw(i,o){if(1&i&&(e.TgZ(0,"app-form-row",16)(1,"app-form-toggle",26),e._UZ(2,"input",27),e.qZA()()),2&i){const t=e.oxw();e.Q6J("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",t.clientType!==t.clientTypes.Saml),e.xp6(1),e.Q6J("id","cloneSecrets")}}function nw(i,o){1&i&&(e.TgZ(0,"app-form-row",16)(1,"app-form-toggle",26),e._UZ(2,"input",28),e.qZA()()),2&i&&(e.Q6J("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),e.xp6(1),e.Q6J("id","cloneSecrets"))}const ah=function(){return{backdrop:"static",keyboard:"false"}};let iw=(()=>{class i{constructor(t,n,c,m,M){this.clientsService=t,this.fb=n,this.localize=c,this.router=m,this.translate=M,this.clientTypeKey=Ul.Default,this.clientTypes=Pi.B,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",C.kI.required],clientName:["",C.kI.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=Ul.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=Ul.WsFed)}cloneClient(){const t=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,t).subscribe(n=>{const c=n.headers.get("location");if(c){this.clearForm();const m=c.lastIndexOf("/"),M=c.substring(m+1),Q=[this.localize.translateRoute("/clients"),M];this.router.navigate(Q)}},n=>{this.errorCode=this.translate.instant(400===n.status?`Errors.CloneClientError.${n.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const t=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Re.qs)(),clientName:t,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Re.qs)()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Rl.a),e.Y36(C.QS),e.Y36(un.An),e.Y36(nn.F0),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-clone-client"]],viewQuery:function(t,n){if(1&t&&(e.Gf(yA,7),e.Gf(Jg,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.cloneClientModal=c.first),e.iGM(c=e.CRH())&&(n.addClaimTypeModal=c.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["cloneClientModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"disabled","click"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.clearForm()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9),e.YNc(14,ew,3,1,"div",10),e.TgZ(15,"app-form-row",11),e.ALo(16,"keyToString"),e.TgZ(17,"div",12),e._UZ(18,"input",13),e.TgZ(19,"button",14),e.NdJ("click",function(){return n.setRandomID()}),e._UZ(20,"span",15),e.TgZ(21,"span",8),e._uU(22),e.ALo(23,"translate"),e.qZA()()()(),e.TgZ(24,"app-form-row",16),e._UZ(25,"input",17),e.qZA(),e.YNc(26,tw,3,5,"app-form-row",18),e.YNc(27,nw,3,5,"app-form-row",18),e.qZA(),e._UZ(28,"div",19),e.TgZ(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),e.NdJ("click",function(){return n.cloneClient()}),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"button",24),e.NdJ("click",function(){return n.clearForm()}),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(30,ah)),e.xp6(6),e.Oqu(e.lcZ(7,18,"Clients.Clone.Title")),e.xp6(5),e.Oqu(e.lcZ(12,20,"Common.Close")),e.xp6(2),e.Q6J("formGroup",n.newClientForm),e.xp6(1),e.Q6J("ngIf",""!=n.errorCode),e.xp6(1),e.Q6J("id","cloneClientId")("label",e.lcZ(16,22,n.clientTypeKey))("help","Clients.IDHelp"),e.xp6(7),e.Oqu(e.lcZ(23,24,"Common.GenerateRandom")),e.xp6(2),e.Q6J("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===n.client.clientSecrets.length&&n.clientType!==n.clientTypes.Saml),e.xp6(2),e.Q6J("ngIf",0!==n.client.clientSecrets.length),e.xp6(1),e.Q6J("ngIf",n.clientType===n.clientTypes.Saml),e.xp6(5),e.Q6J("disabled",!n.newClientForm.valid),e.xp6(1),e.hij(" ",e.lcZ(34,26,"Common.Save")," "),e.xp6(3),e.Oqu(e.lcZ(37,28,"Common.Cancel")))},dependencies:[N.O5,C.Fj,C.Wl,C.JJ,C.JL,C.sg,C.u,gi.oB,gt.L,_s.O,sd,wt.X$],encapsulation:2}),i})();function sw(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Nav.Saml")("tabValue","saml")}function md(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function lh(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function gd(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Common.Secrets")("tabValue","secrets")}function CA(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Common.CIBA")("tabValue","ciba")}const ch=function(i,o){return{title:i,link:o}},wA=function(i){return[i]},qg=function(){return{backdrop:"static",keyboard:"false"}};let jg=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt,Jt,zt,hn,tn,vn){this.clientsService=t,this.clientCachingService=n,this.relyingPartyCachingService=c,this.serviceProviderCachingService=m,this.samlClientService=M,this.wsFedClientService=Q,this.clientViewService=ue,this.titleService=Pe,this.translate=at,this.errorService=Nt,this.router=Jt,this.route=zt,this.toastr=hn,this.localize=tn,this.dialogService=vn}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=t;const n=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(n),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(t=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(t=>{this.checkSubmitEnabled()})}checkSubmitEnabled(){const t=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===t.length||t.some(n=>!n.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(t){this.clientsService.deleteClient(t).subscribe(n=>{const c=this.localize.translateRoute("/clients");this.router.navigate([c]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},n=>{const c={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(n,c)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(c.toastBody,c.toastTitle)})}saveClient(){const t=this.buildStreamArray();(0,Xr.D)(t).subscribe(n=>{n.some(m=>m instanceof x.UA)?this.handleError(n):this.handleSave(n),this.checkSubmitEnabled()},n=>{this.errorService.handleError(n)})}buildStreamArray(){const t=[];return this.clientCachingService.componentDirtyValidMap.size>0&&t.push(this.clientsService.updateClient(this.client).pipe((0,se.U)(()=>Da.Client),(0,cc.K)(n=>(0,al.of)(n)))),this.client.clientType===Pi.B.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(n=>{const c=JSON.parse(JSON.stringify(n));c.claimMappings=(0,Re.GA)(n.claimMappings),t.push(this.wsFedClientService.updateRelyingParty(this.client.id,c).pipe((0,se.U)(()=>Da.WsFed),(0,cc.K)(m=>(0,al.of)(m))))}):this.client.clientType===Pi.B.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(n=>{const c=JSON.parse(JSON.stringify(n));c.claimMappings=(0,Re.GA)(n.claimMappings),t.push(this.samlClientService.updateServiceProvider(this.client.id,c).pipe((0,se.U)(()=>Da.Saml),(0,cc.K)(m=>(0,al.of)(m))))}),t}handleSave(t){t.forEach(n=>{switch(n){case Da.WsFed:this.relyingPartyCachingService.onSave();break;case Da.Saml:this.serviceProviderCachingService.onClientSave();break;case Da.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(t){const n=t.filter(c=>c instanceof x.UA);n.length===t.length?this.errorService.handleError(n[0]):400===n[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(Gr.e5(t,n))):this.errorService.handleError(n[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(t=>{t&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Rl.a),e.Y36(yr.Z),e.Y36(Bo.N),e.Y36(Wa.S),e.Y36(fd.G),e.Y36(XC.K),e.Y36(No.a),e.Y36(a.Dx),e.Y36(wt.sK),e.Y36(O.T),e.Y36(nn.F0),e.Y36(nn.gz),e.Y36(Rn._W),e.Y36(un.An),e.Y36(Mo.x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-client"]],features:[e._Bn([No.a])],decls:63,vars:60,consts:[[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteClientModal",1,"tw-btn-danger","tw-mb-3"],[3,"client","clientType"],["cloneClientModal",""],["bsModal","","id","deleteClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"app-custom-tabs"),e._UZ(5,"app-custom-tab",2),e.YNc(6,sw,1,2,"app-custom-tab",3),e.YNc(7,md,1,2,"app-custom-tab",3),e.YNc(8,lh,1,2,"app-custom-tab",3),e.YNc(9,gd,1,2,"app-custom-tab",3),e._UZ(10,"app-custom-tab",2),e.YNc(11,CA,1,2,"app-custom-tab",3),e._UZ(12,"app-custom-tab",2)(13,"app-custom-tab",2),e.qZA(),e.BQk(),e.qZA(),e.TgZ(14,"div",4),e._UZ(15,"router-outlet"),e.qZA(),e.TgZ(16,"app-button-bar")(17,"button",5),e.NdJ("click",function(){return n.saveClient()}),e.TgZ(18,"span"),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",6),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(30);return e.KtG(M.show())}),e.TgZ(22,"span"),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.ynx(25,7),e.TgZ(26,"button",8),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(29,"app-clone-client",9,10),e.TgZ(31,"div",11)(32,"div",12)(33,"div",13)(34,"div",14)(35,"h5",15),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"button",16),e._UZ(39,"span",17),e.TgZ(40,"span",18),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"div",19)(44,"p",20),e._uU(45),e.ALo(46,"translate"),e.TgZ(47,"strong"),e._uU(48),e.qZA(),e._uU(49,"?"),e.qZA(),e._UZ(50,"p",21),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"div",22),e.TgZ(53,"div",23)(54,"div",24)(55,"div",25)(56,"button",26),e.NdJ("click",function(){return n.deleteClient(n.client.id)}),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"button",27),e._uU(60),e.ALo(61,"translate"),e.qZA()()()()()(),e._UZ(62,"app-can-deactivate")}2&t&&(e.Q6J("title",n.client.clientName)("crumbs",e.VKq(57,wA,e.WLB(54,ch,e.lcZ(1,32,"Nav.Clients"),e.lcZ(2,34,"/clients"))))("hasButton",!0)("hasTabs",!0),e.xp6(5),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("ngIf",n.clientViewService.saml.display),e.xp6(1),e.Q6J("ngIf",n.clientViewService.wsFed.display),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.display),e.xp6(1),e.Q6J("ngIf",n.clientViewService.secrets.display),e.xp6(1),e.Q6J("tabTitle","Nav.Resources")("tabValue","resources"),e.xp6(1),e.Q6J("ngIf",n.clientViewService.ciba.display),e.xp6(1),e.Q6J("tabTitle","Common.Advanced")("tabValue","advanced"),e.xp6(1),e.Q6J("tabTitle","Nav.Audits")("tabValue","clientaudits"),e.xp6(4),e.Q6J("disabled",n.submitDisabled),e.xp6(2),e.Oqu(e.lcZ(20,36,"Common.SaveAll")),e.xp6(2),e.Q6J("disabled",n.isCloneDisabled()),e.xp6(2),e.Oqu(e.lcZ(24,38,"Clients.Clone.Label")),e.xp6(4),e.Oqu(e.lcZ(28,40,"Common.Delete.Title")),e.xp6(2),e.Q6J("client",n.client)("clientType",n.client.clientType),e.xp6(2),e.Q6J("config",e.DdM(59,qg)),e.xp6(5),e.Oqu(e.lcZ(37,42,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(42,44,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(46,46,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(n.client.clientName),e.xp6(2),e.Q6J("innerHTML",e.lcZ(51,48,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.hij(" ",e.lcZ(58,50,"Common.Delete.Title")," "),e.xp6(3),e.Oqu(e.lcZ(61,52,"Common.Delete.No")))},dependencies:[N.O5,nn.lC,bo.v,da.x,gi.oB,ha,Z.G,cl,iw,wt.X$,un.lO],encapsulation:2}),i})();var uh=g(9327);const dh=["IdentityResourcePicker"],Qa=["tabs"],_d=["addIdentityResourceModal"];function vd(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function nu(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.AssignClaims")))}function ow(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.identityResourceForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function ph(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",0==t.assignedClaims.length),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Save"))}}const $g=function(){return{animated:!1,backdrop:"static"}};let aw=(()=>{class i{constructor(t,n,c,m,M,Q){this.claimTypesService=t,this.errorService=n,this.identityResourceService=c,this.translate=m,this.fb=M,this.toastr=Q,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.vpe}keydown(t){"Enter"===t.key&&this.identityResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes().subscribe(t=>{this.availableClaims=t,this.allAvailableClaims=t},t=>{this.errorService.handleError(t)}),this.identityResourceForm=this.fb.group({name:["",C.kI.required],displayName:["",C.kI.required],description:["",C.kI.maxLength(1e3)]})}ngAfterViewInit(){this.resourcesPicker.assignedStream.subscribe(t=>{this.availableClaims=(0,Re.mn)(this.availableClaims.slice(),t);const n=this.assignedClaims.slice();this.assignedClaims=n.concat(t),this.resourcesPicker.availableCount=0}),this.resourcesPicker.unAssignedStream.subscribe(t=>{const n=this.availableClaims;this.assignedClaims=(0,Re.mn)(this.assignedClaims.slice(),t),this.availableClaims=n.concat(t),this.resourcesPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const t=(0,Gr.UI)(this.assignedClaims,function(c){return c.name}),n=Object.assign(this.identityResourceForm.value,{allowedClaims:t});this.identityResourceService.addResource(n).subscribe(c=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.resetWizard(),this.hide(),this.onSubmit.emit()},c=>{let m;c.error.errors.length>0&&(m=c.error.errors[0]),this.toastr.error(m,this.translate.instant("Common.Error"))})}resetWizard(){this.identityResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvailableClaims}hide(){this.addIdentityResourceModal.hide()}show(){this.addIdentityResourceModal.show()}ngOnDestroy(){this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(so.M),e.Y36(O.T),e.Y36(Fn.Q),e.Y36(wt.sK),e.Y36(C.QS),e.Y36(Rn._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-identityresource"]],viewQuery:function(t,n){if(1&t&&(e.Gf(dh,7),e.Gf(Qa,7),e.Gf(_d,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.resourcesPicker=c.first),e.iGM(c=e.CRH())&&(n.tabComponent=c.first),e.iGM(c=e.CRH())&&(n.addIdentityResourceModal=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},outputs:{onSubmit:"onSubmit"},decls:47,vars:36,consts:[["bsModal","","id","addIdentityModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addIdentityResourceModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["IdentityResourcePicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"disabled","click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10,11)(16,"span",8),e._uU(17),e.qZA()()(),e.TgZ(18,"div",12)(19,"div",13),e.YNc(20,vd,3,3,"p",14),e.YNc(21,nu,3,3,"p",14),e.qZA(),e.TgZ(22,"tabset",15,16)(24,"tab")(25,"form",17)(26,"app-form-row",18),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"app-form-row",18),e._UZ(29,"input",20),e.qZA(),e.TgZ(30,"app-form-row",21)(31,"textarea",22),e.NdJ("focus",function(){return n.descFocus=!n.descFocus})("blur",function(){return n.descFocus=!n.descFocus}),e.qZA()()()(),e.TgZ(32,"tab"),e._UZ(33,"app-common-picker",23,24),e.qZA()()(),e._UZ(35,"div",25),e.TgZ(36,"div",26)(37,"div",27)(38,"div",28),e.YNc(39,ow,3,4,"button",29),e.YNc(40,ph,3,4,"button",30),e.TgZ(41,"button",31),e.NdJ("click",function(){return n.previousTab()}),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"button",32),e.NdJ("click",function(){return n.cancel()}),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(35,$g)),e.xp6(6),e.Oqu(e.lcZ(7,27,"IdentityResources.Create")),e.xp6(5),e.Oqu(e.lcZ(12,29,"Common.Close")),e.xp6(3),e.Udp("width",n.progressPercent+"%"),e.xp6(3),e.Oqu(n.progressPercent+"%"),e.xp6(3),e.Q6J("ngIf",n.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",n.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",n.identityResourceForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.xp6(3),e.Q6J("assignedInput",n.assignedClaims)("availableInput",n.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",n.tabIndex<n.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",n.tabIndex==n.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==n.tabIndex),e.xp6(1),e.Oqu(e.lcZ(43,31,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(46,33,"Common.Cancel")))},dependencies:[N.O5,C._Y,C.Fj,C.JJ,C.JL,C.nD,C.sg,C.u,Ir.wW,Ir.AH,Go,gi.oB,gt.L,wt.X$],encapsulation:2}),i})();function lw(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(3);return e.KtG(c.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Resources.AddResource")," "))}function iu(i,o){1&i&&e._UZ(0,"app-simple-loader")}function cw(i,o){1&i&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"IdentityResources.NoIdentityResources")))}function bA(i,o){1&i&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const uw=function(i,o){return{"fad fa-pencil":i,"fas fa-eye":o}};function TA(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.viewOrEditResource(c))}),e._UZ(1,"span",29),e.TgZ(2,"span",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(4,uw,!t.isIdentityServerManagerReadOnly,t.isIdentityServerManagerReadOnly)),e.xp6(2),e.Oqu(e.lcZ(4,2,"Common.Edit"))}}const dw=function(i){return{"disabled inactive":i}};function pw(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",22),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e._uU(5),e.qZA(),e.TgZ(6,"td",23),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e._uU(7),e.qZA(),e.TgZ(8,"td",24),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e.YNc(9,bA,3,3,"span",25),e.qZA(),e.TgZ(10,"td",24),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e.YNc(11,TA,5,7,"button",26),e.qZA()()}if(2&i){const t=o.$implicit;e.Q6J("ngClass",e.VKq(8,dw,t.nonEditable)),e.xp6(2),e.ekj("tw-text-blue-500",!t.nonEditable),e.xp6(1),e.Oqu(t.displayName),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",t.nonEditable),e.xp6(2),e.Q6J("ngIf",!t.nonEditable)}}function hw(i,o){if(1&i&&(e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",14),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",15),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",16)(13,"span",17),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",16)(17,"span",17),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody",18),e.YNc(21,pw,12,10,"tr",19),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Common.Name")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Common.ID")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.resources)}}function Wg(i,o){if(1&i&&e._UZ(0,"app-pager",30),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.resources?null:t.resources.length)}}let hh=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.identityResourceService=t,this.translate=n,this.router=c,this.errorService=m,this.localize=M,this.titleService=Q,this.securityService=ue,this.term="",this.resources=[],this.isLoading=!0,this.searchTermStream=new xi.x}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.IdentityResources")+` - ${ge.de.SITE_TITLE}`),this.searchTermStream.pipe((0,d.b)(300),(0,l.x)(),(0,se.U)(c=>(this.term=c,{search:c}))).pipe((0,f.O)({search:this.term}),(0,w.z)(c=>this.identityResourceService.getIdentityResources(c.search))).subscribe(c=>{this.sortResources(c),this.isLoading=!1},c=>{this.errorService.handleError(c),this.isLoading=!1})}sortResources(t){t.sort((n,c)=>Number(c.nonEditable)-Number(n.nonEditable)),this.resources=t}search(t){this.searchTermStream.next(t)}viewOrEditResource(t){this.isIdentityServerManagerReadOnly?this.viewResource(t):this.editResource(t)}viewResource(t){const n=this.localize.translateRoute("/identityresources/view");this.router.navigate([n,t.id])}editResource(t){if(!t.nonEditable){const n=this.localize.translateRoute("/identityresources");this.router.navigate([n,t.id])}}refreshList(){this.ngOnInit()}get isIdentityServerManagerReadOnly(){return(0,Re.gR)(this.securityService.userPermissions)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Fn.Q),e.Y36(wt.sK),e.Y36(nn.F0),e.Y36(O.T),e.Y36(un.An),e.Y36(a.Dx),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:11,vars:8,consts:[[3,"title"],[3,"onSubmit"],["addIdentityResourcesModal",""],["id","identityResourceList",1,"tw-container","tw-mx-auto"],[3,"onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"ngClass",4,"ngFor","ngForOf"],[1,"group",3,"ngClass"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small group-hover:tw-text-blue-500",3,"click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["hidePager","true",3,"totalResults"]],template:function(t,n){1&t&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-identityresource",1,2),e.NdJ("onSubmit",function(){return n.refreshList()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(m){return n.search(m)}),e.qZA(),e.YNc(6,lw,5,3,"app-action-bar",5),e.YNc(7,iu,1,0,"app-simple-loader",5),e.YNc(8,cw,4,3,"div",6),e.YNc(9,hw,22,16,"table",7),e.YNc(10,Wg,1,1,"app-pager",8),e.qZA()),2&t&&(e.Q6J("title",e.lcZ(1,6,"Nav.IdentityResources")),e.xp6(6),e.Q6J("ngIf",!n.isLoading&&!n.isIdentityServerManagerReadOnly),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",(!n.resources||n.resources.length<=0)&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.resources&&n.resources.length>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.resources&&n.resources.length>0&&!n.isLoading))},dependencies:[N.mk,N.sg,N.O5,Z.G,z.P,Ce.K,We,io.w,aw,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();const fw=function(i,o){return{title:i,link:o}},fh=function(i){return[i]},mh=function(){return["active"]},mw=function(){return{backdrop:"static",animated:!1}};let gw=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe){this.fb=t,this.route=n,this.router=c,this.titleService=m,this.identityResourceService=M,this.toastr=Q,this.translate=ue,this.localize=Pe}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(t=>{this.identityResource=t,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ge.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(t){this.router.navigate([t],{relativeTo:this.route})}delete(){return this.identityResourceService.deleteIdentityResource(this.identityResource.id).toPromise().then(()=>{this.toastr.success(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Success"));const t=this.localize.translateRoute("/identityresources");this.router.navigate([t])},()=>{this.toastr.error(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Failed"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(nn.gz),e.Y36(nn.F0),e.Y36(a.Dx),e.Y36(Fn.Q),e.Y36(Rn._W),e.Y36(wt.sK),e.Y36(un.An))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:68,vars:64,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editIdentityResource",1,"tw-container","mx-auto"],["bsModal","","id","deleteIdentityResource","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(m){return n.mobRoute(m.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.qZA()()()(),e.TgZ(21,"ul",9),e.ALo(22,"translate"),e.TgZ(23,"li",10)(24,"button",11),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"li",10)(28,"button",12),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"li",10)(32,"button",13),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(35,"div",14),e._UZ(36,"router-outlet"),e.qZA(),e.TgZ(37,"div",15)(38,"div",16)(39,"div",17)(40,"div",18)(41,"h5",19),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"button",20),e._UZ(45,"span",21),e.TgZ(46,"span",22),e._uU(47),e.ALo(48,"translate"),e.qZA()()(),e.TgZ(49,"div",23)(50,"p",24),e._uU(51),e.ALo(52,"translate"),e.TgZ(53,"strong"),e._uU(54),e.qZA(),e._uU(55,"?"),e.qZA(),e._UZ(56,"p",25),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"div",26),e.TgZ(59,"div",27)(60,"div",28)(61,"div",29)(62,"button",30),e.NdJ("click",function(){return n.delete()}),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"button",31),e._uU(66),e.ALo(67,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("title",null==n.identityResource?null:n.identityResource.name)("crumbs",e.VKq(58,fh,e.WLB(55,fw,e.lcZ(1,23,"IdentityResources.Title"),e.lcZ(2,25,"/identityresources"))))("hasTabs",!0),e.xp6(6),e.Oqu(e.lcZ(7,27,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,29,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,31,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,33,"Nav.Claims")),e.xp6(3),e.Oqu("Nav.Properties | translate"),e.xp6(1),e.uIk("aria-label",e.lcZ(22,35,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(60,mh)),e.xp6(1),e.Oqu(e.lcZ(26,37,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(61,mh)),e.xp6(1),e.Oqu(e.lcZ(30,39,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(62,mh)),e.xp6(1),e.Oqu(e.lcZ(34,41,"Nav.Properties")),e.xp6(4),e.Q6J("config",e.DdM(63,mw)),e.xp6(5),e.Oqu(e.lcZ(43,43,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(48,45,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(52,47,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(null==n.identityResource?null:n.identityResource.displayName),e.xp6(2),e.Q6J("innerHTML",e.lcZ(57,49,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(64,51,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(67,53,"Common.Delete.No")))},dependencies:[nn.lC,nn.rH,nn.Od,C.YN,C.Kr,gi.oB,Z.G,wt.X$,un.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var gh=g(4879);let _h=(()=>{class i{constructor(t,n){this.identityResourceService=t,this.errorService=n}resolve(t,n){const c=t.paramMap.get("Id");return this.identityResourceService.getResource(c).pipe((0,se.U)(m=>(m&&this.identityResourceService.getCachedIdentityResource().next(m),m)),(0,cc.K)((m,M)=>(404===m.status?this.errorService.resourceNotFound(gh._.identityResource):this.errorService.handleError(m),(0,El.c)())))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Fn.Q),e.LFG(O.T))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const _w=["ClaimPicker"],yd=["tabs"],Fl=["addProtectedModal"];function AA(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function su(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ProtectedResources.AssignClaims")))}function vw(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.protectedResourceForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function yw(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Save")))}const vh=function(){return{animated:!1,backdrop:"static"}};let Cw=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.claimTypesService=t,this.errorService=n,this.protectedResourceService=c,this.translate=m,this.fb=M,this.toastr=Q,this.titleService=ue,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.resourceSecrets=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.vpe}keydown(t){"Enter"===t.key&&this.protectedResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes().subscribe(t=>{this.availableClaims=t,this.allAvailableClaims=t},t=>{this.errorService.handleError(t)}),this.protectedResourceForm=this.fb.group({name:["",[C.kI.required,C.kI.pattern(/^\S*$/)]],displayName:["",C.kI.required],description:["",C.kI.maxLength(1e3)]})}ngAfterViewInit(){this.handleClaims()}handleClaims(){this.claimPicker.assignedStream.subscribe(t=>{this.availableClaims=(0,Re.mn)(this.availableClaims.slice(),t);const n=this.assignedClaims.slice();this.assignedClaims=n.concat(t),this.claimPicker.availableCount=0}),this.claimPicker.unAssignedStream.subscribe(t=>{const n=this.availableClaims;this.assignedClaims=(0,Re.mn)(this.assignedClaims.slice(),t),this.availableClaims=n.concat(t),this.claimPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const t=(0,Gr.UI)(this.assignedClaims,function(c){return c.name}),n=Object.assign(this.protectedResourceForm.value,{allowedClaims:t},{resourceSecrets:this.resourceSecrets});this.protectedResourceService.addResource(n).subscribe(c=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.onSubmit.emit(),this.resetWizard(),this.hide()},c=>{this.errorService.handleError(c)})}resetWizard(){this.protectedResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.resourceSecrets=[],this.availableClaims=this.allAvailableClaims}hide(){this.addProtectedModal.hide()}show(){this.addProtectedModal.show()}ngOnDestroy(){this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(so.M),e.Y36(O.T),e.Y36(Oo.m),e.Y36(wt.sK),e.Y36(C.QS),e.Y36(Rn._W),e.Y36(a.Dx))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-protectedresource"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_w,7),e.Gf(yd,7),e.Gf(Fl,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.claimPicker=c.first),e.iGM(c=e.CRH())&&(n.tabComponent=c.first),e.iGM(c=e.CRH())&&(n.addProtectedModal=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},outputs:{onSubmit:"onSubmit"},decls:45,vars:34,consts:[["bsModal","","id","addProtectedModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addProtectedModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9),e._UZ(14,"div",10,11),e.qZA(),e.TgZ(16,"div",12)(17,"div",13),e.YNc(18,AA,3,3,"p",14),e.YNc(19,su,3,3,"p",14),e.qZA(),e.TgZ(20,"tabset",15,16)(22,"tab")(23,"form",17)(24,"app-form-row",18),e._UZ(25,"input",19),e.qZA(),e.TgZ(26,"app-form-row",18),e._UZ(27,"input",20),e.qZA(),e.TgZ(28,"app-form-row",18)(29,"textarea",21),e.NdJ("focus",function(){return n.descFocus=!n.descFocus})("blur",function(){return n.descFocus=!n.descFocus}),e.qZA()()()(),e.TgZ(30,"tab"),e._UZ(31,"app-common-picker",22,23),e.qZA()()(),e._UZ(33,"div",24),e.TgZ(34,"div",25)(35,"div",26)(36,"div",27),e.YNc(37,vw,3,4,"button",28),e.YNc(38,yw,3,3,"button",29),e.TgZ(39,"button",30),e.NdJ("click",function(){return n.previousTab()}),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"button",31),e.NdJ("click",function(){return n.cancel()}),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(33,vh)),e.xp6(6),e.Oqu(e.lcZ(7,25,"ProtectedResources.Create")),e.xp6(5),e.Oqu(e.lcZ(12,27,"Common.Close")),e.xp6(3),e.Udp("width",n.progressPercent+"%"),e.xp6(4),e.Q6J("ngIf",n.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",n.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",n.protectedResourceForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.xp6(3),e.Q6J("assignedInput",n.assignedClaims)("availableInput",n.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",n.tabIndex<n.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",n.tabIndex==n.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==n.tabIndex),e.xp6(1),e.Oqu(e.lcZ(41,29,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(44,31,"Common.Cancel")))},dependencies:[N.O5,C._Y,C.Fj,C.JJ,C.JL,C.nD,C.sg,C.u,Ir.wW,Ir.AH,Go,gi.oB,gt.L,wt.X$],encapsulation:2}),i})();function Ea(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,9),e.TgZ(2,"button",10),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(3);return e.KtG(c.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Resources.AddResource")," "))}function ru(i,o){1&i&&e._UZ(0,"app-simple-loader")}function mo(i,o){1&i&&(e.TgZ(0,"div",11)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"ProtectedResources.NoneFound")))}function Bl(i,o){1&i&&(e.TgZ(0,"span",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}const Cd=function(i,o){return{"fad fa-pencil":i,"fas fa-eye":o}};function Yo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.viewOrEditResource(c))}),e._UZ(1,"span",29),e.TgZ(2,"span",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.WLB(4,Cd,!t.isIdentityServerManagerReadOnly,t.isIdentityServerManagerReadOnly)),e.xp6(2),e.Oqu(e.lcZ(4,2,"Common.Edit"))}}const yh=function(i){return{"disabled inactive":i}};function uc(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e.TgZ(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",22),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e._uU(5),e.qZA(),e.TgZ(6,"td",23),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e._uU(7),e.qZA(),e.TgZ(8,"td",24),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e.YNc(9,Bl,3,3,"span",25),e.qZA(),e.TgZ(10,"td",24),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.viewOrEditResource(m))}),e.YNc(11,Yo,5,7,"button",26),e.qZA()()}if(2&i){const t=o.$implicit;e.Q6J("ngClass",e.VKq(8,yh,t.nonEditable)),e.xp6(2),e.ekj("tw-text-blue-500",!t.nonEditable),e.xp6(1),e.Oqu(t.displayName),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",t.nonEditable),e.xp6(2),e.Q6J("ngIf",!t.nonEditable)}}function dc(i,o){if(1&i&&(e.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",14),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",15),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",16)(13,"span",17),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",16)(17,"span",17),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody",18),e.YNc(21,uc,12,10,"tr",19),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Common.Name")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Common.ID")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Common.Description")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.resources)}}function pc(i,o){if(1&i&&e._UZ(0,"app-pager",30),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.resources?null:t.resources.length)}}let hc=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.protectedResourcesService=t,this.router=n,this.errorService=c,this.localize=m,this.titleService=M,this.translate=Q,this.securityService=ue,this.term="",this.resources=[],this.isLoading=!0,this.searchTermStream=new xi.x}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ProtectedResources")+` - ${ge.de.SITE_TITLE}`),this.searchTermStream.pipe((0,d.b)(300),(0,l.x)(),(0,se.U)(c=>(this.term=c,{search:c}))).pipe((0,f.O)({search:this.term}),(0,w.z)(c=>this.protectedResourcesService.getProtectedResources(c.search))).subscribe(c=>{this.resources=c,this.isLoading=!1},c=>{this.errorService.handleError(c),this.isLoading=!1})}search(t){this.searchTermStream.next(t)}viewOrEditResource(t){this.isIdentityServerManagerReadOnly?this.viewResource(t):this.editResource(t)}viewResource(t){const n=this.localize.translateRoute("/protectedresources/view");this.router.navigate([n,t.id])}editResource(t){if(!t.nonEditable){const n=this.localize.translateRoute("/protectedresources");this.router.navigate([n,t.id])}}get isIdentityServerManagerReadOnly(){return(0,Re.gR)(this.securityService.userPermissions)}refreshList(){this.ngOnInit()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Oo.m),e.Y36(nn.F0),e.Y36(O.T),e.Y36(un.An),e.Y36(a.Dx),e.Y36(wt.sK),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:11,vars:8,consts:[[3,"title"],[3,"onSubmit"],["listProtectedResourcesModal",""],["id","protectedResourcesList",1,"tw-container","tw-mx-auto"],[3,"onSearch"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"ngClass",4,"ngFor","ngForOf"],[1,"group",3,"ngClass"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small group-hover:tw-text-blue-500",3,"click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["hidePager","true",3,"totalResults"]],template:function(t,n){1&t&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"app-add-protectedresource",1,2),e.NdJ("onSubmit",function(){return n.refreshList()}),e.qZA(),e.TgZ(4,"div",3)(5,"app-search",4),e.NdJ("onSearch",function(m){return n.search(m)}),e.qZA(),e.YNc(6,Ea,5,3,"app-action-bar",5),e.YNc(7,ru,1,0,"app-simple-loader",5),e.YNc(8,mo,4,3,"div",6),e.YNc(9,dc,22,16,"table",7),e.YNc(10,pc,1,1,"app-pager",8),e.qZA()),2&t&&(e.Q6J("title",e.lcZ(1,6,"ProtectedResources.TitlePlural")),e.xp6(6),e.Q6J("ngIf",!n.isLoading&&!n.isIdentityServerManagerReadOnly),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",(!n.resources||n.resources.length<=0)&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.resources&&n.resources.length>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.resources&&n.resources.length>0&&!n.isLoading))},dependencies:[N.mk,N.sg,N.O5,Z.G,z.P,Ce.K,We,io.w,Cw,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})(),hl=(()=>{class i{constructor(t,n){this.protectedResourceService=t,this.errorService=n}resolve(t,n){const c=t.paramMap.get("Id");return this.protectedResourceService.getResource(c).pipe((0,se.U)(m=>(m&&this.protectedResourceService.getCachedProtectedResource().next(m),m)),(0,cc.K)((m,M)=>(404===m.status?this.errorService.resourceNotFound(gh._.protectedResource):this.errorService.handleError(m),(0,El.c)())))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Oo.m),e.LFG(O.T))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var Ia=g(426);function fc(i,o){1&i&&(e.TgZ(0,"div",36),e._UZ(1,"router-outlet"),e.qZA())}const mc=function(i,o){return{title:i,link:o}},gc=function(i){return[i]},_c=function(){return["active"]},Qg=function(){return{backdrop:"static",animated:!1}};function Ch(){return Object.assign(new no.gd,{closeOthers:!0})}let Gg=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt,Jt){this.fb=t,this.route=n,this.router=c,this.titleService=m,this.protectedResourceService=M,this.claimTypesService=Q,this.toastr=ue,this.dialogService=Pe,this.translate=at,this.localize=Nt,this.scopesClaimService=Jt}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t;const n=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(n)}),this.claimTypesService.getClaimTypes().subscribe(t=>{this.scopesClaimService.setClaimTypes(t)})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(t){this.router.navigate([t],{relativeTo:this.route})}delete(){return this.protectedResourceService.deleteProtectedResource(this.protectedResource.id).toPromise().then(t=>{const n=this.localize.translateRoute("/protectedresources");this.router.navigate([n]),this.toastr.success(this.translate.instant("Resources.RemovedResource"),this.translate.instant("Notifications.Success"))},t=>{this.toastr.error("Removed Resource","Failed!")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(nn.gz),e.Y36(nn.F0),e.Y36(a.Dx),e.Y36(Oo.m),e.Y36(so.M),e.Y36(Rn._W),e.Y36(Mo.x),e.Y36(wt.sK),e.Y36(un.An),e.Y36(Ia.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-protectedresource"]],features:[e._Bn([{provide:no.gd,useFactory:Ch},Ia.q])],decls:82,vars:83,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],["bsModal","","id","deleteProtectedResource","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"],["id","editProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(m){return n.mobRoute(m.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"option",9),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"option",10),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"ul",11),e.ALo(29,"translate"),e.TgZ(30,"li",12)(31,"button",13),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"li",12)(35,"button",14),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"li",12)(39,"button",15),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"li",12)(43,"button",16),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"li",12)(47,"button",17),e._uU(48),e.ALo(49,"translate"),e.qZA()()(),e.BQk(),e.qZA(),e.YNc(50,fc,2,0,"div",18),e.TgZ(51,"div",19)(52,"div",20)(53,"div",21)(54,"div",22)(55,"h5",23),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"button",24),e._UZ(59,"span",25),e.TgZ(60,"span",26),e._uU(61),e.ALo(62,"translate"),e.qZA()()(),e.TgZ(63,"div",27)(64,"p",28),e._uU(65),e.ALo(66,"translate"),e.TgZ(67,"strong"),e._uU(68),e.qZA(),e._uU(69,"?"),e.qZA(),e._UZ(70,"p",29),e.ALo(71,"translate"),e.qZA(),e._UZ(72,"div",30),e.TgZ(73,"div",31)(74,"div",32)(75,"div",33)(76,"button",34),e.NdJ("click",function(){return n.delete()}),e._uU(77),e.ALo(78,"translate"),e.qZA()(),e.TgZ(79,"button",35),e._uU(80),e.ALo(81,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("title",null==n.protectedResource?null:n.protectedResource.name)("crumbs",e.VKq(75,gc,e.WLB(72,mc,e.lcZ(1,30,"ProtectedResources.Title"),e.lcZ(2,32,"/protectedresources"))))("hasTabs",!0),e.xp6(6),e.Oqu(e.lcZ(7,34,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,36,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,38,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,40,"Nav.Scopes")),e.xp6(3),e.Oqu(e.lcZ(21,42,"Nav.Claims")),e.xp6(3),e.Oqu(e.lcZ(24,44,"Nav.Secrets")),e.xp6(3),e.Oqu(e.lcZ(27,46,"Nav.Properties")),e.xp6(2),e.uIk("aria-label",e.lcZ(29,48,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(77,_c)),e.xp6(1),e.Oqu(e.lcZ(33,50,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(78,_c)),e.xp6(1),e.Oqu(e.lcZ(37,52,"Nav.Scopes")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(79,_c)),e.xp6(1),e.Oqu(e.lcZ(41,54,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(80,_c)),e.xp6(1),e.Oqu(e.lcZ(45,56,"Nav.Secrets")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(81,_c)),e.xp6(1),e.Oqu(e.lcZ(49,58,"Nav.Properties")),e.xp6(2),e.Q6J("ngIf",n.protectedResource),e.xp6(1),e.Q6J("config",e.DdM(82,Qg)),e.xp6(5),e.Oqu(e.lcZ(57,60,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(62,62,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(66,64,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(n.protectedResource.displayName),e.xp6(2),e.Q6J("innerHTML",e.lcZ(71,66,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(78,68,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(81,70,"Common.Delete.No")))},dependencies:[N.O5,nn.lC,nn.rH,nn.Od,C.YN,C.Kr,gi.oB,Z.G,wt.X$,un.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})(),zg=(()=>{class i{constructor(t,n,c){this.authService=t,this.securityService=n,this.appComponentViewService=c}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(t=>{this.authService.user=t.username,this.authService.isAuthenticated=t.isAuthenticated,t.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Fi.e),e.Y36(In.I),e.Y36(qr.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-auth"]],decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();var wd=g(8895),Mr=g(572),bd=g(5613),Ga=g(8285),fl=g(2808);const Yg=["addButton"];function Kg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-form-row",11)(1,"app-form-toggle",12)(2,"input",13),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.newUrl.isRedirectUri=c)}),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("id","addRedirectUri")("label","Common.Callback")("help","Clients.URLS.SendTokens")("isLast",!t.clientViewService.applicationUrls.postLogoutRedirectUris&&!t.clientViewService.applicationUrls.allowedCorsOrigins),e.xp6(1),e.Q6J("id","addRedirectUri"),e.xp6(1),e.Q6J("checked",t.newUrl.isRedirectUri)("ngModel",t.newUrl.isRedirectUri)("disabled",0==t.client.redirectUris.length)}}function ww(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-form-row",11)(1,"app-form-toggle",12)(2,"input",14),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.newUrl.isPostLogoutRedirectUri=c)}),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("id","addPostLogoutRedirectUri")("label","Common.Signout")("help","Clients.URLS.RedirectAfterLogout")("isLast",!t.clientViewService.applicationUrls.allowedCorsOrigins),e.xp6(1),e.Q6J("id","addPostLogoutRedirectUri"),e.xp6(1),e.Q6J("checked",t.newUrl.isPostLogoutRedirectUri)("ngModel",t.newUrl.isPostLogoutRedirectUri)}}function Xg(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-form-row",11)(1,"app-form-toggle",12)(2,"input",15),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.newUrl.isAllowedCorsOrigin=c)}),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("id","corsOrigin")("label","Common.CORS")("help","Clients.URLS.CORSDomain")("isLast",!0),e.xp6(1),e.Q6J("id","corsOrigin"),e.xp6(1),e.Q6J("checked",t.newUrl.isAllowedCorsOrigin)("ngModel",t.newUrl.isAllowedCorsOrigin)("disabled",t.client.allowedGrantTypes.includes(t.grantTypes.Device))}}function wh(i,o){1&i&&e._UZ(0,"app-data-table-column",16),2&i&&e.Q6J("title","Common.Callback")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isRedirectUri")("isBoolean",!0)}function bh(i,o){1&i&&e._UZ(0,"app-data-table-column",16),2&i&&e.Q6J("title","Common.Signout")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isPostLogoutRedirectUri")("isBoolean",!0)}function bw(i,o){1&i&&e._UZ(0,"app-data-table-column",16),2&i&&e.Q6J("title","Common.CORS")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isAllowedCorsOrigin")("isBoolean",!0)}function Td(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-form-row",11)(1,"app-form-toggle",12)(2,"input",18),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.editingUrl.isRedirectUri=c)}),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("id","editRedirectUri")("label","Common.Callback")("help","Clients.URLS.SendTokens")("isLast",!t.clientViewService.applicationUrls.postLogoutRedirectUris&&!t.clientViewService.applicationUrls.allowedCorsOrigins),e.xp6(1),e.Q6J("id","editRedirectUri"),e.xp6(1),e.Q6J("checked",t.editingUrl.isRedirectUri||0==t.client.redirectUris.length)("ngModel",t.editingUrl.isRedirectUri)("disabled",0==t.client.redirectUris.length)}}function Ad(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-form-row",11)(1,"app-form-toggle",12)(2,"input",19),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.editingUrl.isPostLogoutRedirectUri=c)}),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("id","editPostLogoutRedirectUri")("label","Common.Signout")("help","Clients.URLS.RedirectAfterLogout")("isLast",!t.clientViewService.applicationUrls.allowedCorsOrigins),e.xp6(1),e.Q6J("id","editPostLogoutRedirectUri"),e.xp6(1),e.Q6J("checked",t.editingUrl.isPostLogoutRedirectUri)("ngModel",t.editingUrl.isPostLogoutRedirectUri)}}function Th(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-form-row",11)(1,"app-form-toggle",12)(2,"input",20),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.editingUrl.isAllowedCorsOrigin=c)}),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("id","editCorsOrigin")("label","Common.CORS")("help","Clients.URLS.CORSDomain")("isLast",!0),e.xp6(1),e.Q6J("id","editCorsOrigin"),e.xp6(1),e.Q6J("checked",t.editingUrl.isAllowedCorsOrigin)("ngModel",t.editingUrl.isAllowedCorsOrigin)("disabled",t.client.allowedGrantTypes.includes(t.grantTypes.Device))}}function Tw(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-form-row",4)(2,"input",17),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.editingUrl.url=c)}),e.qZA()(),e.YNc(3,Td,3,8,"app-form-row",6),e.YNc(4,Ad,3,7,"app-form-row",6),e.YNc(5,Th,3,8,"app-form-row",6),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("id","editUrl")("label","Common.URL"),e.xp6(1),e.Q6J("ngModel",t.editingUrl.url),e.xp6(1),e.Q6J("ngIf",t.clientViewService.applicationUrls.redirectUris),e.xp6(1),e.Q6J("ngIf",t.clientViewService.applicationUrls.postLogoutRedirectUris),e.xp6(1),e.Q6J("ngIf",t.clientViewService.applicationUrls.allowedCorsOrigins)}}let Sd=(()=>{class i{constructor(t,n,c,m,M,Q){this.translate=t,this.toastr=n,this.clientCachingService=c,this.clientViewService=m,this.modalService=M,this.dataTableService=Q,this.grantTypes=wd.q,this.pathCheck=Re.AZ,this.addModalActions=[Dt.n.Save],this.addModalId="addAppURLModal",this.editModalActions=[Dt.n.Save],this.editModalId="editAppURLModal",this.urlDataTableActions=[Mr.Xz.Select,Mr.Xz.Delete]}mapUrlToApplicationUrl(t){const n=this.client.allowedCorsOrigins.includes(t),c=this.client.redirectUris.includes(t),m=this.client.postLogoutRedirectUris.includes(t);return new bd.m(t,n,c,m)}ngOnInit(){this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.initNewUrlDefaults();const n=this.client.allowedCorsOrigins.concat(this.client.redirectUris,this.client.postLogoutRedirectUris);this.allArr=Gr.jj(n).map(c=>this.mapUrlToApplicationUrl(c)).sort((c,m)=>c.url.localeCompare(m.url))}),this.subscription=this.dataTableService.deleteRowEvent.subscribe(t=>{this.deleteUrl(t)})}initNewUrlDefaults(){this.newUrl=new bd.m("",!1,!1,!1),this.client.allowedGrantTypes.includes(wd.q.Device)?this.newUrl.isAllowedCorsOrigin=!0:this.newUrl.isRedirectUri=!0}ngOnDestroy(){this.subscription.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}cancelAdd(){this.initNewUrlDefaults(),this.modalService.hideById(this.addModalId)}cancelEdit(){this.editingUrl=null,this.modalService.hideById(this.editModalId)}deleteUrl(t){const n=this.allArr[t];if(!this.client.allowedGrantTypes.includes(this.grantTypes.Device)&&1===this.client.redirectUris.length&&n.isRedirectUri)return void this.toastr.error(this.translate.instant("Clients.URLS.NoURLS"),this.translate.instant("Notifications.Sorry"));const c=JSON.parse(JSON.stringify(this.client));if(n.isRedirectUri){const m=c.redirectUris.indexOf(n.url);c.redirectUris.splice(m,1)}if(n.isPostLogoutRedirectUri){const m=c.postLogoutRedirectUris.indexOf(n.url);c.postLogoutRedirectUris.splice(m,1)}if(n.isAllowedCorsOrigin){const m=c.allowedCorsOrigins.indexOf(n.url);c.allowedCorsOrigins.splice(m,1)}this.updateClient(c)}isAddButtonDisabled(){return this.allArr.findIndex(t=>this.newUrl.url===t.url)>-1||this.disableButtonLogic(this.newUrl)}disableButtonLogic(t){return!(!(0,Re.Ew)(t.url)&&""!==t.url.trim()&&(t.isAllowedCorsOrigin||t.isPostLogoutRedirectUri||t.isRedirectUri)&&(!(0,Re.AZ)(t.url)||!t.isAllowedCorsOrigin||(this.toastr.warning(this.translate.instant("Clients.CORSUrl"),this.translate.instant("Notifications.Warning")),0)))}isEditButtonDisabled(){return!!this.editingUrl&&this.disableButtonLogic(this.editingUrl)}editUrl(t){const n=t.data,c=this.allArr.findIndex(m=>m.url===n.url);this.editingUrl=new bd.$(n.url,n.isAllowedCorsOrigin,n.isRedirectUri,n.isPostLogoutRedirectUri,c),this.modalService.showById(this.editModalId,this.editButtonRef)}saveEdit(){const t=this.editingUrl.url===this.editingUrl.oldUrl?this.editingUrl.url:this.editingUrl.oldUrl,n=this.client.redirectUris.indexOf(t),c=this.client.postLogoutRedirectUris.indexOf(t),m=this.client.allowedCorsOrigins.indexOf(t);n>-1&&this.client.redirectUris.splice(n,1),c>-1&&this.client.postLogoutRedirectUris.splice(c,1),m>-1&&this.client.allowedCorsOrigins.splice(m,1),this.allArr.splice(this.editingUrl.index,1),this.addUrl(this.editingUrl)}addUrl(t){const n=(0,Re.lm)(t.url);if(n){let m;switch(n){case"https://":case"http://":m=new RegExp("https?://(?:www.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].[^s]{2,}|www.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].[^s]{2,}|https?://(?:www.|(?!www))[a-zA-Z0-9].[^s]{2,}|www.[a-zA-Z0-9].[^s]{2,}"),m.exec(t.url)||this.toastr.warning(this.translate.instant("Clients.UrlNotValid"),this.translate.instant("Notifications.Warning"));break;case"urn:":m=new RegExp("^urn:[a-z0-9][a-z0-9-]{0,31}:[a-z0-9()+,-.:=@;$_!*'%/?#]+$"),m.exec(t.url)||this.toastr.warning(this.translate.instant("Clients.UrlNotValid"),this.translate.instant("Notifications.Warning"))}}const c=JSON.parse(JSON.stringify(this.client));c.allowedGrantTypes.includes(wd.q.Device)?c.allowedCorsOrigins.push(t.url):(t.isRedirectUri&&c.redirectUris.push(t.url),t.isPostLogoutRedirectUri&&c.postLogoutRedirectUris.push(t.url),t.isAllowedCorsOrigin&&c.allowedCorsOrigins.push(t.url)),this.updateClient(c),this.initNewUrlDefaults()}updateClient(t){this.clientCachingService.componentDirtyValidMap.set("ApplicationUrlsComponent",{isValid:!0}),this.client=t;const n=this.client.allowedCorsOrigins.concat(this.client.redirectUris,this.client.postLogoutRedirectUris);this.allArr=Gr.jj(n).map(c=>this.mapUrlToApplicationUrl(c)).sort((c,m)=>c.url.localeCompare(m.url)),this.clientCachingService.unsavedCache.next(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(yr.Z),e.Y36(No.a),e.Y36(Bi.Z),e.Y36(Ga.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-application-urls"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Yg,5),e.Gf(Yg,5)),2&t){let c;e.iGM(c=e.CRH())&&(n.addButtonRef=c.first),e.iGM(c=e.CRH())&&(n.editButtonRef=c.first)}},decls:19,vars:31,consts:[["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"title","actions","modalId","addDisabled","saveText","onCancel","onSave"],[3,"id","label"],["id","addUrl","type","url","name","addUrl",1,"tw-form-control",3,"ngModel","ngModelChange"],[3,"id","label","help","isLast",4,"ngIf"],["id","appUrls",3,"rows","actions","norowslabel","onSelect"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","isBoolean",4,"ngIf"],[4,"ngIf"],[3,"id","label","help","isLast"],[3,"id"],["id","addRedirectUri","type","checkbox","name","addRedirectUri",1,"tw-form-switch__input",3,"checked","ngModel","disabled","ngModelChange"],["id","addPostLogoutRedirectUri","type","checkbox","name","addPostLogoutRedirectUri",1,"tw-form-switch__input",3,"checked","ngModel","ngModelChange"],["id","corsOrigin","type","checkbox","name","corsOrigin",1,"tw-form-switch__input",3,"checked","ngModel","disabled","ngModelChange"],[3,"title","headClasses","cellClasses","prop","isBoolean"],["id","editUrl","type","url","name","editUrl",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","editRedirectUri","type","checkbox","name","editRedirectUri",1,"tw-form-switch__input",3,"checked","ngModel","disabled","ngModelChange"],["id","editPostLogoutRedirectUri","type","checkbox","name","editPostLogoutRedirectUri",1,"tw-form-switch__input",3,"checked","ngModel","ngModelChange"],["id","editCorsOrigin","type","checkbox","name","editCorsOrigin",1,"tw-form-switch__input",3,"checked","ngModel","disabled","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"app-action-bar"),e.ynx(1,0),e.TgZ(2,"button",1,2),e.NdJ("click",function(){return n.openAddModal()}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(6,"app-custom-modal",3),e.NdJ("onCancel",function(){return n.cancelAdd()})("onSave",function(){return n.addUrl(n.newUrl)}),e.TgZ(7,"app-form-row",4)(8,"input",5),e.NdJ("ngModelChange",function(m){return n.newUrl.url=m}),e.qZA()(),e.YNc(9,Kg,3,8,"app-form-row",6),e.YNc(10,ww,3,7,"app-form-row",6),e.YNc(11,Xg,3,8,"app-form-row",6),e.qZA(),e.TgZ(12,"app-data-table",7),e.NdJ("onSelect",function(m){return n.editUrl(m)}),e._UZ(13,"app-data-table-column",8),e.YNc(14,wh,1,5,"app-data-table-column",9),e.YNc(15,bh,1,5,"app-data-table-column",9),e.YNc(16,bw,1,5,"app-data-table-column",9),e.qZA(),e.TgZ(17,"app-custom-modal",3),e.NdJ("onCancel",function(){return n.cancelEdit()})("onSave",function(){return n.saveEdit()}),e.YNc(18,Tw,6,6,"ng-container",10),e.qZA()),2&t&&(e.xp6(2),e.Q6J("id","addUrlButton"),e.xp6(2),e.hij(" ",e.lcZ(5,29,"Clients.URLS.AddURL")," "),e.xp6(2),e.Q6J("title","Clients.URLS.AddURL")("actions",n.addModalActions)("modalId",n.addModalId)("addDisabled",n.isAddButtonDisabled())("saveText","Common.Add"),e.xp6(1),e.Q6J("id","addUrl")("label","Common.URL"),e.xp6(1),e.Q6J("ngModel",n.newUrl.url),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.redirectUris),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.postLogoutRedirectUris),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.allowedCorsOrigins),e.xp6(1),e.Q6J("rows",n.allArr)("actions",n.urlDataTableActions)("norowslabel","Clients.URLS.None"),e.xp6(1),e.Q6J("title","Common.URL")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","url"),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.redirectUris),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.postLogoutRedirectUris),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.allowedCorsOrigins),e.xp6(1),e.Q6J("title","Clients.URLS.EditApplicationURL")("actions",n.editModalActions)("modalId",n.editModalId)("addDisabled",n.isEditButtonDisabled())("saveText","Common.Save"),e.xp6(1),e.Q6J("ngIf",n.editingUrl))},dependencies:[N.O5,C.Fj,C.Wl,C.JJ,C.On,Ce.K,Mr.Qj,fl.E,gt.L,_s.O,Fs.R,wt.X$],encapsulation:2,changeDetection:0}),i})();const xd=["addButton"];let Ah=(()=>{class i{constructor(t,n,c){this.clientCachingService=t,this.modalService=n,this.dataTableService=c,this.addType="",this.addValue="",this.editingClaim=new zu,this.editModalActions=[Dt.n.Save],this.editModalId="editClaimId",this.claimDataTableActions=[Mr.Xz.Delete,Mr.Xz.Select],this.addModalActions=[Dt.n.Save],this.addModalId="addClaimModalId"}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.claims=this.client.claims,this.alwaysSendClaims=t.alwaysSendClientClaims,this.prefixClaims=t.clientClaimsPrefix}),this.subscription.add(this.dataTableService.deleteRowEvent.subscribe(t=>{this.deleteClaim(t)}))}ngOnDestroy(){this.subscription.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}openEditModal(t){this.editingClaim=JSON.parse(JSON.stringify(t.data)),this.editingClaim.oldClaimIndex=this.claims.indexOf(t.data),this.modalService.showById(this.editModalId,t.element)}resetAndCloseEditModal(){this.editingClaim=new zu,this.modalService.hideById(this.editModalId)}cancelAdd(){this.addType="",this.addValue="",this.modalService.hideById(this.addModalId)}editClaim(){const t=this.claims.slice(),n=t[this.editingClaim.oldClaimIndex];n.value=this.editingClaim.value,n.type=this.editingClaim.type,this.submitClaims(t),this.resetAndCloseEditModal()}addClaim(){const t=new sc;t.type=this.addType.trim(),t.value=this.addValue.trim();const n=this.claims.slice();n.push(t),this.addType="",this.addValue="",this.submitClaims(n)}deleteClaim(t){const n=this.claims.slice();n.splice(t,1),this.submitClaims(n)}sendBooleans(){const t=JSON.parse(JSON.stringify(this.client));t.alwaysSendClientClaims=this.alwaysSendClaims,t.prefixClientClaims=this.prefixClaims,this.submitClient(t)}submitClaims(t){const n=JSON.parse(JSON.stringify(this.client));n.claims=t,this.client.claims=t,this.submitClient(n)}submitClient(t){this.clientCachingService.componentDirtyValidMap.set("ClientClaimsComponent",{isValid:!0}),this.clientCachingService.unsavedCache.next(t)}updatePrefix(){const t=JSON.parse(JSON.stringify(this.client));t.clientClaimsPrefix=this.prefixClaims?this.prefixClaims:null,this.submitClient(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z),e.Y36(Bi.Z),e.Y36(Ga.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-claims"]],viewQuery:function(t,n){if(1&t&&e.Gf(xd,5),2&t){let c;e.iGM(c=e.CRH())&&(n.addButtonRef=c.first)}},decls:27,vars:46,consts:[["id","editClientClaims"],["claimsForm","ngForm"],[3,"id","label","help"],[3,"id"],["id","alwaysSendClaims","name","alwaysSendClaims","type","checkbox",1,"tw-form-switch__input",3,"ngModel","change","ngModelChange"],["id","prefixClaims","name","prefixClaims","type","text",1,"tw-form-control",3,"ngModel","ngModelChange","keyup"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"title","modalId","actions","addDisabled","onCancel","onSave"],[3,"label","id"],["id","addType","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],[3,"label","id","isLast"],["id","addValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],[3,"rows","norowslabel","actions","onSelect"],[3,"prop","title","headClasses","cellClasses"],["id","editType","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","editValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",null,1)(3,"app-form-row",2)(4,"app-form-toggle",3)(5,"input",4),e.NdJ("change",function(){return n.sendBooleans()})("ngModelChange",function(m){return n.alwaysSendClaims=m}),e.qZA()()(),e.TgZ(6,"app-form-row",2)(7,"input",5),e.NdJ("ngModelChange",function(m){return n.prefixClaims=m})("keyup",function(){return n.updatePrefix()}),e.qZA()()(),e.TgZ(8,"app-action-bar"),e.ynx(9,6),e.TgZ(10,"button",7,8),e.NdJ("click",function(){return n.openAddModal()}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(14,"app-custom-modal",9),e.NdJ("onCancel",function(){return n.cancelAdd()})("onSave",function(){return n.addClaim()}),e.TgZ(15,"app-form-row",10)(16,"input",11),e.NdJ("ngModelChange",function(m){return n.addType=m}),e.qZA()(),e.TgZ(17,"app-form-row",12)(18,"input",13),e.NdJ("ngModelChange",function(m){return n.addValue=m}),e.qZA()()(),e.TgZ(19,"app-data-table",14),e.NdJ("onSelect",function(m){return n.openEditModal(m)}),e._UZ(20,"app-data-table-column",15)(21,"app-data-table-column",15),e.qZA(),e.TgZ(22,"app-custom-modal",9),e.NdJ("onCancel",function(){return n.resetAndCloseEditModal()})("onSave",function(){return n.editClaim()}),e.TgZ(23,"app-form-row",10)(24,"input",16),e.NdJ("ngModelChange",function(m){return n.editingClaim.type=m}),e.qZA()(),e.TgZ(25,"app-form-row",12)(26,"input",17),e.NdJ("ngModelChange",function(m){return n.editingClaim.value=m}),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("id","alwaysSendClaims")("label","Clients.SendClaims")("help","Clients.SendClaimsHelp"),e.xp6(1),e.Q6J("id","alwaysSendClaims"),e.xp6(1),e.Q6J("ngModel",n.alwaysSendClaims),e.xp6(1),e.Q6J("id","prefixClaims")("label","Clients.PrefixClaims")("help","Clients.PrefixClaimsHelp"),e.xp6(1),e.Q6J("ngModel",n.prefixClaims),e.xp6(3),e.Q6J("id","addClaim"),e.xp6(2),e.hij(" ",e.lcZ(13,44,"Clients.AddClaim")," "),e.xp6(2),e.Q6J("title","Clients.AddClaim")("modalId",n.addModalId)("actions",n.addModalActions)("addDisabled",n.addType.length<1||n.addValue.length<1),e.xp6(1),e.Q6J("label","Common.Type")("id","addType"),e.xp6(1),e.Q6J("ngModel",n.addType),e.xp6(1),e.Q6J("label","Common.Value")("id","addValue")("isLast",!0),e.xp6(1),e.Q6J("ngModel",n.addValue),e.xp6(1),e.Q6J("rows",n.claims)("norowslabel","Clients.NoClaims")("actions",n.claimDataTableActions),e.xp6(1),e.Q6J("prop","type")("title","Common.Type")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),e.xp6(1),e.Q6J("prop","value")("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.xp6(1),e.Q6J("title","Clients.EditClaim")("modalId",n.editModalId)("actions",n.editModalActions)("addDisabled",(null==n.editingClaim.type?null:n.editingClaim.type.length)<1||(null==n.editingClaim.value?null:n.editingClaim.value.length)<1),e.xp6(1),e.Q6J("label","Common.Type")("id","editType"),e.xp6(1),e.Q6J("ngModel",n.editingClaim.type),e.xp6(1),e.Q6J("label","Common.Value")("id","editValue")("isLast",!0),e.xp6(1),e.Q6J("ngModel",n.editingClaim.value))},dependencies:[C._Y,C.Fj,C.Wl,C.JJ,C.JL,C.On,C.F,Ce.K,Mr.Qj,fl.E,gt.L,_s.O,Fs.R,wt.X$],encapsulation:2}),i})();const e_=["addButton"];let Sh=(()=>{class i{constructor(t,n,c,m,M){this.clientCachingService=t,this.translate=n,this.toastr=c,this.modalService=m,this.dataTableService=M,this.defaultGrantTypes=["implicit","authorization_code","hybrid","resource_owner","client_credentials","urn:ietf:params:oauth:grant-type:device_code","urn:openid:params:grant-type:ciba"],this.grantTypesList=[],this.grantsMap=this.createAllowedGrantsMap(),this.disabledSave=!0,this.grantTypeDataTableActions=[Mr.Xz.Delete],this.addModalActions=[Dt.n.Save],this.addModalId="addGrantTypeId"}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.grantTypesList=this.client.allowedGrantTypes.slice(),this.mapAllowedGrants()}),this.subscription.add(this.dataTableService.deleteRowEvent.subscribe(t=>{this.removeGrantType(t)}))}openAddModal(){this.reset(),this.modalService.showById(this.addModalId,this.addButtonRef)}cancelAdd(){this.modalService.hideById(this.addModalId)}reset(){this.newGrantType="",this.customGrantType=""}mapAllowedGrants(){const t=this.checkAllowed(["implicit","authorization_code","hybrid","urn:ietf:params:oauth:grant-type:device_code"]),n=this.checkAllowed(["implicit","authorization_code","hybrid","urn:ietf:params:oauth:grant-type:device_code"]),c=this.checkAllowed(["implicit","authorization_code","hybrid","urn:ietf:params:oauth:grant-type:device_code"]),m=this.checkAllowed(["client_credentials"]),M=this.checkAllowed(["password","urn:ietf:params:oauth:grant-type:device_code"]),Q=this.checkAllowed(["password","implicit","authorization_code","hybrid","urn:ietf:params:oauth:grant-type:device_code"]),ue=this.checkAllowed(["urn:openid:params:grant-type:ciba","implicit","authorization_code","hybrid","client_credentials","password","urn:ietf:params:oauth:grant-type:device_code"]);this.grantsMap.set("implicit",t),this.grantsMap.set("authorization_code",n),this.grantsMap.set("hybrid",c),this.grantsMap.set("client_credentials",m),this.grantsMap.set("password",M),this.grantsMap.set("urn:ietf:params:oauth:grant-type:device_code",Q),this.grantsMap.set("urn:openid:params:grant-type:ciba",ue)}createAllowedGrantsMap(){let t=new Map;return t=new Map,t.set("implicit",!1),t.set("authorization_code",!1),t.set("hybrid",!1),t.set("client_credentials",!1),t.set("password",!1),t.set("urn:ietf:params:oauth:grant-type:device_code",!1),t.set("urn:openid:params:grant-type:ciba",!1),t.set("custom",!1),t}ngOnDestroy(){this.subscription.unsubscribe()}checkAllowed(t){return(0,Gr.G)(this.client.allowedGrantTypes,n=>(0,Gr.r3)(t,n))}changeSelected(t){this.selected=t.value,this.evalidateDisabled()}addGrantType(){let t=this.selected;"custom"===t&&(t=this.customGrantType),this.grantTypesList.includes(t)?this.toastr.warning(this.translate.instant("Clients.GrantTypes.DuplicateGrantType"),this.translate.instant("Common.Warning")):(this.grantTypesList.push(t),this.updateClientCache())}removeGrantType(t){const n=this.grantTypesList[t];this.grantTypesList=this.grantTypesList.filter(c=>c!==n),this.updateClientCache()}updateClientCache(){const t=JSON.parse(JSON.stringify(this.client));t.allowedGrantTypes=this.grantTypesList,this.clientCachingService.componentDirtyValidMap.set("ClientGrantTypesComponent",{isValid:!0}),this.clientCachingService.unsavedCache.next(t)}evalidateDisabled(){this.disabledSave=!this.selected||"custom"===this.selected&&!(this.customGrantType&&this.customGrantType.length>1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(Bi.Z),e.Y36(Ga.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-granttypes"]],viewQuery:function(t,n){if(1&t&&e.Gf(e_,5),2&t){let c;e.iGM(c=e.CRH())&&(n.addButtonRef=c.first)}},decls:40,vars:53,consts:[["id","editClientGrantTypes"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"title","modalId","actions","addDisabled","onCancel","onSave"],[3,"label","id"],[1,"tw-form-select","tw-max-w-full"],["id","GrantSelect",1,"tw-form-control","tw-max-w-full",3,"ngModel","change","ngModelChange"],["value","implicit",3,"disabled"],["value","authorization_code",3,"disabled"],["value","hybrid",3,"disabled"],["value","client_credentials",3,"disabled"],["value","password",3,"disabled"],["value","urn:ietf:params:oauth:grant-type:device_code",3,"disabled"],["value","urn:openid:params:grant-type:ciba",3,"disabled"],["value","custom",3,"disabled"],[3,"label","id","isLast"],["id","GrantCustomValue","type","text","required","",1,"tw-form-control","tw-max-w-full",3,"ngModel","disabled","ngModelChange","keydown"],[3,"rows","norowslabel","actions"],[3,"prop","title","cellClasses"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"app-action-bar"),e.ynx(2,1),e.TgZ(3,"button",2,3),e.NdJ("click",function(){return n.openAddModal()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(7,"app-custom-modal",4),e.NdJ("onCancel",function(){return n.cancelAdd()})("onSave",function(){return n.addGrantType()}),e.TgZ(8,"app-form-row",5)(9,"div",6)(10,"select",7),e.NdJ("change",function(m){return n.changeSelected(m.target)})("ngModelChange",function(m){return n.newGrantType=m}),e._UZ(11,"option"),e.TgZ(12,"option",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"option",9),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"option",10),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"option",11),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"option",12),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"option",13),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"option",14),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"option",15),e._uU(34),e.ALo(35,"translate"),e.qZA()()()(),e.TgZ(36,"app-form-row",16)(37,"input",17),e.NdJ("ngModelChange",function(m){return n.customGrantType=m})("keydown",function(){return n.evalidateDisabled()}),e.qZA()()(),e.TgZ(38,"app-data-table",18),e._UZ(39,"app-data-table-column",19),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("id","addClaim"),e.xp6(2),e.hij(" ",e.lcZ(6,35,"Clients.GrantTypes.AddGrantType")," "),e.xp6(2),e.Q6J("title","Clients.GrantTypes.AddGrantType")("modalId",n.addModalId)("actions",n.addModalActions)("addDisabled",n.disabledSave),e.xp6(1),e.Q6J("label","Common.Name")("id","GrantSelect"),e.xp6(2),e.Q6J("ngModel",n.newGrantType),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("implicit")),e.xp6(1),e.Oqu(e.lcZ(14,37,"Clients.GrantTypes.Implicit")),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("authorization_code")),e.xp6(1),e.Oqu(e.lcZ(17,39,"Clients.GrantTypes.AuthCode")),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("hybrid")),e.xp6(1),e.Oqu(e.lcZ(20,41,"Clients.GrantTypes.Hybrid")),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("client_credentials")),e.xp6(1),e.Oqu(e.lcZ(23,43,"Clients.GrantTypes.ClientCredentials")),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("password")),e.xp6(1),e.Oqu(e.lcZ(26,45,"Clients.GrantTypes.Password")),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("urn:ietf:params:oauth:grant-type:device_code")),e.xp6(1),e.Oqu(e.lcZ(29,47,"Clients.GrantTypes.DeviceFlow")),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("urn:openid:params:grant-type:ciba")),e.xp6(1),e.Oqu(e.lcZ(32,49,"Clients.GrantTypes.CIBA")),e.xp6(2),e.Q6J("disabled",n.grantsMap.get("custom")),e.xp6(1),e.Oqu(e.lcZ(35,51,"Clients.GrantTypes.Custom")),e.xp6(2),e.Q6J("label","Common.Custom")("id","GrantCustomValue")("isLast",!0),e.xp6(1),e.Q6J("ngModel",n.customGrantType)("disabled","custom"!=n.newGrantType),e.xp6(1),e.Q6J("rows",n.grantTypesList)("norowslabel","Clients.GrantTypes.None")("actions",n.grantTypeDataTableActions),e.xp6(1),e.Q6J("title","Common.Name")("cellClasses","tw-max-w-0 tw-truncate"))},dependencies:[C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.Q7,C.On,Ce.K,Mr.Qj,fl.E,gt.L,Fs.R,wt.X$],encapsulation:2}),i})();var ks=g(2329),xh=g(6045),Dh=g(9748),t_=g(6502);function Aw(i,o){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"input",7),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.s9C("id",t.id+"-input"),e.Q6J("ngModel",t.value)}}function n_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",8),e.NdJ("keydown",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.onKeyDown(c))})("paste",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.onPaste(c))})("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.onValueChange(c))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("id",t.id+"-input"),e.Q6J("ngModel",t.value)}}function i_(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.timeSpan.years," ",e.lcZ(2,2,t.displayTimeSpanUnit(t.timeSpan.years,"Year"))," ")}}function s_(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.timeSpan.months," ",e.lcZ(2,2,t.displayTimeSpanUnit(t.timeSpan.months,"Month"))," ")}}function r_(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.timeSpan.weeks," ",e.lcZ(2,2,t.displayTimeSpanUnit(t.timeSpan.weeks,"Week"))," ")}}function Sw(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.timeSpan.days," ",e.lcZ(2,2,t.displayTimeSpanUnit(t.timeSpan.days,"Day"))," ")}}function o_(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.timeSpan.hours," ",e.lcZ(2,2,t.displayTimeSpanUnit(t.timeSpan.hours,"Hour"))," ")}}function a_(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.timeSpan.minutes," ",e.lcZ(2,2,t.displayTimeSpanUnit(t.timeSpan.minutes,"Minute"))," ")}}function Eh(i,o){if(1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.timeSpan.seconds," ",e.lcZ(2,2,t.displayTimeSpanUnit(t.timeSpan.seconds,"Second"))," ")}}function Dd(i,o){1&i&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Clients.Tokens.Durations.Unlimited")," "))}function l_(i,o){if(1&i&&(e.TgZ(0,"p",9),e._UZ(1,"span",10),e.ALo(2,"translate"),e.TgZ(3,"span",11),e.YNc(4,i_,3,4,"span",12),e.YNc(5,s_,3,4,"span",12),e.YNc(6,r_,3,4,"span",12),e.YNc(7,Sw,3,4,"span",12),e.YNc(8,o_,3,4,"span",12),e.YNc(9,a_,3,4,"span",12),e.YNc(10,Eh,3,4,"span",12),e.YNc(11,Dd,3,3,"span",12),e.qZA()()),2&i){const t=e.oxw();e.s9C("id",t.id+"-longTimeLabel"),e.xp6(1),e.uIk("aria-label",e.lcZ(2,10,"Clients.Tokens.DurationTitle")),e.xp6(3),e.Q6J("ngIf",t.timeSpan.years>0),e.xp6(1),e.Q6J("ngIf",t.timeSpan.months>0),e.xp6(1),e.Q6J("ngIf",t.timeSpan.weeks>0),e.xp6(1),e.Q6J("ngIf",t.timeSpan.days>0),e.xp6(1),e.Q6J("ngIf",t.timeSpan.hours>0),e.xp6(1),e.Q6J("ngIf",t.timeSpan.minutes>0),e.xp6(1),e.Q6J("ngIf",t.timeSpan.seconds>0),e.xp6(1),e.Q6J("ngIf",t.showUnlimitedTimeSpan())}}function c_(i,o){if(1&i&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.duration)}}const u_=function(i,o){return{"tw-btn active":i,"tw-btn-link":o}};function d_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li")(1,"button",14),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.setInput(m))}),e.YNc(2,c_,2,1,"span",15),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(6,u_,n.checkSelected(t),!n.checkSelected(t)))("disabled",n.disabled),e.xp6(1),e.Q6J("ngIf",t.duration),e.xp6(2),e.Oqu(e.lcZ(5,4,"Clients.Tokens.Durations."+t.unit+"Short"))}}let Vl=(()=>{class i{constructor(){this.id=(0,Re.qs)(),this.allowUnlimited=!1,this.disabled=!1,this.required=!1,this.unitMap=Dh.S.getUnitMap(),this.LifetimeUnit=ks.f,this.onChange=t=>{},this.onTouched=()=>{}}set value(t){this.setValue(t,!1)}get value(){return this._value}setValue(t,n=!0){!Number.isInteger(t)||(this._value=t,this.timeSpan?this.timeSpan.formatSeconds(t):this.timeSpan=new t_.i(t),n&&this.onChange(t))}onValueChange(t){this.setValue(t)}onKeyDown(t){return 69!==t.keyCode&&189!==t.keyCode&&190!==t.keyCode}onPaste(t){const c=t.clipboardData?.getData("text"),m=Number(c);Number.isInteger(m)&&(m>0||m>=0&&this.allowUnlimited)||t.preventDefault()}writeValue(t){this.setValue(t,!1)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}validate(t){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}setInput(t){const n=t.duration*this.unitMap.get(t.unit);this.setValue(n)}checkSelected(t){return this.value===t.duration*this.unitMap.get(t.unit)}displayTimeSpanUnit(t,n){return"Clients.Tokens.Durations."+n+(t>1?"s":"")}showUnlimitedTimeSpan(){return!(!this.allowUnlimited||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowUnlimited:"allowUnlimited",disabled:"disabled",required:"required"},features:[e._Bn([{provide:C.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0},{provide:C.Cf,useExisting:(0,e.Gpc)(()=>i),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"id","ngModel","keydown","paste","ngModelChange"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"ngClass","disabled","click"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Aw,2,2,"div",2),e.YNc(3,n_,2,2,"div",2),e.YNc(4,l_,12,12,"p",3),e.qZA(),e.TgZ(5,"div",4)(6,"ul",5),e.YNc(7,d_,6,9,"li",6),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.disabled),e.xp6(1),e.Q6J("ngIf",!n.disabled),e.xp6(1),e.Q6J("ngIf",n.value>0||n.value>=0&&n.allowUnlimited),e.xp6(2),e.s9C("id",n.id+"-buttonList"),e.xp6(1),e.Q6J("ngForOf",n.buttons))},dependencies:[N.mk,N.sg,N.O5,C.Fj,C.wV,C.JJ,C.qQ,C.On,wt.X$],encapsulation:2}),i})();function p_(i,o){if(1&i&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function h_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",12)(1,"button",13),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.removeAlgorithm(m))}),e._UZ(2,"span",14),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(1),e.uIk("aria-label",t),e.xp6(3),e.Oqu(t)}}const f_=function(){return{standalone:!0}};let xw=(()=>{class i{constructor(){this.allowedAlgorithms=["ES256","ES384","ES512","PS256","PS384","PS512","RS256","RS384","RS512"]}ngAfterContentInit(){this.allowedAlgorithms=Gr.zu(this.allowedAlgorithms,...this.form.get(this.algorithmControlName).value),this.selectedAlgorithm=this.allowedAlgorithms[0]}addAlgorithm(){const t=this.form.get(this.algorithmControlName);t.setValue([...t.value,this.selectedAlgorithm]);const n=this.allowedAlgorithms.indexOf(this.selectedAlgorithm);this.allowedAlgorithms.splice(n,1),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}removeAlgorithm(t){const n=this.form.get(this.algorithmControlName),c=n.value.indexOf(t);n.value.splice(c,1),this.allowedAlgorithms.push(t),this.allowedAlgorithms.sort(),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-signing-algorithm-picker"]],inputs:{form:"form",algorithmControlName:"algorithmControlName"},decls:15,vars:9,consts:[[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex"],[1,"tw-form-select"],["id","client-token-signing-algorithm",1,"tw-form-control","tw-mr-1","tw-rounded-r-none","tw-border-r-0",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","signing-algorithm-add-button",1,"tw-btn","tw-rounded-l-none",3,"disabled","click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],["class","tw-pill","id","signing-algorithm-added-algorithms",4,"ngFor","ngForOf"],[3,"value"],["id","signing-algorithm-added-algorithms",1,"tw-pill"],[3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"select",5),e.NdJ("ngModelChange",function(m){return n.selectedAlgorithm=m}),e.YNc(7,p_,2,2,"option",6),e.qZA()(),e.TgZ(8,"button",7),e.NdJ("click",function(){return n.addAlgorithm()}),e._UZ(9,"span",8),e.TgZ(10,"span",9),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()()(),e.TgZ(13,"ul"),e.YNc(14,h_,5,2,"li",10),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngModel",n.selectedAlgorithm)("ngModelOptions",e.DdM(8,f_)),e.xp6(1),e.Q6J("ngForOf",n.allowedAlgorithms),e.xp6(1),e.Q6J("disabled",0==n.allowedAlgorithms.length),e.xp6(3),e.Oqu(e.lcZ(12,6,"Common.Add")),e.xp6(3),e.Q6J("ngForOf",n.form.get(n.algorithmControlName).value))},dependencies:[N.sg,C.YN,C.Kr,C.EJ,C.JJ,C.On,wt.X$]}),i})();function Dw(i,o){if(1&i&&(e.TgZ(0,"app-form-row",5),e._UZ(1,"app-lifetime-picker",6),e.qZA()),2&i){const t=e.oxw();e.Q6J("id","identityTokenLifetime")("label","Clients.Tokens.ClientTokenLifetime")("help","Clients.Tokens.LifetimeInSeconds")("isLast",t.checkLastRow("identityTokenLifetime")),e.xp6(1),e.Q6J("buttons",t.identityTokenLifetimeButtons)}}function Ew(i,o){if(1&i&&(e.TgZ(0,"app-form-row",5),e._UZ(1,"app-lifetime-picker",7),e.qZA()),2&i){const t=e.oxw();e.Q6J("id","accessTokenLifetime")("label","Clients.Tokens.AccessTokenLifetime")("help","Clients.Tokens.LifetimeInSeconds")("isLast",t.checkLastRow("accessTokenLifetime")),e.xp6(1),e.Q6J("buttons",t.accessTokenLifetimeButtons)}}function m_(i,o){if(1&i&&(e.TgZ(0,"app-form-row",8)(1,"ul",9),e.ALo(2,"translate"),e.TgZ(3,"li",10)(4,"label",11),e._UZ(5,"input",12),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"li",10)(10,"label",13),e._UZ(11,"input",14),e.TgZ(12,"span"),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()),2&i){const t=e.oxw();e.Q6J("label","Clients.Tokens.AccessTokenType")("isLast",t.checkLastRow("accessTokenType")),e.xp6(1),e.uIk("aria-label",e.lcZ(2,7,"Clients.Tokens.AccessTokenType")),e.xp6(4),e.Q6J("value","Jwt"),e.xp6(2),e.Oqu(e.lcZ(8,9,"Clients.Tokens.Jwt")),e.xp6(4),e.Q6J("value","Reference"),e.xp6(2),e.Oqu(e.lcZ(14,11,"Clients.Tokens.Reference"))}}function Iw(i,o){if(1&i&&(e.TgZ(0,"app-form-row",5)(1,"app-form-toggle",15),e._UZ(2,"input",16),e.qZA()()),2&i){const t=e.oxw();e.Q6J("id","includeJwtId")("label","Clients.Tokens.IncludeJwtId")("help","Clients.Tokens.IncludeJwtIdHelp")("isLast",t.checkLastRow("includeJwtId")),e.xp6(1),e.Q6J("id","includeJwtId")}}function Ur(i,o){if(1&i&&(e.TgZ(0,"app-form-row",5)(1,"app-form-toggle",15),e._UZ(2,"input",17),e.qZA()()),2&i){const t=e.oxw();e.Q6J("id","allowAccessTokensViaBrowser")("label","Clients.Tokens.AccessTokensViaBrowser")("help","Clients.Tokens.AccessTokensViaBrowserSummary")("isLast",t.checkLastRow("allowAccessTokensViaBrowser")),e.xp6(1),e.Q6J("id","allowAccessTokensViaBrowser")}}function g_(i,o){if(1&i&&(e.TgZ(0,"app-form-row",5)(1,"app-form-toggle",15),e._UZ(2,"input",18),e.qZA()()),2&i){const t=e.oxw();e.Q6J("id","alwaysIncludeUserClaimsInIdToken")("label","Clients.Tokens.IncludeUserClaimsInIdToken")("help","Clients.Tokens.IncludeUserClaimsInIdTokenHelp")("isLast",t.checkLastRow("alwaysIncludeUserClaimsInIdToken")),e.xp6(1),e.Q6J("id","alwaysIncludeUserClaimsInIdToken")}}function Mw(i,o){if(1&i&&(e.TgZ(0,"app-form-row",5),e._UZ(1,"app-lifetime-picker",19),e.qZA()),2&i){const t=e.oxw();e.Q6J("id","authorizationCodeLifetime")("label","Clients.Tokens.AuthCodeLifetime")("help","Clients.Tokens.LifetimeInSeconds")("isLast",t.checkLastRow("authorizationCodeLifetime")),e.xp6(1),e.Q6J("buttons",t.authorizationCodeLifetimeButtons)}}let Ow=(()=>{class i{constructor(t,n,c){this.fb=t,this.clientCachingService=n,this.clientViewService=c}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.allowIncludeJwt=this.client.accessTokenType===xh.T.Jwt,void 0===this.tokensForm&&this.createForm()}),this.setButtonModels()}ngOnDestroy(){this.subscription.unsubscribe()}setTokenTime(t,n){this.tokensForm.controls[n].setValue(60*t),this.tokensForm.markAsTouched(),this.tokensForm.markAsDirty()}createForm(){this.tokensForm=this.fb.group({identityTokenLifetime:[this.client.identityTokenLifetime,C.kI.min(0)],accessTokenLifetime:[this.client.accessTokenLifetime,C.kI.min(0)],authorizationCodeLifetime:[this.client.authorizationCodeLifetime,C.kI.min(0)],accessTokenType:[this.client.accessTokenType],allowAccessTokensViaBrowser:[this.client.allowAccessTokensViaBrowser],alwaysIncludeUserClaimsInIdToken:[this.client.alwaysIncludeUserClaimsInIdToken],includeJwtId:[{value:this.client.includeJwtId,disabled:!this.allowIncludeJwt}],allowedIdentityTokenSigningAlgorithms:[this.client.allowedIdentityTokenSigningAlgorithms]}),this.tokensForm.markAsPristine()}ngAfterViewInit(){this.subscribeToChangeDetection()}subscribeToChangeDetection(){this.tokensForm.valueChanges.subscribe(t=>{this.allowIncludeJwt=t.accessTokenType===xh.T.Jwt;const n=this.tokensForm.get("includeJwtId");this.allowIncludeJwt&&n.disabled?this.tokensForm.get("includeJwtId").enable():!this.allowIncludeJwt&&!n.disabled&&this.tokensForm.get("includeJwtId").disable();const c=JSON.parse(JSON.stringify(this.client));c.identityTokenLifetime=this.tokensForm.controls.identityTokenLifetime.value,c.accessTokenLifetime=this.tokensForm.controls.accessTokenLifetime.value,c.authorizationCodeLifetime=this.tokensForm.controls.authorizationCodeLifetime.value,c.accessTokenType=this.tokensForm.controls.accessTokenType.value,c.allowAccessTokensViaBrowser=this.tokensForm.controls.allowAccessTokensViaBrowser.value,c.includeJwtId=this.tokensForm.controls.includeJwtId.value,c.alwaysIncludeUserClaimsInIdToken=this.tokensForm.controls.alwaysIncludeUserClaimsInIdToken.value,c.allowedIdentityTokenSigningAlgorithms=this.tokensForm.controls.allowedIdentityTokenSigningAlgorithms.value,this.clientCachingService.componentDirtyValidMap.set("ClientTokensComponent",{isValid:this.tokensForm.valid}),this.clientCachingService.unsavedCache.next(c)})}setButtonModels(){this.identityTokenLifetimeButtons=[{duration:5,unit:ks.f.Minutes},{duration:10,unit:ks.f.Minutes}],this.accessTokenLifetimeButtons=[{duration:15,unit:ks.f.Minutes},{duration:30,unit:ks.f.Minutes},{duration:1,unit:ks.f.Hour},{duration:5,unit:ks.f.Hours}],this.authorizationCodeLifetimeButtons=[{duration:5,unit:ks.f.Minutes},{duration:10,unit:ks.f.Minutes}]}checkLastRow(t){const n=this.clientViewService.tokens;let c="";return n.authorizationCodeLifetime?c="authorizationCodeLifetime":n.alwaysIncludeUserClaimsInIdToken?c="alwaysIncludeUserClaimsInIdToken":n.allowAccessTokensViaBrowser?c="allowAccessTokensViaBrowser":n.includeJwtId?c="includeJwtId":n.accessTokenType?c="accessTokenType":n.accessTokenLifetime?c="accessTokenLifetime":n.identityTokenLifetime&&(c="identityTokenLifetime"),t===c}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(yr.Z),e.Y36(No.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-tokens"]],decls:10,vars:12,consts:[["id","editClientTokens",3,"formGroup"],[3,"id","label"],[3,"form","algorithmControlName"],[3,"id","label","help","isLast",4,"ngIf"],[3,"label","isLast",4,"ngIf"],[3,"id","label","help","isLast"],["id","identityTokenLifetime","formControlName","identityTokenLifetime",3,"buttons"],["id","accessTokenLifetime","formControlName","accessTokenLifetime",3,"buttons"],[3,"label","isLast"],["id","accessTokenTypeGroup","role","group",1,"tw-form-checks"],[1,"tw-form-checks__item"],["for","accessTokenTypeJwt",1,"tw-form-checks__label"],["id","accessTokenTypeJwt","type","radio","name","accessTokenType","formControlName","accessTokenType",1,"tw-form-checks__input",3,"value"],["for","accessTokenTypeReference",1,"tw-form-checks__label"],["id","accessTokenTypeReference","type","radio","name","accessTokenType","formControlName","accessTokenType",1,"tw-form-checks__input",3,"value"],[3,"id"],["id","includeJwtId","type","checkbox","formControlName","includeJwtId",1,"tw-form-switch__input"],["id","allowAccessTokensViaBrowser","type","checkbox","formControlName","allowAccessTokensViaBrowser",1,"tw-form-switch__input"],["id","alwaysIncludeUserClaimsInIdToken","type","checkbox","formControlName","alwaysIncludeUserClaimsInIdToken",1,"tw-form-switch__input"],["id","authorizationCodeLifetime","formControlName","authorizationCodeLifetime",3,"buttons"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1),e._UZ(2,"app-signing-algorithm-picker",2),e.qZA(),e.YNc(3,Dw,2,5,"app-form-row",3),e.YNc(4,Ew,2,5,"app-form-row",3),e.YNc(5,m_,15,13,"app-form-row",4),e.YNc(6,Iw,3,5,"app-form-row",3),e.YNc(7,Ur,3,5,"app-form-row",3),e.YNc(8,g_,3,5,"app-form-row",3),e.YNc(9,Mw,2,5,"app-form-row",3),e.qZA()),2&t&&(e.Q6J("formGroup",n.tokensForm),e.xp6(1),e.Q6J("id","allowedIdentityTokenSigningAlgorithms")("label","Clients.Tokens.AllowedIdentityTokenSigningAlgorithms"),e.xp6(1),e.Q6J("form",n.tokensForm)("algorithmControlName","allowedIdentityTokenSigningAlgorithms"),e.xp6(1),e.Q6J("ngIf",n.clientViewService.tokens.identityTokenLifetime),e.xp6(1),e.Q6J("ngIf",n.clientViewService.tokens.accessTokenLifetime),e.xp6(1),e.Q6J("ngIf",n.clientViewService.tokens.accessTokenType),e.xp6(1),e.Q6J("ngIf",n.clientViewService.tokens.includeJwtId),e.xp6(1),e.Q6J("ngIf",n.clientViewService.tokens.allowAccessTokensViaBrowser),e.xp6(1),e.Q6J("ngIf",n.clientViewService.tokens.alwaysIncludeUserClaimsInIdToken),e.xp6(1),e.Q6J("ngIf",n.clientViewService.tokens.authorizationCodeLifetime))},dependencies:[N.O5,C._Y,C.Fj,C.Wl,C._,C.JJ,C.JL,C.sg,C.u,Vl,gt.L,_s.O,xw,wt.X$],encapsulation:2}),i})(),__=(()=>{class i{constructor(t,n,c,m,M,Q){this.fb=t,this.clientViewService=n,this.clientCachingService=c,this.router=m,this.relyingPartyCachingService=M,this.serviceProviderCachingService=Q}ngOnInit(){this.takeClient(),this.routerSubscription=this.router.events.subscribe(t=>{t instanceof nn.m2&&this.takeClient()})}takeClient(){this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.createForm()})}ngAfterViewInit(){this.clientFormSubscription=this.clientForm.valueChanges.subscribe(t=>{this.clientCachingService.componentDirtyValidMap.set("ClientDetailsComponent",{isValid:this.clientForm.valid});const n=JSON.parse(JSON.stringify(this.client));n.clientId=this.clientForm.controls.clientId.value,n.description=this.clientForm.controls.description.value,n.clientName=this.clientForm.controls.clientName.value,n.enabled=this.clientForm.controls.enabled.value,this.clientCachingService.unsavedCache.next(n)})}ngOnDestroy(){this.clientFormSubscription.unsubscribe(),this.routerSubscription.unsubscribe()}createForm(){this.clientForm=this.fb.group({clientId:[this.client.clientId],clientName:[this.client.clientName,C.kI.required],enabled:[this.client.enabled],description:[this.client.description]}),this.clientForm.markAsPristine()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(No.a),e.Y36(yr.Z),e.Y36(nn.F0),e.Y36(Bo.N),e.Y36(Wa.S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-details"]],decls:10,vars:16,consts:[["id","editClientDetails",3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","clientEnabled","type","checkbox","formControlName","enabled",1,"tw-form-switch__input"],[3,"id","label","help"],["id","clientId","type","text","readonly","",1,"tw-form-control",3,"value"],["type","text","name","DisplayName","id","clientName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast"],["id","clientDescription","formControlName","description",1,"tw-form-control"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4),e._UZ(5,"input",5),e.qZA(),e.TgZ(6,"app-form-row",4),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"app-form-row",7),e._UZ(9,"textarea",8),e.qZA()()),2&t&&(e.Q6J("formGroup",n.clientForm),e.xp6(1),e.Q6J("id","clientEnabled")("label","Common.Enabled"),e.xp6(1),e.Q6J("id","clientEnabled")("isTraffic",!0),e.xp6(2),e.Q6J("id","clientId")("label","Clients.ID")("help","Clients.IDHelp"),e.xp6(1),e.Q6J("value",n.client.clientId),e.xp6(1),e.Q6J("id","clientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.xp6(2),e.Q6J("id","clientDescription")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!0))},dependencies:[C.Fj,C.Wl,C.JJ,C.JL,C.sg,C.u,gt.L,_s.O],encapsulation:2}),i})();const Nw=["secretPicker"];let v_=(()=>{class i{constructor(t,n,c,m){this.clientService=t,this.clientCachingService=n,this.toastr=c,this.translate=m}ngOnInit(){this.requireSecretsubscription=this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.requireSecret=t.requireClientSecret}),this.manageSecretStreams()}ngOnDestroy(){this.requireSecretsubscription.unsubscribe(),this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe()}submit(){const t=JSON.parse(JSON.stringify(this.client));t.requireClientSecret=this.requireSecret,this.clientCachingService.componentDirtyValidMap.set("ClientSecretsComponent",{isValid:!0}),this.clientCachingService.unsavedCache.next(t)}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(t=>{this.clientService.addClientSecret(this.client.id,t).subscribe(n=>{this.refreshSecrets()},n=>{this.toastr.error(this.translate.instant("Clients.UnableToAddSecret"),this.translate.instant("Notifications.Error"))})}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(t=>{this.clientService.removeClientSecret(this.client.id,t).subscribe(n=>{const c=JSON.parse(JSON.stringify(this.client)),m=c.clientSecrets.findIndex(M=>M.id===t.id);c.clientSecrets.splice(m,1),this.client=c,this.clientCachingService.unsavedCache.next(c),this.toastr.success(this.translate.instant("Clients.RemovedSecret"),this.translate.instant("Notifications.Saving Success Title"))},n=>{this.toastr.error(this.translate.instant("Clients.UnableToRemoveSecret"),this.translate.instant("Notifications.Error"))})})}refreshSecrets(){this.clientService.getClient(this.client.id).subscribe(t=>{this.client.clientSecrets=t.clientSecrets,this.clientCachingService.unsavedCache.next(this.client),this.toastr.success(this.translate.instant("Clients.AddedSecret"),this.translate.instant("Notifications.Saving Success Title"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Rl.a),e.Y36(yr.Z),e.Y36(Rn._W),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-secrets"]],viewQuery:function(t,n){if(1&t&&e.Gf(Nw,7),2&t){let c;e.iGM(c=e.CRH())&&(n.secretPicker=c.first)}},decls:5,vars:7,consts:[[3,"id","label","help"],[3,"id"],["id","requireSecret","type","checkbox","name","requireSecret",1,"tw-form-switch__input",3,"ngModel","ngModelChange","change"],[3,"clientSecrets","nonModelCertPicker"],["secretPicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"app-form-row",0)(1,"app-form-toggle",1)(2,"input",2),e.NdJ("ngModelChange",function(m){return n.requireSecret=m})("change",function(){return n.submit()}),e.qZA()()(),e._UZ(3,"app-secret-picker",3,4)),2&t&&(e.Q6J("id","requireSecret")("label","Clients.RequireSecret.Title")("help","Clients.RequireSecret.Help"),e.xp6(1),e.Q6J("id","requireSecret"),e.xp6(1),e.Q6J("ngModel",n.requireSecret),e.xp6(1),e.Q6J("clientSecrets",n.client.clientSecrets)("nonModelCertPicker",!1))},dependencies:[C.Wl,C.JJ,C.On,Vp.P,gt.L,_s.O],encapsulation:2}),i})();function y_(i,o){1&i&&e._UZ(0,"app-custom-tab",3),2&i&&e.Q6J("tabTitle","Nav.IdentityResources")("tabValue","identity")}function vc(i,o){1&i&&e._UZ(0,"app-custom-tab",3),2&i&&e.Q6J("tabTitle","Nav.ProtectedResources")("tabValue","protected")}let kw=(()=>{class i{constructor(t){this.clientViewService=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(No.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-resources"]],decls:5,vars:3,consts:[[3,"pillMode"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editClientResources"],[3,"tabTitle","tabValue"]],template:function(t,n){1&t&&(e.TgZ(0,"app-custom-tabs",0),e.YNc(1,y_,1,2,"app-custom-tab",1),e.YNc(2,vc,1,2,"app-custom-tab",1),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()),2&t&&(e.Q6J("pillMode",!0),e.xp6(1),e.Q6J("ngIf",n.clientViewService.resources.allowedScopesIdentity),e.xp6(1),e.Q6J("ngIf",n.clientViewService.resources.allowedScopesAPI))},dependencies:[N.O5,nn.lC,bo.v,da.x],encapsulation:2}),i})();var Rw=g(7199);class C_{}var yc=g(8564);let Ed=(()=>{class i{constructor(t,n){this.http=t,this.headersService=n,this.actionUrl="policy",this.headers=n.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(t){return this.http.put(this.actionUrl,t,{headers:this.headers})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(x.eN),e.LFG(yc.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class SA{constructor(o,t,n){this.isDateTime=!1,this.type=o,this.value=t,this.permission=n}}const Ih=["addPolicyModal"];function Mh(i,o){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Ma(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.value)}}function Pw(i,o){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function w_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"select",32),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.value=c)}),e.YNc(2,Pw,2,1,"option",13),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value),e.xp6(1),e.Q6J("ngForOf",t.avaliableRoles)}}function Oa(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.value)}}function ga(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",33),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.value)}}function _a(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"select",32),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.value=c)}),e.TgZ(2,"option",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",35),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value),e.xp6(2),e.Oqu(e.lcZ(4,3,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(7,5,"Common.False"))}}function b_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"app-enum-claim-type-input",37),e.NdJ("valueChanged",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.value=c)}),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("id","value-for-"+t.selectedClaimType.id),e.xp6(1),e.Q6J("id","claimsFormInput")("typeId",t.selectedClaimType.id)("hostingModal","addPolicyModal")("value",t.value)}}function T_(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",40),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.value)}}function Lw(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",41),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.value)("displayType","date")}}function Uw(i,o){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,T_,2,1,"ng-container",39),e.YNc(2,Lw,2,2,"ng-container",39),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","birthdate"!=t.claimType),e.xp6(1),e.Q6J("ngIf","birthdate"==t.claimType)}}function Zw(i,o){if(1&i&&(e.TgZ(0,"option",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=o.$implicit;e.s9C("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,"Permission."+t)," ")}}const Fw=function(){return{animated:!1,backdrop:"static"}};let Oh=(()=>{class i{constructor(t){this.toastr=t,this.added=new e.vpe,this.addAnother=!1}keydown(t){"Enter"===t.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(t=>t.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const t=new SA(this.claimType,this.value,this.permission);this.added.next(t),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Rn._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-accesspolicy"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ih,7),2&t){let c;e.iGM(c=e.CRH())&&(n.addPolicyModal=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],["addPolicyModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModel","ngModelChange"],["value","true"],["value","false"],[1,"",3,"id"],[3,"id","typeId","hostingModal","value","valueChanged"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModel","ngModelChange"],["id","formClaimValue","required","true",3,"ngModel","displayType","ngModelChange"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),e.NdJ("ngModelChange",function(m){return n.claimType=m})("ngModelChange",function(){return n.getClaimType()}),e._UZ(17,"option"),e.YNc(18,Mh,2,1,"option",13),e.qZA()()(),e.TgZ(19,"app-form-row",14),e.YNc(20,Ma,1,1,"input",15),e.YNc(21,w_,3,2,"div",16),e.YNc(22,Oa,1,1,"input",15),e.YNc(23,ga,1,1,"input",17),e.YNc(24,_a,8,7,"div",16),e.YNc(25,b_,2,5,"div",18),e.YNc(26,Uw,3,2,"div",19),e.qZA(),e.TgZ(27,"app-form-row",20)(28,"div",11)(29,"select",21),e.NdJ("ngModelChange",function(m){return n.permission=m}),e._UZ(30,"option"),e.YNc(31,Zw,3,4,"option",22),e.qZA()()()(),e._UZ(32,"div",23),e.TgZ(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),e.NdJ("click",function(){return n.addPolicy(),n.hide()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"span",28)(40,"button",29),e.NdJ("click",function(){return n.addAnotherPolicy()}),e._uU(41),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",30),e.NdJ("click",function(){return n.hide()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(37,Fw)),e.xp6(6),e.Oqu(e.lcZ(7,27,"Settings.AccessPolicy.NewPolicy")),e.xp6(5),e.Oqu(e.lcZ(12,29,"Common.Close")),e.xp6(3),e.Q6J("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),e.xp6(2),e.Q6J("ngModel",n.claimType),e.xp6(2),e.Q6J("ngForOf",n.avaliableClaimTypes),e.xp6(1),e.Q6J("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==n.selectedClaimType?null:n.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),e.xp6(1),e.Q6J("ngIf",null==n.claimType||""==n.claimType),e.xp6(1),e.Q6J("ngIf","role"==n.claimType),e.xp6(1),e.Q6J("ngIf","String"==(null==n.selectedClaimType?null:n.selectedClaimType.valueType)&&"role"!=n.claimType),e.xp6(1),e.Q6J("ngIf","Int"==(null==n.selectedClaimType?null:n.selectedClaimType.valueType)&&"role"!=n.claimType),e.xp6(1),e.Q6J("ngIf","Boolean"==(null==n.selectedClaimType?null:n.selectedClaimType.valueType)&&"role"!=n.claimType),e.xp6(1),e.Q6J("ngIf","Enum"==(null==n.selectedClaimType?null:n.selectedClaimType.valueType)),e.xp6(1),e.Q6J("ngIf","DateTime"==(null==n.selectedClaimType?null:n.selectedClaimType.valueType)&&"role"!=n.claimType),e.xp6(1),e.Q6J("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),e.xp6(2),e.Q6J("ngModel",n.permission),e.xp6(2),e.Q6J("ngForOf",n.avaliablePermissions),e.xp6(5),e.Q6J("disabled",!n.isValid()),e.xp6(1),e.Oqu(e.lcZ(38,31,"Common.Add")),e.xp6(3),e.Q6J("disabled",!n.isValid()),e.xp6(1),e.Oqu(e.lcZ(42,33,"Common.AddAndAdd")),e.xp6(3),e.Oqu(e.lcZ(45,35,"Common.Cancel")))},dependencies:[N.sg,N.O5,C.YN,C.Kr,C.Fj,C.wV,C.EJ,C.JJ,C.Q7,C.On,gi.oB,gt.L,ol.j,tc,wt.X$],encapsulation:2}),i})();const ou=["deleteAccessPolicyModal"];function Bw(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,24),e.TgZ(2,"button",25),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(1);return e.KtG(c.show())}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Settings.AccessPolicy.Add")," "))}function A_(i,o){1&i&&e._UZ(0,"app-simple-loader")}function Vw(i,o){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.value," ")}}function S_(i,o){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"standardDate"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.value)," ")}}function x_(i,o){1&i&&(e.TgZ(0,"span",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function Id(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,m=e.oxw(2);return e.KtG(m.openDeletePolicyConfirmation(c.type,c.value,c.permission))}),e._UZ(1,"span",14),e.TgZ(2,"span",15),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"Common.Remove.Title")," "))}const Hw=function(i){return{"inactive disabled":i}};function D_(i,o){if(1&i&&(e.TgZ(0,"tr",32)(1,"td",33)(2,"b"),e._uU(3),e.qZA()(),e.YNc(4,Vw,2,1,"td",34),e.YNc(5,S_,3,3,"ng-template",null,35,e.W1O),e.TgZ(7,"td",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"td"),e.YNc(11,x_,3,3,"span",37),e.qZA(),e.TgZ(12,"td"),e.YNc(13,Id,5,3,"button",38),e.qZA()()),2&i){const t=o.$implicit,n=e.MAs(6);e.Q6J("ngClass",e.VKq(9,Hw,"role"===t.type&&"AdminUI Administrator"===t.value&&"All"===t.permission)),e.xp6(3),e.Oqu(t.type),e.xp6(1),e.Q6J("ngIf",!t.isDateTime)("ngIfElse",n),e.xp6(4),e.hij(" ",e.lcZ(9,7,"Permission."+t.permission)," "),e.xp6(3),e.Q6J("ngIf","role"===t.type&&"AdminUI Administrator"===t.value&&"All"===t.permission),e.xp6(2),e.Q6J("ngIf",!("role"==t.type&&"AdminUI Administrator"==t.value&&"All"==t.permission))}}function E_(i,o){if(1&i&&(e.TgZ(0,"table",26)(1,"thead")(2,"tr")(3,"th",27),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",28),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",29),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",30)(13,"span",15),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"th",30)(17,"span",15),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"tbody"),e.YNc(21,D_,14,11,"tr",31),e.qZA(),e._UZ(22,"tbody"),e.qZA()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,6,"Settings.AccessPolicy.ClaimType")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Settings.AccessPolicy.ClaimValue")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Settings.AccessPolicy.Permission")),e.xp6(4),e.Oqu(e.lcZ(15,12,"Common.Reserved")),e.xp6(4),e.Oqu(e.lcZ(19,14,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",null==t.accessPolicy?null:t.accessPolicy.policyClaims)}}function Nh(i,o){if(1&i&&e._UZ(0,"app-pager",42),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.accessPolicy||null==t.accessPolicy.policyClaims?null:t.accessPolicy.policyClaims.length)}}const Md=function(){return{animated:!1,backdrop:"static"}};let kh=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.accessPolicyService=t,this.translate=n,this.toastr=c,this.errorService=m,this.healthCheckService=M,this.dialogService=Q,this.activatedRoute=ue,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(t=>{this.accessPolicyResolverData=t.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const n=this.accessPolicyResolverData.accessPolicy.policyClaims.find(c=>"role"===c.type&&"AdminUI Administrator"===c.value&&"All"===c.permission);this.accessPolicy=new C_,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((c,m)=>c===n?-1:m===n?1:0),this.accessPolicy.policyClaims.forEach(c=>{Gn.ou.fromISO(c.value).isValid&&(c.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((c,m)=>c.name.toUpperCase()<m.name.toUpperCase()?-1:c.name.toUpperCase()>m.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1})}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(t=>t.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(t){this.hasChanged=!0,this.accessPolicy.policyClaims.push(t),this.warnToSave()}openDeletePolicyConfirmation(t,n,c){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(m=>m.type===t&&m.value===n&&m.permission===c),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(t){this.accessPolicy.policyClaims.splice(t,1),this.hasChanged=!0,this.deleteAccessPolicyModal.hide(),this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(t=>{this.accessPolicy=t;const n=this.accessPolicy.policyClaims.find(c=>"role"===c.type&&"AdminUI Administrator"===c.value&&"All"===c.permission);this.accessPolicy.policyClaims.sort((c,m)=>c===n?-1:m===n?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},t=>{"409"===t.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(t)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ed),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(O.T),e.Y36(zn),e.Y36(Mo.x),e.Y36(nn.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update-accesspolicy"]],viewQuery:function(t,n){if(1&t&&e.Gf(ou,7),2&t){let c;e.iGM(c=e.CRH())&&(n.deleteAccessPolicyModal=c.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:39,vars:29,consts:[[3,"avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy","added"],["addPolicyModal",""],[1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["bsModal","","id","deleteAccessPolicyModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteAccessPolicyModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],["right",""],[1,"tw-btn-success",3,"click"],[1,"datatable","hover"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],["dateTimePolicy",""],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],["class","tw-pill",4,"ngIf"],["id","remove","class","tw-btn-link tw-btn-small tw-text-red-500",3,"click",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-pill"],["id","remove",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["hidePager","true",3,"totalResults"]],template:function(t,n){1&t&&(e.TgZ(0,"app-add-accesspolicy",0,1),e.NdJ("added",function(m){return n.addPolicy(m)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Bw,5,3,"app-action-bar",3),e.YNc(4,A_,1,0,"app-simple-loader",3),e.YNc(5,E_,23,16,"table",4),e.YNc(6,Nh,1,1,"app-pager",5),e.qZA(),e.TgZ(7,"app-button-bar")(8,"button",6),e.NdJ("click",function(){return n.updatePolicy()}),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",7,8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h5",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return n.closeDeleteModal()}),e._UZ(20,"span",14),e.TgZ(21,"span",15),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"div",16)(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e._UZ(28,"div",18),e.TgZ(29,"div",19)(30,"div",20)(31,"div",21)(32,"button",22),e.NdJ("click",function(){return n.removePolicy(n.indexToDelete)}),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"button",23),e.NdJ("click",function(){return n.closeDeleteModal()}),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()()(),e._UZ(38,"app-can-deactivate")),2&t&&(e.Q6J("avaliableClaimTypes",n.avaliableClaimTypes)("avaliableRoles",n.avaliableRoles)("avaliablePermissions",n.avaliablePermissions)("accessPolicy",n.accessPolicy),e.xp6(3),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.accessPolicy||null==n.accessPolicy.policyClaims?null:n.accessPolicy.policyClaims.length)>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.accessPolicy||null==n.accessPolicy.policyClaims?null:n.accessPolicy.policyClaims.length)>0&&!n.isLoading),e.xp6(2),e.Q6J("disabled",n.saveDisabled),e.xp6(1),e.hij(" ",e.lcZ(10,16,"Common.Save")," "),e.xp6(2),e.Q6J("config",e.DdM(28,Md)),e.xp6(6),e.Oqu(e.lcZ(18,18,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(23,20,"Common.Close")),e.xp6(4),e.Oqu(e.lcZ(27,22,"Common.Delete.AreYouSureSimple3")),e.xp6(7),e.Oqu(e.lcZ(34,24,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(37,26,"Common.Delete.No")))},dependencies:[N.mk,N.sg,N.O5,gi.oB,ha,z.P,io.w,Ce.K,cl,Oh,wt.X$,Kc.g9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var Rh=g(1058);function I_(i,o){1&i&&e._UZ(0,"span",28)}let M_=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.authService=t,this.securityService=n,this.titleService=c,this.healthCheckService=m,this.localizeRouter=M,this.router=Q,this.loginTrackingService=ue,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${ge.de.SITE_TITLE}`),this.versionNumber=q;const Pe=new Date;this.appCopyright=2017!==Pe.getFullYear()?"2017 - "+Pe.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const t=this.healthCheckService.idsHealthCheckComplete.pipe((0,Wi.P)()),n=this.healthCheckService.uiHealthCheckComplete.pipe((0,Wi.P)());(0,Xr.D)([t,n]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}),this.apiDocsLink="/swagger"}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const t=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,J1.D)(this.router.navigate([t]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Fi.e),e.Y36(In.I),e.Y36(a.Dx),e.Y36(zn),e.Y36(un.An),e.Y36(nn.F0),e.Y36(Rh.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-landing-page"]],decls:49,vars:26,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","trans"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"header",3),e._UZ(4,"img",4),e.TgZ(5,"span",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"h2",8),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p",10),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"a",11),e._uU(19," sales@identityserver.com "),e.qZA()(),e.TgZ(20,"div",12)(21,"button",13),e.NdJ("click",function(){return n.login()}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,I_,1,0,"span",14),e.qZA(),e.TgZ(25,"ul",15)(26,"li",16)(27,"a",17),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"span",18),e._uU(31,"\u2022"),e.qZA()(),e.TgZ(32,"li",16)(33,"a",19),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"span",18),e._uU(37,"\u2022"),e.qZA()(),e.TgZ(38,"li",20)(39,"a",21),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"div",22),e._UZ(43,"app-rss-feed",23),e.qZA(),e.TgZ(44,"footer",24)(45,"a",25),e._UZ(46,"img",26),e.TgZ(47,"span",27),e._uU(48),e.qZA()()()()()),2&t&&(e.xp6(6),e.hij("v",n.versionNumber,""),e.xp6(4),e.hij("",e.lcZ(11,12,"LandingPage.Welcome")," AdminUI"),e.xp6(3),e.Oqu(e.lcZ(14,14,"LandingPage.IntroParagraph1")),e.xp6(3),e.hij(" ",e.lcZ(17,16,"LandingPage.IntroParagraph2")," "),e.xp6(5),e.Q6J("disabled",!n.loginAllowed||n.startLogin),e.xp6(1),e.hij(" ",e.lcZ(23,18,"Nav.Login")," "),e.xp6(2),e.Q6J("ngIf",n.startLogin),e.xp6(3),e.s9C("href",n.apiDocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(29,20,"LandingPage.APIDocs")," "),e.xp6(6),e.hij(" ",e.lcZ(35,22,"LandingPage.Documentation")," "),e.xp6(6),e.hij(" ",e.lcZ(41,24,"Nav.Support")," "),e.xp6(8),e.hij("\xa9 ",n.appCopyright,""))},dependencies:[N.O5,Zu,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();function O_(i,o){1&i&&e._UZ(0,"app-simple-loader")}function N_(i,o){1&i&&(e.TgZ(0,"div",6)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"UserLogins.NoLogins")))}function k_(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",14)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",15),e._uU(5),e.qZA(),e.TgZ(6,"td",15),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"button",16),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.modalInfo(m))}),e._UZ(10,"span",17),e.TgZ(11,"span",11),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&i){const t=o.$implicit;e.xp6(3),e.Oqu(t.providerDisplayName),e.xp6(2),e.Oqu(t.loginProvider),e.xp6(2),e.Oqu(t.providerKey),e.xp6(5),e.Oqu(e.lcZ(13,4,"Common.Revoke"))}}function R_(i,o){if(1&i&&(e.TgZ(0,"table",7)(1,"thead")(2,"tr")(3,"th",8),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",9),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",9),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",10)(13,"span",11),e._uU(14),e.ALo(15,"translate"),e.qZA()()()(),e.TgZ(16,"tbody",12),e.YNc(17,k_,14,6,"tr",13),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,5,"UserLogins.ProviderDisplayName")),e.xp6(3),e.Oqu(e.lcZ(8,7,"UserLogins.LoginProvider")),e.xp6(3),e.Oqu(e.lcZ(11,9,"UserLogins.ProviderKey")),e.xp6(4),e.Oqu(e.lcZ(15,11,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.userLogins)}}function P_(i,o){if(1&i&&e._UZ(0,"app-pager",18),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.userLogins?null:t.userLogins.length)}}const Jw=function(){return{backdrop:"static",animated:!1}};function qw(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h5",23),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",24),e._UZ(8,"span",25),e.TgZ(9,"span",11),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",26)(13,"p"),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e._UZ(16,"div",27),e.TgZ(17,"div",28)(18,"div",29)(19,"div",30)(20,"button",31),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.deleteLogin(c.selectedLogin))}),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"button",32),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()()()}2&i&&(e.Q6J("config",e.DdM(16,Jw)),e.xp6(5),e.hij(" ",e.lcZ(6,6,"UserLogins.RevokeExternalLogin")," "),e.xp6(5),e.Oqu(e.lcZ(11,8,"Common.Close")),e.xp6(4),e.Oqu(e.lcZ(15,10,"UserLogins.RevokeLoginConfirmationText")),e.xp6(7),e.Oqu(e.lcZ(22,12,"Common.Revoke")),e.xp6(3),e.Oqu(e.lcZ(25,14,"Common.Cancel")))}let jw=(()=>{class i{constructor(t,n,c){this.userService=t,this.translate=n,this.toastr=c,this.userLogins=[],this.isLoading=!0}ngOnInit(){this.userService.getCachedUser().pipe((0,ae.q)(1)).subscribe(t=>{this.user=t,this.userService.getUserLogins(this.user.subject).subscribe(n=>{this.userLogins=n,this.isLoading=!1})})}modalInfo(t){this.selectedLogin=t}deleteLogin(t){this.userService.revokeUserLogin(this.user.subject,t).subscribe(()=>{this.toastr.success("Login Revoked",this.translate.instant("Notifications.Success")),this.userLogins.splice(this.userLogins.indexOf(t),1)},n=>{this.toastr.error(n,this.translate.instant("Notifications.Failure"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ps.K),e.Y36(wt.sK),e.Y36(Rn._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-logins"]],decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["bsModal","","id","revokeLoginModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","userLoginsList"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],["value","Delete","data-dismiss","modal","data-toggle","modal","data-target","#revokeLoginModal",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-plug"],["hidePager","true",3,"totalResults"],["bsModal","","id","revokeLoginModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal","data-toggle","modal","data-target","#appInfoModal",1,"tw-btn-link","tw--mr-4"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,O_,1,0,"app-simple-loader",1),e.YNc(2,N_,4,3,"div",2),e.YNc(3,R_,18,13,"table",3),e.YNc(4,P_,1,1,"app-pager",4),e.qZA(),e.YNc(5,qw,26,17,"div",5)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",0==(null==n.userLogins?null:n.userLogins.length)&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.userLogins?null:n.userLogins.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.userLogins?null:n.userLogins.length)>0),e.xp6(1),e.Q6J("ngIf",n.selectedLogin))},dependencies:[N.sg,N.O5,gi.oB,z.P,io.w,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var $w=g(5032);const au=new Bc.y($w.Z);let Vs=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at){this.securityService=t,this.healthCheckService=n,this.authService=c,this.localizeRouter=m,this.errorService=M,this.loginTrackingService=Q,this.router=ue,this.configService=Pe,this.appComponentViewService=at}canActivate(t,n){return this.healthCheckService.uiReady?this.authDecision(t,n):this.healthCheckService.uiHealthCheckComplete.pipe((0,Ju.w)(c=>this.authDecision(t,n)))}authDecision(t,n){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==Pt.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(c=>{if(c.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const m=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([m])}}),void 0!==this.securityService.userPermissions?(0,al.of)(this.permissionAuthDecision(t)):this.permissionAuthDecisionAsObservable(t)):(this.securityService.startLogin(n.url),au)}permissionAuthDecision(t){const n=t.data.permissions;if(void 0===n)return!0;for(let c=0;c<n.length;c++)if(this.securityService.userPermissions.includes(n[c]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(t){const n=new xi.x;return this.securityService.init().subscribe(()=>{n.next(this.permissionAuthDecision(t))}),n.asObservable()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(In.I),e.LFG(zn),e.LFG(Fi.e),e.LFG(un.An),e.LFG(O.T),e.LFG(Rh.U),e.LFG(nn.F0),e.LFG(wo.E),e.LFG(qr.t))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function Ww(i,o){1&i&&(e.TgZ(0,"option",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Nav.AccessPolicy")))}function Qw(i,o){1&i&&(e.TgZ(0,"option",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Nav.Keys")))}const Ph=function(){return["active"]};function Gw(i,o){1&i&&(e.TgZ(0,"li",17)(1,"button",18),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("routerLinkActive",e.DdM(4,Ph)),e.xp6(1),e.Oqu(e.lcZ(3,2,"Nav.AccessPolicy")))}function zw(i,o){1&i&&(e.TgZ(0,"li",19)(1,"button",20),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("routerLinkActive",e.DdM(4,Ph)),e.xp6(1),e.Oqu(e.lcZ(3,2,"Nav.Keys")))}let Yw=(()=>{class i{constructor(t,n,c){this.titleService=t,this.translate=n,this.configService=c,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,Wi.P)()).subscribe(t=>{this.targetIdentityServer4=t.targetIdentityServer4,this.hideAccessPolicy=t.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${ge.de.SITE_TITLE}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Dx),e.Y36(wt.sK),e.Y36(wo.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-settings"]],decls:26,vars:25,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Keys",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item","id","keysTab",4,"ngIf"],["value","Access Policy"],["value","Keys"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"],["id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ynx(2,1),e.TgZ(3,"div",2)(4,"label",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",4)(8,"select",5)(9,"option",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,Ww,3,3,"option",7),e.YNc(13,Qw,3,3,"option",8),e.TgZ(14,"option",9),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"ul",10),e.ALo(18,"translate"),e.YNc(19,Gw,4,5,"li",11),e.TgZ(20,"li",12)(21,"button",13),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.YNc(24,zw,4,5,"li",14),e.qZA(),e.BQk(),e.qZA(),e._UZ(25,"router-outlet")),2&t&&(e.Q6J("title",e.lcZ(1,12,"Nav.Settings"))("hasTabs",!0),e.xp6(5),e.Oqu(e.lcZ(6,14,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(11,16,"Nav.SubMenu"),"..."),e.xp6(2),e.Q6J("ngIf",!n.hideAccessPolicy),e.xp6(1),e.Q6J("ngIf",!n.targetIdentityServer4),e.xp6(2),e.Oqu(e.lcZ(16,18,"Nav.Webhooks")),e.xp6(2),e.uIk("aria-label",e.lcZ(18,20,"Nav.SubMenu")),e.xp6(2),e.Q6J("ngIf",!n.hideAccessPolicy),e.xp6(2),e.Q6J("routerLinkActive",e.DdM(24,Ph)),e.xp6(1),e.Oqu(e.lcZ(23,22,"Nav.Webhooks")),e.xp6(2),e.Q6J("ngIf",!n.targetIdentityServer4))},dependencies:[N.O5,C.YN,C.Kr,nn.lC,nn.rH,nn.Od,Z.G,wt.X$],encapsulation:2}),i})(),Kw=(()=>{class i{constructor(t,n){this.route=t,this.translate=n}ngOnInit(){const t=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=t in gh._?t:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.gz),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Errors.ResourceNotFoundDescription")),e.xp6(3),e.Oqu(e.lcZ(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[wt.X$],encapsulation:2}),i})();var L_=g(3212);let Xw=(()=>{class i extends L_._{constructor(t,n){super(),this.http=t,this.headersService=n,this.userSubject=new ss.t(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(t,n,c,m,M,Q,ue){const Pe=this.buildParams(t,c,n,m,M,Q,ue);return this.http.get(this.actionUrl,{headers:this.headers,params:Pe})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(x.eN),e.LFG(yc.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var eb=g(7356);let U_=(()=>{class i{constructor(t,n){t.setTitle(n.instant("Nav.Auditing")+` - ${ge.de.SITE_TITLE}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Dx),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-all-audits"]],features:[e._Bn([{provide:L_._,useClass:Xw}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(t,n){1&t&&(e._UZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.TgZ(2,"div",1),e._UZ(3,"app-audits-list"),e.qZA()),2&t&&e.Q6J("title",e.lcZ(1,1,"Nav.Auditing"))},dependencies:[eb.$,Z.G,wt.X$],encapsulation:2}),i})();var Z_=g(5554),F_=g(1909),Od=g(1018);let B_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-relyingparty"]],features:[e._Bn([{provide:Od.h,useExisting:Bo.N}])],decls:5,vars:5,consts:[[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editClientRelyingParty"]],template:function(t,n){1&t&&(e.TgZ(0,"app-custom-tabs",0),e._UZ(1,"app-custom-tab",1)(2,"app-custom-tab",1),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()),2&t&&(e.Q6J("pillMode",!0),e.xp6(1),e.Q6J("tabTitle","Clients.RelyingParty.General")("tabValue","general"),e.xp6(1),e.Q6J("tabTitle","Clients.ClaimMappings.Heading")("tabValue","claimmappings"))},dependencies:[nn.lC,bo.v,da.x],encapsulation:2}),i})();var V_=g(4995);const H_=["enterEndpointBox"],J_=["endpointIndex"],q_=["editEndpointModal"],Lh=["addButton"];function Uh(i,o){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.location),e.xp6(1),e.Oqu(null==t?null:t.location)}}function Hl(i,o){1&i&&(e.TgZ(0,"p",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Clients.Saml.DefaultEndpointNotice")," "))}function tb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",2)(1,"app-form-row",23)(2,"div",24)(3,"select",25,26),e.NdJ("change",function(){e.CHM(t);const c=e.MAs(4),m=e.oxw(2);return e.KtG(m.onDefaultChange(c.value))}),e.YNc(5,Uh,2,2,"option",27),e.qZA()(),e.YNc(6,Hl,3,3,"p",28),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.defaultSelectForm),e.xp6(1),e.Q6J("id",t.endpointType+"defaultEndpoint")("label","Clients.Saml.DefaultEndpoint")("help","Clients.Saml.DefaultEndpointHelp"),e.xp6(2),e.Q6J("id",t.endpointType+"defaultEndpoint"),e.xp6(2),e.Q6J("ngForOf",t.endpoints),e.xp6(1),e.Q6J("ngIf",(null==t.endpoints?null:t.endpoints.length)<1)}}function nb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div")(3,"h2",15),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()(),e.YNc(7,tb,7,7,"form",16),e.TgZ(8,"app-action-bar"),e.ynx(9,17),e.TgZ(10,"button",18,19),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.openAddModal())}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(14,"app-data-table",20),e.NdJ("onSelect",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.editEndpoint(c))}),e._UZ(15,"app-data-table-column",21)(16,"app-data-table-column",22)(17,"app-data-table-column",22),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.endpointHelpTextTitle),e.xp6(2),e.Oqu(t.endpointHelpTextBody),e.xp6(1),e.Q6J("ngIf",t.endpoints),e.xp6(3),e.Q6J("id",t.endpointType+"addEndpointButton"),e.xp6(2),e.hij(" ",e.lcZ(13,19,"Clients.Saml.AddEndpoint")," "),e.xp6(2),e.Q6J("rows",t.endpoints)("norowslabel","Clients.Saml.NoEndpoints")("actions",t.endpointActions),e.xp6(1),e.Q6J("title","Clients.Saml.LocationUrl")("prop","location")("cellClasses","tw-max-w-0 tw-truncate tw-font-semibold"),e.xp6(1),e.Q6J("title","Clients.Saml.BindingType")("prop","binding")("headClasses","tw-w-1/2 md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),e.xp6(1),e.Q6J("title","Clients.Saml.Index")("prop","index")("headClasses","tw-text-center sm:tw-w-24")("cellClasses","tw-text-center")}}function Cc(i,o){1&i&&(e.TgZ(0,"small",31),e._UZ(1,"span",32),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Clients.Saml.LocationBindingUnique")," "))}function DA(i,o){1&i&&(e.TgZ(0,"option",33),e._uU(1,"POST"),e.qZA())}function Zh(i,o){1&i&&(e.TgZ(0,"option",34),e._uU(1,"Redirect"),e.qZA())}function EA(i,o){1&i&&(e.TgZ(0,"option",35),e._uU(1,"HTTP Artifact"),e.qZA())}function j_(i,o){1&i&&(e.TgZ(0,"option",36),e._uU(1,"SOAP"),e.qZA())}function $_(i,o){1&i&&(e.TgZ(0,"small",31),e._UZ(1,"span",32),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Clients.Saml.LocationBindingUnique")," "))}function IA(i,o){1&i&&(e.TgZ(0,"small",31),e._UZ(1,"span",32),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Clients.Saml.IndexNotUnique")," "))}function Jn(i,o){1&i&&(e.TgZ(0,"small",31),e._UZ(1,"span",32),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Clients.Saml.LocationBindingUnique")," "))}function ib(i,o){1&i&&(e.TgZ(0,"option",33),e._uU(1,"POST"),e.qZA())}function sb(i,o){1&i&&(e.TgZ(0,"option",34),e._uU(1,"Redirect"),e.qZA())}function rb(i,o){1&i&&(e.TgZ(0,"option",35),e._uU(1,"HTTP Artifact"),e.qZA())}function wc(i,o){1&i&&(e.TgZ(0,"option",36),e._uU(1,"SOAP"),e.qZA())}function ob(i,o){1&i&&(e.TgZ(0,"small",31),e._UZ(1,"span",32),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Clients.Saml.LocationBindingUnique")," "))}function Nd(i,o){1&i&&(e.TgZ(0,"small",31),e._UZ(1,"span",32),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Clients.Saml.IndexNotUnique")," "))}function kd(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-form-row",3)(2,"input",37),e.NdJ("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.validateEdit(c.editingEndpoint))})("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.editingEndpoint.location=c)}),e.qZA(),e.YNc(3,Jn,4,3,"small",5),e.qZA(),e.TgZ(4,"app-form-row",3)(5,"div",24)(6,"select",38),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.editingEndpoint.binding=c)})("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.validateEdit(c.editingEndpoint))})("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.validateEdit(c.editingEndpoint))}),e.YNc(7,ib,2,0,"option",8),e.YNc(8,sb,2,0,"option",9),e.YNc(9,rb,2,0,"option",10),e.YNc(10,wc,2,0,"option",11),e.qZA()(),e.YNc(11,ob,4,3,"small",5),e.qZA(),e.TgZ(12,"app-form-row",3)(13,"input",39),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.editingEndpoint.index=c)})("keyup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.validateEdit(c.editingEndpoint))})("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.validateEdit(c.editingEndpoint))}),e.qZA(),e.YNc(14,Nd,4,3,"small",5),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("id","editLocation")("label","Clients.Endpoint")("isLast",!1),e.xp6(1),e.s9C("value",t.editingEndpoint.location),e.Q6J("ngModel",t.editingEndpoint.location),e.xp6(1),e.Q6J("ngIf",t.addEndpointForm.hasError("unique")),e.xp6(1),e.Q6J("id","editBinding")("label","Clients.Saml.BindingType")("isLast",!1),e.xp6(2),e.s9C("value",t.editingEndpoint.binding),e.Q6J("ngModel",t.editingEndpoint.binding),e.xp6(1),e.Q6J("ngIf","ars"!=t.endpointType),e.xp6(1),e.Q6J("ngIf","ars"!=t.endpointType),e.xp6(1),e.Q6J("ngIf","ars"!=t.endpointType),e.xp6(1),e.Q6J("ngIf","ars"==t.endpointType),e.xp6(1),e.Q6J("ngIf",t.addEndpointForm.hasError("unique")),e.xp6(1),e.Q6J("id","editIndex")("label","Clients.Saml.Index")("isLast",!0),e.xp6(1),e.Q6J("ngModel",t.editingEndpoint.index),e.xp6(1),e.Q6J("ngIf",t.index.hasError("unique"))}}let Gs=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.activatedRoute=t,this.providerService=n,this.fb=c,this.cachingService=m,this.modalService=M,this.translate=Q,this.dataTableService=ue,this.endpointType="",this.endpoints=[],this.endpointActions=[Mr.Xz.Delete,Mr.Xz.Select],this.editEndpointsActions=[Dt.n.Save],this.editEndpointsModalId="editModal",this.addModalActions=[Dt.n.Save],this.addModalId="addModal"}get url(){return this.addEndpointForm.get("url")}get binding(){return this.addEndpointForm.get("binding")}get index(){return this.addEndpointForm.get("index")}ngOnInit(){this.endpointType=this.activatedRoute.snapshot.data.endpointType,this.defaultSelectForm=this.fb.group({defaultEndpoint:[""]}),this.cachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{switch(this.serviceProvider=t,this.endpointType){case"acs":this.endpoints=this.serviceProvider.assertionConsumerServices.slice(),this.endpointHelpTextTitle=this.translate.instant("Clients.Saml.ACSEndpointHelpTitle"),this.endpointHelpTextBody=this.translate.instant("Clients.Saml.ACSEndpointsHelpBody");break;case"slo":this.endpoints=this.serviceProvider.singleLogoutServices.slice(),this.endpointHelpTextTitle=this.translate.instant("Clients.Saml.SLOEndpointsHelpTitle"),this.endpointHelpTextBody=this.translate.instant("Clients.Saml.SLOEndpointsHelpBody");break;case"ars":this.endpoints=this.serviceProvider.artifactResolutionServices.slice(),this.endpointHelpTextTitle=this.translate.instant("Clients.Saml.ARSEndpointsHelpTitle"),this.endpointHelpTextBody=this.translate.instant("Clients.Saml.ARSEndpointsHelpBody")}this.addEndpointForm=this.fb.group({url:["",[C.kI.required,C.kI.pattern("^https?://.*$")]],binding:["",[C.kI.required]],index:["",[C.kI.min(0),C.kI.max(99),ab(this.endpoints),C.kI.required]]},{validators:W_(this.endpoints)}),this.rebuildForm()}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(t=>{this.removeEndpoint(t)})}ngOnDestroy(){this.dtsSubscription.unsubscribe()}rebuildForm(){if(this.addEndpointForm.reset(),this.endpoints.length>0){const t=this.endpoints.find(n=>n.isDefault);this.defaultSelectForm.setValue({defaultEndpoint:t.location})}else this.defaultSelectForm.setValue({defaultEndpoint:""})}editEndpoint(t){const n=t.data;this.endpoints.forEach(c=>{c.obinding=c.binding,c.oindex=c.index,c.olocation=c.location,c.index===n.index&&(c.editing=!0,this.editingEndpoint=n,this.modalService.showById(this.editEndpointsModalId,t.element?t.element:null))}),this.cachingService.componentDirtyValidMap.set("ServiceProviderComponent",{isValid:!1})}openAddModal(){this.addEndpointForm.reset(),this.modalService.showById(this.addModalId,this.addButtonRef)}cancelAdd(){this.modalService.hideById(this.addModalId)}cancelEdit(){this.endpoints.forEach(t=>{!0===t.editing&&(t.editing=!1,this.modalService.hideById(this.editEndpointsModalId)),t.binding=t.obinding,t.index=t.oindex,t.location=t.olocation}),this.cachingService.componentDirtyValidMap.set("ServiceProviderComponent",{isValid:!0})}validateEdit(t){const n=this.endpoints.filter(c=>c!==t);t.valid=!(t.index<0||t.index>99||!Bh(n,t.index)||!Fh(n,t.location,t.binding))}saveEndpoint(t){t.editing=!1,this.updateEndpoints()}sortEndpointsByIndex(){this.endpoints.sort((t,n)=>t.index-n.index)}addEndpoint(){const t=this.addEndpointForm.get("url").value,n=this.addEndpointForm.get("binding").value,c=this.addEndpointForm.get("index").value;this.endpoints.push({binding:n,index:c,isDefault:!1,location:t,editing:!1,valid:!0}),1===this.endpoints.length&&(this.endpoints[0].isDefault=!0),this.updateEndpoints(),this.addEndpointForm.reset(),this.rebuildForm()}removeEndpoint(t){const n=this.endpoints[t];this.endpoints=this.endpoints.filter(c=>c!==n),this.updateEndpoints(),this.rebuildForm()}updateEndpoints(){switch(this.endpointType){case"acs":this.serviceProvider.assertionConsumerServices=this.endpoints.slice();break;case"slo":this.serviceProvider.singleLogoutServices=this.endpoints.slice();break;case"ars":this.serviceProvider.artifactResolutionServices=this.endpoints.slice()}this.editEndpointModal&&this.editEndpointModal.hide(),this.serviceProvider.dirty=!0,this.cachingService.componentDirtyValidMap.set("ServiceProviderComponent",{isValid:!0}),this.cachingService.unsavedCache.next(this.serviceProvider),this.sortEndpointsByIndex()}onDefaultChange(t){this.endpoints.forEach(n=>{n.isDefault=n.location===t}),this.updateEndpoints()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.gz),e.Y36(fd.G),e.Y36(C.QS),e.Y36(Wa.S),e.Y36(Bi.Z),e.Y36(wt.sK),e.Y36(Ga.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-serviceprovider"]],viewQuery:function(t,n){if(1&t&&(e.Gf(H_,5),e.Gf(J_,5),e.Gf(q_,7),e.Gf(Lh,5)),2&t){let c;e.iGM(c=e.CRH())&&(n.endpointInput=c.first),e.iGM(c=e.CRH())&&(n.indexInput=c.first),e.iGM(c=e.CRH())&&(n.editEndpointModal=c.first),e.iGM(c=e.CRH())&&(n.addButtonRef=c.first)}},decls:19,vars:30,consts:[[4,"ngIf"],[3,"actions","title","modalId","addDisabled","onCancel","onSave"],[3,"formGroup"],[3,"id","label","isLast"],["type","url","required","","formControlName","url",1,"tw-form-control","tw-max-w-full",3,"id"],["class","text-danger",4,"ngIf"],[1,"tw-form-select","tw-max-w-full"],["required","","formControlName","binding",1,"tw-form-control","tw-max-w-full",3,"id"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],["type","number","min","0","formControlName","index",1,"tw-form-control","tw-max-w-full",3,"id"],[3,"actions","title","modalId","addDisabled","onSave","onCancel"],["role","alert",1,"tw-alert","tw-mb-8"],[1,"tw-font-semibold"],[3,"formGroup",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"rows","norowslabel","actions","onSelect"],[3,"title","prop","cellClasses"],[3,"title","prop","headClasses","cellClasses"],[3,"id","label","help"],[1,"tw-form-select"],["formControlName","defaultEndpoint",1,"tw-form-control",3,"id","change"],["defaultEndpoint",""],[3,"value",4,"ngFor","ngForOf"],["class","tw-form-text",4,"ngIf"],[3,"value"],[1,"tw-form-text"],[1,"text-danger"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-1"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"],["type","url","id","editLocation",1,"tw-form-control",3,"value","ngModel","keyup","ngModelChange"],["id","editBinding",1,"tw-form-control",3,"value","ngModel","ngModelChange","keyup","change"],["type","number","min","0","id","editIndex",1,"tw-form-control",3,"ngModel","ngModelChange","keyup","change"]],template:function(t,n){1&t&&(e.YNc(0,nb,18,21,"div",0),e.TgZ(1,"app-custom-modal",1),e.NdJ("onCancel",function(){return n.cancelAdd()})("onSave",function(){return n.addEndpoint()}),e.TgZ(2,"form",2)(3,"app-form-row",3),e._UZ(4,"input",4),e.YNc(5,Cc,4,3,"small",5),e.qZA(),e.TgZ(6,"app-form-row",3)(7,"div",6)(8,"select",7),e.YNc(9,DA,2,0,"option",8),e.YNc(10,Zh,2,0,"option",9),e.YNc(11,EA,2,0,"option",10),e.YNc(12,j_,2,0,"option",11),e.qZA()(),e.YNc(13,$_,4,3,"small",5),e.qZA(),e.TgZ(14,"app-form-row",3),e._UZ(15,"input",12),e.YNc(16,IA,4,3,"small",5),e.qZA()()(),e.TgZ(17,"app-custom-modal",13),e.NdJ("onSave",function(){return n.saveEndpoint(n.editingEndpoint)})("onCancel",function(){return n.cancelEdit()}),e.YNc(18,kd,15,21,"ng-container",0),e.qZA()),2&t&&(e.Q6J("ngIf",n.serviceProvider),e.xp6(1),e.Q6J("actions",n.addModalActions)("title","Clients.Saml.AddEndpoint")("modalId",n.addModalId)("addDisabled",!n.addEndpointForm.valid),e.xp6(1),e.Q6J("formGroup",n.addEndpointForm),e.xp6(1),e.Q6J("id",n.endpointType+"url")("label","Clients.Endpoint")("isLast",!1),e.xp6(1),e.Q6J("id",n.endpointType+"url"),e.xp6(1),e.Q6J("ngIf",n.addEndpointForm.hasError("unique")),e.xp6(1),e.Q6J("id",n.endpointType+"binding")("label","Clients.Saml.BindingType")("isLast",!1),e.xp6(2),e.Q6J("id",n.endpointType+"binding"),e.xp6(1),e.Q6J("ngIf","ars"!=n.endpointType),e.xp6(1),e.Q6J("ngIf","ars"!=n.endpointType),e.xp6(1),e.Q6J("ngIf","ars"!=n.endpointType),e.xp6(1),e.Q6J("ngIf","ars"==n.endpointType),e.xp6(1),e.Q6J("ngIf",n.addEndpointForm.hasError("unique")),e.xp6(1),e.Q6J("id",n.endpointType+"index")("label","Clients.Saml.Index")("isLast",!0),e.xp6(1),e.Q6J("id",n.endpointType+"index"),e.xp6(1),e.Q6J("ngIf",n.index.hasError("unique")),e.xp6(1),e.Q6J("actions",n.editEndpointsActions)("title","Clients.Saml.EditEndpoint")("modalId",n.editEndpointsModalId)("addDisabled",!(null!=n.editingEndpoint&&n.editingEndpoint.valid)),e.xp6(1),e.Q6J("ngIf",n.editingEndpoint))},dependencies:[N.sg,N.O5,C._Y,C.YN,C.Kr,C.Fj,C.wV,C.EJ,C.JJ,C.JL,C.Q7,C.qQ,C.On,C.sg,C.u,Ce.K,Mr.Qj,fl.E,gt.L,Fs.R,wt.X$],encapsulation:2}),i})();function W_(i){return o=>{const t=o.get("url").value,n=o.get("binding").value;return Fh(i,t,n)?null:{unique:!0}}}function Fh(i,o,t){return 0===i.length||null===o||null===t||!i.some(n=>o.trim().toLowerCase()===n.location.trim().toLowerCase()&&t===n.binding)}function ab(i){return o=>Bh(i,o.value)?null:{unique:!0}}function Bh(i,o){return 0===i.length||!i.some(t=>t.index===o)}var Q_=g(1428);let G_=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-saml"]],features:[e._Bn([{provide:Od.h,useExisting:Wa.S}])],decls:10,vars:15,consts:[[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editClientSaml"]],template:function(t,n){1&t&&(e.TgZ(0,"app-custom-tabs",0),e._UZ(1,"app-custom-tab",1)(2,"app-custom-tab",1)(3,"app-custom-tab",1)(4,"app-custom-tab",1)(5,"app-custom-tab",1)(6,"app-custom-tab",1)(7,"app-custom-tab",1),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"router-outlet"),e.qZA()),2&t&&(e.Q6J("pillMode",!0),e.xp6(1),e.Q6J("tabTitle","Clients.Saml.ACSEndpoints")("tabValue","acsendpoints"),e.xp6(1),e.Q6J("tabTitle","Clients.Saml.SLOEndpoints")("tabValue","sloendpoints"),e.xp6(1),e.Q6J("tabTitle","Clients.Saml.ARSEndpoints")("tabValue","arsendpoints"),e.xp6(1),e.Q6J("tabTitle","Clients.ClaimMappings.Heading")("tabValue","claimmappings"),e.xp6(1),e.Q6J("tabTitle","Clients.Saml.Request")("tabValue","request"),e.xp6(1),e.Q6J("tabTitle","Clients.Saml.Response")("tabValue","response"),e.xp6(1),e.Q6J("tabTitle","Common.Advanced")("tabValue","advanced"))},dependencies:[nn.lC,bo.v,da.x],encapsulation:2}),i})(),z_=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at){this.fb=t,this.route=n,this.router=c,this.titleService=m,this.identityResourceService=M,this.toastr=Q,this.dialogService=ue,this.translate=Pe,this.localize=at}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(t=>{this.identityResource=t,this.buildForm(),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ge.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}buildForm(){this.identityResourceForm=this.fb.group({id:[this.identityResource.id],name:[this.identityResource.name,C.kI.required],displayName:[this.identityResource.displayName,C.kI.required],description:[this.identityResource.description,[C.kI.required,C.kI.maxLength(1e3)]],showInDiscoveryDocument:[this.identityResource.showInDiscoveryDocument],emphasize:[this.identityResource.emphasize],required:[this.identityResource.required],enabled:[this.identityResource.enabled]})}canDeactivate(){return!!this.identityResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){const t=Object.assign(this.identityResourceForm.value,{allowedClaims:this.identityResource.allowedClaims});return this.identityResourceService.updateResource(t).toPromise().then(n=>{this.identityResourceForm.markAsPristine(),this.identityResource=t,this.identityResourceService.getCachedIdentityResource().next(t),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(nn.gz),e.Y36(nn.F0),e.Y36(a.Dx),e.Y36(Fn.Q),e.Y36(Rn._W),e.Y36(Mo.x),e.Y36(wt.sK),e.Y36(un.An))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-identityresource-details"]],decls:28,vars:35,consts:[[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],["id","ResourceID","type","text","readonly","",1,"tw-form-control",3,"value"],["id","displayNameInput","name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","Required","formControlName","required","type","checkbox",1,"tw-form-switch__input"],["id","showInDiscoveryDocument","formControlName","showInDiscoveryDocument","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","emphasize","formControlName","emphasize","type","checkbox",1,"tw-form-switch__input"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteIdentityResource",1,"tw-btn-danger","tw-mb-3"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4),e._UZ(5,"input",5),e.qZA(),e.TgZ(6,"app-form-row",4),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"app-form-row",4),e._UZ(9,"textarea",7),e.qZA(),e.TgZ(10,"app-form-row",4)(11,"app-form-toggle",8),e._UZ(12,"input",9),e.qZA()(),e.TgZ(13,"app-form-row",4)(14,"app-form-toggle",8),e._UZ(15,"input",10),e.qZA()(),e.TgZ(16,"app-form-row",11)(17,"app-form-toggle",8),e._UZ(18,"input",12),e.qZA()()(),e.TgZ(19,"app-button-bar")(20,"button",13),e.NdJ("click",function(){return n.submit()}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.ynx(23,14),e.TgZ(24,"button",15),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(27,"app-can-deactivate")),2&t&&(e.Q6J("formGroup",n.identityResourceForm),e.xp6(1),e.Q6J("id","Status")("label","Common.Enabled"),e.xp6(1),e.Q6J("id","Status")("isTraffic",!0),e.xp6(2),e.Q6J("id","ResourceID")("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.xp6(1),e.Q6J("value",null==n.identityResource?null:n.identityResource.name),e.xp6(1),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.xp6(2),e.Q6J("id","Required")("label","Common.Required")("help","IdentityResources.ConsentResource"),e.xp6(1),e.Q6J("id","Required"),e.xp6(2),e.Q6J("id","showInDiscoveryDocument")("label","IdentityResources.ShowInDiscoveryDocument")("help","IdentityResources.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("id","showInDiscoveryDocument"),e.xp6(2),e.Q6J("id","emphasize")("label","Common.Emphasize")("help","IdentityResources.ConsentScreen")("isLast",!0),e.xp6(1),e.Q6J("id","emphasize"),e.xp6(3),e.Q6J("disabled",n.identityResourceForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(22,31,"Common.Save")," "),e.xp6(4),e.hij(" ",e.lcZ(26,33,"Common.Delete.Title")," "))},dependencies:[C._Y,C.Fj,C.Wl,C.JJ,C.JL,C.Q7,C.sg,C.u,ha,cl,gt.L,_s.O,wt.X$],encapsulation:2}),i})();class Y_{}const lb=["ClaimsPicker"];let cb=(()=>{class i{constructor(t,n,c,m,M){this.titleService=t,this.identityResourceService=n,this.claimTypesService=c,this.toastr=m,this.translate=M,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(t=>{this.identityResource=t,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ge.de.SITE_TITLE}`),this.claimTypesService.getClaimTypes().subscribe(n=>{this.originalClaims=n.slice(),this.identityResource.allowedClaims.length>0?this.sortClaims(n):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(n)})})}convertOriginalClaimTypesToPickerClaimTypes(t){let n=[];return t.map(c=>{const m=new Y_;m.name=c.displayName?c.displayName:c.name,n.push(m)}),n}convertPickerClaimsToClaim(t){let n=[];return t.map(c=>{n.push(this.originalClaims.find(m=>m.displayName===c.name||m.name===c.name))}),n}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(t=>{this.toSendClaims=this.assignedClaims.concat(t),this.submit().then(n=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,Re.mn)(this.availableClaims.slice(),t),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(t=>{this.toSendClaims=(0,Re.mn)(this.assignedClaims,t),this.submit().then(n=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(t),this.claimsPicker.assignedCount=0})})}submit(){const t=(0,Gr.UI)(this.convertPickerClaimsToClaim(this.toSendClaims),function(c){return c.name}),n=Object.assign(this.identityResource,{allowedClaims:t});return this.identityResourceService.updateResource(n).toPromise().then(c=>{this.identityResource=n,this.identityResourceService.getCachedIdentityResource().next(n),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}sortClaims(t){let n=[];this.identityResource.allowedClaims.forEach(c=>{t.forEach((m,M)=>{m.name===c&&(t.splice(M,1),n.push(m))})}),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(t),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Dx),e.Y36(Fn.Q),e.Y36(so.M),e.Y36(Rn._W),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-identity-resource-claims"]],viewQuery:function(t,n){if(1&t&&e.Gf(lb,7),2&t){let c;e.iGM(c=e.CRH())&&(n.claimsPicker=c.first)}},decls:6,vars:5,consts:[[1,"cms"],[3,"assignedInput","availableInput"],["ClaimsPicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e._UZ(4,"app-common-picker",1,2)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"IdentityResources.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",n.assignedClaims)("availableInput",n.availableClaims))},dependencies:[Go,wt.X$],encapsulation:2}),i})();function lu(i,o){1&i&&(e.TgZ(0,"app-form-row",4)(1,"app-form-toggle",14),e._UZ(2,"input",15),e.qZA()()),2&i&&(e.Q6J("id","requireResourceIndicatorInput")("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.xp6(1),e.Q6J("id","requireResourceIndicatorInput"))}let ub=(()=>{class i{constructor(t,n,c,m,M,Q){this.protectedResourceService=t,this.fb=n,this.toastr=c,this.translate=m,this.dialogService=M,this.configService=Q,this.targetIdentityServer4=!1}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.configService.getConfig().pipe((0,Wi.P)()).subscribe(n=>{this.targetIdentityServer4=n.targetIdentityServer4,this.buildForm()})})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}buildForm(){const t={id:[this.protectedResource.id],name:[this.protectedResource.name,C.kI.required],displayName:[this.protectedResource.displayName,C.kI.required],description:[this.protectedResource.description,[C.kI.maxLength(1e3)]],enabled:[this.protectedResource.enabled],allowedAccessTokenSigningAlgorithms:[this.protectedResource.allowedAccessTokenSigningAlgorithms]};this.targetIdentityServer4||(t.requireResourceIndicator=[this.protectedResource.requireResourceIndicator]),this.protectedResourceForm=this.fb.group(t)}canDeactivate(){return!!this.protectedResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){const t=Object.assign(this.protectedResourceForm.value,{allowedClaims:this.protectedResource.allowedClaims},{secrets:this.protectedResource.secrets},{scopes:this.protectedResource.scopes});return this.protectedResourceService.updateResource(t).toPromise().then(n=>{this.protectedResourceForm.markAsPristine(),this.protectedResource=t,this.protectedResourceService.getCachedProtectedResource().next(t),this.toastr.success(this.translate.instant("Resources.UpdatedSuccess"),this.translate.instant("Notifications.Success"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Oo.m),e.Y36(C.QS),e.Y36(Rn._W),e.Y36(wt.sK),e.Y36(Mo.x),e.Y36(wo.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-protectedresource-details"]],decls:22,vars:28,consts:[[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],["id","ResourceID","type","text","readonly","",1,"tw-form-control",3,"value"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","isLast"],[3,"form","algorithmControlName"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["type","button","data-toggle","modal","data-target","#deleteProtectedResource",1,"tw-btn-danger","tw-mb-3"],[3,"id"],["id","requireResourceIndicatorInput","type","checkbox","name","requireResourceIndicator","formControlName","requireResourceIndicator",1,"tw-form-switch__input"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4),e._UZ(5,"input",5),e.qZA(),e.TgZ(6,"app-form-row",4),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"app-form-row",4),e._UZ(9,"textarea",7),e.qZA(),e.YNc(10,lu,3,4,"app-form-row",8),e.TgZ(11,"app-form-row",9),e._UZ(12,"app-signing-algorithm-picker",10),e.qZA()(),e.TgZ(13,"app-button-bar")(14,"button",11),e.NdJ("click",function(){return n.submit()}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.ynx(17,12),e.TgZ(18,"button",13),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.BQk(),e.qZA(),e._UZ(21,"app-can-deactivate")),2&t&&(e.Q6J("formGroup",n.protectedResourceForm),e.xp6(1),e.Q6J("id","Status")("label","Common.Enabled"),e.xp6(1),e.Q6J("id","Status")("isTraffic",!0),e.xp6(2),e.Q6J("id","ResourceID")("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.xp6(1),e.Q6J("value",null==n.protectedResource?null:n.protectedResource.name),e.xp6(1),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","Resources.ResourceName"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.ResourceDescription"),e.xp6(2),e.Q6J("ngIf",!n.targetIdentityServer4),e.xp6(1),e.Q6J("id","allowedAccessTokenSigningAlgorithms")("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.xp6(1),e.Q6J("form",n.protectedResourceForm)("algorithmControlName","allowedAccessTokenSigningAlgorithms"),e.xp6(2),e.Q6J("disabled",!(n.protectedResourceForm.dirty&&n.protectedResourceForm.valid)),e.xp6(1),e.hij(" ",e.lcZ(16,24,"Common.Save")," "),e.xp6(4),e.hij(" ",e.lcZ(20,26,"Common.Delete.Title")," "))},dependencies:[N.O5,C._Y,C.Fj,C.Wl,C.JJ,C.JL,C.sg,C.u,ha,cl,gt.L,_s.O,xw,wt.X$],encapsulation:2}),i})();var Vh=g(9272),Rd=g(6001);const Pd=["ClaimPicker"],K_=["tabs"];let X_=(()=>{class i{constructor(t,n,c,m,M){this.fb=t,this.claimsService=n,this.translate=c,this.dialogService=m,this.scopesClaimService=M,this._scope=new Vh.s,this.isEdit=!0,this.submit=new e.vpe,this.delete=new e.vpe,this.availableClaims=[],this.assignedClaims=[],this.properties=[]}set scope(t){this._scope=t||new Vh.s}get scope(){return this._scope}ngOnInit(){this.buildForm(),this.scopesClaimService.cachedClaimTypes$.subscribe(t=>{const n=t.slice();this.scope.userClaims.length>0?this.sortClaims(n):this.availableClaims=n}),this.properties=this.scope.properties}buildForm(){this.scopeForm=this.fb.group({id:[this.scope.id],name:[this.scope.name,C.kI.required],displayName:[this.scope.displayName,C.kI.required],description:[this.scope.description,[C.kI.required,C.kI.maxLength(1e3)]],showInDiscoveryDocument:[this.scope.showInDiscoveryDocument],emphasize:[this.scope.emphasize],required:[this.scope.required],enabled:[this.scope.enabled]})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(t=>{this.assignClaims(t)}),this.claimsPicker.unAssignedStream.subscribe(t=>{this.unassignClaims(t)})}unassignClaims(t){const n=t.map(Q=>Q.name),c=this.assignedClaims.map(Q=>Q.name),m=(0,Gr.e5)(c,n),M=Object.assign(this.scopeForm.value,{userClaims:m});this.submit.emit(M)}assignClaims(t){const n=[...this.assignedClaims,...t].map(m=>m.name),c={...this.scopeForm.value,userClaims:n};this.submit.emit(c)}submitForm(){const t=this.assignedClaims.map(c=>c.name),n=Object.assign(this.scopeForm.value,{userClaims:t},{properties:this.properties});this.submit.emit(n)}deleteScope(){this.delete.emit(this.scope)}sortClaims(t){const n=[];this.scope.userClaims.forEach(c=>{t.forEach((m,M)=>{m.name===c&&(t.splice(M,1),n.push(m))})}),this.availableClaims=t,this.assignedClaims=n}onPropertiesChanged(t){this.properties=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(so.M),e.Y36(wt.sK),e.Y36(Mo.x),e.Y36(Ia.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-api-scope"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Pd,7),e.Gf(K_,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.claimsPicker=c.first),e.iGM(c=e.CRH())&&(n.tabsComponent=c.first)}},inputs:{scope:"scope",isEdit:"isEdit"},outputs:{submit:"submit",delete:"delete"},decls:37,vars:49,consts:[["tabs",""],[3,"heading"],[1,"tw-pt-5",3,"formGroup"],[3,"id","label","help"],["type","text","readonly","",1,"tw-form-control",3,"id","value"],["name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control",3,"id"],["name","descriptionInput","type","text","formControlName","description","required","",1,"tw-form-control",3,"id"],[3,"id"],["type","checkbox","formControlName","required",1,"tw-form-switch__input",3,"id"],["type","checkbox","formControlName","showInDiscoveryDocument",1,"tw-form-switch__input",3,"id"],[3,"id","label","help","isLast"],["type","checkbox","formControlName","emphasize",1,"tw-form-switch__input",3,"id"],[1,"tw-flex","tw-items-center","tw-border-t","tw-border-grey-300","tw-mt-20","tw-pt-5"],[1,"tw-btn-success",3,"click"],["data-toggle","modal","id","deleteBtn",1,"tw-btn-danger","tw-ml-auto",3,"click"],[1,"cms","tw-pt-5"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],["id","propertiesEditor",3,"modalId","properties","propertiesChanged"]],template:function(t,n){1&t&&(e.TgZ(0,"tabset",null,0)(2,"tab",1),e.ALo(3,"translate"),e.TgZ(4,"div")(5,"form",2)(6,"app-form-row",3),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"app-form-row",3),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"app-form-row",3),e._UZ(11,"textarea",6),e.qZA(),e.TgZ(12,"app-form-row",3)(13,"app-form-toggle",7),e._UZ(14,"input",8),e.qZA()(),e.TgZ(15,"app-form-row",3)(16,"app-form-toggle",7),e._UZ(17,"input",9),e.qZA()(),e.TgZ(18,"app-form-row",10)(19,"app-form-toggle",7),e._UZ(20,"input",11),e.qZA()()(),e.TgZ(21,"div",12)(22,"button",13),e.NdJ("click",function(){return n.submitForm()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"button",14),e.NdJ("click",function(){return n.deleteScope()}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"tab",1)(29,"div",15)(30,"p"),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e._UZ(33,"app-common-picker",16,17),e.qZA(),e.TgZ(35,"tab",1)(36,"app-properties-editor",18),e.NdJ("propertiesChanged",function(m){return n.onPropertiesChanged(m)}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("heading",e.lcZ(3,41,"Nav.Details")),e.xp6(3),e.Q6J("formGroup",n.scopeForm),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Id")("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.xp6(1),e.MGl("id","scope",n.scope.id,"Id"),e.Q6J("value",n.scope.name),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Name")("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(1),e.MGl("id","scope",n.scope.id,"Name"),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Description")("label","Common.Description")("help","Resources.Scope.Description"),e.xp6(1),e.MGl("id","scope",n.scope.id,"Description"),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Required")("label","Common.Required")("help","Resources.Scope.Consent"),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Required"),e.xp6(1),e.MGl("id","scope",n.scope.id,"Required"),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Discovery")("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Discovery"),e.xp6(1),e.MGl("id","scope",n.scope.id,"Discovery"),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Emphasise")("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.xp6(1),e.Q6J("id","scope"+n.scope.id+"Emphasise"),e.xp6(1),e.MGl("id","scope",n.scope.id,"Emphasise"),e.xp6(3),e.Oqu(e.lcZ(24,43,"Common.Save")),e.xp6(3),e.Oqu(e.lcZ(27,45,"Common.Remove.Title")),e.xp6(2),e.Q6J("heading","Claims"),e.xp6(3),e.Oqu(e.lcZ(32,47,"Resources.Scope.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",n.assignedClaims)("availableInput",n.availableClaims)("availableSearch",!0),e.xp6(2),e.Q6J("heading","Properties"),e.xp6(1),e.Q6J("modalId",n.scope.id)("properties",n.scope.properties))},dependencies:[Go,C._Y,C.Fj,C.Wl,C.JJ,C.JL,C.Q7,C.sg,C.u,Ir.wW,Ir.AH,gt.L,_s.O,Rd.s,wt.X$],encapsulation:2,changeDetection:0}),i})();const ev=["ClaimPicker"],db=["tabs"];function cu(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.EnterBasicDetails")))}function uu(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Resources.AssignClaims")))}function pb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.nextTab())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.scopeForm.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"Common.Next"))}}function hb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addScope())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Common.Save")))}let fb=(()=>{class i{constructor(t,n,c,m,M,Q,ue){this.fb=t,this.claimsService=n,this.protectedResourceService=c,this.toastr=m,this.translate=M,this.scopesClaimService=Q,this.errorService=ue,this.submitConfirmed=new e.vpe,this.cancelOut=new e.vpe,this.scope=new Vh.s,this.allAvaliableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1}keydown(t){"Enter"===t.key&&this.scopeForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.scopeForm=this.fb.group({name:[this.scope.name,[C.kI.required,C.kI.pattern(/^\S*$/)]],displayName:[this.scope.displayName,C.kI.required],description:[this.scope.description,[C.kI.required,C.kI.maxLength(1e3)]],showInDiscoveryDocument:[!0],emphasize:[!1],required:[!1]}),this.claimsSubscription=this.scopesClaimService.cachedClaimTypes$.subscribe(t=>{const n=t.slice();this.scope.userClaims.length>0?this.sortClaims(n):(this.availableClaims=n,this.allAvaliableClaims=n)})}ngOnDestroy(){this.claimsSubscription.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(t=>{this.availableClaims=(0,Re.mn)(this.availableClaims.slice(),t);const n=this.assignedClaims.slice();this.assignedClaims=n.concat(t),this.claimsPicker.availableCount=0}),this.claimsPicker.unAssignedStream.subscribe(t=>{const n=this.availableClaims;this.assignedClaims=(0,Re.mn)(this.assignedClaims.slice(),t),this.availableClaims=n.concat(t),this.claimsPicker.assignedCount=0})}sortClaims(t){const n=[];this.scope.userClaims.forEach(c=>{t.forEach((m,M)=>{m.name===c&&(t.splice(M,1),n.push(m))})}),this.availableClaims=t,this.assignedClaims=n}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.cancelOut.emit(!0)}addScope(){const t=(0,Gr.UI)(this.assignedClaims,c=>c.name),n=Object.assign(this.scopeForm.value,{userClaims:t});this.protectedResourceService.addResourceScope(this.resource.id,n).subscribe(c=>{this.submitConfirmed.emit(),this.resetWizard(),this.toastr.success(this.translate.instant("Resources.Scope.ScopeAdded"),this.translate.instant("Notifications.Success"))},c=>{this.errorService.handleError(c)})}resetWizard(){this.scopeForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvaliableClaims,this.scopeForm.controls.showInDiscoveryDocument.setValue(!0),this.scopeForm.controls.emphasize.setValue(!1),this.scopeForm.controls.required.setValue(!1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(so.M),e.Y36(Oo.m),e.Y36(Rn._W),e.Y36(wt.sK),e.Y36(Ia.q),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-protectedresource-scope"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ev,7),e.Gf(db,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.claimsPicker=c.first),e.iGM(c=e.CRH())&&(n.tabComponent=c.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(m){return n.keydown(m)},!1,e.evT)},inputs:{resource:"resource"},outputs:{submitConfirmed:"submitConfirmed",cancelOut:"cancelOut"},decls:43,vars:34,consts:[[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],["progressBar",""],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],["tabs",""],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],["ClaimPicker",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["data-dismiss","modal","class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"disabled","click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["data-dismiss","modal","id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return n.cancel()}),e._UZ(7,"span",5),e.TgZ(8,"span",6),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",7),e._UZ(12,"div",8,9),e.qZA(),e.TgZ(14,"div",10)(15,"div",11),e.YNc(16,cu,3,3,"p",12),e.YNc(17,uu,3,3,"p",12),e.qZA(),e.TgZ(18,"tabset",13,14)(20,"tab")(21,"form",15)(22,"app-form-row",16),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"app-form-row",16),e._UZ(25,"input",18),e.qZA(),e.TgZ(26,"app-form-row",19)(27,"textarea",20),e.NdJ("focus",function(){return n.descFocus=!n.descFocus})("blur",function(){return n.descFocus=!n.descFocus}),e.qZA()()()(),e.TgZ(28,"tab"),e._UZ(29,"app-common-picker",21,22),e.qZA()()(),e._UZ(31,"div",23),e.TgZ(32,"div",24)(33,"div",25)(34,"div",26),e.YNc(35,pb,3,4,"button",27),e.YNc(36,hb,3,3,"button",28),e.TgZ(37,"button",29),e.NdJ("click",function(){return n.previousTab()}),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"button",30),e.NdJ("click",function(){return n.cancel()}),e._uU(41),e.ALo(42,"translate"),e.qZA()()()()()),2&t&&(e.xp6(4),e.AsE("",e.lcZ(5,26,"Resources.Scope.NewScope")," ",n.resource.name,""),e.xp6(5),e.Oqu(e.lcZ(10,28,"Common.Close")),e.xp6(3),e.Udp("width",n.progressPercent+"%"),e.xp6(4),e.Q6J("ngIf",n.tabComponent.tabs[0].active),e.xp6(1),e.Q6J("ngIf",n.tabComponent.tabs[1].active),e.xp6(4),e.Q6J("formGroup",n.scopeForm),e.xp6(1),e.Q6J("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.xp6(2),e.Q6J("id","displayNameInput")("label","Common.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(2),e.Q6J("id","descriptionInput")("label","Common.Description")("help","Resources.Scope.Description")("isLast",!0),e.xp6(3),e.Q6J("assignedInput",n.assignedClaims)("availableInput",n.availableClaims)("availableSearch",!0),e.xp6(6),e.Q6J("ngIf",n.tabIndex<n.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("ngIf",n.tabIndex==n.tabComponent.tabs.length-1),e.xp6(1),e.Q6J("disabled",0==n.tabIndex),e.xp6(1),e.Oqu(e.lcZ(39,30,"Common.Back")),e.xp6(3),e.Oqu(e.lcZ(42,32,"Common.Cancel")))},dependencies:[N.O5,C._Y,C.Fj,C.JJ,C.JL,C.nD,C.sg,C.u,Ir.wW,Ir.AH,Go,gt.L,wt.X$],encapsulation:2}),i})();const tv=["createScope"],nv=["addScope"],iv=["deleteScopeModal"],mb=["scopePicker"];function sv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addSharedScopeShow())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ProtectedResources.AddSharedScope")))}function gb(i,o){if(1&i&&e._UZ(0,"app-common-picker",35,36),2&i){const t=e.oxw();e.Q6J("assignedInput",t.pickerScopes.assignedScopes)("availableInput",t.pickerScopes.availableScopes)("availableSearch",!0)}}function _b(i,o){1&i&&(e.TgZ(0,"div",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.DisplayName")," "))}function MA(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"accordion-group",null,38)(2,"button",39)(3,"b",40),e._uU(4),e.qZA(),e.TgZ(5,"div",41),e._UZ(6,"span",42),e.qZA()(),e.TgZ(7,"div")(8,"app-api-scope",43),e.NdJ("delete",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.deleteScopeConfirm(c))})("submit",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.submitScopeClaims(c))}),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(4),e.Oqu(t.displayName),e.xp6(4),e.Q6J("scope",t)}}function OA(i,o){if(1&i&&e._UZ(0,"app-pager",44),2&i){const t=e.oxw();e.Q6J("totalResults",null==t.protectedResource.scopes?null:t.protectedResource.scopes.length)}}function NA(i,o){1&i&&(e._UZ(0,"p",45),e.ALo(1,"translate")),2&i&&e.Q6J("innerHTML",e.lcZ(1,1,"Common.Delete.FinalScopeOnResourceWarning"),e.oJD)}const rv=function(){return{animated:!1,backdrop:"static"}};class ov{constructor(o,t){this.availableScopes=[],this.assignedScopes=[],this.availableScopes=o,this.assignedScopes=t}}let Ld=(()=>{class i{constructor(t,n,c,m,M){this.protectedResourceService=t,this.fb=n,this.toastr=c,this.translate=m,this.configService=M,this.pageSubscriptions=new qu.w0}set content(t){this.pickerScopes&&(this.sharedScopePicker=t,this.pageSubscriptions.add(this.sharedScopePicker.assignedStream.subscribe(n=>{this.pickerScopes.assignedScopes.push(...n),n.forEach(c=>{let m=this.pickerScopes.availableScopes.findIndex(M=>M.name==c.name);this.pickerScopes.availableScopes.splice(m,1)})})),this.pageSubscriptions.add(this.sharedScopePicker.unAssignedStream.subscribe(n=>{this.pickerScopes.availableScopes.push(...n),n.forEach(c=>{let m=this.pickerScopes.assignedScopes.findIndex(M=>M.name==c.name);this.pickerScopes.assignedScopes.splice(m,1)})})))}ngOnInit(){this.configService.getConfig().pipe((0,Wi.P)()).subscribe(t=>{this.sharedScopesEnabled=t.featureFlagOptions.enableSharedScopes}),this.pageSubscriptions.add(this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.refreshScopes(t)}))}ngOnDestroy(){this.pageSubscriptions.unsubscribe()}refreshResource(){this.createScopeModal.isShown&&this.createScopeModal.hide(),this.existingScopeModal.isShown&&this.existingScopeModal.hide(),this.protectedResourceService.getResource(this.protectedResource.id).subscribe(t=>{this.protectedResource=t,this.protectedResourceService.getCachedProtectedResource().next(t),this.refreshScopes(t)})}refreshScopes(t){this.protectedResourceService.getAllScopes().subscribe(n=>{const c=t.scopes;this.pickerScopes=new ov(n.filter(m=>-1===c.findIndex(M=>M.name==m.name)),[])})}submitScopeClaims(t){this.protectedResourceService.updateResourceScope(this.protectedResource.id,t,t.name).subscribe(n=>{this.refreshResource(),this.toastr.success(this.translate.instant("Resources.Scope.Updated"),this.translate.instant("Notifications.Saving Success Title"))},n=>{this.toastr.error(this.translate.instant("Resources.Scope.Failed"),this.translate.instant("Common.Error"))})}deleteScopeConfirm(t){this.scopeToDelete=t,this.deleteScopeConfirmModal.show()}deleteScope(t){return this.protectedResourceService.deleteScope(this.protectedResource.id,t).toPromise().then(n=>{this.refreshResource(),this.deleteScopeConfirmModal.hide(),this.toastr.success(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Success"))},n=>{this.toastr.error(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Failed"))})}commitScopeChanges(){return this.protectedResource.scopes.push(...this.pickerScopes.assignedScopes),this.protectedResourceService.updateResource(this.protectedResource).subscribe({next:()=>{this.refreshResource(),this.existingScopeModal.hide(),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))},error:()=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}createScopeShow(){this.createScopeModal.show()}addSharedScopeShow(){this.existingScopeModal.show()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Oo.m),e.Y36(C.QS),e.Y36(Rn._W),e.Y36(wt.sK),e.Y36(wo.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-protectedresource-scopes"]],viewQuery:function(t,n){if(1&t&&(e.Gf(tv,7),e.Gf(nv,7),e.Gf(iv,7),e.Gf(mb,5)),2&t){let c;e.iGM(c=e.CRH())&&(n.createScopeModal=c.first),e.iGM(c=e.CRH())&&(n.existingScopeModal=c.first),e.iGM(c=e.CRH())&&(n.deleteScopeConfirmModal=c.first),e.iGM(c=e.CRH())&&(n.content=c.first)}},features:[e._Bn([{provide:no.gd,useFactory:Ch}])],decls:75,vars:51,consts:[["right",""],[1,"tw-btn-success",3,"click"],["id","assignSharedScopesBtn","class","tw-btn ml-2",3,"click",4,"ngIf"],["bsModal","","id","createScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["createScope","bs-modal"],[3,"resource","cancelOut","submitConfirmed"],["bsModal","","id","addScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["addScope","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"assignedInput","availableInput","availableSearch",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex"],[1,"tw-mr-auto"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","deleteScope","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["deleteScopeModal","bs-modal"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],[1,"tw-flex","tw-item-center"],[1,"tw-btn-danger",3,"click"],["id","assignSharedScopesBtn",1,"tw-btn","ml-2",3,"click"],[3,"assignedInput","availableInput","availableSearch"],["scopePicker",""],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["group",""],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","trans"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"scope","delete","submit"],["hidePager","true",3,"totalResults"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"app-action-bar"),e.ynx(1,0),e.TgZ(2,"button",1),e.NdJ("click",function(){return n.createScopeShow()}),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,sv,3,3,"button",2),e.BQk(),e.qZA(),e.TgZ(6,"div",3,4)(8,"app-add-protectedresource-scope",5),e.NdJ("cancelOut",function(){return n.createScopeModal.hide()})("submitConfirmed",function(){return n.refreshResource()}),e.qZA()(),e.TgZ(9,"div",6,7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h5",11),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(10);return e.KtG(M.hide())}),e._UZ(18,"span",13),e.TgZ(19,"span",14),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"div",15),e.YNc(23,gb,2,3,"app-common-picker",16),e.qZA(),e._UZ(24,"div",17),e.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"button",1),e.NdJ("click",function(){return n.commitScopeChanges()}),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"button",21),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(10);return e.KtG(M.hide())}),e._uU(32),e.ALo(33,"translate"),e.qZA()()()()()(),e.TgZ(34,"div",22),e.YNc(35,_b,3,3,"div",23),e.TgZ(36,"accordion"),e.YNc(37,MA,9,2,"accordion-group",24),e.qZA(),e.YNc(38,OA,1,1,"app-pager",25),e.qZA(),e.TgZ(39,"div",26,27)(41,"div",28)(42,"div",9)(43,"div",10)(44,"h5",11),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"button",12),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(40);return e.KtG(M.hide())}),e._UZ(48,"span",13),e.TgZ(49,"span",14),e._uU(50),e.ALo(51,"translate"),e.qZA()()(),e.TgZ(52,"div",29)(53,"p",30),e._uU(54),e.ALo(55,"translate"),e.TgZ(56,"strong"),e._uU(57),e.qZA(),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"strong"),e._uU(61),e.qZA(),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.YNc(64,NA,2,3,"p",31),e.qZA(),e._UZ(65,"div",17),e.TgZ(66,"div",18)(67,"div",32)(68,"div",20)(69,"button",33),e.NdJ("click",function(){return n.deleteScope(n.scopeToDelete.name)}),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"button",21),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(40);return e.KtG(M.hide())}),e._uU(73),e.ALo(74,"translate"),e.qZA()()()()()()}2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,24,"ProtectedResources.AddScope")),e.xp6(2),e.Q6J("ngIf",n.sharedScopesEnabled),e.xp6(1),e.Q6J("config",e.DdM(48,rv)),e.xp6(2),e.Q6J("resource",n.protectedResource),e.xp6(1),e.Q6J("config",e.DdM(49,rv)),e.xp6(6),e.hij(" ",e.lcZ(16,26,"ProtectedResources.AddSharedScope")," "),e.xp6(5),e.Oqu(e.lcZ(21,28,"Common.Close")),e.xp6(3),e.Q6J("ngIf",n.pickerScopes),e.xp6(6),e.Oqu(e.lcZ(30,30,"Common.Save")),e.xp6(3),e.Oqu(e.lcZ(33,32,"Common.Cancel")),e.xp6(3),e.Q6J("ngIf",n.protectedResource.scopes.length>0),e.xp6(2),e.Q6J("ngForOf",n.protectedResource.scopes),e.xp6(1),e.Q6J("ngIf",(null==n.protectedResource.scopes?null:n.protectedResource.scopes.length)>0),e.xp6(1),e.Q6J("config",e.DdM(50,rv)),e.xp6(6),e.hij(" ",e.lcZ(46,34,"Common.Delete.Confirm")," "),e.xp6(5),e.Oqu(e.lcZ(51,36,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(55,38,"Common.Delete.AreYouSureSimple2")," "),e.xp6(3),e.Oqu(null==n.scopeToDelete?null:n.scopeToDelete.displayName),e.xp6(1),e.hij(" ",e.lcZ(59,40,"Resources.Scope.ScopeFor")," "),e.xp6(3),e.Oqu(n.protectedResource.displayName),e.xp6(1),e.hij(" ",e.lcZ(63,42,"ProtectedResources.ProtectedResource"),""),e.xp6(2),e.Q6J("ngIf",null==n.scopeToDelete?null:n.scopeToDelete.isFinalInstanceOnResource),e.xp6(6),e.Oqu(e.lcZ(71,44,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(74,46,"Common.Delete.No")))},dependencies:[N.sg,N.O5,Go,no.Zf,no.U_,gi.oB,X_,z.P,Ce.K,fb,wt.X$],encapsulation:2}),i})();const vb=["ClaimsPicker"];let yb=(()=>{class i{constructor(t,n,c,m){this.protectedResourceService=t,this.scopeClaimService=n,this.toastr=c,this.translate=m,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.scopeClaimService.cachedClaimTypes$.subscribe(n=>{this.originalClaims=n.slice();const c=n.slice();this.protectedResource.allowedClaims.length>0?this.sortClaims(c):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(c)})})}convertOriginalClaimTypesToPickerClaimTypes(t){let n=[];return t.map(c=>{let m=new Y_;m.name=c.displayName?c.displayName:c.name,n.push(m)}),n}convertPickerClaimsToClaim(t){let n=[];return t.map(c=>{n.push(this.originalClaims.find(m=>m.displayName===c.name||m.name===c.name))}),n}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(t=>{this.toSendClaims=this.assignedClaims.concat(t),this.submit().then(n=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,Re.mn)(this.availableClaims.slice(),t),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(t=>{this.toSendClaims=(0,Re.mn)(this.assignedClaims,t),this.submit().then(n=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(t),this.claimsPicker.assignedCount=0})})}submit(){const t=(0,Gr.UI)(this.convertPickerClaimsToClaim(this.toSendClaims),function(c){return c.name}),n=Object.assign(this.protectedResource,{allowedClaims:t});return this.protectedResourceService.updateResource(n).toPromise().then(c=>{this.protectedResource=n,this.protectedResourceService.getCachedProtectedResource().next(n),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}sortClaims(t){let n=[];this.protectedResource.allowedClaims.forEach(c=>{t.forEach((m,M)=>{m.name===c&&(t.splice(M,1),n.push(m))})}),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(t),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Oo.m),e.Y36(Ia.q),e.Y36(Rn._W),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-protectedresource-claims"]],viewQuery:function(t,n){if(1&t&&e.Gf(vb,7),2&t){let c;e.iGM(c=e.CRH())&&(n.claimsPicker=c.first)}},decls:6,vars:6,consts:[[1,"cms"],[3,"assignedInput","availableInput","availableSearch"],["ClaimsPicker",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e._UZ(4,"app-common-picker",1,2)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"ProtectedResources.UserClaimTypes")),e.xp6(2),e.Q6J("assignedInput",n.assignedClaims)("availableInput",n.availableClaims)("availableSearch",!0))},dependencies:[Go,wt.X$],encapsulation:2}),i})();const av=["SecretPicker"];let du=(()=>{class i{constructor(t){this.protectedResourceService=t,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.secretPicker.secretsAddStream.subscribe(t=>{t.id?this.editSecret(t):this.submitSecret(t)}),this.secretPicker.secretsRemoveStream.subscribe(t=>{this.removeSecret(t)})}submitSecret(t){this.protectedResourceService.addResourceSecret(this.protectedResource.id,t).subscribe(n=>{this.refreshResource()})}editSecret(t){this.protectedResourceService.updateResourceSecret(this.protectedResource.id,t).subscribe(n=>{this.refreshResource()})}removeSecret(t){this.protectedResourceService.removeResourceSecret(this.protectedResource.id,t.id).subscribe(n=>{this.refreshResource()})}refreshResource(){this.protectedResourceService.getResource(this.protectedResource.id).subscribe(t=>{this.protectedResource=t,this.resourceSecrets=this.protectedResource.secrets,this.protectedResourceService.getCachedProtectedResource().next(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Oo.m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-protectedresource-secrets"]],viewQuery:function(t,n){if(1&t&&e.Gf(av,7),2&t){let c;e.iGM(c=e.CRH())&&(n.secretPicker=c.first)}},decls:2,vars:2,consts:[[3,"clientSecrets","nonModelCertPicker"],["SecretPicker",""]],template:function(t,n){1&t&&e._UZ(0,"app-secret-picker",0,1),2&t&&e.Q6J("clientSecrets",n.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[Vp.P],encapsulation:2}),i})();const Cb=function(){return{animated:!1,backdrop:"static"}};let wb=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt,Jt){this.rolesService=t,this.route=n,this.securityService=c,this.router=m,this.fb=M,this.titleService=Q,this.toastr=ue,this.dialogService=Pe,this.translate=at,this.localize=Nt,this.errorService=Jt}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(t=>{this.role=t,this.buildForms(),this.initialData=JSON.stringify(t);const n=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(n)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const t=this.translate.instant("Notifications.Saving Success Title"),n=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(n,t)},t=>{if(401===t.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const n={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(t,n)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(n.toastBody,n.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(t=>{const n=this.localize.translateRoute("/roles");this.router.navigate([n]),this.toastr.error(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},t=>{if(401===t.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const n={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(t,n)&vr.s.Toast)!==vr.s.Toast&&this.toastr.error(n.toastBody,n.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const t=this.securityService.policyClaims;for(let n=0;n<t.length;n++)if("role"===t[n].type&&t[n].value===this.role.name)return!0;return!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.f),e.Y36(nn.gz),e.Y36(In.I),e.Y36(nn.F0),e.Y36(C.QS),e.Y36(a.Dx),e.Y36(Rn._W),e.Y36(Mo.x),e.Y36(wt.sK),e.Y36(un.An),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-role-details"]],decls:46,vars:36,consts:[["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],["right",""],["id","showModal","data-toggle","modal","data-target","#deleteRoleModal","type","button",1,"tw-btn-danger","tw-mb-3",3,"disabled"],["bsModal","","id","deleteRoleModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","deleteRoleBtn","data-dismiss","modal",1,"tw-btn-danger",3,"click"],["id","closeModalBtn","data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"app-form-row",2),e._UZ(3,"input",3),e.qZA(),e.TgZ(4,"app-form-row",4),e._UZ(5,"textarea",5),e.qZA()()(),e.TgZ(6,"app-button-bar")(7,"button",6),e.NdJ("click",function(){return n.updateRole()}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.ynx(10,7),e.TgZ(11,"button",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"h5",13),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",14),e._UZ(22,"span",15),e.TgZ(23,"span",16),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"div",17)(27,"p",18),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"strong"),e._uU(31),e.qZA(),e._uU(32,"?"),e.qZA(),e._UZ(33,"p",19),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"div",20),e.TgZ(36,"div",21)(37,"div",22)(38,"div",23)(39,"button",24),e.NdJ("click",function(){return n.deleteRole()}),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"button",25),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()(),e._UZ(45,"app-can-deactivate")),2&t&&(e.xp6(1),e.Q6J("formGroup",n.editRoleForm),e.xp6(1),e.Q6J("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.xp6(2),e.Q6J("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.xp6(3),e.Q6J("disabled",!n.editRoleForm.dirty&&n.editRoleForm.valid||n.allowedToEditRole()||n.role.reserved),e.xp6(1),e.hij(" ",e.lcZ(9,19,"Common.Save")," "),e.xp6(3),e.Q6J("disabled",n.isControlDisabled()),e.xp6(1),e.hij(" ",e.lcZ(13,21,"Common.Delete.Title")," "),e.xp6(2),e.Q6J("config",e.DdM(35,Cb)),e.xp6(5),e.Oqu(e.lcZ(20,23,"Common.Delete.Confirm")),e.xp6(5),e.Oqu(e.lcZ(25,25,"Common.Close")),e.xp6(4),e.hij("",e.lcZ(29,27,"Common.Delete.AreYouSureSimple")," "),e.xp6(3),e.Oqu(n.role.name),e.xp6(2),e.Q6J("innerHTML",e.lcZ(34,29,"Common.Delete.Warning"),e.oJD),e.xp6(7),e.Oqu(e.lcZ(41,31,"Common.Delete.Title")),e.xp6(3),e.Oqu(e.lcZ(44,33,"Common.Delete.No")))},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,gi.oB,ha,cl,gt.L,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var pu=(()=>{return(i=pu||(pu={})).Remove="Remove",i.Add="Add",pu;var i})();const bb=["roleManagerUsers"];function Tb(i,o){1&i&&(e._UZ(0,"app-simple-loader",19),e.ALo(1,"translate")),2&i&&e.Q6J("text",e.lcZ(1,1,"Roles.SavingPleaseWait"))}function lv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",38)(1,"label",39)(2,"input",40),e.NdJ("change",function(){const m=e.CHM(t).$implicit,M=e.oxw(3);return e.KtG(M.toggleIfInRole(m))}),e.qZA(),e.TgZ(3,"div",41)(4,"span",42),e._uU(5),e.qZA(),e.TgZ(6,"span",43),e._uU(7),e.qZA()()()()}if(2&i){const t=o.$implicit,n=e.oxw(3);e.xp6(2),e.Q6J("checked",n.checkChecked(t)),e.xp6(3),e.Oqu(t.userName),e.xp6(2),e.Oqu(t.email)}}function Ab(i,o){if(1&i&&(e.TgZ(0,"div",35)(1,"ul",36),e.YNc(2,lv,8,3,"li",37),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.users)}}function Sb(i,o){1&i&&(e.TgZ(0,"p",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.NotSelected")," "))}function hu(i,o){1&i&&(e.TgZ(0,"p",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.NoResults")," "))}function xb(i,o){1&i&&e._UZ(0,"app-simple-loader")}function cv(i,o){1&i&&e.GkF(0)}function Db(i,o){1&i&&e.GkF(0)}const uv=function(i,o,t,n){return{id:"usersAddingSummary",title:i,data:o,label:t,empty:n}},Eb=function(i,o,t,n){return{id:"usersRemovingSummary",title:i,data:o,label:t,empty:n}};function dv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",20),e._UZ(2,"p",21),e.qZA(),e.TgZ(3,"div",22)(4,"h2",23),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",24)(8,"label",25)(9,"span",8),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"input",26),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.searchTerm=c)})("keyup",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.search(c))}),e.qZA()()(),e.TgZ(13,"div",27)(14,"div",28),e.YNc(15,Ab,3,1,"div",29),e.YNc(16,Sb,3,3,"p",30),e.YNc(17,hu,3,3,"p",30),e.YNc(18,xb,1,0,"app-simple-loader",11),e.qZA(),e.TgZ(19,"div",31)(20,"div",32),e.YNc(21,cv,1,0,"ng-container",33),e.ALo(22,"translate"),e.ALo(23,"translate"),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",34),e.YNc(26,Db,1,0,"ng-container",33),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw(),n=e.MAs(17);e.xp6(2),e.Q6J("innerHtml",t.summaryText,e.oJD),e.xp6(3),e.Oqu(e.lcZ(6,12,"Roles.SearchAllUsers")),e.xp6(5),e.Oqu(e.lcZ(11,14,"Roles.SearchUsers")),e.xp6(2),e.Q6J("ngModel",t.searchTerm),e.xp6(3),e.Q6J("ngIf",!t.isLoading&&t.hasSearched&&t.users.length>0),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&!t.hasSearched&&t.users.length<1),e.xp6(1),e.Q6J("ngIf",!t.isLoading&&t.hasSearched&&t.users.length<1),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.l5B(28,uv,e.lcZ(22,16,"Roles.Adding"),t.usersAdding,e.lcZ(23,18,"Roles.CancelAdding"),e.lcZ(24,20,"Roles.NoUsersAdding"))),e.xp6(5),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.l5B(33,Eb,e.lcZ(27,22,"Roles.Removing"),t.usersRemoving,e.lcZ(28,24,"Roles.CancelRemoving"),e.lcZ(29,26,"Roles.NoUsersRemoving")))}}function Ib(i,o){if(1&i&&(e.TgZ(0,"p",44),e._uU(1),e.qZA()),2&i){const t=e.oxw().empty;e.xp6(1),e.Oqu(t)}}function Hh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",52)(1,"button",53),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(3);return e.KtG(M.toggleIfInRole(m))}),e.TgZ(2,"div",54),e._UZ(3,"span",55),e.TgZ(4,"span",56),e._uU(5),e.qZA()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2).label;e.xp6(1),e.uIk("aria-label",n+" "+t.userName),e.xp6(4),e.Oqu(t.userName)}}function Mb(i,o){if(1&i&&(e.TgZ(0,"div",49)(1,"ul",50),e.YNc(2,Hh,6,2,"li",51),e.qZA()()),2&i){const t=e.oxw(),n=t.id,c=t.data;e.xp6(1),e.s9C("id",n),e.xp6(1),e.Q6J("ngForOf",c)}}function pv(i,o){if(1&i&&(e.TgZ(0,"h2",45),e._uU(1),e.TgZ(2,"span",46),e._uU(3),e.qZA()(),e.TgZ(4,"div",47),e.YNc(5,Ib,2,1,"p",30),e.YNc(6,Mb,3,2,"div",48),e.qZA()),2&i){const t=o.title,n=o.data;e.xp6(1),e.hij(" ",t," "),e.xp6(2),e.hij("(",n.length,")"),e.xp6(2),e.Q6J("ngIf",n.length<1),e.xp6(1),e.Q6J("ngIf",n.length>0)}}const hv=function(){return{animated:!1,backdrop:"static"}};let Ob=(()=>{class i extends Hu.bk{constructor(t,n,c,m,M){super(m,M,!1),this.userService=t,this.rolesService=n,this.translateService=c,this.onSubmitted=new e.vpe,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,p.T)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(M=>{this.users=M.results;const Q=[...this.users.filter(ue=>ue.isInRole),...this.usersInRole];this.usersInRole=Gr.Tw(Q,!1,ue=>ue.subject),this.isLoading=!1,this.hasSearched=!0},M=>{this.isLoading=!1})})}mapSearchTerm(t){return{searchTerm:t}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(t){if(t.isInRole){const n=Gr.cx(this.usersRemoving,c=>c.subject===t.subject);n>-1?(this.usersRemoving.splice(n,1),this.usersInRole.push(t)):(this.usersRemoving.push(t),this.usersInRole.splice(this.usersInRole.indexOf(t),1))}else{const n=Gr.cx(this.usersAdding,c=>c.subject===t.subject);n>-1?(this.usersAdding.splice(n,1),this.usersInRole.splice(this.usersInRole.indexOf(t),1)):(this.usersAdding.push(t),this.usersInRole.push(t))}}checkChecked(t){let n;return t.isInRole?(n=Gr.sE(this.usersRemoving,c=>c.subject===t.subject),void 0===n):(n=Gr.sE(this.usersAdding,c=>c.subject===t.subject),void 0!==n)}addOrRemoveUsers(){const t=[];this.isSaving=!0,t.push(...this.usersAdding.map(n=>({username:n.userName,subject:n.subject,addOrRemove:pu.Add}))),t.push(...this.usersRemoving.map(n=>({username:n.userName,subject:n.subject,addOrRemove:pu.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,t).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},n=>{this.isSaving=!1,401===n.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ps.K),e.Y36(A.f),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-role-manageusers"]],viewQuery:function(t,n){if(1&t&&e.Gf(bb,7),2&t){let c;e.iGM(c=e.CRH())&&(n.roleManagerUsers=c.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.qOj],decls:28,vars:19,consts:[["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["roleManagerUsers","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],["commonSummaryGroup",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"disabled","click"],[1,"tw-btn-link","tw--mr-4",3,"disabled","click"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModel","ngModelChange","keyup"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"checked","change"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.hide()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9),e.YNc(14,Tb,2,3,"app-simple-loader",10),e.YNc(15,dv,30,38,"div",11),e.YNc(16,pv,7,4,"ng-template",null,12,e.W1O),e.qZA(),e._UZ(18,"div",13),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.NdJ("click",function(){return n.addOrRemoveUsers()}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"button",18),e.NdJ("click",function(){return n.hide()}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(18,hv)),e.xp6(6),e.Oqu(e.lcZ(7,10,"Roles.RoleUserManagement")),e.xp6(2),e.Q6J("disabled",n.isSaving),e.xp6(3),e.Oqu(e.lcZ(12,12,"Common.Close")),e.xp6(3),e.Q6J("ngIf",n.isSaving),e.xp6(1),e.Q6J("ngIf",!n.isSaving),e.xp6(7),e.Q6J("disabled",n.isSaving||n.usersAdding.length<1&&n.usersRemoving.length<1),e.xp6(1),e.hij(" ",e.lcZ(24,14,"Common.Save")," "),e.xp6(2),e.Q6J("disabled",n.isSaving),e.xp6(1),e.Oqu(e.lcZ(27,16,"Common.Close")))},dependencies:[N.sg,N.O5,N.tP,C.Fj,C.JJ,C.Q7,C.wO,C.nD,C.On,gi.oB,io.w,wt.X$],encapsulation:2}),i})();function Nb(i,o){if(1&i){const t=e.EpF();e.ynx(0,17),e.TgZ(1,"div",18)(2,"label",19),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",20),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2);return e.KtG(m.pageSize=c)})("change",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.setPageLength(+c.pageSize))}),e.TgZ(6,"option",21),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"option",22),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"option",23),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(3),e.AsE("",t.pageSize," ",e.lcZ(4,6,"Nav.PerPage"),""),e.xp6(2),e.Q6J("ngModel",t.pageSize),e.xp6(2),e.hij("25 ",e.lcZ(8,8,"Nav.PerPage"),""),e.xp6(3),e.hij("50 ",e.lcZ(11,10,"Nav.PerPage"),""),e.xp6(3),e.hij("100 ",e.lcZ(14,12,"Nav.PerPage"),"")}}function kb(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.ManageUsers")," "))}function Jh(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Roles.AddUsers")," "))}function Rb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-action-bar"),e.YNc(1,Nb,15,14,"ng-container",14),e.ynx(2,15),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(11);return e.KtG(c.show())}),e.YNc(4,kb,3,3,"span",7),e.YNc(5,Jh,3,3,"span",7),e.qZA(),e.BQk(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.pagedResult?null:t.pagedResult.results.length)>0),e.xp6(3),e.Q6J("ngIf",t.users&&t.users.length>0),e.xp6(1),e.Q6J("ngIf",t.users&&t.users.length<1)}}function fv(i,o){1&i&&e._UZ(0,"app-simple-loader")}function Pb(i,o){1&i&&(e.TgZ(0,"div",24)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Users.NoUsersFound")))}function Lb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",31),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.goToUser(m))}),e.TgZ(2,"b",32),e._uU(3),e.qZA()(),e.TgZ(4,"td",33),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.goToUser(m))}),e._uU(5),e.qZA(),e.TgZ(6,"td",33),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.goToUser(m))}),e._uU(7),e.qZA(),e.TgZ(8,"td",34),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.removeUser(m))}),e.TgZ(9,"button",35),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.removeUser(m))}),e._UZ(10,"span",36),e.TgZ(11,"span",5),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&i){const t=o.$implicit;e.xp6(3),e.Oqu(t.username),e.xp6(2),e.hij(" ",t.firstName," "),e.xp6(2),e.hij(" ",t.lastName," "),e.xp6(5),e.Oqu(e.lcZ(13,4,"Common.Remove.Title"))}}function Ub(i,o){if(1&i&&(e.TgZ(0,"table",25)(1,"thead")(2,"tr")(3,"th",26),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",27),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",27),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th",28)(13,"span",5),e._uU(14),e.ALo(15,"translate"),e.qZA()()()(),e.TgZ(16,"tbody",29),e.YNc(17,Lb,14,6,"tr",30),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,5,"Users.Username")),e.xp6(3),e.Oqu(e.lcZ(8,7,"Users.FirstName")),e.xp6(3),e.Oqu(e.lcZ(11,9,"Users.LastName")),e.xp6(4),e.Oqu(e.lcZ(15,11,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",t.users)}}function Zb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-pager",37),e.NdJ("onGoToPage",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.goToPage(c))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("totalResults",null==t.pagedResult?null:t.pagedResult.totalCount)("currentPage",t.page)("lastPage",null==t.pagedResult?null:t.pagedResult.pageCount)}}const Fb=function(){return{animated:!1,backdrop:"static"}};function Bb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",43),e._UZ(8,"span",36),e.TgZ(9,"span",5),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",44),e._UZ(13,"p",45),e.qZA(),e._UZ(14,"div",46),e.TgZ(15,"div",47)(16,"div",48)(17,"div",49)(18,"button",50),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.delete())}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",51),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.Q6J("config",e.DdM(14,Fb)),e.xp6(5),e.Oqu(e.lcZ(6,6,"Common.Remove.Confirm")),e.xp6(5),e.Oqu(e.lcZ(11,8,"Common.Close")),e.xp6(3),e.Q6J("innerHtml",t.removeSummary,e.oJD),e.xp6(6),e.Oqu(e.lcZ(20,10,"Common.Remove.Title")),e.xp6(3),e.Oqu(e.lcZ(23,12,"Common.Remove.No"))}}let Vb=(()=>{class i extends Hu.bk{constructor(t,n,c,m,M,Q,ue){super(M,n,!0),this.rolesService=t,this.localize=c,this.router=m,this.errorService=Q,this.userService=ue,this.pageStream=new xi.x,this.pageSizeStream=new xi.x,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=n.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Wi.P)()).subscribe(t=>{this.role=t,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const n=this.pageStream.pipe((0,se.U)(M=>(this.page=M,{searchTerm:this.searchTerm,page:M,pageSize:this.pageSize}))),c=this.pageSizeStream.pipe((0,se.U)(M=>(this.pageSize=M,{searchTerm:this.searchTerm,page:this.page,pageSize:M})));n.pipe((0,p.T)(c),(0,p.T)(this.searchSource),(0,p.T)(this.enterKeySource),(0,f.O)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,w.z)(M=>(this.isLoading=!0,this.rolesService.getUsersInRole(t.id,M.page,M.pageSize,M.searchTerm).pipe((0,Vu.g)(200))))).subscribe(M=>{this.pagedResult=M,this.users=M.results,this.isLoading=!1},M=>{this.errorService.handleError(M),this.isLoading=!1})})}mapSearchTerm(t){return this.searchTerm=t,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(t){this.pageStream.next(1)}goToPage(t){this.pageStream.next(t)}setPageLength(t){this.page=1,this.pageSizeStream.next(t)}goToUser(t){const n=[this.localize.translateRoute("/users"),t.subject,"roles"];this.router.navigate(n)}removeUser(t){this.removeSummary=this.removeSummaryTranslation.replace("{0}",t.username),this.userToRemove=t}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(t=>{let n=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;n<1&&(n=1),this.goToPage(n),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},t=>{this.isLoading=!1,401===t.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.f),e.Y36(wt.sK),e.Y36(un.An),e.Y36(nn.F0),e.Y36(Rn._W),e.Y36(O.T),e.Y36(ps.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-role-users"]],features:[e.qOj],decls:17,vars:11,consts:[[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","trans"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","trans",3,"ngModel","ngModelChange","keyup"],[4,"ngIf"],["id","manageUsersModal",3,"role","onSubmitted"],["manageUsersModal",""],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["bsModal","","id","removeUserModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModel","ngModelChange","change"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],["data-toggle","modal","data-target","#removeUserModal",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"totalResults","currentPage","lastPage","onGoToPage"],["bsModal","","id","removeUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHtml"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",1,"tw-btn-danger",3,"click"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._UZ(4,"span",4),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(m){return n.searchTerm=m})("keyup",function(m){return n.search(m)}),e.qZA()()(),e.YNc(9,Rb,6,3,"app-action-bar",7),e.TgZ(10,"app-role-manageusers",8,9),e.NdJ("onSubmitted",function(m){return n.onSubmit(m)}),e.qZA(),e.YNc(12,fv,1,0,"app-simple-loader",7),e.YNc(13,Pb,4,3,"div",10),e.YNc(14,Ub,18,13,"table",11),e.YNc(15,Zb,1,3,"app-pager",12),e.qZA(),e.YNc(16,Bb,24,15,"div",13)),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,9,"Common.Search")),e.xp6(2),e.Q6J("ngModel",n.searchTerm),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("role",n.role),e.xp6(2),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.users&&0==n.users.length&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.users&&n.users.length>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.userToRemove))},dependencies:[N.sg,N.O5,C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.Q7,C.wO,C.nD,C.On,gi.oB,z.P,Ce.K,io.w,Ob,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();class Hb{}var qh=g(6548);let jh=(()=>{class i{constructor(t,n,c,m,M){this.claimTypeService=t,this.permissionService=n,this.accessPolicyService=c,this.rolesService=m,this.errorService=M}resolve(){const t=this.permissionService.getAvaliablePermissions(),n=this.accessPolicyService.getAccessPolicy(),c=this.claimTypeService.getClaimTypes(),m=this.rolesService.getRoles();return(0,Xr.D)([t,n,c,m]).pipe((0,se.U)(([Q,ue,Pe,at])=>{const Nt=new Hb;return Nt.permissions=Q,Nt.claimTypes=Pe,Nt.accessPolicy=ue,Nt.roles=at,Nt},Q=>{this.errorService.handleError(Q)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(so.M),e.LFG(qh.$),e.LFG(Ed),e.LFG(A.f),e.LFG(O.T))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),mv=(()=>{class i{constructor(t){this.clientCachingService=t,this.properties=[]}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.properties=t.properties.sort()})}ngOnDestroy(){this.subscription.unsubscribe()}onPropertiesChanged(t){const n=JSON.parse(JSON.stringify(this.client));n.properties=t,this.clientCachingService.componentDirtyValidMap.set("ClientPropertiesComponent",{isValid:!0}),this.properties=t,this.clientCachingService.unsavedCache.next(n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-properties"]],decls:1,vars:2,consts:[[3,"modalId","properties","propertiesChanged"]],template:function(t,n){1&t&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(m){return n.onPropertiesChanged(m)}),e.qZA()),2&t&&e.Q6J("modalId",n.client.id)("properties",n.client.properties)},dependencies:[Rd.s],encapsulation:2}),i})();var Jb=g(1946);const $h=["addEditAvailableAssertionsButton"],gv=["addButton"],qb=["addAvailableAssertionsButton"];function jb(i,o){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function Wh(i,o){1&i&&(e.TgZ(0,"div",24)(1,"div",25),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Clients.ClaimMappings.None")))}function Qh(i,o){if(1&i&&(e.TgZ(0,"b",40),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(n.getValueAlias(t.value))}}function _v(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",30)(2,"b"),e._uU(3),e.qZA()(),e.TgZ(4,"td",31),e.YNc(5,Qh,2,1,"b",32),e.TgZ(6,"span",33),e._uU(7),e.qZA()(),e.TgZ(8,"td",29)(9,"div",34)(10,"button",35,36),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.MAs(11),Q=e.oxw(2);return e.KtG(Q.openEditModal(m,M))}),e._UZ(12,"span",37),e.TgZ(13,"span",15),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",38),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw(2);return e.KtG(M.removeMapping(m.key))}),e._UZ(17,"span",39),e.TgZ(18,"span",15),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Oqu(t.key),e.xp6(2),e.Q6J("ngIf",n.getValueAlias(t.value)),e.xp6(2),e.Oqu(t.value),e.xp6(7),e.Oqu(e.lcZ(15,5,"Common.Edit")),e.xp6(5),e.Oqu(e.lcZ(20,7,"Common.Remove.Title"))}}function Gh(i,o){if(1&i&&(e.TgZ(0,"table",26)(1,"thead")(2,"tr")(3,"th",27),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",28),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",29)(10,"span",15),e._uU(11),e.ALo(12,"translate"),e.qZA()()()(),e.TgZ(13,"tbody"),e.YNc(14,_v,21,9,"tr",8),e.ALo(15,"keyvalue"),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,"Clients.ClaimMappings.ClaimType")),e.xp6(3),e.Oqu(e.lcZ(8,6,"Clients.ClaimMappings.AssertionTypeHeading")),e.xp6(4),e.Oqu(e.lcZ(12,8,"Common.Actions")),e.xp6(3),e.Q6J("ngForOf",e.lcZ(15,10,t.claimMappings))}}function $b(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",41),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.updateValue(m.value))}),e.TgZ(2,"label",42)(3,"input",43),e.NdJ("change",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.updateValue(m.value))}),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"td",44),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.updateValue(m.value))}),e.TgZ(6,"b",40),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",45),e._uU(10),e.qZA()()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(3),e.Q6J("checked",t.value==n.addValue),e.uIk("aria-label",e.lcZ(4,4,"Common.Add")),e.xp6(4),e.Oqu(e.lcZ(8,6,"Clients.ClaimMappings.AssertionTypeValues."+t.key)),e.xp6(3),e.Oqu(t.value)}}function Wb(i,o){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function zh(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",41),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.updateEditValue(m.value))}),e.TgZ(2,"label",42)(3,"input",43),e.NdJ("change",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.updateEditValue(m.value))}),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"td",44),e.NdJ("click",function(){const m=e.CHM(t).$implicit,M=e.oxw();return e.KtG(M.updateEditValue(m.value))}),e.TgZ(6,"b",40),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",45),e._uU(10),e.qZA()()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(3),e.Q6J("checked",t.value==n.editingMapping.value),e.uIk("aria-label",e.lcZ(4,4,"Common.Add")),e.xp6(4),e.Oqu(e.lcZ(8,6,"Clients.ClaimMappings.AssertionTypeValues."+t.key)),e.xp6(3),e.Oqu(t.value)}}class vv{}let Yh=(()=>{class i{constructor(t,n,c,m,M,Q){this.cache=t,this.claimTypesService=n,this.errorService=c,this.toast=m,this.translate=M,this.modalService=Q,this.claimMappings=new Map,this.addType="",this.addValue="",this.editingMapping=new vv,this.editModalActions=[Dt.n.Save],this.editModalId="editMappingModalId",this.editAssertionsModalActions=[Dt.n.Save],this.editAssertionsModalId="editAssertionsModalId",this.addModalActions=[Dt.n.Save],this.addModalId="addMappingModalId",this.addAssertionsModalActions=[Dt.n.Save],this.addAssertionsModalId="addAssertionsModalId"}ngOnInit(){this.cache.unsavedCache$.subscribe(t=>{this.relyingParty=t,this.claimMappings=new Map(t.claimMappings)}),this.claimTypesService.getClaimTypes().subscribe(t=>{this.avaliableClaimTypes=t.map(n=>n.name)},t=>{this.errorService.handleError(t)}),this.avaliableAssertionTypes=Jb.P.claimTypes}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}openEditModal(t,n){const c=JSON.parse(JSON.stringify(t));this.editingMapping.type=t.key,this.editingMapping.value=t.value,this.editingMapping.oldMapping=c,this.editButton=n,this.modalService.showById(this.editModalId,n)}editMapping(){this.editingMapping.type!==this.editingMapping.oldMapping.key?(this.claimMappings.delete(this.editingMapping.oldMapping.key),this.claimMappings.set(this.editingMapping.type,this.editingMapping.value)):this.claimMappings.set(this.editingMapping.type,this.editingMapping.value),this.updateMappings()}resetAndCloseEditModal(){this.editingMapping=new vv,this.editButton=null,this.modalService.hideById(this.editModalId)}displayEditAvaliableAssertionTypesModal(){this.modalService.hideById(this.editModalId),this.modalService.showById(this.editAssertionsModalId,this.addEditAssertionsButtonRef)}closeEditAvaliableAssertionTypesModal(){this.modalService.hideById(this.editAssertionsModalId),this.modalService.showById(this.editModalId,this.editButton)}cancelAdd(){this.clear(),this.modalService.hideById(this.addModalId)}addMapping(){if(void 0!==this.claimMappings.get(this.addType)){const t=this.translate.instant("Clients.ClaimMappings.ExisitingMappingWarning")+` ${this.addType}`;this.toast.warning(t,this.translate.instant("Common.Warning"))}else this.claimMappings.set(this.addType,this.addValue),this.updateMappings();this.closeAvaliableAssertionTypesModal(),this.cancelAdd()}removeMapping(t){this.claimMappings.delete(t),this.updateMappings()}updateMappings(){const t=this.relyingParty;t.claimMappings=this.claimMappings,this.cache.componentDirtyValidMap.set("ClaimsMapping",{isValid:!0}),this.cache.unsavedCache.next(t),this.clear()}displayAvaliableAssertionTypesModal(){this.modalService.hideById(this.addModalId),this.modalService.showById(this.addAssertionsModalId,this.addAssertionsButtonRef)}updateValue(t){this.addValue=t}updateEditValue(t){this.editingMapping.value=t}closeAvaliableAssertionTypesModal(){this.modalService.hideById(this.addAssertionsModalId),this.modalService.showById(this.addModalId,this.addButtonRef)}clear(){this.addType="",this.addValue=""}getValueAlias(t){for(const n of this.avaliableAssertionTypes)if(n[1]===t)return this.translate.instant("Clients.ClaimMappings.AssertionTypeValues."+n[0])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Od.h),e.Y36(so.M),e.Y36(O.T),e.Y36(Rn._W),e.Y36(wt.sK),e.Y36(Bi.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-claimmappings"]],viewQuery:function(t,n){if(1&t&&(e.Gf($h,5),e.Gf(gv,5),e.Gf(qb,5)),2&t){let c;e.iGM(c=e.CRH())&&(n.addEditAssertionsButtonRef=c.first),e.iGM(c=e.CRH())&&(n.addButtonRef=c.first),e.iGM(c=e.CRH())&&(n.addAssertionsButtonRef=c.first)}},decls:69,vars:70,consts:[["id","editClientClaims"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"actions","title","modalId","addDisabled","onCancel","onSave"],[3,"id","label"],[1,"tw-form-select"],["id","client-claimmapping-type",1,"tw-form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"id","label","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["id","client-claimmapping-map","type","text","maxlength","250",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModel","ngModelChange"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["addAvailableAssertionsButton",""],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover tw-mb-4",4,"ngIf"],[3,"actions","title","modalId","addDisabled","saveText","onCancel","onSave"],[1,"datatable","selectable","hover"],[1,"toggle","tw-w-1"],["id","edit-client-claimmapping-type",1,"tw-form-control",3,"ngModel","ngModelChange"],["id","edit-client-claimmapping-map","type","text","maxlength","250",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModel","ngModelChange"],["addEditAvailableAssertionsButton",""],["role","alert",1,"tw-alert"],["id","noClaimMappingsLabel"],[1,"datatable","hover","tw-mb-4"],[1,"sm:tw-w-1/3"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],[1,"tw-max-w-0","tw-truncate"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],["class","tw-block tw-truncate",4,"ngIf"],[1,"tw-text-grey-800"],[1,"tw-flex","tw-items-center"],["id","selectButton",1,"tw-btn-link","tw-btn-small",3,"click"],["editButton",""],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"tw-block","tw-truncate"],[1,"toggle","tw-w-1",3,"click"],[1,"toggle-label"],["type","radio",1,"tw-block","tw-cursor-pointer",3,"checked","change"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-xs","tw-text-grey-700"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"app-action-bar"),e.ynx(2,1),e.TgZ(3,"button",2,3),e.NdJ("click",function(){return n.openAddModal()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(7,"app-custom-modal",4),e.NdJ("onCancel",function(){return n.cancelAdd()})("onSave",function(){return n.addMapping()}),e.TgZ(8,"app-form-row",5)(9,"div",6)(10,"select",7),e.NdJ("ngModelChange",function(m){return n.addType=m}),e._UZ(11,"option"),e.YNc(12,jb,2,1,"option",8),e.qZA()()(),e.TgZ(13,"app-form-row",9)(14,"div",10)(15,"input",11),e.NdJ("ngModelChange",function(m){return n.addValue=m}),e.qZA(),e.TgZ(16,"button",12,13),e.NdJ("click",function(){return n.displayAvaliableAssertionTypesModal()}),e._UZ(18,"span",14),e.TgZ(19,"span",15),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()(),e.YNc(22,Wh,4,3,"div",16),e.YNc(23,Gh,16,12,"table",17),e.qZA(),e.TgZ(24,"app-custom-modal",18),e.NdJ("onCancel",function(){return n.closeAvaliableAssertionTypesModal()})("onSave",function(){return n.closeAvaliableAssertionTypesModal()}),e.TgZ(25,"table",19)(26,"thead",15)(27,"tr")(28,"th",20)(29,"span",15),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,$b,11,8,"tr",8),e.ALo(38,"keyvalue"),e.qZA()()(),e.TgZ(39,"app-custom-modal",4),e.NdJ("onCancel",function(){return n.resetAndCloseEditModal()})("onSave",function(){return n.editMapping()}),e.TgZ(40,"app-form-row",5)(41,"div",6)(42,"select",21),e.NdJ("ngModelChange",function(m){return n.editingMapping.type=m}),e._UZ(43,"option"),e.YNc(44,Wb,2,1,"option",8),e.qZA()()(),e.TgZ(45,"app-form-row",9)(46,"div",10)(47,"input",22),e.NdJ("ngModelChange",function(m){return n.editingMapping.value=m}),e.qZA(),e.TgZ(48,"button",12,23),e.NdJ("click",function(){return n.displayEditAvaliableAssertionTypesModal()}),e._UZ(50,"span",14),e.TgZ(51,"span",15),e._uU(52),e.ALo(53,"translate"),e.qZA()()()()(),e.TgZ(54,"app-custom-modal",18),e.NdJ("onCancel",function(){return n.closeEditAvaliableAssertionTypesModal()})("onSave",function(){return n.closeEditAvaliableAssertionTypesModal()}),e.TgZ(55,"table",19)(56,"thead",15)(57,"tr")(58,"th",20)(59,"span",15),e._uU(60),e.ALo(61,"translate"),e.qZA()(),e.TgZ(62,"th"),e._uU(63),e.ALo(64,"translate"),e.ALo(65,"translate"),e.qZA()()(),e.TgZ(66,"tbody"),e.YNc(67,zh,11,8,"tr",8),e.ALo(68,"keyvalue"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("id","addMappingButton"),e.xp6(2),e.hij(" ",e.lcZ(6,48,"Clients.Saml.AddClaimMapping")," "),e.xp6(2),e.Q6J("actions",n.addModalActions)("title","Clients.Saml.AddClaimMapping")("modalId",n.addModalId)("addDisabled",n.addType.length<1||n.addValue.length<1),e.xp6(1),e.Q6J("id","mappingType")("label","Clients.ClaimMappings.ClaimType"),e.xp6(2),e.Q6J("ngModel",n.addType),e.xp6(2),e.Q6J("ngForOf",n.avaliableClaimTypes),e.xp6(1),e.Q6J("id","client-claimmapping-map")("label","Clients.ClaimMappings.AssertionTypeHeading")("isLast",!0),e.xp6(2),e.Q6J("ngModel",n.addValue),e.xp6(5),e.Oqu(e.lcZ(21,50,"Clients.ClaimMappings.AssertionTypeSearch")),e.xp6(2),e.Q6J("ngIf",n.claimMappings.size<1),e.xp6(1),e.Q6J("ngIf",n.claimMappings.size>0),e.xp6(1),e.Q6J("actions",n.addAssertionsModalActions)("title","Clients.ClaimMappings.AssertionTypeHeading")("modalId",n.addAssertionsModalId)("addDisabled",""==n.addValue)("saveText","Common.Add"),e.xp6(6),e.Oqu(e.lcZ(31,52,"Common.Add")),e.xp6(3),e.AsE(" ",e.lcZ(34,54,"Clients.ClaimMappings.AssertionTypeAlias")," / ",e.lcZ(35,56,"Clients.ClaimMappings.AssertionTypeValue")," "),e.xp6(4),e.Q6J("ngForOf",e.lcZ(38,58,n.avaliableAssertionTypes)),e.xp6(2),e.Q6J("actions",n.editModalActions)("title","Clients.Saml.EditClaimMapping")("modalId",n.editModalId)("addDisabled",(null==n.editingMapping.type?null:n.editingMapping.type.length)<1||(null==n.editingMapping.value?null:n.editingMapping.value.length)<1),e.xp6(1),e.Q6J("id","editMappingType")("label","Clients.ClaimMappings.ClaimType"),e.xp6(2),e.Q6J("ngModel",n.editingMapping.type),e.xp6(2),e.Q6J("ngForOf",n.avaliableClaimTypes),e.xp6(1),e.Q6J("id","edit-client-claimmapping-map")("label","Clients.ClaimMappings.AssertionTypeHeading")("isLast",!0),e.xp6(2),e.Q6J("ngModel",n.editingMapping.value),e.xp6(5),e.Oqu(e.lcZ(53,60,"Clients.ClaimMappings.AssertionTypeSearch")),e.xp6(2),e.Q6J("actions",n.editAssertionsModalActions)("title","Clients.ClaimMappings.AssertionTypeHeading")("modalId",n.editAssertionsModalId)("addDisabled",""==n.editingMapping.value)("saveText","Common.Add"),e.xp6(6),e.Oqu(e.lcZ(61,62,"Common.Add")),e.xp6(3),e.AsE(" ",e.lcZ(64,64,"Clients.ClaimMappings.AssertionTypeAlias")," / ",e.lcZ(65,66,"Clients.ClaimMappings.AssertionTypeValue")," "),e.xp6(4),e.Q6J("ngForOf",e.lcZ(68,68,n.avaliableAssertionTypes)))},dependencies:[N.sg,N.O5,C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.nD,C.On,Ce.K,gt.L,Fs.R,N.Nd,wt.X$],encapsulation:2}),i})(),bc=(()=>{class i{constructor(t){this.serviceProviderCache=t}ngOnInit(){this.serviceProviderCache.unsavedCache$.subscribe(t=>{this.serviceProvider=t})}updateCache(){this.serviceProviderCache.componentDirtyValidMap.set("ClientSamlAdvancedComponent",{isValid:!0}),this.serviceProviderCache.unsavedCache.next(this.serviceProvider)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Wa.S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-saml-advanced"]],decls:14,vars:20,consts:[[3,"id","label","help"],[3,"id"],["id","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input",3,"ngModel","ngModelChange","click"],[1,"tw-form-select"],["id","artifactDeliveryBindingType",1,"tw-form-control",3,"ngModel","ngModelChange","change"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],[3,"id","label","help","isLast"],["type","text","id","nameIdentifierFormat",1,"tw-form-control",3,"ngModel","ngModelChange","change"]],template:function(t,n){1&t&&(e.TgZ(0,"app-form-row",0)(1,"app-form-toggle",1)(2,"input",2),e.NdJ("ngModelChange",function(m){return n.serviceProvider.allowIdpInitiatedSso=m})("click",function(){return n.updateCache()}),e.qZA()()(),e.TgZ(3,"app-form-row",0)(4,"div",3)(5,"select",4),e.NdJ("ngModelChange",function(m){return n.serviceProvider.artifactDeliveryBindingType=m})("change",function(){return n.updateCache()}),e.TgZ(6,"option",5),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"option",6),e._uU(10),e.ALo(11,"translate"),e.qZA()()()(),e.TgZ(12,"app-form-row",7)(13,"input",8),e.NdJ("ngModelChange",function(m){return n.serviceProvider.nameIdentifierFormat=m})("change",function(){return n.updateCache()}),e.qZA()()),2&t&&(e.Q6J("id","allowIdpInitiatedSso")("label","Clients.Saml.AllowIdpInitiatedSso")("help","Clients.Saml.AllowIdpInitiatedSsoHelp"),e.xp6(1),e.Q6J("id","allowIdpInitiatedSso"),e.xp6(1),e.Q6J("ngModel",n.serviceProvider.allowIdpInitiatedSso),e.xp6(1),e.Q6J("id","artifactDeliveryBindingType")("label","Clients.Saml.ArtifactDeliveryBindingType")("help","Clients.Saml.ArtifactDeliveryBindingTypeHelp"),e.xp6(2),e.Q6J("ngModel",n.serviceProvider.artifactDeliveryBindingType),e.xp6(2),e.Oqu(e.lcZ(8,16,"Clients.Post")),e.xp6(3),e.Oqu(e.lcZ(11,18,"Clients.Redirect")),e.xp6(2),e.Q6J("id","nameIdentifierFormat")("label","Clients.Saml.NameIdentifierFormat")("help","Clients.Saml.NameIdentifierFormatHelp")("isLast",!0),e.xp6(1),e.Q6J("ngModel",n.serviceProvider.nameIdentifierFormat))},dependencies:[C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C.JJ,C.On,gt.L,_s.O,wt.X$],encapsulation:2}),i})();var Ud=g(3257),Qb=g(3883),Gb=g(964);const yv=["uploadCertModal"],Kh=["fileInput"],zb=function(){return{animated:!1,backdrop:"static"}};let Zd=(()=>{class i{constructor(t,n,c,m,M){this.cache=t,this.certService=n,this.translate=c,this.toastr=m,this.errorService=M,this.metadata="",this.fileToUpload=null}ngOnInit(){this.cache.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.id=t.id})}handleFileInput(t){this.fileToUpload=t.item(0)}save(){if((0,Re.Ew)(this.metadata)){if(null==this.fileToUpload)throw new Error("This shouldn't have happened");this.uploadCert(this.certService.uploadFile(this.id,this.fileToUpload))}else this.uploadCert(this.certService.uploadViaMetaData(this.id,this.metadata))}uploadCert(t){t.subscribe(()=>{this.certService.updateCertCache(this.id),this.toastr.success(this.translate.instant("Clients.Saml.CertUploadSuccess"),this.translate.instant("Notifications.Success")),this.close()},n=>{switch(n.status){case 400:case 500:this.toastr.error(this.translate.instant("Clients.Saml.InvalidCert"),this.translate.instant("Notifications.Failure"));break;case 409:this.toastr.warning(this.translate.instant("Clients.Saml.DuplicateCertMessage"),this.translate.instant("Clients.Saml.DuplicateCert"));break;default:this.errorService.handleError(n)}})}open(){this.uploadCertModal.show()}close(){this.reset(),this.uploadCertModal.hide()}reset(){this.metadata="",this.fileToUpload=null,this.fileInput.nativeElement.value=null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z),e.Y36(Ud.U),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cert-uploader"]],viewQuery:function(t,n){if(1&t&&(e.Gf(yv,7),e.Gf(Kh,7)),2&t){let c;e.iGM(c=e.CRH())&&(n.uploadCertModal=c.first),e.iGM(c=e.CRH())&&(n.fileInput=c.first)}},inputs:{certType:"certType",certExists:"certExists"},decls:46,vars:39,consts:[["bsModal","","id","uploadCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],["uploadCertModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[1,"cms","tw-mb-6"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"disabled","change"],["fileInput","","selectedFile",""],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"disabled","ngModel","ngModelChange"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","button","id","save",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],["type","button","id","reset",1,"tw-btn",3,"disabled","click"],["type","button","id","cancel",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.close()}),e._UZ(9,"span",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"p"),e._uU(16),e.ALo(17,"translate"),e._UZ(18,"br"),e.TgZ(19,"small"),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"app-form-row",11)(23,"div",12)(24,"input",13,14),e.NdJ("change",function(m){return n.handleFileInput(m.target.files)}),e.qZA()()(),e.TgZ(27,"div",15)(28,"span",16),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"app-form-row",11)(32,"textarea",17),e.NdJ("ngModelChange",function(m){return n.metadata=m}),e.qZA()()(),e._UZ(33,"div",18),e.TgZ(34,"div",19)(35,"div",20)(36,"div",21)(37,"button",22),e.NdJ("click",function(){return n.save()}),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"button",23),e.NdJ("click",function(){return n.reset()}),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"button",24),e.NdJ("click",function(){return n.close()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("config",e.DdM(38,zb)),e.xp6(6),e.Oqu(e.lcZ(7,22,"Clients.Saml.AddCert")),e.xp6(5),e.Oqu(e.lcZ(12,24,"Common.Close")),e.xp6(5),e.Oqu(e.lcZ(17,26,"Clients.Saml.AddCertSummary")),e.xp6(4),e.Oqu(e.lcZ(21,28,"Clients.Saml.AddCertNote")),e.xp6(2),e.Q6J("id","fileInput")("label","Clients.Saml.UploadCert")("help","Clients.Saml.UploadCertHelp")("isLast",!0),e.xp6(2),e.Q6J("disabled",""!=n.metadata),e.xp6(5),e.Oqu(e.lcZ(30,30,"Common.Or")),e.xp6(2),e.Q6J("id","metaData")("label","Clients.Saml.ServiceProviderSigningCert")("help","Clients.Saml.ServiceProviderSigningCertHelp")("isLast",!0),e.xp6(1),e.Q6J("disabled",null!=n.fileToUpload)("ngModel",n.metadata),e.xp6(5),e.Q6J("disabled",""==n.metadata&&null==n.fileToUpload),e.xp6(1),e.Oqu(e.lcZ(39,32,"Common.Save")),e.xp6(2),e.Q6J("disabled",""==n.metadata&&null==n.fileToUpload),e.xp6(1),e.Oqu(e.lcZ(42,34,"Common.Reset")),e.xp6(3),e.Oqu(e.lcZ(45,36,"Common.Cancel")))},dependencies:[C.Fj,C.JJ,C.On,gi.oB,gt.L,wt.X$],encapsulation:2}),i})();function Yb(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(14);return e.KtG(c.open())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Clients.Saml.AddCert")," "))}function Cv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(14);return e.KtG(c.open())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Clients.Saml.ReplaceCertificate")," "))}let Xh=(()=>{class i{constructor(t,n,c,m){this.serviceProviderCache=t,this.serviceProviderService=n,this.clientCachingService=c,this.errorService=m,this.canDeleteCert=!1}ngOnInit(){this.serviceProviderCache.unsavedCache$.subscribe(t=>{this.serviceProvider=t,this.encryptionCertificates=this.serviceProvider.encryptionCertificate?[t.encryptionCertificate]:[]}),this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.clientId=t.id}),this.serviceProviderCache.savedCache$.subscribe(t=>{this.canDeleteCert=t.encryptAssertions})}updateCache(){this.serviceProviderCache.componentDirtyValidMap.set("SamlResponseTabComponent",{isValid:!0}),this.serviceProviderCache.unsavedCache.next(this.serviceProvider)}removeCert(){this.serviceProviderService.deleteEncryptionCertificate(this.clientId).subscribe(()=>{this.serviceProvider.encryptionCertificate=null,this.encryptionCertificates=[],this.serviceProviderCache.unsavedCache.next(this.serviceProvider)},t=>{this.errorService.handleError(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Wa.S),e.Y36(fd.G),e.Y36(yr.Z),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-saml-response-tab"]],features:[e._Bn([{provide:Ud.U,useClass:Qb.i}])],decls:15,vars:20,consts:[[3,"id","label","help"],[3,"id"],["id","signAssertions","name","signAssertions","type","checkbox",1,"tw-form-switch__input",3,"ngModel","ngModelChange","click"],["id","encryptAssertions","name","encryptAssertions","type","checkbox",1,"tw-form-switch__input",3,"ngModel","ngModelChange","click"],["id","signResponses","name","requireSignedArtifactResponses","type","checkbox",1,"tw-form-switch__input",3,"ngModel","ngModelChange","click"],[3,"certificates","showSingle","deleteCertDisabled","delete"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],["id","certUploadTest"],["certUpload",""],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-form-row",0)(1,"app-form-toggle",1)(2,"input",2),e.NdJ("ngModelChange",function(m){return n.serviceProvider.signAssertions=m})("click",function(){return n.updateCache()}),e.qZA()()(),e.TgZ(3,"app-form-row",0)(4,"app-form-toggle",1)(5,"input",3),e.NdJ("ngModelChange",function(m){return n.serviceProvider.encryptAssertions=m})("click",function(){return n.updateCache()}),e.qZA()()(),e.TgZ(6,"app-form-row",0)(7,"app-form-toggle",1)(8,"input",4),e.NdJ("ngModelChange",function(m){return n.serviceProvider.requireSignedArtifactResponses=m})("click",function(){return n.updateCache()}),e.qZA()()(),e.TgZ(9,"app-saml-cert-list",5),e.NdJ("delete",function(){return n.removeCert()}),e.ynx(10,6),e.YNc(11,Yb,3,3,"button",7),e.YNc(12,Cv,3,3,"button",8),e.BQk(),e.qZA(),e._UZ(13,"app-cert-uploader",9,10)),2&t&&(e.Q6J("id","signAssertions")("label","Clients.Saml.SignAssertions")("help","Clients.Saml.SignAssertionsHelp"),e.xp6(1),e.Q6J("id","signAssertions"),e.xp6(1),e.Q6J("ngModel",n.serviceProvider.signAssertions),e.xp6(1),e.Q6J("id","encryptAssertions")("label","Clients.Saml.EncryptAssertions")("help","Clients.Saml.EncryptAssertionsHelp"),e.xp6(1),e.Q6J("id","encryptAssertions"),e.xp6(1),e.Q6J("ngModel",n.serviceProvider.encryptAssertions),e.xp6(1),e.Q6J("id","signResponses")("label","Clients.Saml.RequireSignedArtifactResponses")("help","Clients.Saml.RequireSignedArtifactResponsesHelp"),e.xp6(1),e.Q6J("id","signResponses"),e.xp6(1),e.Q6J("ngModel",n.serviceProvider.requireSignedArtifactResponses),e.xp6(1),e.Q6J("certificates",n.encryptionCertificates)("showSingle",!0)("deleteCertDisabled",n.canDeleteCert),e.xp6(2),e.Q6J("ngIf",n.encryptionCertificates.length<1),e.xp6(1),e.Q6J("ngIf",n.encryptionCertificates.length>0))},dependencies:[N.O5,C.Wl,C.JJ,C.On,gt.L,_s.O,Gb.z,Zd,wt.X$],encapsulation:2}),i})();var wv=g(5302);let bv=(()=>{class i{constructor(t,n,c,m,M){this.translateService=t,this.serviceProviderCache=n,this.serviceProviderService=c,this.clientCachingService=m,this.errorService=M}ngOnInit(){this.serviceProviderCache.unsavedCache$.subscribe(t=>{this.serviceProvider=t,this.signingCertificates=t.signingCertificates.slice()}),this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.clientId=t.id})}updateCache(){this.serviceProviderCache.componentDirtyValidMap.set("SamlRequestTabComponent",{isValid:!0}),this.serviceProviderCache.unsavedCache.next(this.serviceProvider)}removeCert(t){this.serviceProviderService.deleteSigningCertificate(this.clientId,t.thumbprint).subscribe(()=>{const n=this.signingCertificates.indexOf(t);this.signingCertificates.splice(n,1),this.serviceProvider.signingCertificates=this.signingCertificates,this.serviceProviderCache.unsavedCache.next(this.serviceProvider)},n=>{this.errorService.handleError(n)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(wt.sK),e.Y36(Wa.S),e.Y36(fd.G),e.Y36(yr.Z),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-saml-request"]],features:[e._Bn([{provide:Ud.U,useExisting:wv.L}])],decls:23,vars:22,consts:[[3,"id","label","help"],[3,"id"],["id","requireDestination","name","requireDestination","type","checkbox",1,"tw-form-switch__input",3,"ngModel","ngModelChange","click"],[1,"tw-form-select"],["id","requireRequestsSigned",1,"tw-form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue"],["id","requireSignedArtifactResolveRequests","name","requireSignedArtifactResolveRequests","type","checkbox",1,"tw-form-switch__input",3,"ngModel","ngModelChange","click"],["right",""],["type","button",1,"tw-btn-success",3,"click"],[3,"certificates","deleteCertDisabled","delete"],["id","certUploadTest"],["certUpload",""]],template:function(t,n){if(1&t){const c=e.EpF();e.TgZ(0,"app-form-row",0)(1,"app-form-toggle",1)(2,"input",2),e.NdJ("ngModelChange",function(M){return n.serviceProvider.requireSamlMessageDestination=M})("click",function(){return n.updateCache()}),e.qZA()()(),e.TgZ(3,"app-form-row",0)(4,"div",3)(5,"select",4),e.NdJ("ngModelChange",function(M){return n.serviceProvider.requireAuthenticationRequestsSigned=M})("change",function(){return n.updateCache()}),e.TgZ(6,"option",5),e._uU(7,"Default/Global"),e.qZA(),e.TgZ(8,"option",5),e._uU(9,"True"),e.qZA(),e.TgZ(10,"option",5),e._uU(11,"False"),e.qZA()()()(),e.TgZ(12,"app-form-row",0)(13,"app-form-toggle",1)(14,"input",6),e.NdJ("ngModelChange",function(M){return n.serviceProvider.requireSignedArtifactResolveRequests=M})("click",function(){return n.updateCache()}),e.qZA()()(),e.TgZ(15,"app-action-bar"),e.ynx(16,7),e.TgZ(17,"button",8),e.NdJ("click",function(){e.CHM(c);const M=e.MAs(22);return e.KtG(M.open())}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(20,"app-saml-cert-list",9),e.NdJ("delete",function(M){return n.removeCert(M)}),e.qZA(),e._UZ(21,"app-cert-uploader",10,11)}2&t&&(e.Q6J("id","requireDestination")("label","Clients.Saml.RequireRequestDestination")("help","Clients.Saml.RequireRequestDestinationHelp"),e.xp6(1),e.Q6J("id","requireDestination"),e.xp6(1),e.Q6J("ngModel",n.serviceProvider.requireSamlMessageDestination),e.xp6(1),e.Q6J("id","requireRequestsSigned")("label","Clients.Saml.RequireRequestsSigned")("help","Clients.Saml.RequireRequestsSignedHelp"),e.xp6(2),e.Q6J("ngModel",n.serviceProvider.requireAuthenticationRequestsSigned),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngValue",!0),e.xp6(2),e.Q6J("ngValue",!1),e.xp6(2),e.Q6J("id","requireSignedArtifactResolveRequests")("label","Clients.Saml.RequireSignedArtifactResolveRequests")("help","Clients.Saml.RequireSignedArtifactResolveRequestsHelp"),e.xp6(1),e.Q6J("id","requireSignedArtifactResolveRequests"),e.xp6(1),e.Q6J("ngModel",n.serviceProvider.requireSignedArtifactResolveRequests),e.xp6(4),e.hij(" ",e.lcZ(19,20,"Clients.Saml.AddCert")," "),e.xp6(2),e.Q6J("certificates",n.signingCertificates)("deleteCertDisabled",!1))},dependencies:[C.YN,C.Kr,C.Wl,C.EJ,C.JJ,C.On,Ce.K,gt.L,_s.O,Gb.z,Zd,wt.X$],encapsulation:2}),i})(),Tv=(()=>{class i{constructor(t,n){this.cache=t,this.saml11="urn:oasis:names:tc:SAML:1.0:assertion",this.saml20="urn:oasis:names:tc:SAML:2.0:assertion",this.sha256Digest=["SHA256","http://www.w3.org/2001/04/xmlenc#sha256"],this.sha384Digest=["SHA384","http://www.w3.org/2001/04/xmldsig-more#sha384"],this.sha512Digest=["SHA512","http://www.w3.org/2001/04/xmlenc#sha512"],this.rsaSha256Signature=["RSA-SHA256","http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"],this.rsaSha384Signature=["RSA-SHA384","http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"],this.rsaSha512Signature=["RSA-SHA512","http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"],this.defaultDiscriminator="",this.tokenType="",this.signatureAlg="",this.digestAlg="",this.samlNameIdFormat=""}ngOnInit(){this.cache.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.relyingParty=t,this.tokenType=this.useValueOrDefault(t.tokenType),this.signatureAlg=this.useValueOrDefault(t.signatureAlgorithm),this.digestAlg=this.useValueOrDefault(t.digestAlgorithm),this.samlNameIdFormat=t.samlNameIdentifierFormat})}replaceDefault(t){return t===this.defaultDiscriminator?null:t}useValueOrDefault(t){return null!==t?t:this.defaultDiscriminator}updateRelyingPartyCache(){const t=this.relyingParty;t.tokenType=this.replaceDefault(this.tokenType),t.signatureAlgorithm=this.replaceDefault(this.signatureAlg),t.digestAlgorithm=this.replaceDefault(this.digestAlg),t.samlNameIdentifierFormat=this.samlNameIdFormat,this.cache.componentDirtyValidMap.set("RelyingPartyGeneral",{isValid:!0}),this.cache.unsavedCache.next(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Bo.N),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-relyingparty-general"]],decls:33,vars:27,consts:[[3,"id","label"],[1,"tw-form-select"],["id","partyTokenType",1,"tw-form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value"],["id","partySignatureAlgorithm",1,"tw-form-control",3,"ngModel","ngModelChange","change"],["id","partyDigestAlgorithm",1,"tw-form-control",3,"ngModel","ngModelChange","change"],[3,"id","label","isLast"],["id","partyNameFormat","type","text",1,"tw-form-control",3,"ngModel","ngModelChange","change"]],template:function(t,n){1&t&&(e.TgZ(0,"app-form-row",0)(1,"div",1)(2,"select",2),e.NdJ("ngModelChange",function(m){return n.tokenType=m})("change",function(){return n.updateRelyingPartyCache()}),e.TgZ(3,"option",3),e._uU(4,"default"),e.qZA(),e.TgZ(5,"option",4),e._uU(6,"SAML 1.1"),e.qZA(),e.TgZ(7,"option",4),e._uU(8,"SAML 2.0"),e.qZA()()()(),e.TgZ(9,"app-form-row",0)(10,"div",1)(11,"select",5),e.NdJ("ngModelChange",function(m){return n.signatureAlg=m})("change",function(){return n.updateRelyingPartyCache()}),e.TgZ(12,"option",3),e._uU(13,"default"),e.qZA(),e.TgZ(14,"option",4),e._uU(15),e.qZA(),e.TgZ(16,"option",4),e._uU(17),e.qZA(),e.TgZ(18,"option",4),e._uU(19),e.qZA()()()(),e.TgZ(20,"app-form-row",0)(21,"div",1)(22,"select",6),e.NdJ("ngModelChange",function(m){return n.digestAlg=m})("change",function(){return n.updateRelyingPartyCache()}),e.TgZ(23,"option",3),e._uU(24,"default"),e.qZA(),e.TgZ(25,"option",4),e._uU(26),e.qZA(),e.TgZ(27,"option",4),e._uU(28),e.qZA(),e.TgZ(29,"option",4),e._uU(30),e.qZA()()()(),e.TgZ(31,"app-form-row",7)(32,"input",8),e.NdJ("ngModelChange",function(m){return n.samlNameIdFormat=m})("change",function(){return n.updateRelyingPartyCache()}),e.qZA()()),2&t&&(e.Q6J("id","partyTokenType")("label","Clients.RelyingParty.TokenType"),e.xp6(2),e.Q6J("ngModel",n.tokenType),e.xp6(3),e.s9C("value",n.saml11),e.xp6(2),e.s9C("value",n.saml20),e.xp6(2),e.Q6J("id","partySignatureAlgorithm")("label","Clients.RelyingParty.SignatureAlgorithm"),e.xp6(2),e.Q6J("ngModel",n.signatureAlg),e.xp6(3),e.s9C("value",n.rsaSha256Signature[1]),e.xp6(1),e.Oqu(n.rsaSha256Signature[0]),e.xp6(1),e.s9C("value",n.rsaSha384Signature[1]),e.xp6(1),e.Oqu(n.rsaSha384Signature[0]),e.xp6(1),e.s9C("value",n.rsaSha512Signature[1]),e.xp6(1),e.Oqu(n.rsaSha512Signature[0]),e.xp6(1),e.Q6J("id","partyDigestAlgorithm")("label","Clients.RelyingParty.DigestAlgorithm"),e.xp6(2),e.Q6J("ngModel",n.digestAlg),e.xp6(3),e.s9C("value",n.sha256Digest[1]),e.xp6(1),e.Oqu(n.sha256Digest[0]),e.xp6(1),e.s9C("value",n.sha384Digest[1]),e.xp6(1),e.Oqu(n.sha384Digest[0]),e.xp6(1),e.s9C("value",n.sha512Digest[1]),e.xp6(1),e.Oqu(n.sha512Digest[0]),e.xp6(1),e.Q6J("id","partyNameFormat")("label","Clients.RelyingParty.SAMLNameIdFormat")("isLast",!0),e.xp6(1),e.Q6J("ngModel",n.samlNameIdFormat))},dependencies:[C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.On,gt.L],encapsulation:2}),i})(),Av=(()=>{class i{constructor(t,n,c){this.fb=t,this.clientViewService=n,this.clientCachingService=c}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.requireConsent=this.client.requireConsent,this.createForm()}),this.consentLifetimeButtons=[{duration:1,unit:ks.f.Week},{duration:1,unit:ks.f.Month},{duration:1,unit:ks.f.Year},{duration:null,unit:ks.f.Unlimited}]}ngAfterViewInit(){this.consentFormSubscription=this.consentForm.valueChanges.subscribe(t=>{this.requireConsent=t.requireConsent;const n=this.consentForm.get("allowRememberConsent");this.clientCachingService.componentDirtyValidMap.set("ClientAdvancedConsentComponent",{isValid:this.consentForm.valid}),this.requireConsent&&n.disabled?(this.consentForm.get("allowRememberConsent").enable(),this.consentForm.get("consentLifetime").enable()):!this.requireConsent&&!n.disabled&&(this.consentForm.get("allowRememberConsent").disable(),this.consentForm.get("consentLifetime").disable());const c=JSON.parse(JSON.stringify(this.client));c.logoUri=this.consentForm.controls.logoUri.value,c.clientUri=this.consentForm.controls.clientUri.value,c.requireConsent=this.consentForm.controls.requireConsent.value,c.allowRememberConsent=this.consentForm.controls.allowRememberConsent.value,c.consentLifetime=this.consentForm.controls.consentLifetime.value,this.clientCachingService.unsavedCache.next(c)})}ngOnDestroy(){this.consentFormSubscription.unsubscribe(),this.subscription.unsubscribe()}createForm(){this.consentForm=this.fb.group({logoUri:[this.client.logoUri],clientUri:[this.client.clientUri],requireConsent:[this.client.requireConsent],allowRememberConsent:[{value:this.client.allowRememberConsent,disabled:!this.requireConsent}],consentLifetime:[{value:this.client.consentLifetime,disabled:!this.requireConsent},C.kI.min(0)]}),this.consentForm.markAsPristine(),this.consentForm.get("requireConsent").valueChanges.subscribe(t=>{const n=this.consentForm.get("consentLifetime");t?n.enable():n.disable()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(No.a),e.Y36(yr.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-consent"]],decls:13,vars:21,consts:[["id","clientConsent",3,"formGroup"],[3,"id","label","help"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","name","requireConsent","formControlName","requireConsent",1,"tw-form-switch__input"],["id","allowRememberConsent","type","checkbox","name","allowRememberConsent","formControlName","allowRememberConsent",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","consentLifetime","formControlName","consentLifetime",3,"buttons","allowUnlimited"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1),e._UZ(2,"input",2),e.qZA(),e.TgZ(3,"app-form-row",1),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"app-form-row",1)(6,"app-form-toggle",4),e._UZ(7,"input",5),e.qZA()(),e.TgZ(8,"app-form-row",1)(9,"app-form-toggle",4),e._UZ(10,"input",6),e.qZA()(),e.TgZ(11,"app-form-row",7),e._UZ(12,"app-lifetime-picker",8),e.qZA()()),2&t&&(e.Q6J("formGroup",n.consentForm),e.xp6(1),e.Q6J("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),e.xp6(2),e.Q6J("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"),e.xp6(2),e.Q6J("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help"),e.xp6(1),e.Q6J("id","requireConsent"),e.xp6(2),e.Q6J("id","allowRememberConsent")("label","Clients.AllowRememberConsent.Title")("help","Clients.AllowRememberConsent.Help"),e.xp6(1),e.Q6J("id","allowRememberConsent"),e.xp6(2),e.Q6J("id","consentLifetime")("label","Clients.Tokens.ConsentLifetime")("help","Clients.Tokens.LifetimeInSeconds")("isLast",!0),e.xp6(1),e.Q6J("buttons",n.consentLifetimeButtons)("allowUnlimited",!0))},dependencies:[C._Y,C.Fj,C.Wl,C.JJ,C.JL,C.sg,C.u,Vl,gt.L,_s.O],encapsulation:2}),i})();var Fd=g(3435);const Kb=["Picker"];function Xb(i,o){1&i&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Clients.ScopePickerSharedScopeWarning"),"\n"))}let Sv=(()=>{class i{constructor(t,n,c,m,M){this.clientCachingService=t,this.identityResourceService=n,this.protectedResourceService=c,this.activatedRoute=m,this.configService=M,this.availableResources=[],this.assignedResources=[],this.toSendResources=[]}ngOnInit(){this.configService.getConfig().pipe((0,Wi.P)()).subscribe(t=>{this.sharedScopesEnabled=t.featureFlagOptions.enableSharedScopes}),this.resourceType=this.activatedRoute.snapshot.data.resourceType,this.manageResourcesStreams(),this.subscription=this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t))}),this.resourceType===Fd.P.Identity&&this.identityResourceService.getIdentityResources().subscribe(t=>{this.sortResources(t)}),this.resourceType===Fd.P.Protected&&this.protectedResourceService.getProtectedResources().subscribe(t=>{const n=[];t.slice().forEach(m=>{m.scopes.forEach(M=>{const Q=n.findIndex(ue=>ue.name==M.name);-1!=Q?(n[Q].shared=!0,this.anySharedScopesInCollection=!0):n.push(M)})}),this.sortResources(n)})}ngOnDestroy(){this.subscription.unsubscribe()}manageResourcesStreams(){this.picker.assignedStream.subscribe(t=>{this.toSendResources=this.assignedResources.concat(t),this.assignClientScopes(t),this.assignedResources=this.toSendResources,this.availableResources=(0,Re.mn)(this.availableResources.slice(),t),this.picker.availableCount=0}),this.picker.unAssignedStream.subscribe(t=>{this.toSendResources=(0,Re.mn)(this.assignedResources,t),this.unAssignClientScopes(t),this.assignedResources=this.toSendResources.slice(),this.availableResources=this.availableResources.concat(t),this.picker.assignedCount=0})}sortResources(t){const n=[];this.client.allowedScopes.forEach(c=>{const m=t.findIndex(M=>M.name===c);m>=0&&(n.push(t[m]),t.splice(m,1))}),this.assignedResources=n,this.availableResources=t,this.toSendResources=n.slice()}assignClientScopes(t){const n=t.map(c=>c.name);this.client.allowedScopes=this.client.allowedScopes.concat(n),this.cacheClient(this.client)}unAssignClientScopes(t){t.forEach(n=>{const c=this.client.allowedScopes.indexOf(n.name);-1!==c&&this.client.allowedScopes.splice(c,1)}),this.cacheClient(this.client)}cacheClient(t){this.clientCachingService.componentDirtyValidMap.set("ClientResourcesComponent",{isValid:!0}),this.clientCachingService.unsavedCache.next(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z),e.Y36(Fn.Q),e.Y36(Oo.m),e.Y36(nn.gz),e.Y36(wo.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-manage-resources"]],viewQuery:function(t,n){if(1&t&&e.Gf(Kb,7),2&t){let c;e.iGM(c=e.CRH())&&(n.picker=c.first)}},decls:3,vars:5,consts:[[3,"availableInput","assignedInput","availableSearch","assignedSearch"],["Picker",""],["id","sharedScopeInformation","class","tw-alert-warning tw-mt-3","role","alert",4,"ngIf"],["id","sharedScopeInformation","role","alert",1,"tw-alert-warning","tw-mt-3"]],template:function(t,n){1&t&&(e._UZ(0,"app-common-picker",0,1),e.YNc(2,Xb,3,3,"div",2)),2&t&&(e.Q6J("availableInput",n.availableResources)("assignedInput",n.assignedResources)("availableSearch",!0)("assignedSearch",!1),e.xp6(2),e.Q6J("ngIf",n.anySharedScopesInCollection))},dependencies:[N.O5,Go,wt.X$],encapsulation:2}),i})();const xv=["addButton"];let kA=(()=>{class i{constructor(t,n,c,m,M){this.clientCachingService=t,this.translate=n,this.toastr=c,this.modalService=m,this.dataTableService=M,this._restrictions=[],this.addValue="",this.editValue="",this.addModalActions=[Dt.n.Save],this.addModalId="addProviderId",this.editModalActions=[Dt.n.Save],this.editModalId="editProviderId",this.dataTableActions=[Mr.Xz.Delete,Mr.Xz.Select]}set restrictions(t){this._restrictions=t||[]}get restrictions(){return this._restrictions}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.localLogin=t.enableLocalLogin,this.restrictions=t.identityProviderRestrictions.slice().sort()}),this.subscription.add(this.dataTableService.deleteRowEvent.subscribe(t=>{this.deleteRestrictions(t)}))}ngOnDestroy(){this.subscription.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}cancelAdd(){this.addValue="",this.modalService.hideById(this.addModalId)}openEditModal(t){this.editValue=t.data,this.editIndex=this.restrictions.indexOf(t.data),this.modalService.showById(this.editModalId,t.element)}closeAndResetEditModal(){this.editValue="",this.editIndex=null,this.modalService.hideById(this.editModalId)}enableLocalLogin(){this.localLogin=!this.localLogin,this.submit()}deleteRestrictions(t){this.restrictions.splice(t,1),this.submit()}editRestriction(){this.restrictions[this.editIndex]=this.editValue,this.closeAndResetEditModal(),this.submit()}addRestriction(){const t=this.addValue.trim();this.restrictions.includes(t)?this.toastr.warning(this.translate.instant("Client.DuplicateProvider"),this.translate.instant("Notifications.Warning")):(this.restrictions.push(t),this.submit(),this.addValue="")}submit(){const t=JSON.parse(JSON.stringify(this.client));t.enableLocalLogin=this.localLogin,t.identityProviderRestrictions=this.restrictions,this.clientCachingService.componentDirtyValidMap.set("ClientRestrictionsComponent",{isValid:!0}),this.clientCachingService.unsavedCache.next(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(Bi.Z),e.Y36(Ga.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-identity-providers"]],viewQuery:function(t,n){if(1&t&&e.Gf(xv,5),2&t){let c;e.iGM(c=e.CRH())&&(n.addButtonRef=c.first)}},decls:19,vars:29,consts:[["id","editClientRestrictions"],[3,"id","label","help"],[3,"id"],["id","EnableLocalLogin","name","EnableLocalLogin","type","checkbox",1,"tw-form-switch__input",3,"checked","change"],["right",""],[1,"tw-btn-success",3,"id","click"],["addButton",""],[3,"title","modalId","actions","addDisabled","onCancel","onSave"],[3,"label","id","isLast"],["id","addValue","type","text","maxlength","200",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"],["id","restrictionsTable",3,"rows","norowslabel","actions","onSelect","onDelete"],[3,"prop","title"],["id","editValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"app-form-row",1)(3,"app-form-toggle",2)(4,"input",3),e.NdJ("change",function(){return n.enableLocalLogin()}),e.qZA()()()(),e.TgZ(5,"app-action-bar"),e.ynx(6,4),e.TgZ(7,"button",5,6),e.NdJ("click",function(){return n.openAddModal()}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(11,"app-custom-modal",7),e.NdJ("onCancel",function(){return n.cancelAdd()})("onSave",function(){return n.addRestriction()}),e.TgZ(12,"app-form-row",8)(13,"input",9),e.NdJ("ngModelChange",function(m){return n.addValue=m}),e.qZA()()(),e.TgZ(14,"app-data-table",10),e.NdJ("onSelect",function(m){return n.openEditModal(m)})("onDelete",function(m){return n.deleteRestrictions(m)}),e._UZ(15,"app-data-table-column",11),e.qZA(),e.TgZ(16,"app-custom-modal",7),e.NdJ("onCancel",function(){return n.closeAndResetEditModal()})("onSave",function(){return n.editRestriction()}),e.TgZ(17,"app-form-row",8)(18,"input",12),e.NdJ("ngModelChange",function(m){return n.editValue=m}),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("id","EnableLocalLogin")("label","Clients.EnableLocalLogin")("help","Clients.EnableLocalLoginHelp"),e.xp6(1),e.Q6J("id","EnableLocalLogin"),e.xp6(1),e.Q6J("checked",n.localLogin),e.xp6(3),e.Q6J("id","addProvider"),e.xp6(2),e.hij(" ",e.lcZ(10,27,"Clients.IdentityProviders.AddProvider")," "),e.xp6(2),e.Q6J("title","Clients.IdentityProviders.AddProvider")("modalId",n.addModalId)("actions",n.addModalActions)("addDisabled",""==n.addValue),e.xp6(1),e.Q6J("label","Clients.ProviderName")("id","addValue")("isLast",!0),e.xp6(1),e.Q6J("ngModel",n.addValue),e.xp6(1),e.Q6J("rows",n.restrictions)("norowslabel","Clients.NoRestrictions")("actions",n.dataTableActions),e.xp6(1),e.Q6J("title","Clients.ProviderName"),e.xp6(1),e.Q6J("title","Clients.IdentityProviders.EditProvider")("modalId",n.editModalId)("actions",n.editModalActions)("addDisabled",""==n.editValue),e.xp6(1),e.Q6J("label","Clients.ProviderName")("id","editValue")("isLast",!0),e.xp6(1),e.Q6J("ngModel",n.editValue))},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.nD,C.On,C.F,Ce.K,Mr.Qj,fl.E,gt.L,_s.O,Fs.R,wt.X$],encapsulation:2}),i})();var Dv=g(6519),Ev=g(6193);let e0=(()=>{class i{constructor(t,n,c){this.fb=t,this.clientCachingService=n,this.clientViewService=c,this.tokenUsage=Dv.y}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.allowOfflineAccess=this.client.allowOfflineAccess,this.refreshExpiryType=this.client.refreshTokenExpiration,void 0===this.refreshTokensForm&&this.createForm()}),this.setButtonModels()}ngOnDestroy(){this.subscription.unsubscribe()}setTokenTime(t,n){this.refreshTokensForm.controls[n].setValue(60*t),this.refreshTokensForm.markAsTouched(),this.refreshTokensForm.markAsDirty()}createForm(){this.refreshTokensForm=this.fb.group({allowOfflineAccess:[this.client.allowOfflineAccess],updateAccessTokenClaimsOnRefresh:[this.client.updateAccessTokenClaimsOnRefresh],refreshTokenExpiration:[this.client.refreshTokenExpiration],absoluteRefreshTokenLifetime:[this.client.absoluteRefreshTokenLifetime,C.kI.min(0)],slidingRefreshTokenLifetime:[this.client.slidingRefreshTokenLifetime,C.kI.min(0)],refreshTokenUsage:[this.client.refreshTokenUsage]}),this.checkAllowOfflineAccess(),this.refreshTokensForm.markAsPristine()}ngAfterViewInit(){this.subscribeToFormChanges()}subscribeToFormChanges(){this.refreshTokensForm.valueChanges.subscribe(t=>{this.allowOfflineAccess!==t.allowOfflineAccess&&(this.allowOfflineAccess=t.allowOfflineAccess,this.checkAllowOfflineAccess()),this.refreshExpiryType!==t.refreshTokenExpiration&&(this.refreshExpiryType=t.refreshTokenExpiration,this.checkRefreshTokenExpiration());const n=JSON.parse(JSON.stringify(this.client));n.allowOfflineAccess=this.refreshTokensForm.controls.allowOfflineAccess.value,n.updateAccessTokenClaimsOnRefresh=this.refreshTokensForm.controls.updateAccessTokenClaimsOnRefresh.value,n.refreshTokenExpiration=this.refreshTokensForm.controls.refreshTokenExpiration.value,n.absoluteRefreshTokenLifetime=this.refreshTokensForm.controls.absoluteRefreshTokenLifetime.value,n.slidingRefreshTokenLifetime=this.refreshTokensForm.controls.slidingRefreshTokenLifetime.value,n.refreshTokenUsage=this.refreshTokensForm.controls.refreshTokenUsage.value,this.clientCachingService.componentDirtyValidMap.set("ClientRefreshTokensComponent",{isValid:this.refreshTokensForm.valid}),this.clientCachingService.unsavedCache.next(n)})}checkAllowOfflineAccess(){this.allowOfflineAccess?(this.refreshTokensForm.enable(),this.checkRefreshTokenExpiration()):(this.refreshTokensForm.disable(),this.refreshTokensForm.get("allowOfflineAccess").enable())}checkRefreshTokenExpiration(){if(!1===this.allowOfflineAccess)return;const t=this.refreshTokensForm.get("absoluteRefreshTokenLifetime"),n=this.refreshTokensForm.get("slidingRefreshTokenLifetime");this.refreshExpiryType===Ev.N.Absolute?(t.enable(),n.disable()):this.refreshExpiryType===Ev.N.Sliding&&(t.disable(),n.enable())}setButtonModels(){this.absoluteRefreshTokenLifetimeButtons=[{duration:1,unit:ks.f.Day},{duration:15,unit:ks.f.Days},{duration:30,unit:ks.f.Days}],this.slidingRefreshTokenLifetimeButtons=[{duration:15,unit:ks.f.Minutes},{duration:30,unit:ks.f.Minutes},{duration:1,unit:ks.f.Hour},{duration:5,unit:ks.f.Hours}]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(yr.Z),e.Y36(No.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-refresh-tokens"]],decls:41,vars:43,consts:[["id","editClientTokens",3,"formGroup"],[3,"id","label","help"],[3,"id"],["id","allowOfflineAccess","type","checkbox","formControlName","allowOfflineAccess",1,"tw-form-switch__input"],["id","updateAccessTokenClaimsOnRefresh","type","checkbox","formControlName","updateAccessTokenClaimsOnRefresh",1,"tw-form-switch__input"],[3,"label"],["role","group",1,"tw-form-checks"],[1,"tw-form-checks__item"],["for","refreshTokenExpirationAbsolute",1,"tw-form-checks__label"],["id","refreshTokenExpirationAbsolute","type","radio","name","refreshTokenExpiration","formControlName","refreshTokenExpiration",1,"tw-form-checks__input",3,"value"],["for","refreshTokenExpirationSliding",1,"tw-form-checks__label"],["id","refreshTokenExpirationSliding","type","radio","name","refreshTokenExpiration","formControlName","refreshTokenExpiration",1,"tw-form-checks__input",3,"value"],["id","absoluteRefreshTokenLifetime","formControlName","absoluteRefreshTokenLifetime",3,"buttons"],["id","slidingRefreshTokenLifetime","formControlName","slidingRefreshTokenLifetime",3,"buttons"],[3,"label","help","isLast"],["for","refreshTokenUsageOneTime",1,"tw-form-checks__label"],["id","refreshTokenUsageOneTime","type","radio","name","refreshTokenUsage","formControlName","refreshTokenUsage",1,"tw-form-checks__input",3,"value"],["for","refreshTokenUsageReuse",1,"tw-form-checks__label"],["id","refreshTokenUsageReuse","type","radio","name","refreshTokenUsage","formControlName","refreshTokenUsage",1,"tw-form-checks__input",3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",1)(5,"app-form-toggle",2),e._UZ(6,"input",4),e.qZA()(),e.TgZ(7,"app-form-row",5)(8,"ul",6),e.ALo(9,"translate"),e.TgZ(10,"li",7)(11,"label",8),e._UZ(12,"input",9),e.TgZ(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"li",7)(17,"label",10),e._UZ(18,"input",11),e.TgZ(19,"span"),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()(),e.TgZ(22,"app-form-row",1),e._UZ(23,"app-lifetime-picker",12),e.qZA(),e.TgZ(24,"app-form-row",1),e._UZ(25,"app-lifetime-picker",13),e.qZA(),e.TgZ(26,"app-form-row",14)(27,"ul",6),e.ALo(28,"translate"),e.TgZ(29,"li",7)(30,"label",15),e._UZ(31,"input",16),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.TgZ(35,"li",7)(36,"label",17),e._UZ(37,"input",18),e.TgZ(38,"span"),e._uU(39),e.ALo(40,"translate"),e.qZA()()()()()()),2&t&&(e.Q6J("formGroup",n.refreshTokensForm),e.xp6(1),e.Q6J("id","allowOfflineAccess")("label","Clients.Tokens.AllowOfflineAccess")("help","Clients.Tokens.AllowOfflineAccessHelp"),e.xp6(1),e.Q6J("id","allowOfflineAccess"),e.xp6(2),e.Q6J("id","updateAccessTokenClaimsOnRefresh")("label","Clients.Tokens.UpdateAccessTokens")("help","Clients.Tokens.UpdateAccessTokensSummary"),e.xp6(1),e.Q6J("id","updateAccessTokenClaimsOnRefresh"),e.xp6(2),e.Q6J("label","Clients.Tokens.Expiration"),e.xp6(1),e.uIk("aria-label",e.lcZ(9,31,"Clients.Tokens.Expiration")),e.xp6(4),e.Q6J("value","Absolute"),e.xp6(2),e.Oqu(e.lcZ(15,33,"Clients.Tokens.Absolute")),e.xp6(4),e.Q6J("value","Sliding"),e.xp6(2),e.Oqu(e.lcZ(21,35,"Clients.Tokens.Sliding")),e.xp6(2),e.Q6J("id","absoluteRefreshTokenLifetime")("label","Clients.Tokens.RefreshTokenLifetime")("help","Clients.Tokens.LifetimeInSeconds"),e.xp6(1),e.Q6J("buttons",n.absoluteRefreshTokenLifetimeButtons),e.xp6(1),e.Q6J("id","slidingRefreshTokenLifetime")("label","Clients.Tokens.SlidingRefreshTokenLifetime")("help","Clients.Tokens.LifetimeInSeconds"),e.xp6(1),e.Q6J("buttons",n.slidingRefreshTokenLifetimeButtons),e.xp6(1),e.Q6J("label","Clients.Tokens.Refresh")("help","Clients.Tokens.RefreshHelp")("isLast",!0),e.xp6(1),e.uIk("aria-label",e.lcZ(28,37,"Clients.Tokens.Refresh")),e.xp6(4),e.Q6J("value",n.tokenUsage.OneTimeOnly),e.xp6(2),e.Oqu(e.lcZ(34,39,"Clients.Tokens.OneTime")),e.xp6(4),e.Q6J("value",n.tokenUsage.ReUse),e.xp6(2),e.Oqu(e.lcZ(40,41,"Clients.Tokens.ReUse")))},dependencies:[C._Y,C.Fj,C.Wl,C._,C.JJ,C.JL,C.sg,C.u,Vl,gt.L,_s.O,wt.X$],encapsulation:2}),i})();function RA(i,o){if(1&i&&(e.TgZ(0,"app-form-row",3),e._UZ(1,"input",7),e.qZA()),2&i){const t=e.oxw();e.Q6J("id","backChannelLogoutUri")("label","Clients.Tokens.BackChannelLogoutUri")("help","Clients.Tokens.BackChannelLogoutUriHelp")("isLast",!t.clientViewService.ssoTab.backChannelLogoutSessionRequired)}}function PA(i,o){1&i&&(e.TgZ(0,"app-form-row",3)(1,"app-form-toggle",4),e._UZ(2,"input",8),e.qZA()()),2&i&&(e.Q6J("id","backChannelLogoutSessionRequired")("label","Clients.Tokens.BackChannelLogoutSessionRequired")("help","Clients.Tokens.BackChannelLogoutSessionRequiredHelp")("isLast",!0),e.xp6(1),e.Q6J("id","backChannelLogoutSessionRequired"))}let t0=(()=>{class i{constructor(t,n,c){this.fb=t,this.clientViewService=n,this.clientCachingService=c}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.createForm()})}createForm(){this.singleSignOutForm=this.fb.group({frontChannelLogoutUri:[this.client.frontChannelLogoutUri],frontChannelLogoutSessionRequired:[this.client.frontChannelLogoutSessionRequired],backChannelLogoutUri:[this.client.backChannelLogoutUri],backChannelLogoutSessionRequired:[this.client.backChannelLogoutSessionRequired]}),this.singleSignOutForm.markAsPristine()}ngAfterViewInit(){this.singleSignOutFormSubscription=this.singleSignOutForm.valueChanges.subscribe(t=>{const n=JSON.parse(JSON.stringify(this.client));n.frontChannelLogoutUri=this.singleSignOutForm.controls.frontChannelLogoutUri.value,n.frontChannelLogoutSessionRequired=this.singleSignOutForm.controls.frontChannelLogoutSessionRequired.value,n.backChannelLogoutUri=this.singleSignOutForm.controls.backChannelLogoutUri.value,n.backChannelLogoutSessionRequired=this.singleSignOutForm.controls.backChannelLogoutSessionRequired.value,this.clientCachingService.componentDirtyValidMap.set("ClientSSOComponent",{isValid:this.singleSignOutForm.valid}),this.clientCachingService.unsavedCache.next(n)})}ngOnDestroy(){this.singleSignOutFormSubscription.unsubscribe(),this.subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(No.a),e.Y36(yr.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-single-sign-out"]],decls:8,vars:11,consts:[[3,"formGroup"],[3,"id","label","help"],["id","FrontChannelLogoutUri","type","text","formControlName","frontChannelLogoutUri",1,"tw-form-control"],[3,"id","label","help","isLast"],[3,"id"],["id","FrontChannelLogoutSessionRequired","type","checkbox","formControlName","frontChannelLogoutSessionRequired",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","backChannelLogoutUri","type","text","formControlName","backChannelLogoutUri",1,"tw-form-control"],["id","backChannelLogoutSessionRequired","type","checkbox","formControlName","backChannelLogoutSessionRequired",1,"tw-form-switch__input"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1),e._UZ(2,"input",2),e.qZA(),e.TgZ(3,"app-form-row",3)(4,"app-form-toggle",4),e._UZ(5,"input",5),e.qZA()(),e.YNc(6,RA,2,4,"app-form-row",6),e.YNc(7,PA,3,5,"app-form-row",6),e.qZA()),2&t&&(e.Q6J("formGroup",n.singleSignOutForm),e.xp6(1),e.Q6J("id","FrontChannelLogoutUri")("label","Clients.Tokens.FrontChannelLogoutUri")("help","Clients.Tokens.FrontChannelLogoutUriHelp"),e.xp6(2),e.Q6J("id","FrontChannelLogoutSessionRequired")("label","Clients.Tokens.FrontChannelLogoutSessionRequired")("help","Clients.Tokens.FrontChannelLogoutSessionRequiredHelp")("isLast",!n.clientViewService.ssoTab.backChannelLogoutUri&&!n.clientViewService.ssoTab.backChannelLogoutSessionRequired),e.xp6(1),e.Q6J("id","FrontChannelLogoutSessionRequired"),e.xp6(2),e.Q6J("ngIf",n.clientViewService.ssoTab.backChannelLogoutUri),e.xp6(1),e.Q6J("ngIf",n.clientViewService.ssoTab.backChannelLogoutSessionRequired))},dependencies:[N.O5,C._Y,C.Fj,C.Wl,C.JJ,C.JL,C.sg,C.u,gt.L,_s.O],encapsulation:2}),i})(),n0=(()=>{class i{constructor(t,n,c){this.fb=t,this.clientViewService=n,this.clientCachingService=c}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.createForm()}),this.setButtonModels()}createForm(){this.deviceFlowForm=this.fb.group({userCode:[this.client.userCodeType],deviceCodeLifetime:[this.client.deviceCodeLifetime,C.kI.min(0)]}),this.deviceFlowForm.markAsPristine()}setTokenTime(t,n){this.deviceFlowForm.controls[n].setValue(60*t),this.deviceFlowForm.markAsTouched(),this.deviceFlowForm.markAsDirty()}ngAfterViewInit(){this.deviceFlowFormSubscription=this.deviceFlowForm.valueChanges.subscribe(t=>{const n=JSON.parse(JSON.stringify(this.client));n.deviceCodeLifetime=this.deviceFlowForm.controls.deviceCodeLifetime.value,n.userCode=""===this.deviceFlowForm.controls.userCode.value?null:this.deviceFlowForm.controls.userCode.value,n.userCodeType=(0,Re.Ew)(this.deviceFlowForm.controls.userCode.value)?null:this.deviceFlowForm.controls.userCode.value,this.clientCachingService.componentDirtyValidMap.set("ClientDeviceFlowComponent",{isValid:this.deviceFlowForm.valid}),this.clientCachingService.unsavedCache.next(n)})}ngOnDestroy(){this.deviceFlowFormSubscription.unsubscribe(),this.subscription.unsubscribe()}setButtonModels(){this.deviceCodeLifetimeButtons=[{duration:5,unit:ks.f.Minutes},{duration:10,unit:ks.f.Minutes}]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(No.a),e.Y36(yr.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-device-flow"]],decls:5,vars:9,consts:[[3,"formGroup"],[3,"id","label","help"],["id","deviceCodeLifetime","formControlName","deviceCodeLifetime",3,"buttons"],[3,"id","label","help","isLast"],["id","UserCode","type","text","formControlName","userCode",1,"tw-form-control"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1),e._UZ(2,"app-lifetime-picker",2),e.qZA(),e.TgZ(3,"app-form-row",3),e._UZ(4,"input",4),e.qZA()()),2&t&&(e.Q6J("formGroup",n.deviceFlowForm),e.xp6(1),e.Q6J("id","deviceCodeLifetime")("label","Clients.Tokens.DeviceCodeLifetime")("help","Clients.Tokens.LifetimeInSeconds"),e.xp6(1),e.Q6J("buttons",n.deviceCodeLifetimeButtons),e.xp6(1),e.Q6J("id","UserCode")("label","Clients.Tokens.UserCode")("help","Clients.Tokens.UserCodeHelp")("isLast",!0))},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,Vl,gt.L],encapsulation:2}),i})(),Iv=(()=>{class i{constructor(t,n,c){this.fb=t,this.clientViewService=n,this.clientCachingService=c}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.requirePkce=this.client.requirePkce,this.createForm()})}createForm(){this.pkceForm=this.fb.group({requirePkce:[this.client.requirePkce],allowPlainTextPkce:[{value:this.client.allowPlainTextPkce,disabled:!this.requirePkce}]}),this.pkceForm.markAsPristine()}ngAfterViewInit(){this.pkceFormSubscription=this.pkceForm.valueChanges.subscribe(t=>{this.requirePkce=t.requirePkce;const n=JSON.parse(JSON.stringify(this.client)),c=this.pkceForm.get("allowPlainTextPkce");this.requirePkce&&c.disabled?c.enable():!this.requirePkce&&!c.disabled&&c.disable(),n.requirePkce=this.pkceForm.controls.requirePkce.value,n.allowPlainTextPkce=this.pkceForm.controls.allowPlainTextPkce.value,this.clientCachingService.componentDirtyValidMap.set("ClientPKCEComponent",{isValid:this.pkceForm.valid}),this.clientCachingService.unsavedCache.next(n)})}ngOnDestroy(){this.pkceFormSubscription.unsubscribe(),this.subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(No.a),e.Y36(yr.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-pkce"]],decls:7,vars:10,consts:[[3,"formGroup"],[3,"id","label","help"],[3,"id"],["id","requirePkce","type","checkbox","formControlName","requirePkce",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","allowPlainTextPkce","type","checkbox","formControlName","allowPlainTextPkce",1,"tw-form-switch__input"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1)(2,"app-form-toggle",2),e._UZ(3,"input",3),e.qZA()(),e.TgZ(4,"app-form-row",4)(5,"app-form-toggle",2),e._UZ(6,"input",5),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.pkceForm),e.xp6(1),e.Q6J("id","requirePkce")("label","Clients.Tokens.RequirePkce")("help","Clients.Tokens.RequirePkceHelp"),e.xp6(1),e.Q6J("id","requirePkce"),e.xp6(2),e.Q6J("id","allowPlainTextPkce")("label","Clients.Tokens.AllowPlainTextPkce")("help","Clients.Tokens.AllowPlainTextPkceHelp")("isLast",!0),e.xp6(1),e.Q6J("id","allowPlainTextPkce"))},dependencies:[C._Y,C.Wl,C.JJ,C.JL,C.sg,C.u,gt.L,_s.O],encapsulation:2}),i})();function Mv(i,o){if(1&i&&(e.TgZ(0,"app-form-row",4),e._UZ(1,"app-lifetime-picker",5),e.qZA()),2&i){const t=e.oxw();e.Q6J("id","userSSOLifetime")("label","Clients.Tokens.UserSSOLifetime")("help","Clients.Tokens.UserSSOLifetimeHelp"),e.xp6(1),e.Q6J("buttons",t.userSSOLifetimeButtons)}}let Ov=(()=>{class i{constructor(t,n,c){this.fb=t,this.clientCachingService=n,this.clientViewService=c}ngOnInit(){this.subscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),void 0===this.otherForm&&this.createForm()}),this.setButtonModels()}ngOnDestroy(){this.subscription.unsubscribe()}setTokenTime(t,n){this.otherForm.controls[n].setValue(60*t),this.otherForm.markAsTouched(),this.otherForm.markAsDirty()}createForm(){this.otherForm=this.fb.group({userSSOLifetime:[this.client.userSSOLifetime],pairWiseSubjectSalt:[this.client.pairWiseSubjectSalt]}),this.otherForm.markAsPristine()}ngAfterViewInit(){this.otherForm.valueChanges.subscribe(t=>{const n=JSON.parse(JSON.stringify(this.client));n.userSSOLifetime=this.otherForm.controls.userSSOLifetime.value,n.pairWiseSubjectSalt=this.otherForm.controls.pairWiseSubjectSalt.value,this.clientCachingService.componentDirtyValidMap.set("ClientOtherComponent",{isValid:this.otherForm.valid}),this.clientCachingService.unsavedCache.next(n)})}setButtonModels(){this.userSSOLifetimeButtons=[{duration:1,unit:ks.f.Hour},{duration:12,unit:ks.f.Hours},{duration:1,unit:ks.f.Day}]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(yr.Z),e.Y36(No.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-client-other"]],decls:4,vars:6,consts:[[3,"formGroup"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],["id","PairWiseSubjectSalt","type","text","formControlName","pairWiseSubjectSalt",1,"tw-form-control"],[3,"id","label","help"],["id","userSSOLifetime","formControlName","userSSOLifetime",3,"buttons"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Mv,2,4,"app-form-row",1),e.TgZ(2,"app-form-row",2),e._UZ(3,"input",3),e.qZA()()),2&t&&(e.Q6J("formGroup",n.otherForm),e.xp6(1),e.Q6J("ngIf",n.clientViewService.other.userSSOLifetime),e.xp6(1),e.Q6J("id","PairWiseSubjectSalt")("label","Clients.Tokens.PairWiseSubjectSalt")("help","Clients.Tokens.PairWiseSubjectSaltHelp")("isLast",!0))},dependencies:[N.O5,C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,Vl,gt.L],encapsulation:2}),i})(),Nv=(()=>{class i{constructor(t,n,c,m){this.titleService=t,this.identityResourceService=n,this.toastr=c,this.translate=m,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(t=>{this.identityResource=t,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ge.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(t){this.properties=t;const n=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(n).pipe((0,ae.q)(1)).subscribe(c=>{this.identityResource=n,this.identityResourceService.getCachedIdentityResource().next(n),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Dx),e.Y36(Fn.Q),e.Y36(Rn._W),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-identity-resource-properties"]],decls:1,vars:2,consts:[[3,"modalId","properties","propertiesChanged"]],template:function(t,n){1&t&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(m){return n.onPropertiesChanged(m)}),e.qZA()),2&t&&e.Q6J("modalId",n.identityResource.id)("properties",n.properties)},dependencies:[Rd.s],encapsulation:2}),i})(),kv=(()=>{class i{constructor(t,n,c,m){this.titleService=t,this.protectedResourceService=n,this.toastr=c,this.translate=m,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ge.de.SITE_TITLE}`),this.modalId=this.protectedResource.id})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}onPropertiesChanged(t){this.properties=t;const n=Object.assign(this.protectedResource,{properties:this.properties});this.protectedResourceService.updateResource(n).pipe((0,ae.q)(1)).subscribe(c=>{this.protectedResource=n,this.protectedResourceService.getCachedProtectedResource().next(n),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.Dx),e.Y36(Oo.m),e.Y36(Rn._W),e.Y36(wt.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-protected-resource-properties"]],decls:1,vars:2,consts:[[3,"modalId","properties","propertiesChanged"]],template:function(t,n){1&t&&(e.TgZ(0,"app-properties-editor",0),e.NdJ("propertiesChanged",function(m){return n.onPropertiesChanged(m)}),e.qZA()),2&t&&e.Q6J("modalId",n.modalId)("properties",n.properties)},dependencies:[Rd.s],encapsulation:2}),i})();function Rv(i,o){1&i&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Users.Filter.Blocked")," "))}function Pv(i,o){1&i&&(e.TgZ(0,"div",25)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.AsE("",e.lcZ(3,2,"Users.Delete.DeletedUser")," ",e.lcZ(4,4,"Users.Delete.AuditingPurposes"),""))}const s0=function(i,o){return{title:i,link:o}},r0=function(i){return[i]},Tc=function(){return["active"]};let fu=(()=>{class i{constructor(t,n,c){this.route=t,this.router=n,this.errorService=c}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(t=>{this.user=t.user},t=>{this.errorService.handleError(t)})}mobRoute(t){this.router.navigate([t],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.gz),e.Y36(nn.F0),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:62,vars:72,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.YNc(4,Rv,3,3,"span",2),e.BQk(),e.ynx(5,3),e.TgZ(6,"div",4)(7,"label",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",6)(11,"select",7),e.NdJ("change",function(m){return n.mobRoute(m.target.value)}),e.TgZ(12,"option",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"option",8),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"option",9),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"option",10),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"option",11),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"option",12),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"option",13),e._uU(31),e.ALo(32,"translate"),e.qZA()()()(),e.TgZ(33,"ul",14),e.ALo(34,"translate"),e.TgZ(35,"li",15)(36,"button",16),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"li",15)(40,"button",17),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"li",15)(44,"button",18),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"li",15)(48,"button",19),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e.TgZ(51,"li",15)(52,"button",20),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"li",15)(56,"button",21),e._uU(57),e.ALo(58,"translate"),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(59,"div",22),e.YNc(60,Pv,5,6,"div",23),e._UZ(61,"router-outlet"),e.qZA()),2&t&&(e.Q6J("title",n.user.firstName+" "+n.user.lastName)("crumbs",e.VKq(64,r0,e.WLB(61,s0,e.lcZ(1,27,"Nav.Users"),e.lcZ(2,29,"/users"))))("hasTabs",!0)("isReadOnly",!0),e.xp6(4),e.Q6J("ngIf",n.user.isBlocked),e.xp6(4),e.Oqu(e.lcZ(9,31,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(14,33,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(17,35,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(20,37,"Nav.Roles")),e.xp6(3),e.Oqu(e.lcZ(23,39,"Nav.Additional Details")),e.xp6(3),e.Oqu(e.lcZ(26,41,"Nav.Applications")),e.xp6(3),e.Oqu(e.lcZ(29,43,"Nav.External Logins")),e.xp6(3),e.Oqu(e.lcZ(32,45,"Nav.Audits")),e.xp6(2),e.uIk("aria-label",e.lcZ(34,47,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(66,Tc)),e.xp6(1),e.Oqu(e.lcZ(38,49,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(67,Tc)),e.xp6(1),e.Oqu(e.lcZ(42,51,"Nav.Roles")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(68,Tc)),e.xp6(1),e.Oqu(e.lcZ(46,53,"Nav.Additional Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(69,Tc)),e.xp6(1),e.Oqu(e.lcZ(50,55,"Nav.Applications")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(70,Tc)),e.xp6(1),e.Oqu(e.lcZ(54,57,"Nav.External Logins")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(71,Tc)),e.xp6(1),e.Oqu(e.lcZ(58,59,"Nav.Audits")),e.xp6(3),e.Q6J("ngIf",n.user.isDeleted))},dependencies:[N.O5,nn.lC,nn.rH,nn.Od,Z.G,wt.X$,un.lO],encapsulation:2}),i})();var ef=g(1923);let tf=(()=>{class i{constructor(t,n){this.http=t,this.headersService=n,this.actionUrl="signingkey",this.headers=n.setHeaders()}getKeys(){const t=new x.LE;return this.http.get(this.actionUrl,{headers:this.headers,params:t})}deleteKey(t){return this.http.delete(`${this.actionUrl}/${t}`,{headers:this.headers})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(x.eN),e.LFG(yc.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Lv=(()=>{class i{constructor(t,n,c,m,M){this.keyService=t,this.toastr=n,this.translate=c,this.modalService=m,this.dataTableService=M,this.keysDataTableActions=[Mr.Xz.Delete],this.deleteModalType=ef.w.Warning,this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(t=>{this.startDeleteKey(t)})}getSerializedKeys(){this.keyService.getKeys().subscribe(t=>{this.keys=t})}startDeleteKey(t){this.keyToDelete=this.keys[t],this.modalService.showById(this.deleteModalId,null)}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).toPromise().then(t=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.resetAndCloseDeleteModal()},t=>{this.toastr.error("Removed Key","Failed!")})}resetAndCloseDeleteModal(){this.keyToDelete=null,this.modalService.hideById(this.deleteModalId)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(tf),e.Y36(Rn._W),e.Y36(wt.sK),e.Y36(Bi.Z),e.Y36(Ga.n))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-keys"]],decls:14,vars:35,consts:[["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"title","modalId","actions","modalType","onCancel","onDelete"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"app-data-table",1),e._UZ(2,"app-data-table-column",2)(3,"app-data-table-column",2)(4,"app-data-table-column",2)(5,"app-data-table-column",3)(6,"app-data-table-column",4),e.qZA()(),e.TgZ(7,"app-custom-modal",5),e.NdJ("onCancel",function(){return n.resetAndCloseDeleteModal()})("onDelete",function(){return n.deleteKey()}),e.TgZ(8,"div",6)(9,"p",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p",8),e.ALo(13,"translate"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("rows",n.keys)("actions",n.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),e.xp6(1),e.Q6J("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),e.xp6(1),e.Q6J("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),e.xp6(1),e.Q6J("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),e.xp6(1),e.Q6J("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),e.xp6(1),e.Q6J("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),e.xp6(1),e.Q6J("title","Settings.Keys.DeleteKey")("modalId",n.deleteModalId)("actions",n.keysDataTableActions)("modalType",n.deleteModalType),e.xp6(3),e.Oqu(e.lcZ(11,31,"Common.Delete.AreYouSureSimple")),e.xp6(2),e.Q6J("innerHTML",e.lcZ(13,33,"Common.Delete.Warning"),e.oJD))},dependencies:[Mr.Qj,fl.E,Fs.R,wt.X$],encapsulation:2}),i})();function Uv(i,o){1&i&&(e.TgZ(0,"span",8),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Policy")," "))}function Zv(i,o){1&i&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Reserved")," "))}function Fv(i,o){if(1&i&&(e.ynx(0,5),e.YNc(1,Uv,3,3,"span",6),e.YNc(2,Zv,3,3,"span",7),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isPolicyRole()),e.xp6(1),e.Q6J("ngIf",t.role.reserved)}}const o0=function(i,o){return{title:i,link:o}},LA=function(i){return[i]};let Bv=(()=>{class i{constructor(t,n,c,m){this.activatedRoute=t,this.errorService=n,this.router=c,this.securityService=m}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(t=>{this.role=t.role},t=>{this.errorService.handleError(t)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const t=this.securityService.policyClaims;for(let n=0;n<t.length;n++)if("role"===t[n].type&&t[n].value===this.role.name)return!0;return!1}mobRoute(t){this.router.navigate([t],{relativeTo:this.activatedRoute})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.gz),e.Y36(O.T),e.Y36(nn.F0),e.Y36(In.I))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.YNc(3,Fv,3,2,"ng-container",1),e.ynx(4,2),e.TgZ(5,"app-custom-tabs"),e._UZ(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.qZA(),e.BQk(),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"router-outlet"),e.qZA()),2&t&&(e.Q6J("title",n.role.name)("crumbs",e.VKq(16,LA,e.WLB(13,o0,e.lcZ(1,9,"Nav.Roles"),e.lcZ(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.xp6(3),e.Q6J("ngIf",n.isPolicyRole()||n.role.reserved),e.xp6(3),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[N.O5,nn.lC,Z.G,bo.v,da.x,wt.X$,un.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();function Vv(i,o){1&i&&(e.TgZ(0,"span",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Disabled")," "))}const Hv=function(i,o){return{title:i,link:o}},a0=function(i){return[i]},nf=function(){return["active"]};let mu=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe){this.fb=t,this.route=n,this.router=c,this.titleService=m,this.identityResourceService=M,this.toastr=Q,this.translate=ue,this.localize=Pe}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(t=>{this.identityResource=t,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${ge.de.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(t){this.router.navigate([t],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.QS),e.Y36(nn.gz),e.Y36(nn.F0),e.Y36(a.Dx),e.Y36(Fn.Q),e.Y36(Rn._W),e.Y36(wt.sK),e.Y36(un.An))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:39,vars:45,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewIdentityResource",1,"tw-container","mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"select",5),e.NdJ("change",function(m){return n.mobRoute(m.target.value)}),e.TgZ(10,"option",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"option",6),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"option",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"option",8),e._uU(20),e.qZA()()()(),e.TgZ(21,"ul",9),e.ALo(22,"translate"),e.TgZ(23,"li",10)(24,"button",11),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"li",10)(28,"button",12),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"li",10)(32,"button",13),e._uU(33),e.ALo(34,"translate"),e.qZA()()(),e.BQk(),e.ynx(35,14),e.YNc(36,Vv,3,3,"span",15),e.BQk(),e.qZA(),e.TgZ(37,"div",16),e._UZ(38,"router-outlet"),e.qZA()),2&t&&(e.Q6J("title",null==n.identityResource?null:n.identityResource.name)("crumbs",e.VKq(40,a0,e.WLB(37,Hv,e.lcZ(1,17,"IdentityResources.Title"),e.lcZ(2,19,"/identityresources"))))("hasTabs",!0)("isReadOnly",!0),e.xp6(6),e.Oqu(e.lcZ(7,21,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(12,23,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(15,25,"Nav.Details")),e.xp6(3),e.Oqu(e.lcZ(18,27,"Nav.Claims")),e.xp6(3),e.Oqu("Nav.Properties | translate"),e.xp6(1),e.uIk("aria-label",e.lcZ(22,29,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(42,nf)),e.xp6(1),e.Oqu(e.lcZ(26,31,"Nav.Details")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(43,nf)),e.xp6(1),e.Oqu(e.lcZ(30,33,"Nav.Claims")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(44,nf)),e.xp6(1),e.Oqu(e.lcZ(34,35,"Nav.Properties")),e.xp6(3),e.Q6J("ngIf",!n.identityResource.enabled))},dependencies:[N.O5,nn.lC,nn.rH,nn.Od,Z.G,wt.X$,un.lO],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})();var l0=g(3351);function sf(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Nav.Saml")("tabValue","saml")}function Na(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function c0(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function rf(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Common.Secrets")("tabValue","secrets")}function gu(i,o){1&i&&e._UZ(0,"app-custom-tab",2),2&i&&e.Q6J("tabTitle","Common.CIBA")("tabValue","ciba")}function u0(i,o){1&i&&(e.TgZ(0,"span",7),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.Disabled")," "))}const d0=function(i,o){return{title:i,link:o}},p0=function(i){return[i]};let Bd=(()=>{class i{constructor(t,n,c,m,M){this.clientCachingService=t,this.clientViewService=n,this.titleService=c,this.translate=m,this.errorService=M}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(t=>{this.client=t;const n=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+ge.de.SITE_TITLE;this.titleService.setTitle(n)})}ngOnDestroy(){this.clientSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z),e.Y36(No.a),e.Y36(a.Dx),e.Y36(wt.sK),e.Y36(O.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-client"]],features:[e._Bn([No.a])],decls:18,vars:28,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ALo(2,"localize"),e.ynx(3,1),e.TgZ(4,"app-custom-tabs"),e._UZ(5,"app-custom-tab",2),e.YNc(6,sf,1,2,"app-custom-tab",3),e.YNc(7,Na,1,2,"app-custom-tab",3),e.YNc(8,c0,1,2,"app-custom-tab",3),e.YNc(9,rf,1,2,"app-custom-tab",3),e._UZ(10,"app-custom-tab",2),e.YNc(11,gu,1,2,"app-custom-tab",3),e._UZ(12,"app-custom-tab",2)(13,"app-custom-tab",2),e.qZA(),e.BQk(),e.ynx(14,4),e.YNc(15,u0,3,3,"span",5),e.BQk(),e.qZA(),e.TgZ(16,"div",6),e._UZ(17,"router-outlet"),e.qZA()),2&t&&(e.Q6J("title",n.client.clientName)("crumbs",e.VKq(26,p0,e.WLB(23,d0,e.lcZ(1,19,"Nav.Clients"),e.lcZ(2,21,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0),e.xp6(5),e.Q6J("tabTitle","Nav.Details")("tabValue","details"),e.xp6(1),e.Q6J("ngIf",n.clientViewService.saml.display),e.xp6(1),e.Q6J("ngIf",n.clientViewService.wsFed.display),e.xp6(1),e.Q6J("ngIf",n.clientViewService.applicationUrls.display),e.xp6(1),e.Q6J("ngIf",n.clientViewService.secrets.display),e.xp6(1),e.Q6J("tabTitle","Nav.Resources")("tabValue","resources"),e.xp6(1),e.Q6J("ngIf",n.clientViewService.ciba.display),e.xp6(1),e.Q6J("tabTitle","Common.Advanced")("tabValue","advanced"),e.xp6(1),e.Q6J("tabTitle","Nav.Audits")("tabValue","clientaudits"),e.xp6(2),e.Q6J("ngIf",!n.client.enabled))},dependencies:[N.O5,nn.lC,Z.G,bo.v,da.x,wt.X$,un.lO],encapsulation:2}),i})();const h0=["requiredClaimsForm"];function f0(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",9)(2,"h2",10),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",11),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",12),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",13)(12,"span",14)(13,"button",15),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.signOutAndRedirectToLogin())}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,4,"Notifications.Success")),e.xp6(3),e.hij(" ",e.lcZ(7,6,"InitialAdminCreation.SuccessMessage")," "),e.xp6(3),e.hij(" ",e.lcZ(10,8,"InitialAdminCreation.LoginMessage")," "),e.xp6(5),e.hij(" ",e.lcZ(15,10,"Nav.Login")," "))}function Jv(i,o){1&i&&(e.TgZ(0,"span",40),e._uU(1,"Passwords must match"),e.qZA())}function qv(i,o){1&i&&(e.TgZ(0,"ul",41)(1,"li"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"li"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"li"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"li"),e._uU(14),e.ALo(15,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"Users.Password.Requirements.1")),e.xp6(3),e.Oqu(e.lcZ(6,7,"Users.Password.Requirements.2")),e.xp6(3),e.Oqu(e.lcZ(9,9,"Users.Password.Requirements.3")),e.xp6(3),e.Oqu(e.lcZ(12,11,"Users.Password.Requirements.4")),e.xp6(3),e.Oqu(e.lcZ(15,13,"Users.Password.Requirements.5")))}function lf(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",50),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw(),c=t.$implicit;e.MGl("id","claim-",t.index,""),e.Q6J("ngModel",c.value)}}function jv(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",51),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.qZA()}if(2&i){const t=e.oxw(),c=t.$implicit;e.MGl("id","claim-",t.index,""),e.Q6J("ngModel",c.value)}}function m0(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",52)(1,"select",53),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.TgZ(2,"option",54),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"option",55),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(),n=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","claim-",n,""),e.Q6J("ngModel",c.value),e.xp6(2),e.Oqu(e.lcZ(4,4,"Common.True")),e.xp6(3),e.Oqu(e.lcZ(7,6,"Common.False"))}}function g0(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",58),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2),n=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","claim-",n,""),e.Q6J("ngModel",c.value)}}function UA(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-date-time",59),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw(2).$implicit;return e.KtG(m.value=c)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2),n=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","claim-",n,""),e.Q6J("ngModel",c.value)("displayType","date")}}function cf(i,o){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,g0,2,2,"ng-container",57),e.YNc(2,UA,2,3,"ng-container",57),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","birthdate"!=t.name),e.xp6(1),e.Q6J("ngIf","birthdate"==t.name)}}function uf(i,o){if(1&i&&(e.TgZ(0,"option",62),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function $v(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",52)(1,"select",60),e.NdJ("ngModelChange",function(c){e.CHM(t);const m=e.oxw().$implicit;return e.KtG(m.value=c)}),e.YNc(2,uf,2,2,"option",61),e.qZA()()}if(2&i){const t=e.oxw(),n=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","claim-",n,""),e.Q6J("ngModel",c.value),e.xp6(1),e.Q6J("ngForOf",c.allowedValues)}}function df(i,o){if(1&i&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.failureMessage," ")}}function pf(i,o){if(1&i&&(e.TgZ(0,"app-form-row",44),e.YNc(1,lf,1,2,"input",45),e.YNc(2,jv,1,2,"input",46),e.YNc(3,m0,8,8,"div",47),e.YNc(4,cf,3,2,"div",48),e.YNc(5,$v,3,3,"div",47),e.YNc(6,df,2,1,"span",49),e.qZA()),2&i){const t=o.$implicit,n=o.index,c=e.oxw(3);e.Q6J("id","claim-"+n)("label",t.name)("help","DateTime"==t.format?"Common.Dates.UTCWarning":"")("isLast",n===c.displayClaims.length-1),e.xp6(1),e.Q6J("ngIf","String"==t.format),e.xp6(1),e.Q6J("ngIf","Int"==t.format),e.xp6(1),e.Q6J("ngIf","Boolean"==t.format),e.xp6(1),e.Q6J("ngIf","DateTime"==t.format),e.xp6(1),e.Q6J("ngIf","Enum"==t.format),e.xp6(1),e.Q6J("ngIf",null!=t.failureMessage)}}function _0(i,o){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,pf,7,10,"app-form-row",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.displayClaims)}}function v0(i,o){1&i&&e._UZ(0,"span",64)}function y0(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"h2",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"hr",16)(6,"p",17)(7,"p",18),e.ALo(8,"translate"),e.TgZ(9,"p",17),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"hr",16),e.TgZ(13,"form",19)(14,"app-form-row",20),e._UZ(15,"input",21),e.qZA(),e.TgZ(16,"app-form-row",20),e._UZ(17,"input",22),e.qZA(),e.TgZ(18,"app-form-row",20),e._UZ(19,"input",23),e.qZA(),e.TgZ(20,"app-form-row",20),e._UZ(21,"input",24),e.qZA(),e.TgZ(22,"app-form-row",20),e._UZ(23,"input",25),e.qZA(),e.TgZ(24,"app-form-row",20),e._UZ(25,"input",26),e.YNc(26,Jv,2,0,"span",27),e.YNc(27,qv,16,15,"ul",28),e.qZA()(),e.TgZ(28,"form",null,29),e.YNc(30,_0,2,1,"div",30),e.qZA(),e.TgZ(31,"div",13)(32,"span",14)(33,"button",31),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addUser())}),e._uU(34),e.ALo(35,"translate"),e.YNc(36,v0,1,0,"span",32),e.qZA()()()(),e.TgZ(37,"ul",33)(38,"li",34)(39,"a",35),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"span",36),e._uU(43,"\u2022"),e.qZA()(),e.TgZ(44,"li",34)(45,"a",37),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"span",36),e._uU(49,"\u2022"),e.qZA()(),e.TgZ(50,"li",38)(51,"a",39),e._uU(52),e.ALo(53,"translate"),e.qZA()()()()}if(2&i){const t=e.MAs(29),n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,26,"LandingPage.AdminCreation")),e.xp6(5),e.Q6J("innerHTML",e.lcZ(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.oJD),e.xp6(3),e.hij(" ",e.lcZ(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.xp6(3),e.Q6J("formGroup",n.addUserForm),e.xp6(1),e.Q6J("id","FirstName")("label","Users.FirstName"),e.xp6(2),e.Q6J("id","LastName")("label","Users.LastName"),e.xp6(2),e.Q6J("id","Username")("label","Users.Username"),e.xp6(2),e.Q6J("id","Email")("label","Users.Email"),e.xp6(2),e.Q6J("id","Password")("label","Users.Password.Title"),e.xp6(2),e.Q6J("id","Password")("label","UserDetails.Confirm Password"),e.xp6(2),e.Q6J("ngIf",n.addUserForm.hasError("notSame")),e.xp6(1),e.Q6J("ngIf",n.addUserForm.get("password").hasError("pattern")),e.xp6(3),e.Q6J("ngIf",n.displayClaims.length>0),e.xp6(3),e.Q6J("disabled",!n.addUserForm.valid||!t.form.valid||n.inFlight),e.xp6(1),e.hij(" ",e.lcZ(35,32,"Common.Save")," "),e.xp6(2),e.Q6J("ngIf",n.inFlight),e.xp6(3),e.s9C("href",n.apiDocsLink,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(41,34,"LandingPage.APIDocs")," "),e.xp6(6),e.hij(" ",e.lcZ(47,36,"LandingPage.Documentation")," "),e.xp6(6),e.hij(" ",e.lcZ(53,38,"Nav.Support")," ")}}let C0=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe){this.authService=t,this.titleService=n,this.toastr=c,this.fb=m,this.userService=M,this.errorService=Q,this.claimTypesService=ue,this.appComponentViewService=Pe,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=Nt=>Nt.get("password").value===Nt.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${ge.de.SITE_TITLE}`),this.versionNumber=q;const at=new Date;this.appCopyright=2017!==at.getFullYear()?"2017 - "+at.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(t=>{this.claimTypes=t;for(const c of this.claimTypes)c.required&&this.displayClaims.push({claimTypeId:c.id,format:c.valueType,name:c.name,value:null,failureMessage:c.ruleValidationFailureDescription,allowedValues:c.allowedValues})},t=>{this.errorService.handleError(t)})}addUser(){let t;t=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(t,{claims:[]});for(const n of this.displayClaims){if(null===n.value)continue;let c=n.value;"DateTime"===n.format&&(c=n.value),"Int"===n.format&&(c=c.toString()),t.claims.push({claimTypeId:n.claimTypeId,value:c,type:n.name})}this.inFlight=!0,this.userService.addInitialAdministrator(t).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},n=>{this.inFlight=!1,this.errorService.handleError(n)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[C.kI.required,(0,Re.Fd)()]],email:["",Dl],firstName:["",C.kI.required],lastName:["",C.kI.required],password:["",C.kI.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Fi.e),e.Y36(a.Dx),e.Y36(Rn._W),e.Y36(C.QS),e.Y36(ps.K),e.Y36(O.T),e.Y36(so.M),e.Y36(qr.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-initial-admin-creation"]],viewQuery:function(t,n){if(1&t&&e.Gf(h0,5),2&t){let c;e.iGM(c=e.CRH())&&(n.requiredClaimsForm=c.first)}},decls:10,vars:3,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["requiredClaimsForm","ngForm"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"disabled","click"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","trans"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["type","number","name","number","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"id","ngModel","ngModelChange"],["name","claimValue","required","",3,"id","ngModel","displayType","ngModelChange"],["name","enum","required","",1,"tw-form-control",3,"id","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"header",3),e._UZ(4,"img",4),e.TgZ(5,"span",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,f0,16,12,"div",7),e.YNc(9,y0,54,40,"div",8),e.qZA()()),2&t&&(e.xp6(6),e.hij("v",n.versionNumber,""),e.xp6(2),e.Q6J("ngIf",n.createdAdmin),e.xp6(1),e.Q6J("ngIf",!n.createdAdmin))},dependencies:[N.sg,N.O5,C._Y,C.YN,C.Kr,C.Fj,C.wV,C.EJ,C.JJ,C.JL,C.Q7,C.On,C.F,C.sg,C.u,gt.L,ol.j,wt.X$],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]}),i})(),Vd=(()=>{class i{constructor(t,n){this.http=t,this.headersService=n,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(t){const n=JSON.stringify(t);return this.http.put(this.actionUrl,n,{headers:this.headers})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(x.eN),e.LFG(yc.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),hf=(()=>{class i{constructor(t,n,c){this.webhookService=t,this.protectedResourceService=n,this.errorService=c}resolve(){return(0,Xr.D)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,se.U)(t=>{const n=new Qv;n.webhookConfiguration=t.webhooks;const c=[];return t.protectedResources.forEach(m=>{c.push(...m.scopes)}),n.scopeNames=c.map(m=>m.name).sort(),n},t=>{this.errorService.handleError(t)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Vd),e.LFG(Oo.m),e.LFG(O.T))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class Qv{}class Gv{constructor(o,t,n,c){this.webhooks={MfaReset:o,PasswordReset:t,UserRegistration:n,ServerSideSessionDelete:c}}}var Ko=(()=>{return(i=Ko||(Ko={})).MFAReset="MfaReset",i.PasswordReset="PasswordReset",i.UserRegistration="UserRegistration",i.ServerSideSessionDelete="ServerSideSessionDelete",Ko;var i})();function Yv(i,o){if(1&i&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t)}}let b0=(()=>{class i{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"id","click"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),e.NdJ("click",function(){return n.toggle()}),e.qZA()()(),e.TgZ(5,"app-form-row",5),e._UZ(6,"input",6),e.qZA(),e.TgZ(7,"app-form-row",7)(8,"div",8)(9,"select",9),e.YNc(10,Yv,2,2,"option",10),e.qZA()()()()()),2&t&&(e.Q6J("formGroup",n.parentForm),e.xp6(1),e.s9C("formGroupName",n.webhookName),e.xp6(1),e.Q6J("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),e.xp6(1),e.Q6J("id","WebhookEnabled"+n.webhookName)("isTraffic",!0)("isAlt",!1),e.xp6(1),e.Q6J("id","WebhookEnabled"+n.webhookName),e.xp6(1),e.Q6J("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),e.xp6(2),e.Q6J("label","Webhooks.ProtectingScope")("isLast",!0),e.xp6(3),e.Q6J("ngForOf",n.scopeNames))},dependencies:[N.sg,C._Y,C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C.JJ,C.JL,C.F,C.sg,C.u,C.x0,gt.L,_s.O],encapsulation:2}),i})();const Kv=["save"];function Xv(i,o){if(1&i&&(e.TgZ(0,"div",5)(1,"form",6)(2,"h2",7),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"app-edit-webhook",8),e.TgZ(6,"h2",7),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"app-edit-webhook",8),e.TgZ(10,"h2",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"app-edit-webhook",8),e.TgZ(14,"h2",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"app-edit-webhook",8),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(4,17,"Webhooks.MultiFactorHeading")),e.xp6(2),e.Q6J("webhookName",t.webhookNames.MFAReset)("scopeNames",t.scopeNames)("parentForm",t.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(8,19,"Webhooks.PasswordResetHeading")),e.xp6(2),e.Q6J("webhookName",t.webhookNames.PasswordReset)("scopeNames",t.scopeNames)("parentForm",t.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(12,21,"Webhooks.UserRegistrationHeading")),e.xp6(2),e.Q6J("webhookName",t.webhookNames.UserRegistration)("scopeNames",t.scopeNames)("parentForm",t.webhooksForm),e.xp6(2),e.Oqu(e.lcZ(16,23,"Webhooks.ServerSideSessionDeleteHeading")),e.xp6(2),e.Q6J("webhookName",t.webhookNames.ServerSideSessionDelete)("scopeNames",t.scopeNames)("parentForm",t.webhooksForm)}}let Ao=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe){this.activatedRoute=t,this.errorService=n,this.fb=c,this.webhookService=m,this.translate=M,this.toastr=Q,this.modalService=ue,this.dialogService=Pe,this.webhookNames=Ko,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[Dt.n.Save]}ngOnInit(){this.activatedRoute.data.pipe(function zv(...i){const o=i.length;if(0===o)throw new Error("list of properties cannot be empty.");return(0,se.U)(t=>{let n=t;for(let c=0;c<o;c++){const m=n?.[i[c]];if(!(typeof m<"u"))return;n=m}return n})}("webhookResolverObject")).subscribe(t=>{this.webhookConfiguration=t.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=t.scopeNames,this.webhooksForm=this.fb.group({[Ko.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[Ko.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[Ko.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[Ko.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(n=>{this.saveLock=!(this.webhooksForm.controls[Ko.MFAReset].valid&&this.webhooksForm.controls[Ko.PasswordReset].valid&&this.webhooksForm.controls[Ko.UserRegistration].valid&&this.webhooksForm.controls[Ko.ServerSideSessionDelete].valid)})},t=>{this.errorService.handleError(t)})}createFormGroup(t){return this.fb.group({url:[{value:t.url,disabled:!t.enabled},C.kI.required],scopeName:[{value:t.scopeName,disabled:!t.enabled}],enabled:[t.enabled]})}processWebhookConfigurationUpdate(){const t=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(t)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(t)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const t=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(t).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(n=>{this.webhookConfiguration=n,this.webhooksEnabled=this.checkWebhooksEnabled()},n=>{this.errorService.handleError(n)}),this.webhooksForm.markAsPristine()},n=>{this.errorService.handleError(n)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const t=this.webhooksForm.getRawValue();return new Gv(t.MfaReset,t.PasswordReset,t.UserRegistration,t.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(t){return t.webhooks.PasswordReset.enabled||t.webhooks.UserRegistration.enabled||t.webhooks.MfaReset.enabled||t.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(t){return!(t.webhooks.PasswordReset.enabled||t.webhooks.UserRegistration.enabled||t.webhooks.MfaReset.enabled||t.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.gz),e.Y36(O.T),e.Y36(C.QS),e.Y36(Vd),e.Y36(wt.sK),e.Y36(Rn._W),e.Y36(Bi.Z),e.Y36(Mo.x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-webhooks"]],viewQuery:function(t,n){if(1&t&&e.Gf(Kv,5),2&t){let c;e.iGM(c=e.CRH())&&(n.saveButtonRef=c.first)}},decls:20,vars:25,consts:[["class","tw-container tw-mx-auto",4,"ngIf"],[3,"saveText","actions","title","modalId","onCancel","onSave"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"disabled","click"],[1,"tw-container","tw-mx-auto"],[3,"formGroup"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","scopeNames","parentForm"]],template:function(t,n){1&t&&(e.YNc(0,Xv,18,25,"div",0),e.TgZ(1,"app-custom-modal",1),e.NdJ("onCancel",function(){return n.cancelWebhookUpdate()})("onSave",function(){return n.acceptClientCreation()}),e.TgZ(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",3),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"app-custom-modal",1),e.NdJ("onCancel",function(){return n.cancelWebhookUpdate()})("onSave",function(){return n.acceptClientCreation()}),e.TgZ(9,"h2",2),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p",3),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"app-button-bar")(16,"button",4),e.NdJ("click",function(){return n.processWebhookConfigurationUpdate()}),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e._UZ(19,"app-can-deactivate")),2&t&&(e.Q6J("ngIf",n.webhookConfiguration),e.xp6(1),e.Q6J("saveText","Common.Continue")("actions",n.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",n.clientCreationConfirmationModalId),e.xp6(2),e.Oqu(e.lcZ(4,15,"Common.Warning")),e.xp6(3),e.hij(" ",e.lcZ(7,17,"Webhooks.ClientCreationWarningDescription")," "),e.xp6(2),e.Q6J("saveText","Common.Continue")("actions",n.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",n.clientDeletionConfirmationModalId),e.xp6(2),e.Oqu(e.lcZ(11,19,"Common.Warning")),e.xp6(3),e.hij(" ",e.lcZ(14,21,"Webhooks.ClientDeletionWarningDescription")," "),e.xp6(3),e.Q6J("disabled",n.saveLock),e.xp6(1),e.hij(" ",e.lcZ(18,23,"Common.Save")," "))},dependencies:[N.O5,C._Y,C.JL,C.sg,ha,cl,Fs.R,b0,wt.X$],encapsulation:2}),i})(),Ac=(()=>{class i{constructor(t,n){this.clientCachingService=t,this.fb=n}ngOnInit(){this.clientCachingService.unsavedCache$.pipe((0,Wi.P)()).subscribe(t=>{this.client=JSON.parse(JSON.stringify(t)),this.createForm()})}ngAfterViewInit(){this.clientFormSubscription=this.cibaConfigForm.valueChanges.subscribe(t=>{this.clientCachingService.componentDirtyValidMap.set("CibaConfigurationComponent",{isValid:this.cibaConfigForm.valid});const n=JSON.parse(JSON.stringify(this.client));n.cibaLifetime=this.cibaConfigForm.controls.cibaLifetime.value,n.pollingInterval=this.cibaConfigForm.controls.pollingInterval.value,this.clientCachingService.unsavedCache.next(n)})}createForm(){this.cibaConfigForm=this.fb.group({cibaLifetime:[this.client.cibaLifetime,C.kI.required],pollingInterval:[this.client.pollingInterval,C.kI.required]}),this.cibaConfigForm.markAsPristine()}ngOnDestroy(){this.clientFormSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(yr.Z),e.Y36(C.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ciba-configuration"]],decls:5,vars:8,consts:[[3,"formGroup"],[3,"id","label","help"],["id","CIBALifetime","formControlName","cibaLifetime"],[3,"id","label","help","isLast"],["id","PollingInterval","formControlName","pollingInterval"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"app-form-row",1),e._UZ(2,"app-lifetime-picker",2),e.qZA(),e.TgZ(3,"app-form-row",3),e._UZ(4,"app-lifetime-picker",4),e.qZA()()),2&t&&(e.Q6J("formGroup",n.cibaConfigForm),e.xp6(1),e.Q6J("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),e.xp6(2),e.Q6J("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[C._Y,C.JJ,C.JL,C.sg,C.u,Vl,gt.L],encapsulation:2}),i})(),T0=(()=>{class i{constructor(t,n,c){this.router=t,this.config=n,this.localizeRouter=c}canActivate(t,n){return this.config.getConfig().pipe((0,Wi.P)(),(0,se.U)(c=>{if("accesspolicy"!=t.firstChild.routeConfig.path||!c.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const m=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([m])}}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(nn.F0),e.LFG(wo.E),e.LFG(un.An))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),e1=(()=>{class i{constructor(t,n){this.http=t,this.headersService=n,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(t,n,c,m,M,Q,ue){let Pe=new x.LE;return null!=t&&(Pe=Pe.append("query",t)),(0,Re.Ew)(m)||(Pe=Pe.append("sort",m)),n&&(Pe=Pe.append("created",n)),c&&(Pe=Pe.append("expires",c)),M&&(Pe=Pe.append("page",String(M))),Q&&(Pe=Pe.append("pageSize",String(Q))),ue&&(Pe=Pe.append("filterExpired",String(ue))),Pe}getSessions(t,n,c,m,M,Q,ue){const Pe=this.buildParams(t,n,c,m,M,Q,ue);return this.http.get(this.actionUrl,{headers:this.headers,params:Pe})}deleteSession(t){return this.http.delete(`${this.actionUrl}/${t}`,{headers:this.headers})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(x.eN),e.LFG(yc.s))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var _u=g(5785),vu=g(5503),ml=g(5971),Sc=g(5898),Jl=g(4380),ff=g(8975),Hd=g(4837);class A0{constructor(o,t,n,c,m,M){this.query=o,this.page=t,this.pageSize=n,this.sortCriteria=c,this.fromDate=m,this.toDate=M}}class mf{constructor(o){this.query=o.query,this.page=o.page,this.pageSize=o.pageSize,this.sortCriteria=o.sortCriteria,this.fromDate=o.fromDate?.toString(),this.toDate=o.toDate?.toString()}}var Xo=(()=>{return(i=Xo||(Xo={})).ByUser="user",i.ByUserDescending="-user",i.ByScheme="scheme",i.BySchemeDescending="-scheme",i.ByCreated="created",i.ByCreatedDescending="-created",i.ByExpires="expires",i.ByExpiresDescending="-expires",i.ByRenewed="renewed",i.ByRenewedDescending="-renewed",Xo;var i})(),S0=g(4456);let t1=(()=>{class i{now(){return Gn.ou.now()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function gf(i,o){1&i&&(e.TgZ(0,"span",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Auditing.FromDateWarning")," "))}function n1(i,o){1&i&&(e.TgZ(0,"span",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Auditing.ToDateBehindWarning")," "))}function i1(i,o){1&i&&(e.TgZ(0,"div",31)(1,"div",35)(2,"div",36)(3,"div",37),e._UZ(4,"input",38,39),e.ALo(6,"translate"),e.ALo(7,"translate"),e.qZA()()()()),2&i&&(e.xp6(4),e.uIk("placeholder",e.lcZ(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",e.lcZ(7,4,"Auditing.AddFilterTerm")))}function Jd(i,o){1&i&&(e.TgZ(0,"p",40),e._UZ(1,"span",41),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Auditing.UpdateWarning")," "))}function _f(i,o){1&i&&e._UZ(0,"app-simple-loader")}function ZA(i,o){1&i&&(e.TgZ(0,"div",42)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"SessionManagement.NoSessionsFound")))}function s1(i,o){if(1&i&&e._UZ(0,"app-data-table-column",48),2&i){const t=e.oxw(2);e.Q6J("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",t.sortingEnum.None)}}function x0(i,o){if(1&i&&(e.TgZ(0,"app-data-table",43),e.YNc(1,s1,1,5,"app-data-table-column",44),e._UZ(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),e.qZA()),2&i){const t=e.oxw();e.Q6J("rows",t.pagedResult.results)("actions",t.dataTableActions),e.xp6(1),e.Q6J("ngIf",!t.resourceOnly()),e.xp6(1),e.Q6J("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),e.xp6(1),e.Q6J("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",t.dateColumn(t.DatePipeNames.prettyDateTime)),e.xp6(1),e.Q6J("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",t.dateColumn(t.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",t.sortingEnum.Descending),e.xp6(1),e.Q6J("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",t.dateColumn(t.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function r1(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-pager",49),e.NdJ("onGoToPage",function(c){e.CHM(t);const m=e.oxw();return e.KtG(m.goToPage(c))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("totalResults",null==t.pagedResult?null:t.pagedResult.totalCount)("currentPage",t.filterForm.get("page").value)("lastPage",null==t.pagedResult?null:t.pagedResult.pageCount)}}const xc=function(i){return[i]};let vf=(()=>{class i{constructor(t,n,c,m,M,Q,ue,Pe,at,Nt){this.sessionManagementService=t,this.localizeRouter=n,this.router=c,this.fb=m,this.activatedRoute=M,this.dataTableService=Q,this.modalService=ue,this.securityService=Pe,this.errorService=at,this.systemClock=Nt,this.isLoading=!1,this.sortingEnum=Hd.JN,this.filterHasChanged=!1,this.sessionStream=new xi.x,this.dateColumn=(Jt,zt)=>new fl.X(Jt,zt),this.DatePipeNames=S0.T,this.dataTableActions=[Mr.Xz.Delete],this.deleteModalId="SessionManagement",this.modelActions=Dt.n,this.deleteModalType=ef.w.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new qu.w0}resourceOnly(){return!(0,Re.Ew)(this.resourceName)}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,Re.ub)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[Mr.Xz.Delete],this.activatedRoute.parent.url.pipe((0,Wi.P)()).subscribe({next:t=>{this.resourceName=t[1]?.path??"",this.initDataSource()},error:t=>this.errorService.handleError(t)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(t=>{this.sortResults(t)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(t=>{this.openDeleteModal(this.pagedResult.results[t])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,f.O)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,w.z)(n=>(this.isLoading=!0,this.sessionManagementService.getSessions(n.query||"",n.fromDate?.toString(),n.toDate?.toString(),n.sortCriteria||"-when",n.page,n.pageSize,this.resourceOnly())))).subscribe(n=>{this.isLoading=!1,this.pagedResult={totalCount:n.totalCount,pageSize:n.pageSize,currentPage:n.currentPage,pageCount:n.pageCount,results:n.results.map(c=>new Hd.op(c,this.translatedRoute))}})}applyForm(t){t&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const n=this.filterForm.value;this.filterForm.patchValue({fromDate:n.fromDate,toDate:n.toDate}),this.sessionStream.next(n),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new mf(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(t){this.filterForm.patchValue({page:t}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:Xo.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(t){this.sessionToDelete=t,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:t=>{this.errorService.handleError(t)}})}sortResults(t){const n=this.activatedRoute.snapshot.queryParams,c=(0,Re.Ew)(n?.fromDate)?this.systemClock.now().minus({month:1}):Gn.ou.fromISO(n.fromDate),m=(0,Re.Ew)(n?.toDate)?this.systemClock.now().plus({month:1}):Gn.ou.fromISO(n.toDate),M=new A0(n.query,n.page,n.pageSize,this.getSortFromColumnName(t.prop,n.sortCriteria),c,m),Q=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:M.sortCriteria}),this.sessionStream.next(M),this.filterHasChanged=Q,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new mf(M)}),this.dataTableService.sortCompletedEvent.next(t.prop)}getSortFromColumnName(t,n){switch(t){case"user":return n===Xo.ByUserDescending?Xo.ByUser:Xo.ByUserDescending;case"expires":return n===Xo.ByExpiresDescending?Xo.ByExpires:Xo.ByExpiresDescending;default:return Xo.ByExpiresDescending}}setupFilterForm(t){const n=(0,Re.Ew)(t?.fromDate)?this.systemClock.now().minus({month:1}):Gn.ou.fromISO(t.fromDate),c=(0,Re.Ew)(t?.toDate)?this.systemClock.now().plus({month:1}):Gn.ou.fromISO(t.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[n,[Re.eC]],toDate:[c],query:[this.resourceName||""],page:[t?.page||1],pageSize:[t?.pageSize>1e3?1e3:t?.pageSize||25],sortCriteria:[t?.sortCriteria||Xo.ByExpiresDescending]},{validators:Re.sY}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e1),e.Y36(un.An),e.Y36(nn.F0),e.Y36(C.qu),e.Y36(nn.gz),e.Y36(Ga.n),e.Y36(Bi.Z),e.Y36(In.I),e.Y36(O.T),e.Y36(t1))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sessionmanagement"]],standalone:!0,features:[e._Bn([e1]),e.jDz],decls:56,vars:42,consts:[["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/4"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],["pageLength",""],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["sortCriteria",""],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"disabled","click"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"title","modalId","actions","modalType","onCancel","onDelete"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],["filterValue",""],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"totalResults","currentPage","lastPage","onGoToPage"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div"),e._UZ(10,"app-date-time",7),e.YNc(11,gf,3,3,"span",8),e.qZA()()(),e.TgZ(12,"div",4)(13,"div",5)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div"),e._UZ(18,"app-date-time",10),e.YNc(19,n1,3,3,"span",11),e.qZA()()(),e.TgZ(20,"div",12)(21,"div",5)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",14)(26,"select",15,16)(28,"option",17),e._uU(29,"25 "),e.qZA(),e.TgZ(30,"option",17),e._uU(31,"50"),e.qZA(),e.TgZ(32,"option",17),e._uU(33,"100"),e.qZA()()()()()(),e.YNc(34,i1,8,6,"div",18),e.TgZ(35,"div",19),e._UZ(36,"input",20,21),e.TgZ(38,"button",22),e.NdJ("click",function(){return n.applyForm(!0)}),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"button",23),e.NdJ("click",function(){return n.resetForm()}),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.YNc(44,Jd,4,3,"p",24),e.qZA()()(),e.YNc(45,_f,1,0,"app-simple-loader",25),e.YNc(46,ZA,4,3,"div",26),e.YNc(47,x0,6,19,"app-data-table",27),e.YNc(48,r1,1,3,"app-pager",28),e.qZA(),e.TgZ(49,"app-custom-modal",29),e.NdJ("onCancel",function(){return n.closeDeleteModal()})("onDelete",function(){return n.removeSession()}),e.TgZ(50,"div",30)(51,"p",31),e._uU(52),e.ALo(53,"translate"),e.qZA(),e._UZ(54,"p",32),e.ALo(55,"translate"),e.qZA()()),2&t){let c;e.xp6(1),e.Q6J("formGroup",n.filterForm),e.xp6(6),e.Oqu(e.lcZ(8,26,"SessionManagement.Created")),e.xp6(3),e.Q6J("displayType","date"),e.xp6(1),e.Q6J("ngIf",n.filterForm.get("fromDate").hasError("dateInFuture")),e.xp6(4),e.Oqu(e.lcZ(16,28,"SessionManagement.Expires")),e.xp6(3),e.Q6J("displayType","date"),e.xp6(1),e.Q6J("ngIf",n.filterForm.hasError("fromDateIsAfterToDate")),e.xp6(4),e.Oqu(e.lcZ(24,30,"Auditing.ResultsPerPage")),e.xp6(5),e.Q6J("value",25),e.xp6(2),e.Q6J("value",50),e.xp6(2),e.Q6J("value",100),e.xp6(2),e.Q6J("ngIf",!n.resourceOnly()),e.xp6(4),e.Q6J("disabled",(null==n.filterForm?null:n.filterForm.errors)||(null==(c=n.filterForm.get("fromDate"))?null:c.hasError("dateInFuture"))),e.xp6(1),e.hij(" ",e.lcZ(40,32,"Auditing.ExecuteAndDisplay")," "),e.xp6(3),e.hij(" ",e.lcZ(43,34,"Auditing.Reset")," "),e.xp6(2),e.Q6J("ngIf",n.filterHasChanged),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)<1&&!n.isLoading),e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading),e.xp6(1),e.Q6J("title","Settings.Keys.DeleteKey")("modalId",n.deleteModalId)("actions",e.VKq(40,xc,n.modelActions.Delete))("modalType",n.deleteModalType),e.xp6(3),e.Oqu(e.lcZ(53,36,"Common.Delete.AreYouSureSimple")),e.xp6(2),e.Q6J("innerHTML",e.lcZ(55,38,"Common.Delete.Warning"),e.oJD)}},dependencies:[N.ez,N.O5,wt.aw,wt.X$,nn.Bz,_u.U,z.P,vu.D,ml.s,io.w,C.UX,C._Y,C.YN,C.Kr,C.Fj,C.EJ,C.JJ,C.JL,C.sg,C.u,Sc.T,ol.j,Jl.t,Mr.Qj,fl.E,ff.d,Fs.R],encapsulation:2}),i})();const yf=function(){return["active"]};function Cf(i,o){1&i&&(e.TgZ(0,"ul",10),e.ALo(1,"translate"),e.TgZ(2,"li",11)(3,"button",12),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"li",11)(7,"button",13),e._uU(8),e.ALo(9,"translate"),e.qZA()()()),2&i&&(e.uIk("aria-label",e.lcZ(1,5,"Nav.SubMenu")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(11,yf)),e.xp6(1),e.Oqu(e.lcZ(5,7,"Nav.Users")),e.xp6(3),e.Q6J("routerLinkActive",e.DdM(12,yf)),e.xp6(1),e.Oqu(e.lcZ(9,9,"Nav.SessionManagement")))}let FA=(()=>{class i{constructor(t,n,c){this.r=t,this.route=n,this.configService=c}ngOnInit(){this.configService.getConfig().subscribe(t=>{this.showSessionManagement=t.featureFlagOptions.sessionManagementEnabled})}mobRoute(t){this.r.navigate([t],{relativeTo:this.route})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(nn.F0),e.Y36(nn.gz),e.Y36(wo.E))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(t,n){1&t&&(e.TgZ(0,"app-title-bar",0),e.ALo(1,"translate"),e.ynx(2,1),e.TgZ(3,"div",2)(4,"label",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",4)(8,"select",5),e.NdJ("change",function(m){return n.mobRoute(m.target.value)}),e.TgZ(9,"option",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"option",6),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"option",7),e._uU(16),e.ALo(17,"translate"),e.qZA()()()(),e.YNc(18,Cf,10,13,"ul",8),e.BQk(),e.qZA(),e.TgZ(19,"div",9),e._UZ(20,"router-outlet"),e.qZA()),2&t&&(e.Q6J("hasTabs",!0)("title",e.lcZ(1,7,"Nav.Users")),e.xp6(5),e.Oqu(e.lcZ(6,9,"Nav.SubMenu")),e.xp6(5),e.hij("",e.lcZ(11,11,"Nav.SubMenu"),"..."),e.xp6(3),e.Oqu(e.lcZ(14,13,"Nav.Users")),e.xp6(3),e.Oqu(e.lcZ(17,15,"Nav.SessionManagement")),e.xp6(2),e.Q6J("ngIf",n.showSessionManagement))},dependencies:[N.O5,C.YN,C.Kr,Z.G,nn.lC,nn.rH,nn.Od,wt.X$],encapsulation:2}),i})(),o1=(()=>{class i{constructor(t,n){this.router=t,this.config=n}canActivate(t,n){return this.config.getConfig().pipe((0,Wi.P)(),(0,se.U)(c=>(c?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(nn.F0),e.LFG(wo.E))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const D0=[{path:"",component:M_},{path:"initial-admin-creation",component:C0,canActivate:[Vs],data:{permissions:[dt.y[dt.y.All]]}},{path:"home",component:Zo,canActivate:[Vs]},{path:"settings",component:Yw,children:[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:kh,canDeactivate:[Lr.I],resolve:{accessPolicyObject:jh}},{path:"webhooks",component:Ao,canDeactivate:[Lr.I],resolve:{webhookResolverObject:hf}},{path:"keys",component:Lv,canDeactivate:[Lr.I]}],canActivate:[Vs,T0],canDeactivate:[Lr.I],data:{permissions:[dt.y[dt.y.All]]}},{path:"users",component:FA,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Sm},{path:"sessions",component:vf,canActivate:[o1]}],canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.UserManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"users/:Id",component:Uc,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:jy,canDeactivate:[Lr.I]},{path:"roles",component:Sa},{path:"additionaldetails",component:sg,canDeactivate:[Lr.I]},{path:"applications",component:QT},{path:"userlogins",component:jw},{path:"useraudits",component:Z_.L},{path:"sessions",component:vf,canActivate:[o1]}],resolve:{user:zc.L},canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.All]]}},{path:"users/view/:Id",loadChildren:()=>g.e(969).then(g.bind(g,4969)).then(i=>i.ViewUsersModule),component:fu,canActivate:[Vs],resolve:{user:zc.L},data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.UserManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"roles",component:Wo,canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.UserManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"roles/:Id",component:Bu,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:wb,canDeactivate:[Lr.I]},{path:"users",component:Vb,canDeactivate:[Lr.I]}],resolve:{role:Yu.O},canDeactivate:[Lr.I],canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.All]]}},{path:"roles/view/:Id",component:Bv,loadChildren:()=>g.e(333).then(g.bind(g,7333)).then(i=>i.ViewRolesModule),resolve:{role:Yu.O},canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.UserManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"identityresources",component:hh,canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.IdentityServerManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"identityresources/:Id",component:gw,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:z_,canDeactivate:[Lr.I]},{path:"claims",component:cb},{path:"properties",component:Nv}],resolve:{resource:_h},canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.All]]}},{path:"identityresources/view/:Id",component:mu,loadChildren:()=>g.e(451).then(g.bind(g,451)).then(i=>i.ViewIdentityResourcesModule),resolve:{resource:_h},canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.IdentityServerManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"protectedresources",component:hc,canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.IdentityServerManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"protectedresources/:Id",component:Gg,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ub,canDeactivate:[Lr.I]},{path:"scopes",component:Ld},{path:"claims",component:yb},{path:"secrets",component:du},{path:"properties",component:kv}],resolve:{resource:hl},canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.All]]}},{path:"protectedresources/view/:Id",component:l0.A,loadChildren:()=>g.e(785).then(g.bind(g,2785)).then(i=>i.ViewProtectedResourceModule),resolve:{resource:hl},canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.IdentityServerManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"clients",component:Hg,canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.IdentityServerManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"clients/:Id",component:jg,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:__},{path:"applicationurls",component:Sd},{path:"secrets",component:v_},{path:"resources",component:kw,children:[{path:"identity",component:Sv,data:{resourceType:Fd.P.Identity}},{path:"protected",component:Sv,data:{resourceType:Fd.P.Protected}}]},{path:"advanced",component:Rw.U,children:[{path:"consent",component:Av},{path:"tokens",component:Ow},{path:"refreshtokens",component:e0},{path:"singlesignout",component:t0},{path:"deviceflow",component:n0},{path:"pkce",component:Iv},{path:"claims",component:Ah},{path:"granttypes",component:Sh},{path:"identityproviders",component:kA},{path:"properties",component:mv},{path:"other",component:Ov}]},{path:"wsfed",component:B_,resolve:{relyingParty:V_.U},children:[{path:"general",component:Tv},{path:"claimmappings",component:Yh}]},{path:"saml",component:G_,resolve:{serviceProvider:Q_.d},children:[{path:"acsendpoints",component:Gs,data:{endpointType:"acs"}},{path:"sloendpoints",component:Gs,data:{endpointType:"slo"}},{path:"arsendpoints",component:Gs,data:{endpointType:"ars"}},{path:"claimmappings",component:Yh},{path:"request",component:bv},{path:"response",component:Xh},{path:"advanced",component:bc}]},{path:"clientaudits",component:F_.J},{path:"ciba",component:Ac}],canDeactivate:[Lr.I],resolve:{client:uh.A},canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.All]]}},{path:"clients/view/:Id",component:Bd,loadChildren:()=>g.e(133).then(g.bind(g,9133)).then(i=>i.ViewClientModule),resolve:{client:uh.A},canActivate:[Vs],data:{permissions:[dt.y[dt.y.IdentityServerManager],dt.y[dt.y.IdentityServerManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"claim-types",component:My,canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.UserManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"claim-types/:Id",component:Um,resolve:{resource:Yc.F},canDeactivate:[Lr.I],canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>g.e(233).then(g.bind(g,6233)).then(i=>i.ClaimTypesModule),resolve:{resource:Yc.F},canActivate:[Vs],data:{permissions:[dt.y[dt.y.UserManager],dt.y[dt.y.UserManagerReadOnly],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"auditing",component:U_,canActivate:[Vs],data:{permissions:[dt.y[dt.y.Auditer],dt.y[dt.y.AllReadOnly],dt.y[dt.y.All]]}},{path:"unauthorized",component:Aa},{path:"forbidden",component:Ns},{path:"auth",component:zg,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:Kw,canActivate:[Vs]},{path:"**",component:xm,canActivate:[Vs]}];var Dc=g(7023),wf=g(8265),E0=g(85),bf=g(4362),ql=g(5084),yu=g(4022),Cu=g(7770),Ec=g(6980),Ic=g(9650),I0=g(2147);let qd=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Yc.F],imports:[N.ez,C.u5,C.UX,qc,ir.z8,gi.zk,nn.Bz,wt.aw,Dc._,un.fQ,ql.y,_u.U,yu.p,Cu.t,ml.s,Ec.K,Ic.I,I0.l]}),i})(),M0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[zc.L,E0.e],imports:[N.ez,C.u5,C.UX,gi.zk,vu.D,wt.aw,wf.j,ir.z8,Dc._,un.fQ,bf.l,ql.y,_u.U,yu.p,Cu.t,ml.s,Ec.K,Ic.I,Sc.T,nn.Bz,vf,qd]}),i})();var Tf=g(1230);let a1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Yu.O],imports:[N.ez,C.u5,C.UX,gi.zk,vu.D,nn.Bz,wt.aw,Dc._,un.fQ,ql.y,_u.U,yu.p,Cu.t,ml.s,Tf.M,Ec.K,Ic.I]}),i})();var l1=g(8761),Af=g(8192),O0=g(1436),N0=g(6493);let BA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[_h,hl],imports:[N.ez,nn.Bz,wt.aw,C.u5,vu.D,C.UX,Ir.P4,ir.z8,l1.W,wf.j,Dc._,no.fx,gi.zk,Af.h,un.fQ,ql.y,_u.U,yu.p,Cu.t,ml.s,Ec.K,Ic.I,O0.W,N0.l]}),i})();var c1=g(4035);class VA extends un.DJ{constructor(o,t,n,c,m="assets/locales.json"){super(o,t,n),this.http=c,this.path=m}load(o){return new Promise(t=>{this.http.get(`${this.path}`).subscribe(n=>{this.locales=n.locales,this.prefix=n.prefix||"",this.escapePrefix=n.escapePrefix||"",this.init(o).then(t)})})}}let HA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[jh,Ed,In.I,so.M,A.f,tf,hf,Ga.n],imports:[N.ez,C.u5,C.UX,gi.zk,wt.aw,vu.D,nn.Bz,wf.j,Dc._,un.fQ,ql.y,Jl.t,_u.U,ml.s,yu.p,Ec.K,Ic.I,ff.d,Sc.T,Tf.M,qd]}),i})(),JA=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[wt.aw,bf.l,nn.Bz,ql.y,Sc.T]}),i})();var qA=g(1274),ea=g(4968),u1=g(8421),k0=g(5797),R0=g(5403);g(1135);var jd=g(3269);function bu(...i){const o=(0,jd.jO)(i),t=(0,k0.k)(i);return t.length?new Bc.y(n=>{let c=t.map(()=>[]),m=t.map(()=>!1);n.add(()=>{c=m=null});for(let M=0;!n.closed&&M<t.length;M++)(0,u1.Xf)(t[M]).subscribe((0,R0.x)(n,Q=>{if(c[M].push(Q),c.every(ue=>ue.length)){const ue=c.map(Pe=>Pe.shift());n.next(o?o(...ue):ue),c.some((Pe,at)=>!Pe.length&&m[at])&&n.complete()}},()=>{m[M]=!0,!c[M].length&&n.complete()}));return()=>{c=m=null}}):El.E}var d1=g(7272),Cr=g(2722),$d=g(1365);Math,Math,Math;const lS=["*"],jf=["dialog"];function hT(i){return"string"==typeof i}function Du(i){return null!=i}function tp(i){return(i||document.body).getBoundingClientRect()}const mS={animation:!0,transitionTimerDelayMs:5},f2=()=>{},{transitionTimerDelayMs:m2}=mS,Kf=new Map,Jo=(i,o,t,n)=>{let c=n.context||{};const m=Kf.get(o);if(m)switch(n.runningTransition){case"continue":return El.E;case"stop":i.run(()=>m.transition$.complete()),c=Object.assign(m.context,c),Kf.delete(o)}const M=t(o,n.animation,c)||f2;if(!n.animation||"none"===window.getComputedStyle(o).transitionProperty)return i.run(()=>M()),(0,al.of)(void 0).pipe(function p2(i){return o=>new Bc.y(t=>o.subscribe({next:M=>i.run(()=>t.next(M)),error:M=>i.run(()=>t.error(M)),complete:()=>i.run(()=>t.complete())}))}(i));const Q=new xi.x,ue=new xi.x,Pe=Q.pipe(function $A(...i){return o=>(0,d1.z)(o,(0,al.of)(...i))}(!0));Kf.set(o,{transition$:Q,complete:()=>{ue.next(),ue.complete()},context:c});const at=function h2(i){const{transitionDelay:o,transitionDuration:t}=window.getComputedStyle(i);return 1e3*(parseFloat(o)+parseFloat(t))}(o);return i.runOutsideAngular(()=>{const Nt=(0,ea.R)(o,"transitionend").pipe((0,Cr.R)(Pe),(0,V.h)(({target:zt})=>zt===o));(function wu(...i){return 1===(i=(0,k0.k)(i)).length?(0,u1.Xf)(i[0]):new Bc.y(function jA(i){return o=>{let t=[];for(let n=0;t&&!o.closed&&n<i.length;n++)t.push((0,u1.Xf)(i[n]).subscribe((0,R0.x)(o,c=>{if(t){for(let m=0;m<t.length;m++)m!==n&&t[m].unsubscribe();t=null}o.next(c)})))}}(i))})((0,ap.H)(at+m2).pipe((0,Cr.R)(Pe)),Nt,ue).pipe((0,Cr.R)(Pe)).subscribe(()=>{Kf.delete(o),i.run(()=>{M(),Q.next(),Q.complete()})})}),Q.asObservable()};let k1=(()=>{class i{constructor(){this.animation=mS.animation}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),bS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),SS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),xS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var ro=(()=>{return(i=ro||(ro={}))[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowDown=40]="ArrowDown",ro;var i})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ES=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function IS(i){const o=Array.from(i.querySelectorAll(ES)).filter(t=>-1!==t.tabIndex);return[o[0],o[o.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let US=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez,C.u5]}),i})(),VS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();class Ou{constructor(o,t,n){this.nodes=o,this.viewRef=t,this.componentRef=n}}let oD=(()=>{class i{constructor(t,n){this._el=t,this._zone=n}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{Jo(this._zone,this._el.nativeElement,(t,n)=>{n&&tp(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Jo(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,n){2&t&&(e.Tol("modal-backdrop"+(n.backdropClass?" "+n.backdropClass:"")),e.ekj("show",!n.animation)("fade",n.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();class HS{close(o){}dismiss(o){}}class aD{constructor(o,t,n,c){this._windowCmptRef=o,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=c,this._closed=new xi.x,this._dismissed=new xi.x,this._hidden=new xi.x,o.instance.dismissEvent.subscribe(m=>{this.dismiss(m)}),this.result=new Promise((m,M)=>{this._resolve=m,this._reject=M}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Cr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Cr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(o){this._windowCmptRef&&(this._closed.next(o),this._resolve(o),this._removeModalElements())}_dismiss(o){this._dismissed.next(o),this._reject(o),this._removeModalElements()}dismiss(o){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function fS(i){return i&&i.then}(t)?!1!==t&&this._dismiss(o):t.then(n=>{!1!==n&&this._dismiss(o)},()=>{})}else this._dismiss(o)}_removeModalElements(){const o=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,al.of)(void 0);o.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),bu(o,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var nm=(()=>{return(i=nm||(nm={}))[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",nm;var i})();let lD=(()=>{class i{constructor(t,n,c){this._document=t,this._elRef=n,this._zone=c,this._closed$=new xi.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new xi.x,this.hidden=new xi.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":hT(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,n={animation:this.animation,runningTransition:"stop"},M=bu(Jo(this._zone,t,()=>t.classList.remove("show"),n),Jo(this._zone,this._dialogEl.nativeElement,()=>{},n));return M.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),M}_show(){const t={animation:this.animation,runningTransition:"continue"};bu(Jo(this._zone,this._elRef.nativeElement,(m,M)=>{M&&tp(m),m.classList.add("show")},t),Jo(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{(0,ea.R)(t,"keydown").pipe((0,Cr.R)(this._closed$),(0,V.h)(c=>c.which===ro.Escape)).subscribe(c=>{this.keyboard?requestAnimationFrame(()=>{c.defaultPrevented||this._zone.run(()=>this.dismiss(nm.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let n=!1;(0,ea.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Cr.R)(this._closed$),(0,rm.b)(()=>n=!1),(0,Ju.w)(()=>(0,ea.R)(t,"mouseup").pipe((0,Cr.R)(this._closed$),(0,ae.q)(1))),(0,V.h)(({target:c})=>t===c)).subscribe(()=>{n=!0}),(0,ea.R)(t,"click").pipe((0,Cr.R)(this._closed$)).subscribe(({target:c})=>{t===c&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!n&&this._zone.run(()=>this.dismiss(nm.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const n=t.querySelector("[ngbAutofocus]"),c=IS(t)[0];(n||c||t).focus()}}_restoreFocus(){const t=this._document.body,n=this._elWithFocus;let c;c=n&&n.focus&&t.contains(n)?n:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>c.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Jo(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(N.K0),e.Y36(e.SBq),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(t,n){if(1&t&&e.Gf(jf,7),2&t){let c;e.iGM(c=e.CRH())&&(n._dialogEl=c.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,n){2&t&&(e.uIk("aria-modal",!0)("aria-labelledby",n.ariaLabelledBy)("aria-describedby",n.ariaDescribedBy),e.Tol("modal d-block"+(n.windowClass?" "+n.windowClass:"")),e.ekj("fade",n.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lS,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&e.Tol("modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+n.fullscreenClass+(n.scrollable?" modal-dialog-scrollable":"")+(n.modalDialogClass?" "+n.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),i})(),cD=(()=>{class i{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,c=n.style,{overflow:m,paddingRight:M}=c;if(t>0){const Q=parseFloat(window.getComputedStyle(n).paddingRight);c.paddingRight=`${Q+t}px`}return c.overflow="hidden",()=>{t>0&&(c.paddingRight=M),c.overflow=m}}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(N.K0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uD=(()=>{class i{constructor(t,n,c,m,M,Q){this._applicationRef=t,this._injector=n,this._document=c,this._scrollBar=m,this._rendererFactory=M,this._ngZone=Q,this._activeWindowCmptHasChanged=new xi.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ue=this._windowCmpts[this._windowCmpts.length-1];((i,o,t,n=!1)=>{this._ngZone.runOutsideAngular(()=>{const c=(0,ea.R)(o,"focusin").pipe((0,Cr.R)(t),(0,se.U)(m=>m.target));(0,ea.R)(o,"keydown").pipe((0,Cr.R)(t),(0,V.h)(m=>m.which===ro.Tab),(0,$d.M)(c)).subscribe(([m,M])=>{const[Q,ue]=IS(o);(M===Q||M===o)&&m.shiftKey&&(ue.focus(),m.preventDefault()),M===ue&&!m.shiftKey&&(Q.focus(),m.preventDefault())}),n&&(0,ea.R)(o,"click").pipe((0,Cr.R)(t),(0,$d.M)(c),(0,se.U)(m=>m[1])).subscribe(m=>m.focus())})})(0,ue.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ue.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,n,c){const m=c.container instanceof HTMLElement?c.container:Du(c.container)?this._document.querySelector(c.container):this._document.body,M=this._rendererFactory.createRenderer(null,null);if(!m)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Q=new HS,ue=this._getContentRef(c.injector||t,n,Q,c);let Pe=!1!==c.backdrop?this._attachBackdrop(m):void 0,at=this._attachWindowComponent(m,ue.nodes),Nt=new aD(at,ue,Pe,c.beforeDismiss);return this._registerModalRef(Nt),this._registerWindowCmpt(at),Nt.hidden.pipe((0,ae.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(M.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Q.close=Jt=>{Nt.close(Jt)},Q.dismiss=Jt=>{Nt.dismiss(Jt)},this._applyWindowOptions(at.instance,c),1===this._modalRefs.length&&M.addClass(this._document.body,"modal-open"),Pe&&Pe.instance&&(this._applyBackdropOptions(Pe.instance,c),Pe.changeDetectorRef.detectChanges()),at.changeDetectorRef.detectChanges(),Nt}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(n=>n.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let n=(0,e.LMc)(oD,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,n){let c=(0,e.LMc)(lD,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(c.hostView),t.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,n){this._windowAttributes.forEach(c=>{Du(n[c])&&(t[c]=n[c])})}_applyBackdropOptions(t,n){this._backdropAttributes.forEach(c=>{Du(n[c])&&(t[c]=n[c])})}_getContentRef(t,n,c,m){return n?n instanceof e.Rgc?this._createFromTemplateRef(n,c):hT(n)?this._createFromString(n):this._createFromComponent(t,n,c,m):new Ou([])}_createFromTemplateRef(t,n){const m=t.createEmbeddedView({$implicit:n,close(M){n.close(M)},dismiss(M){n.dismiss(M)}});return this._applicationRef.attachView(m),new Ou([m.rootNodes],m)}_createFromString(t){const n=this._document.createTextNode(`${t}`);return new Ou([[n]])}_createFromComponent(t,n,c,m){const M=e.zs3.create({providers:[{provide:HS,useValue:c}],parent:t}),Q=(0,e.LMc)(n,{environmentInjector:this._applicationRef.injector,elementInjector:M}),ue=Q.location.nativeElement;return m.scrollable&&ue.classList.add("component-host-scrollable"),this._applicationRef.attachView(Q.hostView),new Ou([[ue]],Q.hostView,Q)}_setAriaHidden(t){const n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(c=>{c!==t&&"SCRIPT"!==c.nodeName&&(this._ariaHiddenValues.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,n)=>{t?n.setAttribute("aria-hidden",t):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const n=()=>{const c=this._modalRefs.indexOf(t);c>-1&&(this._modalRefs.splice(c,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const n=this._windowCmpts.indexOf(t);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(N.K0),e.LFG(cD),e.LFG(e.FYo),e.LFG(e.R0b))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),dD=(()=>{class i{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(k1))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pD=(()=>{class i{constructor(t,n,c){this._injector=t,this._modalStack=n,this._config=c}open(t,n={}){const c={...this._config,animation:this._config.animation,...n};return this._modalStack.open(this._injector,t,c)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.zs3),e.LFG(uD),e.LFG(dD))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),JS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[pD]}),i})(),WS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),tx=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),ix=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),sx=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),rx=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),ox=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),ax=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),lx=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();new e.OlP("live announcer delay",{providedIn:"root",factory:function SD(){return 100}});let cx=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[N.ez]}),i})(),ux=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();const xD=[wS,bS,SS,xS,US,VS,JS,WS,ux,tx,ix,sx,rx,ox,ax,lx,cx];let DD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[xD,wS,bS,SS,xS,US,VS,JS,WS,ux,tx,ix,sx,rx,ox,ax,lx,cx]}),i})();var ED=g(1888);let ID=(()=>{class i{intercept(t,n){if("https://www.identityserver.com/rss"===t.url)return n.handle(t);const c=(0,Re.SV)(),m=t.clone({url:`${c}${t.url}`});return n.handle(m)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();class MD{constructor(o,t="/assets/i18n/",n=".json"){this.http=o,this.prefix=t,this.suffix=n}getTranslation(o){return this.http.get(`${this.prefix}${o}${this.suffix}`)}}var OD=g(2843);let dx=(()=>{class i{}return i.EnforcerCompilationError=599,i.ExpiredTokenRedirect=413,i})(),ND=(()=>{class i{constructor(t,n,c,m){this.router=t,this.localizeRouterService=n,this.appComponentViewService=c,this.securityService=m}intercept(t,n){return n.handle(t).pipe((0,cc.K)(c=>{if(c.status===dx.ExpiredTokenRedirect)return this.securityService.startLogin(),au;if(c.status===dx.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const m=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([m],{state:{enforcer:!0}}),au}return(0,OD._)(()=>c)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(nn.F0),e.LFG(un.An),e.LFG(qr.t),e.LFG(In.I))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function kD(i,o,t,n){return new VA(i,o,t,n,"resources/locales.json?cb="+q)}function RD(i){return new MD(i,"./resources/",".json?cb="+q)}let PD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[$o]}),i.\u0275inj=e.cJS({providers:[t1,qh.$,ps.K,In.I,Vs,A.f,yc.s,so.M,ge.VK,zc.L,Yu.O,Yc.F,Fn.Q,Oo.m,un.An,zn,rs,wt.sK,oa.E,wo.E,Ol.n,O.T,ED.B,Vd,{provide:x.TP,useClass:ID,multi:!0},{provide:x.TP,useClass:ND,multi:!0}],imports:[a.b2,C.u5,C.UX,Tn,x.JF,vu.D,M0,a1,c1.V,BA,wt.aw,Dc._,Af.h,wt.aw.forRoot({loader:{provide:wt.Zw,useFactory:RD,deps:[x.eN]}}),un.fQ.forRoot(D0,{parser:{provide:un.DJ,useFactory:kD,deps:[wt.sK,N.Ye,un.uh,x.eN]}}),nn.Bz.forRoot(D0,{scrollPositionRestoration:"enabled"}),gi.zk.forRoot(),Ir.P4.forRoot(),ir.z8.forRoot(),no.fx.forRoot(),qd,Rn.Rh.forRoot(),HA,JA,qA.T,DD,ml.s,Jl.t,ff.d,Ic.I,Sc.T,nn.Bz,un.fQ]}),i})();(0,e.G48)(),a.q6().bootstrapModule(PD)},5343:(it,oe)=>{"use strict";oe.byteLength=function _(K){var G=S(K),le=G[1];return 3*(G[0]+le)/4-le},oe.toByteArray=function R(K){var G,re,j=S(K),le=j[0],Ee=j[1],ve=new e(function U(K,G,j){return 3*(G+j)/4-j}(0,le,Ee)),ye=0,we=Ee>0?le-4:le;for(re=0;re<we;re+=4)G=a[K.charCodeAt(re)]<<18|a[K.charCodeAt(re+1)]<<12|a[K.charCodeAt(re+2)]<<6|a[K.charCodeAt(re+3)],ve[ye++]=G>>16&255,ve[ye++]=G>>8&255,ve[ye++]=255&G;return 2===Ee&&(G=a[K.charCodeAt(re)]<<2|a[K.charCodeAt(re+1)]>>4,ve[ye++]=255&G),1===Ee&&(G=a[K.charCodeAt(re)]<<10|a[K.charCodeAt(re+1)]<<4|a[K.charCodeAt(re+2)]>>2,ve[ye++]=G>>8&255,ve[ye++]=255&G),ve},oe.fromByteArray=function F(K){for(var G,j=K.length,le=j%3,Ee=[],ye=0,we=j-le;ye<we;ye+=16383)Ee.push(B(K,ye,ye+16383>we?we:ye+16383));return 1===le?Ee.push(g[(G=K[j-1])>>2]+g[G<<4&63]+"=="):2===le&&Ee.push(g[(G=(K[j-2]<<8)+K[j-1])>>10]+g[G>>4&63]+g[G<<2&63]+"="),Ee.join("")};for(var g=[],a=[],e=typeof Uint8Array<"u"?Uint8Array:Array,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0,T=C.length;x<T;++x)g[x]=C[x],a[C.charCodeAt(x)]=x;function S(K){var G=K.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var j=K.indexOf("=");return-1===j&&(j=G),[j,j===G?0:4-j%4]}function y(K){return g[K>>18&63]+g[K>>12&63]+g[K>>6&63]+g[63&K]}function B(K,G,j){for(var Ee=[],ve=G;ve<j;ve+=3)Ee.push(y((K[ve]<<16&16711680)+(K[ve+1]<<8&65280)+(255&K[ve+2])));return Ee.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},3172:(it,oe,g)=>{"use strict";const e=g(5343),C=g(8461),x="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;oe.lW=U,oe.h2=50;const T=2147483647;function _(P){if(P>T)throw new RangeError('The value "'+P+'" is invalid for option "size"');const D=new Uint8Array(P);return Object.setPrototypeOf(D,U.prototype),D}function U(P,D,k){if("number"==typeof P){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return F(P)}return R(P,D,k)}function R(P,D,k){if("string"==typeof P)return function K(P,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!U.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const k=0|we(P,D);let pe=_(k);const Le=pe.write(P,D);return Le!==k&&(pe=pe.slice(0,Le)),pe}(P,D);if(ArrayBuffer.isView(P))return function j(P){if(Ke(P,Uint8Array)){const D=new Uint8Array(P);return le(D.buffer,D.byteOffset,D.byteLength)}return G(P)}(P);if(null==P)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Ke(P,ArrayBuffer)||P&&Ke(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ke(P,SharedArrayBuffer)||P&&Ke(P.buffer,SharedArrayBuffer)))return le(P,D,k);if("number"==typeof P)throw new TypeError('The "value" argument must not be of type number. Received type number');const pe=P.valueOf&&P.valueOf();if(null!=pe&&pe!==P)return U.from(pe,D,k);const Le=function Ee(P){if(U.isBuffer(P)){const D=0|ve(P.length),k=_(D);return 0===k.length||P.copy(k,0,0,D),k}return void 0!==P.length?"number"!=typeof P.length||Zt(P.length)?_(0):G(P):"Buffer"===P.type&&Array.isArray(P.data)?G(P.data):void 0}(P);if(Le)return Le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof P[Symbol.toPrimitive])return U.from(P[Symbol.toPrimitive]("string"),D,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function y(P){if("number"!=typeof P)throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function F(P){return y(P),_(P<0?0:0|ve(P))}function G(P){const D=P.length<0?0:0|ve(P.length),k=_(D);for(let pe=0;pe<D;pe+=1)k[pe]=255&P[pe];return k}function le(P,D,k){if(D<0||P.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<D+(k||0))throw new RangeError('"length" is outside of buffer bounds');let pe;return pe=void 0===D&&void 0===k?new Uint8Array(P):void 0===k?new Uint8Array(P,D):new Uint8Array(P,D,k),Object.setPrototypeOf(pe,U.prototype),pe}function ve(P){if(P>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|P}function we(P,D){if(U.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||Ke(P,ArrayBuffer))return P.byteLength;if("string"!=typeof P)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const k=P.length,pe=arguments.length>2&&!0===arguments[2];if(!pe&&0===k)return 0;let Le=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return Ct(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*k;case"hex":return k>>>1;case"base64":return Mt(P).length;default:if(Le)return pe?-1:Ct(P).length;D=(""+D).toLowerCase(),Le=!0}}function re(P,D,k){let pe=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===k||k>this.length)&&(k=this.length),k<=0)||(k>>>=0)<=(D>>>=0))return"";for(P||(P="utf8");;)switch(P){case"hex":return mt(this,D,k);case"utf8":case"utf-8":return fe(this,D,k);case"ascii":return et(this,D,k);case"latin1":case"binary":return Qe(this,D,k);case"base64":return Me(this,D,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,D,k);default:if(pe)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),pe=!0}}function ce(P,D,k){const pe=P[D];P[D]=P[k],P[k]=pe}function Ie(P,D,k,pe,Le){if(0===P.length)return-1;if("string"==typeof k?(pe=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),Zt(k=+k)&&(k=Le?0:P.length-1),k<0&&(k=P.length+k),k>=P.length){if(Le)return-1;k=P.length-1}else if(k<0){if(!Le)return-1;k=0}if("string"==typeof D&&(D=U.from(D,pe)),U.isBuffer(D))return 0===D.length?-1:ke(P,D,k,pe,Le);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?Le?Uint8Array.prototype.indexOf.call(P,D,k):Uint8Array.prototype.lastIndexOf.call(P,D,k):ke(P,[D],k,pe,Le);throw new TypeError("val must be string, number or Buffer")}function ke(P,D,k,pe,Le){let Bt,He=1,lt=P.length,Ut=D.length;if(void 0!==pe&&("ucs2"===(pe=String(pe).toLowerCase())||"ucs-2"===pe||"utf16le"===pe||"utf-16le"===pe)){if(P.length<2||D.length<2)return-1;He=2,lt/=2,Ut/=2,k/=2}function dn(Qt,Yt){return 1===He?Qt[Yt]:Qt.readUInt16BE(Yt*He)}if(Le){let Qt=-1;for(Bt=k;Bt<lt;Bt++)if(dn(P,Bt)===dn(D,-1===Qt?0:Bt-Qt)){if(-1===Qt&&(Qt=Bt),Bt-Qt+1===Ut)return Qt*He}else-1!==Qt&&(Bt-=Bt-Qt),Qt=-1}else for(k+Ut>lt&&(k=lt-Ut),Bt=k;Bt>=0;Bt--){let Qt=!0;for(let Yt=0;Yt<Ut;Yt++)if(dn(P,Bt+Yt)!==dn(D,Yt)){Qt=!1;break}if(Qt)return Bt}return-1}function Ae(P,D,k,pe){k=Number(k)||0;const Le=P.length-k;pe?(pe=Number(pe))>Le&&(pe=Le):pe=Le;const He=D.length;let lt;for(pe>He/2&&(pe=He/2),lt=0;lt<pe;++lt){const Ut=parseInt(D.substr(2*lt,2),16);if(Zt(Ut))return lt;P[k+lt]=Ut}return lt}function Ze(P,D,k,pe){return Oe(Ct(D,P.length-k),P,k,pe)}function me(P,D,k,pe){return Oe(function nt(P){const D=[];for(let k=0;k<P.length;++k)D.push(255&P.charCodeAt(k));return D}(D),P,k,pe)}function he(P,D,k,pe){return Oe(Mt(D),P,k,pe)}function Y(P,D,k,pe){return Oe(function Ye(P,D){let k,pe,Le;const He=[];for(let lt=0;lt<P.length&&!((D-=2)<0);++lt)k=P.charCodeAt(lt),pe=k>>8,Le=k%256,He.push(Le),He.push(pe);return He}(D,P.length-k),P,k,pe)}function Me(P,D,k){return e.fromByteArray(0===D&&k===P.length?P:P.slice(D,k))}function fe(P,D,k){k=Math.min(P.length,k);const pe=[];let Le=D;for(;Le<k;){const He=P[Le];let lt=null,Ut=He>239?4:He>223?3:He>191?2:1;if(Le+Ut<=k){let dn,Bt,Qt,Yt;switch(Ut){case 1:He<128&&(lt=He);break;case 2:dn=P[Le+1],128==(192&dn)&&(Yt=(31&He)<<6|63&dn,Yt>127&&(lt=Yt));break;case 3:dn=P[Le+1],Bt=P[Le+2],128==(192&dn)&&128==(192&Bt)&&(Yt=(15&He)<<12|(63&dn)<<6|63&Bt,Yt>2047&&(Yt<55296||Yt>57343)&&(lt=Yt));break;case 4:dn=P[Le+1],Bt=P[Le+2],Qt=P[Le+3],128==(192&dn)&&128==(192&Bt)&&128==(192&Qt)&&(Yt=(15&He)<<18|(63&dn)<<12|(63&Bt)<<6|63&Qt,Yt>65535&&Yt<1114112&&(lt=Yt))}}null===lt?(lt=65533,Ut=1):lt>65535&&(lt-=65536,pe.push(lt>>>10&1023|55296),lt=56320|1023&lt),pe.push(lt),Le+=Ut}return function Ue(P){const D=P.length;if(D<=4096)return String.fromCharCode.apply(String,P);let k="",pe=0;for(;pe<D;)k+=String.fromCharCode.apply(String,P.slice(pe,pe+=4096));return k}(pe)}function et(P,D,k){let pe="";k=Math.min(P.length,k);for(let Le=D;Le<k;++Le)pe+=String.fromCharCode(127&P[Le]);return pe}function Qe(P,D,k){let pe="";k=Math.min(P.length,k);for(let Le=D;Le<k;++Le)pe+=String.fromCharCode(P[Le]);return pe}function mt(P,D,k){const pe=P.length;(!D||D<0)&&(D=0),(!k||k<0||k>pe)&&(k=pe);let Le="";for(let He=D;He<k;++He)Le+=tt[P[He]];return Le}function $(P,D,k){const pe=P.slice(D,k);let Le="";for(let He=0;He<pe.length-1;He+=2)Le+=String.fromCharCode(pe[He]+256*pe[He+1]);return Le}function be(P,D,k){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+D>k)throw new RangeError("Trying to access beyond buffer length")}function De(P,D,k,pe,Le,He){if(!U.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>Le||D<He)throw new RangeError('"value" argument is out of bounds');if(k+pe>P.length)throw new RangeError("Index out of range")}function qe(P,D,k,pe,Le){At(D,pe,Le,P,k,7);let He=Number(D&BigInt(4294967295));P[k++]=He,He>>=8,P[k++]=He,He>>=8,P[k++]=He,He>>=8,P[k++]=He;let lt=Number(D>>BigInt(32)&BigInt(4294967295));return P[k++]=lt,lt>>=8,P[k++]=lt,lt>>=8,P[k++]=lt,lt>>=8,P[k++]=lt,k}function ct(P,D,k,pe,Le){At(D,pe,Le,P,k,7);let He=Number(D&BigInt(4294967295));P[k+7]=He,He>>=8,P[k+6]=He,He>>=8,P[k+5]=He,He>>=8,P[k+4]=He;let lt=Number(D>>BigInt(32)&BigInt(4294967295));return P[k+3]=lt,lt>>=8,P[k+2]=lt,lt>>=8,P[k+1]=lt,lt>>=8,P[k]=lt,k+8}function $e(P,D,k,pe,Le,He){if(k+pe>P.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function ut(P,D,k,pe,Le){return D=+D,k>>>=0,Le||$e(P,0,k,4),C.write(P,D,k,pe,23,4),k+4}function Vt(P,D,k,pe,Le){return D=+D,k>>>=0,Le||$e(P,0,k,8),C.write(P,D,k,pe,52,8),k+8}!(U.TYPED_ARRAY_SUPPORT=function S(){try{const P=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(P,D),42===P.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(U.prototype,"parent",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.buffer}}),Object.defineProperty(U.prototype,"offset",{enumerable:!0,get:function(){if(U.isBuffer(this))return this.byteOffset}}),U.poolSize=8192,U.from=function(P,D,k){return R(P,D,k)},Object.setPrototypeOf(U.prototype,Uint8Array.prototype),Object.setPrototypeOf(U,Uint8Array),U.alloc=function(P,D,k){return function B(P,D,k){return y(P),P<=0?_(P):void 0!==D?"string"==typeof k?_(P).fill(D,k):_(P).fill(D):_(P)}(P,D,k)},U.allocUnsafe=function(P){return F(P)},U.allocUnsafeSlow=function(P){return F(P)},U.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==U.prototype},U.compare=function(D,k){if(Ke(D,Uint8Array)&&(D=U.from(D,D.offset,D.byteLength)),Ke(k,Uint8Array)&&(k=U.from(k,k.offset,k.byteLength)),!U.isBuffer(D)||!U.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===k)return 0;let pe=D.length,Le=k.length;for(let He=0,lt=Math.min(pe,Le);He<lt;++He)if(D[He]!==k[He]){pe=D[He],Le=k[He];break}return pe<Le?-1:Le<pe?1:0},U.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},U.concat=function(D,k){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return U.alloc(0);let pe;if(void 0===k)for(k=0,pe=0;pe<D.length;++pe)k+=D[pe].length;const Le=U.allocUnsafe(k);let He=0;for(pe=0;pe<D.length;++pe){let lt=D[pe];if(Ke(lt,Uint8Array))He+lt.length>Le.length?(U.isBuffer(lt)||(lt=U.from(lt)),lt.copy(Le,He)):Uint8Array.prototype.set.call(Le,lt,He);else{if(!U.isBuffer(lt))throw new TypeError('"list" argument must be an Array of Buffers');lt.copy(Le,He)}He+=lt.length}return Le},U.byteLength=we,U.prototype._isBuffer=!0,U.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<D;k+=2)ce(this,k,k+1);return this},U.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<D;k+=4)ce(this,k,k+3),ce(this,k+1,k+2);return this},U.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<D;k+=8)ce(this,k,k+7),ce(this,k+1,k+6),ce(this,k+2,k+5),ce(this,k+3,k+4);return this},U.prototype.toLocaleString=U.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?fe(this,0,D):re.apply(this,arguments)},U.prototype.equals=function(D){if(!U.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===U.compare(this,D)},U.prototype.inspect=function(){let D="";const k=oe.h2;return D=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(D+=" ... "),"<Buffer "+D+">"},x&&(U.prototype[x]=U.prototype.inspect),U.prototype.compare=function(D,k,pe,Le,He){if(Ke(D,Uint8Array)&&(D=U.from(D,D.offset,D.byteLength)),!U.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===k&&(k=0),void 0===pe&&(pe=D?D.length:0),void 0===Le&&(Le=0),void 0===He&&(He=this.length),k<0||pe>D.length||Le<0||He>this.length)throw new RangeError("out of range index");if(Le>=He&&k>=pe)return 0;if(Le>=He)return-1;if(k>=pe)return 1;if(this===D)return 0;let lt=(He>>>=0)-(Le>>>=0),Ut=(pe>>>=0)-(k>>>=0);const dn=Math.min(lt,Ut),Bt=this.slice(Le,He),Qt=D.slice(k,pe);for(let Yt=0;Yt<dn;++Yt)if(Bt[Yt]!==Qt[Yt]){lt=Bt[Yt],Ut=Qt[Yt];break}return lt<Ut?-1:Ut<lt?1:0},U.prototype.includes=function(D,k,pe){return-1!==this.indexOf(D,k,pe)},U.prototype.indexOf=function(D,k,pe){return Ie(this,D,k,pe,!0)},U.prototype.lastIndexOf=function(D,k,pe){return Ie(this,D,k,pe,!1)},U.prototype.write=function(D,k,pe,Le){if(void 0===k)Le="utf8",pe=this.length,k=0;else if(void 0===pe&&"string"==typeof k)Le=k,pe=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(pe)?(pe>>>=0,void 0===Le&&(Le="utf8")):(Le=pe,pe=void 0)}const He=this.length-k;if((void 0===pe||pe>He)&&(pe=He),D.length>0&&(pe<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");let lt=!1;for(;;)switch(Le){case"hex":return Ae(this,D,k,pe);case"utf8":case"utf-8":return Ze(this,D,k,pe);case"ascii":case"latin1":case"binary":return me(this,D,k,pe);case"base64":return he(this,D,k,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,D,k,pe);default:if(lt)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),lt=!0}},U.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},U.prototype.slice=function(D,k){const pe=this.length;(D=~~D)<0?(D+=pe)<0&&(D=0):D>pe&&(D=pe),(k=void 0===k?pe:~~k)<0?(k+=pe)<0&&(k=0):k>pe&&(k=pe),k<D&&(k=D);const Le=this.subarray(D,k);return Object.setPrototypeOf(Le,U.prototype),Le},U.prototype.readUintLE=U.prototype.readUIntLE=function(D,k,pe){D>>>=0,k>>>=0,pe||be(D,k,this.length);let Le=this[D],He=1,lt=0;for(;++lt<k&&(He*=256);)Le+=this[D+lt]*He;return Le},U.prototype.readUintBE=U.prototype.readUIntBE=function(D,k,pe){D>>>=0,k>>>=0,pe||be(D,k,this.length);let Le=this[D+--k],He=1;for(;k>0&&(He*=256);)Le+=this[D+--k]*He;return Le},U.prototype.readUint8=U.prototype.readUInt8=function(D,k){return D>>>=0,k||be(D,1,this.length),this[D]},U.prototype.readUint16LE=U.prototype.readUInt16LE=function(D,k){return D>>>=0,k||be(D,2,this.length),this[D]|this[D+1]<<8},U.prototype.readUint16BE=U.prototype.readUInt16BE=function(D,k){return D>>>=0,k||be(D,2,this.length),this[D]<<8|this[D+1]},U.prototype.readUint32LE=U.prototype.readUInt32LE=function(D,k){return D>>>=0,k||be(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},U.prototype.readUint32BE=U.prototype.readUInt32BE=function(D,k){return D>>>=0,k||be(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},U.prototype.readBigUInt64LE=Ne(function(D){Ge(D>>>=0,"offset");const k=this[D],pe=this[D+7];(void 0===k||void 0===pe)&&xt(D,this.length-8);const Le=k+256*this[++D]+65536*this[++D]+this[++D]*2**24,He=this[++D]+256*this[++D]+65536*this[++D]+pe*2**24;return BigInt(Le)+(BigInt(He)<<BigInt(32))}),U.prototype.readBigUInt64BE=Ne(function(D){Ge(D>>>=0,"offset");const k=this[D],pe=this[D+7];(void 0===k||void 0===pe)&&xt(D,this.length-8);const Le=k*2**24+65536*this[++D]+256*this[++D]+this[++D],He=this[++D]*2**24+65536*this[++D]+256*this[++D]+pe;return(BigInt(Le)<<BigInt(32))+BigInt(He)}),U.prototype.readIntLE=function(D,k,pe){D>>>=0,k>>>=0,pe||be(D,k,this.length);let Le=this[D],He=1,lt=0;for(;++lt<k&&(He*=256);)Le+=this[D+lt]*He;return He*=128,Le>=He&&(Le-=Math.pow(2,8*k)),Le},U.prototype.readIntBE=function(D,k,pe){D>>>=0,k>>>=0,pe||be(D,k,this.length);let Le=k,He=1,lt=this[D+--Le];for(;Le>0&&(He*=256);)lt+=this[D+--Le]*He;return He*=128,lt>=He&&(lt-=Math.pow(2,8*k)),lt},U.prototype.readInt8=function(D,k){return D>>>=0,k||be(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},U.prototype.readInt16LE=function(D,k){D>>>=0,k||be(D,2,this.length);const pe=this[D]|this[D+1]<<8;return 32768&pe?4294901760|pe:pe},U.prototype.readInt16BE=function(D,k){D>>>=0,k||be(D,2,this.length);const pe=this[D+1]|this[D]<<8;return 32768&pe?4294901760|pe:pe},U.prototype.readInt32LE=function(D,k){return D>>>=0,k||be(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},U.prototype.readInt32BE=function(D,k){return D>>>=0,k||be(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},U.prototype.readBigInt64LE=Ne(function(D){Ge(D>>>=0,"offset");const k=this[D],pe=this[D+7];return(void 0===k||void 0===pe)&&xt(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(pe<<24))<<BigInt(32))+BigInt(k+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),U.prototype.readBigInt64BE=Ne(function(D){Ge(D>>>=0,"offset");const k=this[D],pe=this[D+7];(void 0===k||void 0===pe)&&xt(D,this.length-8);const Le=(k<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(Le)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+pe)}),U.prototype.readFloatLE=function(D,k){return D>>>=0,k||be(D,4,this.length),C.read(this,D,!0,23,4)},U.prototype.readFloatBE=function(D,k){return D>>>=0,k||be(D,4,this.length),C.read(this,D,!1,23,4)},U.prototype.readDoubleLE=function(D,k){return D>>>=0,k||be(D,8,this.length),C.read(this,D,!0,52,8)},U.prototype.readDoubleBE=function(D,k){return D>>>=0,k||be(D,8,this.length),C.read(this,D,!1,52,8)},U.prototype.writeUintLE=U.prototype.writeUIntLE=function(D,k,pe,Le){D=+D,k>>>=0,pe>>>=0,Le||De(this,D,k,pe,Math.pow(2,8*pe)-1,0);let He=1,lt=0;for(this[k]=255&D;++lt<pe&&(He*=256);)this[k+lt]=D/He&255;return k+pe},U.prototype.writeUintBE=U.prototype.writeUIntBE=function(D,k,pe,Le){D=+D,k>>>=0,pe>>>=0,Le||De(this,D,k,pe,Math.pow(2,8*pe)-1,0);let He=pe-1,lt=1;for(this[k+He]=255&D;--He>=0&&(lt*=256);)this[k+He]=D/lt&255;return k+pe},U.prototype.writeUint8=U.prototype.writeUInt8=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,1,255,0),this[k]=255&D,k+1},U.prototype.writeUint16LE=U.prototype.writeUInt16LE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,2,65535,0),this[k]=255&D,this[k+1]=D>>>8,k+2},U.prototype.writeUint16BE=U.prototype.writeUInt16BE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,2,65535,0),this[k]=D>>>8,this[k+1]=255&D,k+2},U.prototype.writeUint32LE=U.prototype.writeUInt32LE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,4,4294967295,0),this[k+3]=D>>>24,this[k+2]=D>>>16,this[k+1]=D>>>8,this[k]=255&D,k+4},U.prototype.writeUint32BE=U.prototype.writeUInt32BE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,4,4294967295,0),this[k]=D>>>24,this[k+1]=D>>>16,this[k+2]=D>>>8,this[k+3]=255&D,k+4},U.prototype.writeBigUInt64LE=Ne(function(D,k=0){return qe(this,D,k,BigInt(0),BigInt("0xffffffffffffffff"))}),U.prototype.writeBigUInt64BE=Ne(function(D,k=0){return ct(this,D,k,BigInt(0),BigInt("0xffffffffffffffff"))}),U.prototype.writeIntLE=function(D,k,pe,Le){if(D=+D,k>>>=0,!Le){const dn=Math.pow(2,8*pe-1);De(this,D,k,pe,dn-1,-dn)}let He=0,lt=1,Ut=0;for(this[k]=255&D;++He<pe&&(lt*=256);)D<0&&0===Ut&&0!==this[k+He-1]&&(Ut=1),this[k+He]=(D/lt>>0)-Ut&255;return k+pe},U.prototype.writeIntBE=function(D,k,pe,Le){if(D=+D,k>>>=0,!Le){const dn=Math.pow(2,8*pe-1);De(this,D,k,pe,dn-1,-dn)}let He=pe-1,lt=1,Ut=0;for(this[k+He]=255&D;--He>=0&&(lt*=256);)D<0&&0===Ut&&0!==this[k+He+1]&&(Ut=1),this[k+He]=(D/lt>>0)-Ut&255;return k+pe},U.prototype.writeInt8=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,1,127,-128),D<0&&(D=255+D+1),this[k]=255&D,k+1},U.prototype.writeInt16LE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,2,32767,-32768),this[k]=255&D,this[k+1]=D>>>8,k+2},U.prototype.writeInt16BE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,2,32767,-32768),this[k]=D>>>8,this[k+1]=255&D,k+2},U.prototype.writeInt32LE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,4,2147483647,-2147483648),this[k]=255&D,this[k+1]=D>>>8,this[k+2]=D>>>16,this[k+3]=D>>>24,k+4},U.prototype.writeInt32BE=function(D,k,pe){return D=+D,k>>>=0,pe||De(this,D,k,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[k]=D>>>24,this[k+1]=D>>>16,this[k+2]=D>>>8,this[k+3]=255&D,k+4},U.prototype.writeBigInt64LE=Ne(function(D,k=0){return qe(this,D,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),U.prototype.writeBigInt64BE=Ne(function(D,k=0){return ct(this,D,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),U.prototype.writeFloatLE=function(D,k,pe){return ut(this,D,k,!0,pe)},U.prototype.writeFloatBE=function(D,k,pe){return ut(this,D,k,!1,pe)},U.prototype.writeDoubleLE=function(D,k,pe){return Vt(this,D,k,!0,pe)},U.prototype.writeDoubleBE=function(D,k,pe){return Vt(this,D,k,!1,pe)},U.prototype.copy=function(D,k,pe,Le){if(!U.isBuffer(D))throw new TypeError("argument should be a Buffer");if(pe||(pe=0),!Le&&0!==Le&&(Le=this.length),k>=D.length&&(k=D.length),k||(k=0),Le>0&&Le<pe&&(Le=pe),Le===pe||0===D.length||0===this.length)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(pe<0||pe>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),D.length-k<Le-pe&&(Le=D.length-k+pe);const He=Le-pe;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(k,pe,Le):Uint8Array.prototype.set.call(D,this.subarray(pe,Le),k),He},U.prototype.fill=function(D,k,pe,Le){if("string"==typeof D){if("string"==typeof k?(Le=k,k=0,pe=this.length):"string"==typeof pe&&(Le=pe,pe=this.length),void 0!==Le&&"string"!=typeof Le)throw new TypeError("encoding must be a string");if("string"==typeof Le&&!U.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(1===D.length){const lt=D.charCodeAt(0);("utf8"===Le&&lt<128||"latin1"===Le)&&(D=lt)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(k<0||this.length<k||this.length<pe)throw new RangeError("Out of range index");if(pe<=k)return this;let He;if(k>>>=0,pe=void 0===pe?this.length:pe>>>0,D||(D=0),"number"==typeof D)for(He=k;He<pe;++He)this[He]=D;else{const lt=U.isBuffer(D)?D:U.from(D,Le),Ut=lt.length;if(0===Ut)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(He=0;He<pe-k;++He)this[He+k]=lt[He%Ut]}return this};const sn={};function rn(P,D,k){sn[P]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,delete this.name}get code(){return P}set code(Le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Le,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}function Cn(P){let D="",k=P.length;const pe="-"===P[0]?1:0;for(;k>=pe+4;k-=3)D=`_${P.slice(k-3,k)}${D}`;return`${P.slice(0,k)}${D}`}function At(P,D,k,pe,Le,He){if(P>k||P<D){const lt="bigint"==typeof D?"n":"";let Ut;throw Ut=He>3?0===D||D===BigInt(0)?`>= 0${lt} and < 2${lt} ** ${8*(He+1)}${lt}`:`>= -(2${lt} ** ${8*(He+1)-1}${lt}) and < 2 ** ${8*(He+1)-1}${lt}`:`>= ${D}${lt} and <= ${k}${lt}`,new sn.ERR_OUT_OF_RANGE("value",Ut,P)}!function vt(P,D,k){Ge(D,"offset"),(void 0===P[D]||void 0===P[D+k])&&xt(D,P.length-(k+1))}(pe,Le,He)}function Ge(P,D){if("number"!=typeof P)throw new sn.ERR_INVALID_ARG_TYPE(D,"number",P)}function xt(P,D,k){throw Math.floor(P)!==P?(Ge(P,k),new sn.ERR_OUT_OF_RANGE(k||"offset","an integer",P)):D<0?new sn.ERR_BUFFER_OUT_OF_BOUNDS:new sn.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${D}`,P)}rn("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rn("ERR_INVALID_ARG_TYPE",function(P,D){return`The "${P}" argument must be of type number. Received type ${typeof D}`},TypeError),rn("ERR_OUT_OF_RANGE",function(P,D,k){let pe=`The value of "${P}" is out of range.`,Le=k;return Number.isInteger(k)&&Math.abs(k)>2**32?Le=Cn(String(k)):"bigint"==typeof k&&(Le=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(Le=Cn(Le)),Le+="n"),pe+=` It must be ${D}. Received ${Le}`,pe},RangeError);const Et=/[^+/0-9A-Za-z-_]/g;function Ct(P,D){let k;D=D||1/0;const pe=P.length;let Le=null;const He=[];for(let lt=0;lt<pe;++lt){if(k=P.charCodeAt(lt),k>55295&&k<57344){if(!Le){if(k>56319){(D-=3)>-1&&He.push(239,191,189);continue}if(lt+1===pe){(D-=3)>-1&&He.push(239,191,189);continue}Le=k;continue}if(k<56320){(D-=3)>-1&&He.push(239,191,189),Le=k;continue}k=65536+(Le-55296<<10|k-56320)}else Le&&(D-=3)>-1&&He.push(239,191,189);if(Le=null,k<128){if((D-=1)<0)break;He.push(k)}else if(k<2048){if((D-=2)<0)break;He.push(k>>6|192,63&k|128)}else if(k<65536){if((D-=3)<0)break;He.push(k>>12|224,k>>6&63|128,63&k|128)}else{if(!(k<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;He.push(k>>18|240,k>>12&63|128,k>>6&63|128,63&k|128)}}return He}function Mt(P){return e.toByteArray(function _t(P){if((P=(P=P.split("=")[0]).trim().replace(Et,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(P))}function Oe(P,D,k,pe){let Le;for(Le=0;Le<pe&&!(Le+k>=D.length||Le>=P.length);++Le)D[Le+k]=P[Le];return Le}function Ke(P,D){return P instanceof D||null!=P&&null!=P.constructor&&null!=P.constructor.name&&P.constructor.name===D.name}function Zt(P){return P!=P}const tt=function(){const P="0123456789abcdef",D=new Array(256);for(let k=0;k<16;++k){const pe=16*k;for(let Le=0;Le<16;++Le)D[pe+Le]=P[k]+P[Le]}return D}();function Ne(P){return typeof BigInt>"u"?W:P}function W(){throw new Error("BigInt not supported")}},8461:(it,oe)=>{oe.read=function(g,a,e,C,x){var T,S,_=8*x-C-1,U=(1<<_)-1,R=U>>1,y=-7,B=e?x-1:0,F=e?-1:1,K=g[a+B];for(B+=F,T=K&(1<<-y)-1,K>>=-y,y+=_;y>0;T=256*T+g[a+B],B+=F,y-=8);for(S=T&(1<<-y)-1,T>>=-y,y+=C;y>0;S=256*S+g[a+B],B+=F,y-=8);if(0===T)T=1-R;else{if(T===U)return S?NaN:1/0*(K?-1:1);S+=Math.pow(2,C),T-=R}return(K?-1:1)*S*Math.pow(2,T-C)},oe.write=function(g,a,e,C,x,T){var S,_,U,R=8*T-x-1,y=(1<<R)-1,B=y>>1,F=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,K=C?0:T-1,G=C?1:-1,j=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(_=isNaN(a)?1:0,S=y):(S=Math.floor(Math.log(a)/Math.LN2),a*(U=Math.pow(2,-S))<1&&(S--,U*=2),(a+=S+B>=1?F/U:F*Math.pow(2,1-B))*U>=2&&(S++,U/=2),S+B>=y?(_=0,S=y):S+B>=1?(_=(a*U-1)*Math.pow(2,x),S+=B):(_=a*Math.pow(2,B-1)*Math.pow(2,x),S=0));x>=8;g[e+K]=255&_,K+=G,_/=256,x-=8);for(S=S<<x|_,R+=x;R>0;g[e+K]=255&S,K+=G,S/=256,R-=8);g[e+K-G]|=128*j}},6801:(it,oe)=>{"use strict";class e{static isArrayBuffer(y){return"[object ArrayBuffer]"===Object.prototype.toString.call(y)}static toArrayBuffer(y){return this.isArrayBuffer(y)?y:y.byteLength===y.buffer.byteLength?y.buffer:this.toUint8Array(y).slice().buffer}static toUint8Array(y){return this.toView(y,Uint8Array)}static toView(y,B){if(y.constructor===B)return y;if(this.isArrayBuffer(y))return new B(y);if(this.isArrayBufferView(y))return new B(y.buffer,y.byteOffset,y.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(y){return this.isArrayBufferView(y)||this.isArrayBuffer(y)}static isArrayBufferView(y){return ArrayBuffer.isView(y)||y&&this.isArrayBuffer(y.buffer)}static isEqual(y,B){const F=e.toUint8Array(y),K=e.toUint8Array(B);if(F.length!==K.byteLength)return!1;for(let G=0;G<F.length;G++)if(F[G]!==K[G])return!1;return!0}static concat(...y){if(Array.isArray(y[0])){const B=y[0];let F=0;for(const j of B)F+=j.byteLength;const K=new Uint8Array(F);let G=0;for(const j of B){const le=this.toUint8Array(j);K.set(le,G),G+=le.length}return y[1]?this.toView(K,y[1]):K.buffer}return this.concat(y)}}class C{static fromString(y){const B=unescape(encodeURIComponent(y)),F=new Uint8Array(B.length);for(let K=0;K<B.length;K++)F[K]=B.charCodeAt(K);return F.buffer}static toString(y){const B=e.toUint8Array(y);let F="";for(let G=0;G<B.length;G++)F+=String.fromCharCode(B[G]);return decodeURIComponent(escape(F))}}class x{static toString(y,B=!1){const F=e.toArrayBuffer(y),K=new DataView(F);let G="";for(let j=0;j<F.byteLength;j+=2){const le=K.getUint16(j,B);G+=String.fromCharCode(le)}return G}static fromString(y,B=!1){const F=new ArrayBuffer(2*y.length),K=new DataView(F);for(let G=0;G<y.length;G++)K.setUint16(2*G,y.charCodeAt(G),B);return F}}let T=(()=>{class R{static isHex(B){return"string"==typeof B&&/^[a-z0-9]+$/i.test(B)}static isBase64(B){return"string"==typeof B&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(B)}static isBase64Url(B){return"string"==typeof B&&/^[a-zA-Z0-9-_]+$/i.test(B)}static ToString(B,F="utf8"){const K=e.toUint8Array(B);switch(F.toLowerCase()){case"utf8":return this.ToUtf8String(K);case"binary":return this.ToBinary(K);case"hex":return this.ToHex(K);case"base64":return this.ToBase64(K);case"base64url":return this.ToBase64Url(K);case"utf16le":return x.toString(K,!0);case"utf16":case"utf16be":return x.toString(K);default:throw new Error(`Unknown type of encoding '${F}'`)}}static FromString(B,F="utf8"){if(!B)return new ArrayBuffer(0);switch(F.toLowerCase()){case"utf8":return this.FromUtf8String(B);case"binary":return this.FromBinary(B);case"hex":return this.FromHex(B);case"base64":return this.FromBase64(B);case"base64url":return this.FromBase64Url(B);case"utf16le":return x.fromString(B,!0);case"utf16":case"utf16be":return x.fromString(B);default:throw new Error(`Unknown type of encoding '${F}'`)}}static ToBase64(B){const F=e.toUint8Array(B);if(typeof btoa<"u"){const K=this.ToString(F,"binary");return btoa(K)}return Buffer.from(F).toString("base64")}static FromBase64(B){const F=this.formatString(B);if(!F)return new ArrayBuffer(0);if(!R.isBase64(F))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(F)):new Uint8Array(Buffer.from(F,"base64")).buffer}static FromBase64Url(B){const F=this.formatString(B);if(!F)return new ArrayBuffer(0);if(!R.isBase64Url(F))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(F.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(B){return this.ToBase64(B).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(B,F=R.DEFAULT_UTF8_ENCODING){switch(F){case"ascii":return this.FromBinary(B);case"utf8":return C.fromString(B);case"utf16":case"utf16be":return x.fromString(B);case"utf16le":case"usc2":return x.fromString(B,!0);default:throw new Error(`Unknown type of encoding '${F}'`)}}static ToUtf8String(B,F=R.DEFAULT_UTF8_ENCODING){switch(F){case"ascii":return this.ToBinary(B);case"utf8":return C.toString(B);case"utf16":case"utf16be":return x.toString(B);case"utf16le":case"usc2":return x.toString(B,!0);default:throw new Error(`Unknown type of encoding '${F}'`)}}static FromBinary(B){const F=B.length,K=new Uint8Array(F);for(let G=0;G<F;G++)K[G]=B.charCodeAt(G);return K.buffer}static ToBinary(B){const F=e.toUint8Array(B);let K="";for(let G=0;G<F.length;G++)K+=String.fromCharCode(F[G]);return K}static ToHex(B){const F=e.toUint8Array(B),G=[],j=F.length;for(let le=0;le<j;le++){const Ee=F[le].toString(16).padStart(2,"0");G.push(Ee)}return G.join("")}static FromHex(B){let F=this.formatString(B);if(!F)return new ArrayBuffer(0);if(!R.isHex(F))throw new TypeError("Argument 'hexString' is not HEX encoded");F.length%2&&(F=`0${F}`);const K=new Uint8Array(F.length/2);for(let G=0;G<F.length;G+=2){const j=F.slice(G,G+2);K[G/2]=parseInt(j,16)}return K.buffer}static ToUtf16String(B,F=!1){return x.toString(B,F)}static FromUtf16String(B,F=!1){return x.fromString(B,F)}static Base64Padding(B){const F=4-B.length%4;if(F<4)for(let K=0;K<F;K++)B+="=";return B}static formatString(B){return B?.replace(/[\n\r\t ]/g,"")||""}}return R.DEFAULT_UTF8_ENCODING="utf8",R})();oe.vJ=e,oe.ep=T},1135:(it,oe,g)=>{"use strict";g.d(oe,{X:()=>e});var a=g(7579);class e extends a.x{constructor(x){super(),this._value=x}get value(){return this.getValue()}_subscribe(x){const T=super._subscribe(x);return!T.closed&&x.next(this._value),T}getValue(){const{hasError:x,thrownError:T,_value:S}=this;if(x)throw T;return this._throwIfClosed(),S}next(x){super.next(this._value=x)}}},9751:(it,oe,g)=>{"use strict";g.d(oe,{y:()=>U});var a=g(930),e=g(727),C=g(8822),x=g(9635),T=g(2416),S=g(576),_=g(2806);let U=(()=>{class F{constructor(G){G&&(this._subscribe=G)}lift(G){const j=new F;return j.source=this,j.operator=G,j}subscribe(G,j,le){const Ee=function B(F){return F&&F instanceof a.Lv||function y(F){return F&&(0,S.m)(F.next)&&(0,S.m)(F.error)&&(0,S.m)(F.complete)}(F)&&(0,e.Nn)(F)}(G)?G:new a.Hp(G,j,le);return(0,_.x)(()=>{const{operator:ve,source:ye}=this;Ee.add(ve?ve.call(Ee,ye):ye?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(G){try{return this._subscribe(G)}catch(j){G.error(j)}}forEach(G,j){return new(j=R(j))((le,Ee)=>{const ve=new a.Hp({next:ye=>{try{G(ye)}catch(we){Ee(we),ve.unsubscribe()}},error:Ee,complete:le});this.subscribe(ve)})}_subscribe(G){var j;return null===(j=this.source)||void 0===j?void 0:j.subscribe(G)}[C.L](){return this}pipe(...G){return(0,x.U)(G)(this)}toPromise(G){return new(G=R(G))((j,le)=>{let Ee;this.subscribe(ve=>Ee=ve,ve=>le(ve),()=>j(Ee))})}}return F.create=K=>new F(K),F})();function R(F){var K;return null!==(K=F??T.v.Promise)&&void 0!==K?K:Promise}},4707:(it,oe,g)=>{"use strict";g.d(oe,{t:()=>C});var a=g(7579),e=g(6063);class C extends a.x{constructor(T=1/0,S=1/0,_=e.l){super(),this._bufferSize=T,this._windowTime=S,this._timestampProvider=_,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=S===1/0,this._bufferSize=Math.max(1,T),this._windowTime=Math.max(1,S)}next(T){const{isStopped:S,_buffer:_,_infiniteTimeWindow:U,_timestampProvider:R,_windowTime:y}=this;S||(_.push(T),!U&&_.push(R.now()+y)),this._trimBuffer(),super.next(T)}_subscribe(T){this._throwIfClosed(),this._trimBuffer();const S=this._innerSubscribe(T),{_infiniteTimeWindow:_,_buffer:U}=this,R=U.slice();for(let y=0;y<R.length&&!T.closed;y+=_?1:2)T.next(R[y]);return this._checkFinalizedStatuses(T),S}_trimBuffer(){const{_bufferSize:T,_timestampProvider:S,_buffer:_,_infiniteTimeWindow:U}=this,R=(U?1:2)*T;if(T<1/0&&R<_.length&&_.splice(0,_.length-R),!U){const y=S.now();let B=0;for(let F=1;F<_.length&&_[F]<=y;F+=2)B=F;B&&_.splice(0,B+1)}}}},7579:(it,oe,g)=>{"use strict";g.d(oe,{x:()=>_});var a=g(9751),e=g(727);const x=(0,g(3888).d)(R=>function(){R(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var T=g(8737),S=g(2806);let _=(()=>{class R extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const F=new U(this,this);return F.operator=B,F}_throwIfClosed(){if(this.closed)throw new x}next(B){(0,S.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const F of this.currentObservers)F.next(B)}})}error(B){(0,S.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:F}=this;for(;F.length;)F.shift().error(B)}})}complete(){(0,S.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:F,isStopped:K,observers:G}=this;return F||K?e.Lc:(this.currentObservers=null,G.push(B),new e.w0(()=>{this.currentObservers=null,(0,T.P)(G,B)}))}_checkFinalizedStatuses(B){const{hasError:F,thrownError:K,isStopped:G}=this;F?B.error(K):G&&B.complete()}asObservable(){const B=new a.y;return B.source=this,B}}return R.create=(y,B)=>new U(y,B),R})();class U extends _{constructor(y,B){super(),this.destination=y,this.source=B}next(y){var B,F;null===(F=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===F||F.call(B,y)}error(y){var B,F;null===(F=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===F||F.call(B,y)}complete(){var y,B;null===(B=null===(y=this.destination)||void 0===y?void 0:y.complete)||void 0===B||B.call(y)}_subscribe(y){var B,F;return null!==(F=null===(B=this.source)||void 0===B?void 0:B.subscribe(y))&&void 0!==F?F:e.Lc}}},930:(it,oe,g)=>{"use strict";g.d(oe,{Hp:()=>le,Lv:()=>F});var a=g(576),e=g(727),C=g(2416),x=g(7849),T=g(5032);const S=R("C",void 0,void 0);function R(re,ce,Ie){return{kind:re,value:ce,error:Ie}}var y=g(3410),B=g(2806);class F extends e.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,e.Nn)(ce)&&ce.add(this)):this.destination=we}static create(ce,Ie,ke){return new le(ce,Ie,ke)}next(ce){this.isStopped?ye(function U(re){return R("N",re,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?ye(function _(re){return R("E",void 0,re)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?ye(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const K=Function.prototype.bind;function G(re,ce){return K.call(re,ce)}class j{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(ce)}catch(ke){Ee(ke)}}error(ce){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(ce)}catch(ke){Ee(ke)}else Ee(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(Ie){Ee(Ie)}}}class le extends F{constructor(ce,Ie,ke){let Ae;if(super(),(0,a.m)(ce)||!ce)Ae={next:ce??void 0,error:Ie??void 0,complete:ke??void 0};else{let Ze;this&&C.v.useDeprecatedNextContext?(Ze=Object.create(ce),Ze.unsubscribe=()=>this.unsubscribe(),Ae={next:ce.next&&G(ce.next,Ze),error:ce.error&&G(ce.error,Ze),complete:ce.complete&&G(ce.complete,Ze)}):Ae=ce}this.destination=new j(Ae)}}function Ee(re){C.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(re):(0,x.h)(re)}function ye(re,ce){const{onStoppedNotification:Ie}=C.v;Ie&&y.z.setTimeout(()=>Ie(re,ce))}const we={closed:!0,next:T.Z,error:function ve(re){throw re},complete:T.Z}},727:(it,oe,g)=>{"use strict";g.d(oe,{Lc:()=>S,w0:()=>T,Nn:()=>_});var a=g(576);const C=(0,g(3888).d)(R=>function(B){R(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((F,K)=>`${K+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var x=g(8737);class T{constructor(y){this.initialTeardown=y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let y;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const G of B)G.remove(this);else B.remove(this);const{initialTeardown:F}=this;if((0,a.m)(F))try{F()}catch(G){y=G instanceof C?G.errors:[G]}const{_finalizers:K}=this;if(K){this._finalizers=null;for(const G of K)try{U(G)}catch(j){y=y??[],j instanceof C?y=[...y,...j.errors]:y.push(j)}}if(y)throw new C(y)}}add(y){var B;if(y&&y!==this)if(this.closed)U(y);else{if(y instanceof T){if(y.closed||y._hasParent(this))return;y._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(y)}}_hasParent(y){const{_parentage:B}=this;return B===y||Array.isArray(B)&&B.includes(y)}_addParent(y){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(y),B):B?[B,y]:y}_removeParent(y){const{_parentage:B}=this;B===y?this._parentage=null:Array.isArray(B)&&(0,x.P)(B,y)}remove(y){const{_finalizers:B}=this;B&&(0,x.P)(B,y),y instanceof T&&y._removeParent(this)}}T.EMPTY=(()=>{const R=new T;return R.closed=!0,R})();const S=T.EMPTY;function _(R){return R instanceof T||R&&"closed"in R&&(0,a.m)(R.remove)&&(0,a.m)(R.add)&&(0,a.m)(R.unsubscribe)}function U(R){(0,a.m)(R)?R():R.unsubscribe()}},2416:(it,oe,g)=>{"use strict";g.d(oe,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(it,oe,g)=>{"use strict";g.d(oe,{a:()=>y,l:()=>B});var a=g(9751),e=g(4742),C=g(2076),x=g(4671),T=g(3268),S=g(3269),_=g(1810),U=g(5403),R=g(9672);function y(...K){const G=(0,S.yG)(K),j=(0,S.jO)(K),{args:le,keys:Ee}=(0,e.D)(K);if(0===le.length)return(0,C.D)([],G);const ve=new a.y(B(le,G,Ee?ye=>(0,_.n)(Ee,ye):x.y));return j?ve.pipe((0,T.Z)(j)):ve}function B(K,G,j=x.y){return le=>{F(G,()=>{const{length:Ee}=K,ve=new Array(Ee);let ye=Ee,we=Ee;for(let re=0;re<Ee;re++)F(G,()=>{const ce=(0,C.D)(K[re],G);let Ie=!1;ce.subscribe((0,U.x)(le,ke=>{ve[re]=ke,Ie||(Ie=!0,we--),we||le.next(j(ve.slice()))},()=>{--ye||le.complete()}))},le)},le)}}function F(K,G,j){K?(0,R.f)(j,K,G):G()}},7272:(it,oe,g)=>{"use strict";g.d(oe,{z:()=>T});var a=g(8189),C=g(3269),x=g(2076);function T(...S){return function e(){return(0,a.J)(1)}()((0,x.D)(S,(0,C.yG)(S)))}},9770:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>C});var a=g(9751),e=g(8421);function C(x){return new a.y(T=>{(0,e.Xf)(x()).subscribe(T)})}},515:(it,oe,g)=>{"use strict";g.d(oe,{E:()=>e,c:()=>C});var a=g(9751);const e=new a.y(T=>T.complete());function C(T){return T?function x(T){return new a.y(S=>T.schedule(()=>S.complete()))}(T):e}},4128:(it,oe,g)=>{"use strict";g.d(oe,{D:()=>U});var a=g(9751),e=g(4742),C=g(8421),x=g(3269),T=g(5403),S=g(3268),_=g(1810);function U(...R){const y=(0,x.jO)(R),{args:B,keys:F}=(0,e.D)(R),K=new a.y(G=>{const{length:j}=B;if(!j)return void G.complete();const le=new Array(j);let Ee=j,ve=j;for(let ye=0;ye<j;ye++){let we=!1;(0,C.Xf)(B[ye]).subscribe((0,T.x)(G,re=>{we||(we=!0,ve--),le[ye]=re},()=>Ee--,void 0,()=>{(!Ee||!we)&&(ve||G.next(F?(0,_.n)(F,le):le),G.complete())}))}});return y?K.pipe((0,S.Z)(y)):K}},2076:(it,oe,g)=>{"use strict";g.d(oe,{D:()=>ke});var a=g(8421),e=g(9672),C=g(4482),x=g(5403);function T(Ae,Ze=0){return(0,C.e)((me,he)=>{me.subscribe((0,x.x)(he,Y=>(0,e.f)(he,Ae,()=>he.next(Y),Ze),()=>(0,e.f)(he,Ae,()=>he.complete(),Ze),Y=>(0,e.f)(he,Ae,()=>he.error(Y),Ze)))})}function S(Ae,Ze=0){return(0,C.e)((me,he)=>{he.add(Ae.schedule(()=>me.subscribe(he),Ze))})}var R=g(9751),B=g(2202),F=g(576);function G(Ae,Ze){if(!Ae)throw new Error("Iterable cannot be null");return new R.y(me=>{(0,e.f)(me,Ze,()=>{const he=Ae[Symbol.asyncIterator]();(0,e.f)(me,Ze,()=>{he.next().then(Y=>{Y.done?me.complete():me.next(Y.value)})},0,!0)})})}var j=g(3670),le=g(8239),Ee=g(1144),ve=g(6495),ye=g(2206),we=g(4532),re=g(3260);function ke(Ae,Ze){return Ze?function Ie(Ae,Ze){if(null!=Ae){if((0,j.c)(Ae))return function _(Ae,Ze){return(0,a.Xf)(Ae).pipe(S(Ze),T(Ze))}(Ae,Ze);if((0,Ee.z)(Ae))return function y(Ae,Ze){return new R.y(me=>{let he=0;return Ze.schedule(function(){he===Ae.length?me.complete():(me.next(Ae[he++]),me.closed||this.schedule())})})}(Ae,Ze);if((0,le.t)(Ae))return function U(Ae,Ze){return(0,a.Xf)(Ae).pipe(S(Ze),T(Ze))}(Ae,Ze);if((0,ye.D)(Ae))return G(Ae,Ze);if((0,ve.T)(Ae))return function K(Ae,Ze){return new R.y(me=>{let he;return(0,e.f)(me,Ze,()=>{he=Ae[B.h](),(0,e.f)(me,Ze,()=>{let Y,Me;try{({value:Y,done:Me}=he.next())}catch(fe){return void me.error(fe)}Me?me.complete():me.next(Y)},0,!0)}),()=>(0,F.m)(he?.return)&&he.return()})}(Ae,Ze);if((0,re.L)(Ae))return function ce(Ae,Ze){return G((0,re.Q)(Ae),Ze)}(Ae,Ze)}throw(0,we.z)(Ae)}(Ae,Ze):(0,a.Xf)(Ae)}},4968:(it,oe,g)=>{"use strict";g.d(oe,{R:()=>y});var a=g(8421),e=g(9751),C=g(5577),x=g(1144),T=g(576),S=g(3268);const _=["addListener","removeListener"],U=["addEventListener","removeEventListener"],R=["on","off"];function y(j,le,Ee,ve){if((0,T.m)(Ee)&&(ve=Ee,Ee=void 0),ve)return y(j,le,Ee).pipe((0,S.Z)(ve));const[ye,we]=function G(j){return(0,T.m)(j.addEventListener)&&(0,T.m)(j.removeEventListener)}(j)?U.map(re=>ce=>j[re](le,ce,Ee)):function F(j){return(0,T.m)(j.addListener)&&(0,T.m)(j.removeListener)}(j)?_.map(B(j,le)):function K(j){return(0,T.m)(j.on)&&(0,T.m)(j.off)}(j)?R.map(B(j,le)):[];if(!ye&&(0,x.z)(j))return(0,C.z)(re=>y(re,le,Ee))((0,a.Xf)(j));if(!ye)throw new TypeError("Invalid event target");return new e.y(re=>{const ce=(...Ie)=>re.next(1<Ie.length?Ie:Ie[0]);return ye(ce),()=>we(ce)})}function B(j,le){return Ee=>ve=>j[Ee](le,ve)}},8421:(it,oe,g)=>{"use strict";g.d(oe,{Xf:()=>K});var a=g(655),e=g(1144),C=g(8239),x=g(9751),T=g(3670),S=g(2206),_=g(4532),U=g(6495),R=g(3260),y=g(576),B=g(7849),F=g(8822);function K(re){if(re instanceof x.y)return re;if(null!=re){if((0,T.c)(re))return function G(re){return new x.y(ce=>{const Ie=re[F.L]();if((0,y.m)(Ie.subscribe))return Ie.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,e.z)(re))return function j(re){return new x.y(ce=>{for(let Ie=0;Ie<re.length&&!ce.closed;Ie++)ce.next(re[Ie]);ce.complete()})}(re);if((0,C.t)(re))return function le(re){return new x.y(ce=>{re.then(Ie=>{ce.closed||(ce.next(Ie),ce.complete())},Ie=>ce.error(Ie)).then(null,B.h)})}(re);if((0,S.D)(re))return ve(re);if((0,U.T)(re))return function Ee(re){return new x.y(ce=>{for(const Ie of re)if(ce.next(Ie),ce.closed)return;ce.complete()})}(re);if((0,R.L)(re))return function ye(re){return ve((0,R.Q)(re))}(re)}throw(0,_.z)(re)}function ve(re){return new x.y(ce=>{(function we(re,ce){var Ie,ke,Ae,Ze;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,a.KL)(re);!(ke=yield Ie.next()).done;)if(ce.next(ke.value),ce.closed)return}catch(me){Ae={error:me}}finally{try{ke&&!ke.done&&(Ze=Ie.return)&&(yield Ze.call(Ie))}finally{if(Ae)throw Ae.error}}ce.complete()})})(re,ce).catch(Ie=>ce.error(Ie))})}},6451:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>S});var a=g(8189),e=g(8421),C=g(515),x=g(3269),T=g(2076);function S(..._){const U=(0,x.yG)(_),R=(0,x._6)(_,1/0),y=_;return y.length?1===y.length?(0,e.Xf)(y[0]):(0,a.J)(R)((0,T.D)(y,U)):C.E}},9646:(it,oe,g)=>{"use strict";g.d(oe,{of:()=>C});var a=g(3269),e=g(2076);function C(...x){const T=(0,a.yG)(x);return(0,e.D)(x,T)}},2843:(it,oe,g)=>{"use strict";g.d(oe,{_:()=>C});var a=g(9751),e=g(576);function C(x,T){const S=(0,e.m)(x)?x:()=>x,_=U=>U.error(S());return new a.y(T?U=>T.schedule(_,0,U):_)}},5963:(it,oe,g)=>{"use strict";g.d(oe,{H:()=>T});var a=g(9751),e=g(4986),C=g(3532);function T(S=0,_,U=e.P){let R=-1;return null!=_&&((0,C.K)(_)?U=_:R=_),new a.y(y=>{let B=function x(S){return S instanceof Date&&!isNaN(S)}(S)?+S-U.now():S;B<0&&(B=0);let F=0;return U.schedule(function(){y.closed||(y.next(F++),0<=R?this.schedule(void 0,R):y.complete())},B)})}},5403:(it,oe,g)=>{"use strict";g.d(oe,{x:()=>e});var a=g(930);function e(x,T,S,_,U){return new C(x,T,S,_,U)}class C extends a.Lv{constructor(T,S,_,U,R,y){super(T),this.onFinalize=R,this.shouldUnsubscribe=y,this._next=S?function(B){try{S(B)}catch(F){T.error(F)}}:super._next,this._error=U?function(B){try{U(B)}catch(F){T.error(F)}finally{this.unsubscribe()}}:super._error,this._complete=_?function(){try{_()}catch(B){T.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var T;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:S}=this;super.unsubscribe(),!S&&(null===(T=this.onFinalize)||void 0===T||T.call(this))}}}},262:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>x});var a=g(8421),e=g(5403),C=g(4482);function x(T){return(0,C.e)((S,_)=>{let y,U=null,R=!1;U=S.subscribe((0,e.x)(_,void 0,void 0,B=>{y=(0,a.Xf)(T(B,x(T)(S))),U?(U.unsubscribe(),U=null,y.subscribe(_)):R=!0})),R&&(U.unsubscribe(),U=null,y.subscribe(_))})}},3431:(it,oe,g)=>{"use strict";g.d(oe,{a:()=>_});var a=g(9841),e=g(4482),C=g(5797),x=g(3268),T=g(9635),S=g(3269);function _(...U){const R=(0,S.jO)(U);return R?(0,T.z)(_(...U),(0,x.Z)(R)):(0,e.e)((y,B)=>{(0,a.l)([y,...(0,C.k)(U)])(B)})}},4351:(it,oe,g)=>{"use strict";g.d(oe,{b:()=>C});var a=g(5577),e=g(576);function C(x,T){return(0,e.m)(T)?(0,a.z)(x,T,1):(0,a.z)(x,1)}},8372:(it,oe,g)=>{"use strict";g.d(oe,{b:()=>x});var a=g(4986),e=g(4482),C=g(5403);function x(T,S=a.z){return(0,e.e)((_,U)=>{let R=null,y=null,B=null;const F=()=>{if(R){R.unsubscribe(),R=null;const G=y;y=null,U.next(G)}};function K(){const G=B+T,j=S.now();if(j<G)return R=this.schedule(void 0,G-j),void U.add(R);F()}_.subscribe((0,C.x)(U,G=>{y=G,B=S.now(),R||(R=S.schedule(K,T),U.add(R))},()=>{F(),U.complete()},void 0,()=>{y=R=null}))})}},6590:(it,oe,g)=>{"use strict";g.d(oe,{d:()=>C});var a=g(4482),e=g(5403);function C(x){return(0,a.e)((T,S)=>{let _=!1;T.subscribe((0,e.x)(S,U=>{_=!0,S.next(U)},()=>{_||S.next(x),S.complete()}))})}},1005:(it,oe,g)=>{"use strict";g.d(oe,{g:()=>F});var a=g(4986),e=g(7272),C=g(5698),x=g(4482),T=g(5403),S=g(5032),U=g(9718),R=g(5577);function y(K,G){return G?j=>(0,e.z)(G.pipe((0,C.q)(1),function _(){return(0,x.e)((K,G)=>{K.subscribe((0,T.x)(G,S.Z))})}()),j.pipe(y(K))):(0,R.z)((j,le)=>K(j,le).pipe((0,C.q)(1),(0,U.h)(j)))}var B=g(5963);function F(K,G=a.z){const j=(0,B.H)(K,G);return y(()=>j)}},1884:(it,oe,g)=>{"use strict";g.d(oe,{x:()=>x});var a=g(4671),e=g(4482),C=g(5403);function x(S,_=a.y){return S=S??T,(0,e.e)((U,R)=>{let y,B=!0;U.subscribe((0,C.x)(R,F=>{const K=_(F);(B||!S(y,K))&&(B=!1,y=K,R.next(F))}))})}function T(S,_){return S===_}},9300:(it,oe,g)=>{"use strict";g.d(oe,{h:()=>C});var a=g(4482),e=g(5403);function C(x,T){return(0,a.e)((S,_)=>{let U=0;S.subscribe((0,e.x)(_,R=>x.call(T,R,U++)&&_.next(R)))})}},590:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>_});var a=g(6805),e=g(9300),C=g(5698),x=g(6590),T=g(8068),S=g(4671);function _(U,R){const y=arguments.length>=2;return B=>B.pipe(U?(0,e.h)((F,K)=>U(F,K,B)):S.y,(0,C.q)(1),y?(0,x.d)(R):(0,T.T)(()=>new a.K))}},4004:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>C});var a=g(4482),e=g(5403);function C(x,T){return(0,a.e)((S,_)=>{let U=0;S.subscribe((0,e.x)(_,R=>{_.next(x.call(T,R,U++))}))})}},9718:(it,oe,g)=>{"use strict";g.d(oe,{h:()=>e});var a=g(4004);function e(C){return(0,a.U)(()=>C)}},5683:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>S});var a=g(4482),e=g(5797),C=g(8189),x=g(3269),T=g(2076);function S(..._){const U=(0,x.yG)(_),R=(0,x._6)(_,1/0);return _=(0,e.k)(_),(0,a.e)((y,B)=>{(0,C.J)(R)((0,T.D)([y,..._],U)).subscribe(B)})}},8189:(it,oe,g)=>{"use strict";g.d(oe,{J:()=>C});var a=g(5577),e=g(4671);function C(x=1/0){return(0,a.z)(e.y,x)}},5577:(it,oe,g)=>{"use strict";g.d(oe,{z:()=>U});var a=g(4004),e=g(8421),C=g(4482),x=g(9672),T=g(5403),_=g(576);function U(R,y,B=1/0){return(0,_.m)(y)?U((F,K)=>(0,a.U)((G,j)=>y(F,G,K,j))((0,e.Xf)(R(F,K))),B):("number"==typeof y&&(B=y),(0,C.e)((F,K)=>function S(R,y,B,F,K,G,j,le){const Ee=[];let ve=0,ye=0,we=!1;const re=()=>{we&&!Ee.length&&!ve&&y.complete()},ce=ke=>ve<F?Ie(ke):Ee.push(ke),Ie=ke=>{G&&y.next(ke),ve++;let Ae=!1;(0,e.Xf)(B(ke,ye++)).subscribe((0,T.x)(y,Ze=>{K?.(Ze),G?ce(Ze):y.next(Ze)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(ve--;Ee.length&&ve<F;){const Ze=Ee.shift();j?(0,x.f)(y,j,()=>Ie(Ze)):Ie(Ze)}re()}catch(Ze){y.error(Ze)}}))};return R.subscribe((0,T.x)(y,ce,()=>{we=!0,re()})),()=>{le?.()}}(F,K,R,B)))}},7359:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>e});var a=g(5403);function e(C,x,T,S,_){return(U,R)=>{let y=T,B=x,F=0;U.subscribe((0,a.x)(R,K=>{const G=F++;B=y?C(B,K,G):(y=!0,K),S&&R.next(B)},_&&(()=>{y&&R.next(B),R.complete()})))}}},3099:(it,oe,g)=>{"use strict";g.d(oe,{B:()=>T});var a=g(8421),e=g(7579),C=g(930),x=g(4482);function T(_={}){const{connector:U=(()=>new e.x),resetOnError:R=!0,resetOnComplete:y=!0,resetOnRefCountZero:B=!0}=_;return F=>{let K,G,j,le=0,Ee=!1,ve=!1;const ye=()=>{G?.unsubscribe(),G=void 0},we=()=>{ye(),K=j=void 0,Ee=ve=!1},re=()=>{const ce=K;we(),ce?.unsubscribe()};return(0,x.e)((ce,Ie)=>{le++,!ve&&!Ee&&ye();const ke=j=j??U();Ie.add(()=>{le--,0===le&&!ve&&!Ee&&(G=S(re,B))}),ke.subscribe(Ie),!K&&le>0&&(K=new C.Hp({next:Ae=>ke.next(Ae),error:Ae=>{ve=!0,ye(),G=S(we,R,Ae),ke.error(Ae)},complete:()=>{Ee=!0,ye(),G=S(we,y),ke.complete()}}),(0,a.Xf)(ce).subscribe(K))})(F)}}function S(_,U,...R){if(!0===U)return void _();if(!1===U)return;const y=new C.Hp({next:()=>{y.unsubscribe(),_()}});return U(...R).subscribe(y)}},8675:(it,oe,g)=>{"use strict";g.d(oe,{O:()=>x});var a=g(7272),e=g(3269),C=g(4482);function x(...T){const S=(0,e.yG)(T);return(0,C.e)((_,U)=>{(S?(0,a.z)(T,_,S):(0,a.z)(T,_)).subscribe(U)})}},3900:(it,oe,g)=>{"use strict";g.d(oe,{w:()=>x});var a=g(8421),e=g(4482),C=g(5403);function x(T,S){return(0,e.e)((_,U)=>{let R=null,y=0,B=!1;const F=()=>B&&!R&&U.complete();_.subscribe((0,C.x)(U,K=>{R?.unsubscribe();let G=0;const j=y++;(0,a.Xf)(T(K,j)).subscribe(R=(0,C.x)(U,le=>U.next(S?S(K,le,j,G++):le),()=>{R=null,F()}))},()=>{B=!0,F()}))})}},5698:(it,oe,g)=>{"use strict";g.d(oe,{q:()=>x});var a=g(515),e=g(4482),C=g(5403);function x(T){return T<=0?()=>a.E:(0,e.e)((S,_)=>{let U=0;S.subscribe((0,C.x)(_,R=>{++U<=T&&(_.next(R),T<=U&&_.complete())}))})}},2722:(it,oe,g)=>{"use strict";g.d(oe,{R:()=>T});var a=g(4482),e=g(5403),C=g(8421),x=g(5032);function T(S){return(0,a.e)((_,U)=>{(0,C.Xf)(S).subscribe((0,e.x)(U,()=>U.complete(),x.Z)),!U.closed&&_.subscribe(U)})}},8505:(it,oe,g)=>{"use strict";g.d(oe,{b:()=>T});var a=g(576),e=g(4482),C=g(5403),x=g(4671);function T(S,_,U){const R=(0,a.m)(S)||_||U?{next:S,error:_,complete:U}:S;return R?(0,e.e)((y,B)=>{var F;null===(F=R.subscribe)||void 0===F||F.call(R);let K=!0;y.subscribe((0,C.x)(B,G=>{var j;null===(j=R.next)||void 0===j||j.call(R,G),B.next(G)},()=>{var G;K=!1,null===(G=R.complete)||void 0===G||G.call(R),B.complete()},G=>{var j;K=!1,null===(j=R.error)||void 0===j||j.call(R,G),B.error(G)},()=>{var G,j;K&&(null===(G=R.unsubscribe)||void 0===G||G.call(R)),null===(j=R.finalize)||void 0===j||j.call(R)}))}):x.y}},8068:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>x});var a=g(6805),e=g(4482),C=g(5403);function x(S=T){return(0,e.e)((_,U)=>{let R=!1;_.subscribe((0,C.x)(U,y=>{R=!0,U.next(y)},()=>R?U.complete():U.error(S())))})}function T(){return new a.K}},1365:(it,oe,g)=>{"use strict";g.d(oe,{M:()=>_});var a=g(4482),e=g(5403),C=g(8421),x=g(4671),T=g(5032),S=g(3269);function _(...U){const R=(0,S.jO)(U);return(0,a.e)((y,B)=>{const F=U.length,K=new Array(F);let G=U.map(()=>!1),j=!1;for(let le=0;le<F;le++)(0,C.Xf)(U[le]).subscribe((0,e.x)(B,Ee=>{K[le]=Ee,!j&&!G[le]&&(G[le]=!0,(j=G.every(x.y))&&(G=null))},T.Z));y.subscribe((0,e.x)(B,le=>{if(j){const Ee=[le,...K];B.next(R?R(...Ee):Ee)}}))})}},4408:(it,oe,g)=>{"use strict";g.d(oe,{o:()=>T});var a=g(727);class e extends a.w0{constructor(_,U){super()}schedule(_,U=0){return this}}const C={setInterval(S,_,...U){const{delegate:R}=C;return R?.setInterval?R.setInterval(S,_,...U):setInterval(S,_,...U)},clearInterval(S){const{delegate:_}=C;return(_?.clearInterval||clearInterval)(S)},delegate:void 0};var x=g(8737);class T extends e{constructor(_,U){super(_,U),this.scheduler=_,this.work=U,this.pending=!1}schedule(_,U=0){if(this.closed)return this;this.state=_;const R=this.id,y=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(y,R,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(y,this.id,U),this}requestAsyncId(_,U,R=0){return C.setInterval(_.flush.bind(_,this),R)}recycleAsyncId(_,U,R=0){if(null!=R&&this.delay===R&&!1===this.pending)return U;C.clearInterval(U)}execute(_,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(_,U);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_,U){let y,R=!1;try{this.work(_)}catch(B){R=!0,y=B||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),y}unsubscribe(){if(!this.closed){const{id:_,scheduler:U}=this,{actions:R}=U;this.work=this.state=this.scheduler=null,this.pending=!1,(0,x.P)(R,this),null!=_&&(this.id=this.recycleAsyncId(U,_,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,oe,g)=>{"use strict";g.d(oe,{v:()=>C});var a=g(6063);class e{constructor(T,S=e.now){this.schedulerActionCtor=T,this.now=S}schedule(T,S=0,_){return new this.schedulerActionCtor(this,T).schedule(_,S)}}e.now=a.l.now;class C extends e{constructor(T,S=e.now){super(T,S),this.actions=[],this._active=!1,this._scheduled=void 0}flush(T){const{actions:S}=this;if(this._active)return void S.push(T);let _;this._active=!0;do{if(_=T.execute(T.state,T.delay))break}while(T=S.shift());if(this._active=!1,_){for(;T=S.shift();)T.unsubscribe();throw _}}}},4986:(it,oe,g)=>{"use strict";g.d(oe,{P:()=>x,z:()=>C});var a=g(4408);const C=new(g(7565).v)(a.o),x=C},6063:(it,oe,g)=>{"use strict";g.d(oe,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(it,oe,g)=>{"use strict";g.d(oe,{z:()=>a});const a={setTimeout(e,C,...x){const{delegate:T}=a;return T?.setTimeout?T.setTimeout(e,C,...x):setTimeout(e,C,...x)},clearTimeout(e){const{delegate:C}=a;return(C?.clearTimeout||clearTimeout)(e)},delegate:void 0}},2202:(it,oe,g)=>{"use strict";g.d(oe,{h:()=>e});const e=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,oe,g)=>{"use strict";g.d(oe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>e});const e=(0,g(3888).d)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(it,oe,g)=>{"use strict";g.d(oe,{_6:()=>S,jO:()=>x,yG:()=>T});var a=g(576),e=g(3532);function C(_){return _[_.length-1]}function x(_){return(0,a.m)(C(_))?_.pop():void 0}function T(_){return(0,e.K)(C(_))?_.pop():void 0}function S(_,U){return"number"==typeof C(_)?_.pop():U}},4742:(it,oe,g)=>{"use strict";g.d(oe,{D:()=>T});const{isArray:a}=Array,{getPrototypeOf:e,prototype:C,keys:x}=Object;function T(_){if(1===_.length){const U=_[0];if(a(U))return{args:U,keys:null};if(function S(_){return _&&"object"==typeof _&&e(_)===C}(U)){const R=x(U);return{args:R.map(y=>U[y]),keys:R}}}return{args:_,keys:null}}},5797:(it,oe,g)=>{"use strict";g.d(oe,{k:()=>e});const{isArray:a}=Array;function e(C){return 1===C.length&&a(C[0])?C[0]:C}},8737:(it,oe,g)=>{"use strict";function a(e,C){if(e){const x=e.indexOf(C);0<=x&&e.splice(x,1)}}g.d(oe,{P:()=>a})},3888:(it,oe,g)=>{"use strict";function a(e){const x=e(T=>{Error.call(T),T.stack=(new Error).stack});return x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x}g.d(oe,{d:()=>a})},1810:(it,oe,g)=>{"use strict";function a(e,C){return e.reduce((x,T,S)=>(x[T]=C[S],x),{})}g.d(oe,{n:()=>a})},2806:(it,oe,g)=>{"use strict";g.d(oe,{O:()=>x,x:()=>C});var a=g(2416);let e=null;function C(T){if(a.v.useDeprecatedSynchronousErrorHandling){const S=!e;if(S&&(e={errorThrown:!1,error:null}),T(),S){const{errorThrown:_,error:U}=e;if(e=null,_)throw U}}else T()}function x(T){a.v.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=T)}},9672:(it,oe,g)=>{"use strict";function a(e,C,x,T=0,S=!1){const _=C.schedule(function(){x(),S?e.add(this.schedule(null,T)):this.unsubscribe()},T);if(e.add(_),!S)return _}g.d(oe,{f:()=>a})},4671:(it,oe,g)=>{"use strict";function a(e){return e}g.d(oe,{y:()=>a})},1144:(it,oe,g)=>{"use strict";g.d(oe,{z:()=>a});const a=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2206:(it,oe,g)=>{"use strict";g.d(oe,{D:()=>e});var a=g(576);function e(C){return Symbol.asyncIterator&&(0,a.m)(C?.[Symbol.asyncIterator])}},576:(it,oe,g)=>{"use strict";function a(e){return"function"==typeof e}g.d(oe,{m:()=>a})},3670:(it,oe,g)=>{"use strict";g.d(oe,{c:()=>C});var a=g(8822),e=g(576);function C(x){return(0,e.m)(x[a.L])}},6495:(it,oe,g)=>{"use strict";g.d(oe,{T:()=>C});var a=g(2202),e=g(576);function C(x){return(0,e.m)(x?.[a.h])}},5191:(it,oe,g)=>{"use strict";g.d(oe,{b:()=>C});var a=g(9751),e=g(576);function C(x){return!!x&&(x instanceof a.y||(0,e.m)(x.lift)&&(0,e.m)(x.subscribe))}},8239:(it,oe,g)=>{"use strict";g.d(oe,{t:()=>e});var a=g(576);function e(C){return(0,a.m)(C?.then)}},3260:(it,oe,g)=>{"use strict";g.d(oe,{L:()=>x,Q:()=>C});var a=g(655),e=g(576);function C(T){return(0,a.FC)(this,arguments,function*(){const _=T.getReader();try{for(;;){const{value:U,done:R}=yield(0,a.qq)(_.read());if(R)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(U)}}finally{_.releaseLock()}})}function x(T){return(0,e.m)(T?.getReader)}},3532:(it,oe,g)=>{"use strict";g.d(oe,{K:()=>e});var a=g(576);function e(C){return C&&(0,a.m)(C.schedule)}},4482:(it,oe,g)=>{"use strict";g.d(oe,{A:()=>e,e:()=>C});var a=g(576);function e(x){return(0,a.m)(x?.lift)}function C(x){return T=>{if(e(T))return T.lift(function(S){try{return x(S,this)}catch(_){this.error(_)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(it,oe,g)=>{"use strict";g.d(oe,{Z:()=>x});var a=g(4004);const{isArray:e}=Array;function x(T){return(0,a.U)(S=>function C(T,S){return e(S)?T(...S):T(S)}(T,S))}},5032:(it,oe,g)=>{"use strict";function a(){}g.d(oe,{Z:()=>a})},9635:(it,oe,g)=>{"use strict";g.d(oe,{U:()=>C,z:()=>e});var a=g(4671);function e(...x){return C(x)}function C(x){return 0===x.length?a.y:1===x.length?x[0]:function(S){return x.reduce((_,U)=>U(_),S)}}},7849:(it,oe,g)=>{"use strict";g.d(oe,{h:()=>C});var a=g(2416),e=g(3410);function C(x){e.z.setTimeout(()=>{const{onUnhandledError:T}=a.v;if(!T)throw x;T(x)})}},4532:(it,oe,g)=>{"use strict";function a(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}g.d(oe,{z:()=>a})},5834:function(it,oe,g){var a;!function(e,C){"use strict";var _="function",U="undefined",R="object",y="string",F="model",K="name",G="type",j="vendor",le="version",Ee="architecture",ve="console",ye="mobile",we="tablet",re="smarttv",ce="wearable",Ie="embedded",Ae="Amazon",Ze="Apple",he="BlackBerry",Y="Browser",Me="Chrome",xe="Firefox",Ue="Google",mt="Microsoft",$="Motorola",be="Opera",De="Samsung",qe="Sony",$e="Zebra",ut="Facebook",sn=function(Oe){for(var Ke={},Zt=0;Zt<Oe.length;Zt++)Ke[Oe[Zt].toUpperCase()]=Oe[Zt];return Ke},rn=function(Oe,Ke){return typeof Oe===y&&-1!==Cn(Ke).indexOf(Cn(Oe))},Cn=function(Oe){return Oe.toLowerCase()},At=function(Oe,Ke){if(typeof Oe===y)return Oe=Oe.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ke===U?Oe:Oe.substring(0,255)},Ge=function(Oe,Ke){for(var tt,Ne,W,P,D,k,Zt=0;Zt<Ke.length&&!D;){var pe=Ke[Zt],Le=Ke[Zt+1];for(tt=Ne=0;tt<pe.length&&!D;)if(D=pe[tt++].exec(Oe))for(W=0;W<Le.length;W++)k=D[++Ne],typeof(P=Le[W])===R&&P.length>0?2===P.length?this[P[0]]=typeof P[1]==_?P[1].call(this,k):P[1]:3===P.length?this[P[0]]=typeof P[1]!==_||P[1].exec&&P[1].test?k?k.replace(P[1],P[2]):C:k?P[1].call(this,k,P[2]):C:4===P.length&&(this[P[0]]=k?P[3].call(this,k.replace(P[1],P[2])):C):this[P]=k||C;Zt+=2}},xt=function(Oe,Ke){for(var Zt in Ke)if(typeof Ke[Zt]===R&&Ke[Zt].length>0){for(var tt=0;tt<Ke[Zt].length;tt++)if(rn(Ke[Zt][tt],Oe))return"?"===Zt?C:Zt}else if(rn(Ke[Zt],Oe))return"?"===Zt?C:Zt;return Oe},_t={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ct={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[le,[K,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[le,[K,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[K,le],[/opios[\/ ]+([\w\.]+)/i],[le,[K,be+" Mini"]],[/\bopr\/([\w\.]+)/i],[le,[K,be]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[K,le],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[le,[K,"UC"+Y]],[/\bqbcore\/([\w\.]+)/i],[le,[K,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[le,[K,"WeChat"]],[/konqueror\/([\w\.]+)/i],[le,[K,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[le,[K,"IE"]],[/yabrowser\/([\w\.]+)/i],[le,[K,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[K,/(.+)/,"$1 Secure "+Y],le],[/\bfocus\/([\w\.]+)/i],[le,[K,xe+" Focus"]],[/\bopt\/([\w\.]+)/i],[le,[K,be+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[le,[K,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[le,[K,"Dolphin"]],[/coast\/([\w\.]+)/i],[le,[K,be+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[le,[K,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[le,[K,xe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[K,"360 "+Y]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[K,/(.+)/,"$1 "+Y],le],[/(comodo_dragon)\/([\w\.]+)/i],[[K,/_/g," "],le],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[K,le],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[K],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[K,ut],le],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[K,le],[/\bgsa\/([\w\.]+) .*safari\//i],[le,[K,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[le,[K,Me+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[K,Me+" WebView"],le],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[le,[K,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[K,le],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[le,[K,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[le,K],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[K,[le,xt,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[K,le],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[K,"Netscape"],le],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[le,[K,xe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[K,le]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Ee,"amd64"]],[/(ia32(?=;))/i],[[Ee,Cn]],[/((?:i[346]|x)86)[;\)]/i],[[Ee,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Ee,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Ee,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Ee,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Ee,/ower/,"",Cn]],[/(sun4\w)[;\)]/i],[[Ee,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Ee,Cn]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[F,[j,De],[G,we]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[F,[j,De],[G,ye]],[/\((ip(?:hone|od)[\w ]*);/i],[F,[j,Ze],[G,ye]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[F,[j,Ze],[G,we]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[F,[j,"Huawei"],[G,we]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[F,[j,"Huawei"],[G,ye]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[F,/_/g," "],[j,"Xiaomi"],[G,ye]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[F,/_/g," "],[j,"Xiaomi"],[G,we]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[F,[j,"OPPO"],[G,ye]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[F,[j,"Vivo"],[G,ye]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[F,[j,"Realme"],[G,ye]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[F,[j,$],[G,ye]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[F,[j,$],[G,we]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[F,[j,"LG"],[G,we]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[F,[j,"LG"],[G,ye]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[F,[j,"Lenovo"],[G,we]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[F,/_/g," "],[j,"Nokia"],[G,ye]],[/(pixel c)\b/i],[F,[j,Ue],[G,we]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[F,[j,Ue],[G,ye]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[F,[j,qe],[G,ye]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[F,"Xperia Tablet"],[j,qe],[G,we]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[F,[j,"OnePlus"],[G,ye]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[F,[j,Ae],[G,we]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[F,/(.+)/g,"Fire Phone $1"],[j,Ae],[G,ye]],[/(playbook);[-\w\),; ]+(rim)/i],[F,j,[G,we]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[F,[j,he],[G,ye]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[F,[j,"ASUS"],[G,we]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[F,[j,"ASUS"],[G,ye]],[/(nexus 9)/i],[F,[j,"HTC"],[G,we]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[j,[F,/_/g," "],[G,ye]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[F,[j,"Acer"],[G,we]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[F,[j,"Meizu"],[G,ye]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[F,[j,"Sharp"],[G,ye]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[j,F,[G,ye]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[j,F,[G,we]],[/(surface duo)/i],[F,[j,mt],[G,we]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[F,[j,"Fairphone"],[G,ye]],[/(u304aa)/i],[F,[j,"AT&T"],[G,ye]],[/\bsie-(\w*)/i],[F,[j,"Siemens"],[G,ye]],[/\b(rct\w+) b/i],[F,[j,"RCA"],[G,we]],[/\b(venue[\d ]{2,7}) b/i],[F,[j,"Dell"],[G,we]],[/\b(q(?:mv|ta)\w+) b/i],[F,[j,"Verizon"],[G,we]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[F,[j,"Barnes & Noble"],[G,we]],[/\b(tm\d{3}\w+) b/i],[F,[j,"NuVision"],[G,we]],[/\b(k88) b/i],[F,[j,"ZTE"],[G,we]],[/\b(nx\d{3}j) b/i],[F,[j,"ZTE"],[G,ye]],[/\b(gen\d{3}) b.+49h/i],[F,[j,"Swiss"],[G,ye]],[/\b(zur\d{3}) b/i],[F,[j,"Swiss"],[G,we]],[/\b((zeki)?tb.*\b) b/i],[F,[j,"Zeki"],[G,we]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[j,"Dragon Touch"],F,[G,we]],[/\b(ns-?\w{0,9}) b/i],[F,[j,"Insignia"],[G,we]],[/\b((nxa|next)-?\w{0,9}) b/i],[F,[j,"NextBook"],[G,we]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[j,"Voice"],F,[G,ye]],[/\b(lvtel\-)?(v1[12]) b/i],[[j,"LvTel"],F,[G,ye]],[/\b(ph-1) /i],[F,[j,"Essential"],[G,ye]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[F,[j,"Envizen"],[G,we]],[/\b(trio[-\w\. ]+) b/i],[F,[j,"MachSpeed"],[G,we]],[/\btu_(1491) b/i],[F,[j,"Rotor"],[G,we]],[/(shield[\w ]+) b/i],[F,[j,"Nvidia"],[G,we]],[/(sprint) (\w+)/i],[j,F,[G,ye]],[/(kin\.[onetw]{3})/i],[[F,/\./g," "],[j,mt],[G,ye]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[F,[j,$e],[G,we]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[F,[j,$e],[G,ye]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[j,F,[G,ve]],[/droid.+; (shield) bui/i],[F,[j,"Nvidia"],[G,ve]],[/(playstation [345portablevi]+)/i],[F,[j,qe],[G,ve]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[F,[j,mt],[G,ve]],[/smart-tv.+(samsung)/i],[j,[G,re]],[/hbbtv.+maple;(\d+)/i],[[F,/^/,"SmartTV"],[j,De],[G,re]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[j,"LG"],[G,re]],[/(apple) ?tv/i],[j,[F,Ze+" TV"],[G,re]],[/crkey/i],[[F,Me+"cast"],[j,Ue],[G,re]],[/droid.+aft(\w)( bui|\))/i],[F,[j,Ae],[G,re]],[/\(dtv[\);].+(aquos)/i],[F,[j,"Sharp"],[G,re]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[j,At],[F,At],[G,re]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[G,re]],[/((pebble))app/i],[j,F,[G,ce]],[/droid.+; (glass) \d/i],[F,[j,Ue],[G,ce]],[/droid.+; (wt63?0{2,3})\)/i],[F,[j,$e],[G,ce]],[/(quest( 2)?)/i],[F,[j,ut],[G,ce]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[j,[G,Ie]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[F,[G,ye]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[F,[G,we]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[G,we]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[G,ye]],[/(android[-\w\. ]{0,9});.+buil/i],[F,[j,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[le,[K,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[le,[K,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[K,le],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[le,K]],os:[[/microsoft (windows) (vista|xp)/i],[K,le],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[K,[le,xt,_t]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[K,"Windows"],[le,xt,_t]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[le,/_/g,"."],[K,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[K,"Mac OS"],[le,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[le,K],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[K,le],[/\(bb(10);/i],[le,[K,he]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[le,[K,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[le,[K,xe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[le,[K,"webOS"]],[/crkey\/([\d\.]+)/i],[le,[K,Me+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[K,"Chromium OS"],le],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[K,le],[/(sunos) ?([\w\.\d]*)/i],[[K,"Solaris"],le],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[K,le]]},nt=function(Oe,Ke){if(typeof Oe===R&&(Ke=Oe,Oe=C),!(this instanceof nt))return new nt(Oe,Ke).getResult();var Zt=Oe||(typeof e!==U&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),tt=Ke?function(Oe,Ke){var Zt={};for(var tt in Oe)Zt[tt]=Ke[tt]&&Ke[tt].length%2==0?Ke[tt].concat(Oe[tt]):Oe[tt];return Zt}(Ct,Ke):Ct;return this.getBrowser=function(){var Ne={};return Ne[K]=C,Ne[le]=C,Ge.call(Ne,Zt,tt.browser),Ne.major=function(Oe){return typeof Oe===y?Oe.replace(/[^\d\.]/g,"").split(".")[0]:C}(Ne.version),Ne},this.getCPU=function(){var Ne={};return Ne[Ee]=C,Ge.call(Ne,Zt,tt.cpu),Ne},this.getDevice=function(){var Ne={};return Ne[j]=C,Ne[F]=C,Ne[G]=C,Ge.call(Ne,Zt,tt.device),Ne},this.getEngine=function(){var Ne={};return Ne[K]=C,Ne[le]=C,Ge.call(Ne,Zt,tt.engine),Ne},this.getOS=function(){var Ne={};return Ne[K]=C,Ne[le]=C,Ge.call(Ne,Zt,tt.os),Ne},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Zt},this.setUA=function(Ne){return Zt=typeof Ne===y&&Ne.length>255?At(Ne,255):Ne,this},this.setUA(Zt),this};nt.VERSION="1.0.2",nt.BROWSER=sn([K,le,"major"]),nt.CPU=sn([Ee]),nt.DEVICE=sn([F,j,G,ve,ye,re,we,ce,Ie]),nt.ENGINE=nt.OS=sn([K,le]),typeof oe!==U?(it.exports&&(oe=it.exports=nt),oe.UAParser=nt):g.amdO?(a=function(){return nt}.call(oe,g,oe,it))!==C&&(it.exports=a):typeof e!==U&&(e.UAParser=nt);var Ye=typeof e!==U&&(e.jQuery||e.Zepto);if(Ye&&!Ye.ua){var Mt=new nt;Ye.ua=Mt.getResult(),Ye.ua.get=function(){return Mt.getUA()},Ye.ua.set=function(Oe){Mt.setUA(Oe);var Ke=Mt.getResult();for(var Zt in Ke)Ye.ua[Zt]=Ke[Zt]}}}("object"==typeof window?window:this)},317:function(it,oe){var g,e;!function(C,x){"use strict";g=function(C){return function(T){T=T||{},function _(){T.arrayAccessForm=T.arrayAccessForm||"none",T.emptyNodeForm=T.emptyNodeForm||"text",T.jsAttributeFilter=T.jsAttributeFilter,T.jsAttributeConverter=T.jsAttributeConverter,T.attributeConverters=T.attributeConverters||[],T.datetimeAccessFormPaths=T.datetimeAccessFormPaths||[],T.arrayAccessFormPaths=T.arrayAccessFormPaths||[],T.xmldomOptions=T.xmldomOptions||{},void 0===T.enableToStringFunc&&(T.enableToStringFunc=!0),void 0===T.skipEmptyTextNodesForObj&&(T.skipEmptyTextNodesForObj=!0),void 0===T.stripWhitespaces&&(T.stripWhitespaces=!0),void 0===T.useDoubleQuotes&&(T.useDoubleQuotes=!0),void 0===T.ignoreRoot&&(T.ignoreRoot=!1),void 0===T.escapeMode&&(T.escapeMode=!0),void 0===T.attributePrefix&&(T.attributePrefix="_"),void 0===T.selfClosingElements&&(T.selfClosingElements=!0),void 0===T.keepCData&&(T.keepCData=!1),void 0===T.keepText&&(T.keepText=!1),void 0===T.jsDateUTC&&(T.jsDateUTC=!1)}(),function U(){function xe(Ue){var et=String(Ue);return 1===et.length&&(et="0"+et),et}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+xe(this.getUTCMonth()+1)+"-"+xe(this.getUTCDate())+"T"+xe(this.getUTCHours())+":"+xe(this.getUTCMinutes())+":"+xe(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var R_ELEMENT_NODE=1,R_TEXT_NODE=3,R_CDATA_SECTION_NODE=4,R_COMMENT_NODE=8,R_DOCUMENT_NODE=9;function y(xe){var Ue=xe.localName;return null==Ue&&(Ue=xe.baseName),(null==Ue||""===Ue)&&(Ue=xe.nodeName),Ue}function F(xe){return"string"==typeof xe?xe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):xe}function G(xe,Ue,et){if("property"===T.arrayAccessForm&&(xe[Ue+"_asArray"]=xe[Ue]instanceof Array?xe[Ue]:[xe[Ue]]),!(xe[Ue]instanceof Array)&&T.arrayAccessFormPaths.length>0){for(var Qe=!1,mt=0;mt<T.arrayAccessFormPaths.length;mt++){var $=T.arrayAccessFormPaths[mt];if("string"==typeof $){if($===et){Qe=!0;break}}else if($ instanceof RegExp){if($.test(et)){Qe=!0;break}}else if("function"==typeof $&&$(Ue,et)){Qe=!0;break}}Qe&&(xe[Ue]=[xe[Ue]])}}function j(xe){var et=xe.split(/[-T:+Z]/g),Qe=new Date(et[0],et[1]-1,et[2]),mt=et[5].split(".");if(Qe.setHours(et[3],et[4],mt[0]),mt.length>1&&Qe.setMilliseconds(mt[1]),et[6]&&et[7]){var $=60*et[6]+Number(et[7]);$=0+("-"==(/\d\d-\d\d:\d\d$/.test(xe)?"-":"+")?-1*$:$),Qe.setMinutes(Qe.getMinutes()-$-Qe.getTimezoneOffset())}else-1!==xe.indexOf("Z",xe.length-1)&&(Qe=new Date(Date.UTC(Qe.getFullYear(),Qe.getMonth(),Qe.getDate(),Qe.getHours(),Qe.getMinutes(),Qe.getSeconds(),Qe.getMilliseconds())));return Qe}function ve(xe,Ue){for(var et={__cnt:0},Qe=xe.childNodes,mt=0;mt<Qe.length;mt++){var $=Qe.item(mt),be=y($);$.nodeType!==R_COMMENT_NODE&&(et.__cnt++,null==et[be]?(et[be]=ye($,Ue+"."+be),G(et,be,Ue+"."+be)):(et[be]instanceof Array||(et[be]=[et[be]],G(et,be,Ue+"."+be)),et[be][et[be].length]=ye($,Ue+"."+be)))}for(var De=0;De<xe.attributes.length;De++){var qe=xe.attributes.item(De);et.__cnt++;for(var ct=qe.value,$e=0;$e<T.attributeConverters.length;$e++){var ut=T.attributeConverters[$e];ut.test.call(null,qe.name,qe.value)&&(ct=ut.convert.call(null,qe.name,qe.value))}et[T.attributePrefix+qe.name]=ct}var Vt=function B(xe){return xe.prefix}(xe);return Vt&&(et.__cnt++,et.__prefix=Vt),et["#text"]&&(et.__text=et["#text"],et.__text instanceof Array&&(et.__text=et.__text.join("\n")),T.escapeMode&&(et.__text=function K(xe){return xe.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(et.__text)),T.stripWhitespaces&&(et.__text=et.__text.trim()),delete et["#text"],"property"===T.arrayAccessForm&&delete et["#text_asArray"],et.__text=function le(xe,Ue,et){if(T.datetimeAccessFormPaths.length>0)for(var Qe=et.split(".#")[0],mt=0;mt<T.datetimeAccessFormPaths.length;mt++){var $=T.datetimeAccessFormPaths[mt];if("string"==typeof $){if($===Qe)return j(xe)}else if($ instanceof RegExp){if($.test(Qe))return j(xe)}else if("function"==typeof $&&$(Qe))return j(xe)}return xe}(et.__text,0,Ue+".#text")),et.hasOwnProperty("#cdata-section")&&(et.__cdata=et["#cdata-section"],delete et["#cdata-section"],"property"===T.arrayAccessForm&&delete et["#cdata-section_asArray"]),1===et.__cnt&&et.__text&&!T.keepText?et=et.__text:0===et.__cnt&&"text"===T.emptyNodeForm?et="":et.__cnt>1&&void 0!==et.__text&&T.skipEmptyTextNodesForObj&&(T.stripWhitespaces&&""===et.__text||""===et.__text.trim())&&delete et.__text,delete et.__cnt,T.keepCData||et.hasOwnProperty("__text")||!et.hasOwnProperty("__cdata")||1!==Object.keys(et).length?(T.enableToStringFunc&&(et.__text||et.__cdata)&&(et.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),et):et.__cdata?et.__cdata:""}function ye(xe,Ue){return xe.nodeType===R_DOCUMENT_NODE?function Ee(xe){for(var Ue={},et=xe.childNodes,Qe=0;Qe<et.length;Qe++){var mt=et.item(Qe);if(mt.nodeType===R_ELEMENT_NODE){var $=y(mt);T.ignoreRoot?Ue=ye(mt,$):Ue[$]=ye(mt,$)}}return Ue}(xe):xe.nodeType===R_ELEMENT_NODE?ve(xe,Ue):xe.nodeType===R_TEXT_NODE||xe.nodeType===R_CDATA_SECTION_NODE?xe.nodeValue:null}function we(xe,Ue,et,Qe){var mt="<"+(xe&&xe.__prefix?xe.__prefix+":":"")+Ue;if(et)for(var $=0;$<et.length;$++){var be=et[$],De=xe[be];T.escapeMode&&(De=F(De)),mt+=" "+be.substr(T.attributePrefix.length)+"=",mt+=T.useDoubleQuotes?'"'+De+'"':"'"+De+"'"}return mt+(Qe?" />":">")}function re(xe,Ue){return"</"+(xe&&xe.__prefix?xe.__prefix+":":"")+Ue+">"}function Ie(xe,Ue){return!!("property"===T.arrayAccessForm&&function ce(xe,Ue){return-1!==xe.indexOf(Ue,xe.length-Ue.length)}(Ue.toString(),"_asArray")||0===Ue.toString().indexOf(T.attributePrefix)||0===Ue.toString().indexOf("__")||xe[Ue]instanceof Function)}function ke(xe){var Ue=0;if(xe instanceof Object)for(var et in xe)Ie(xe,et)||Ue++;return Ue}function Ae(xe){var Ue=[];if(xe instanceof Object)for(var et in xe)-1===et.toString().indexOf("__")&&0===et.toString().indexOf(T.attributePrefix)&&Ue.push(et);return Ue}function me(xe){var Ue="";return xe instanceof Object?Ue+=function Ze(xe){var Ue="";return xe.__cdata&&(Ue+="<![CDATA["+xe.__cdata+"]]>"),(xe.__text||"number"==typeof xe.__text||"boolean"==typeof xe.__text)&&(Ue+=T.escapeMode?F(xe.__text):xe.__text),Ue}(xe):null!==xe&&(Ue+=T.escapeMode?F(xe):xe),Ue}function Y(xe,Ue,et){var Qe="";return T.jsAttributeFilter&&T.jsAttributeFilter.call(null,Ue,xe)||(T.jsAttributeConverter&&(xe=T.jsAttributeConverter.call(null,Ue,xe)),null!=xe&&""!==xe||!T.selfClosingElements?"object"==typeof xe?"[object Array]"===Object.prototype.toString.call(xe)?Qe+=function he(xe,Ue,et){var Qe="";if(0===xe.length)Qe+=we(xe,Ue,et,!0);else for(var mt=0;mt<xe.length;mt++)Qe+=Y(xe[mt],Ue,Ae(xe[mt]));return Qe}(xe,Ue,et):xe instanceof Date?(Qe+=we(xe,Ue,et,!1),Qe+=T.jsDateUTC?xe.toUTCString():xe.toISOString(),Qe+=re(xe,Ue)):ke(xe)>0||"number"==typeof xe.__text||"boolean"==typeof xe.__text||xe.__text||xe.__cdata?(Qe+=we(xe,Ue,et,!1),Qe+=Me(xe),Qe+=re(xe,Ue)):T.selfClosingElements?Qe+=we(xe,Ue,et,!0):(Qe+=we(xe,Ue,et,!1),Qe+=re(xe,Ue)):(Qe+=we(xe,Ue,et,!1),Qe+=me(xe),Qe+=re(xe,Ue)):Qe+=we(xe,Ue,et,!0)),Qe}function Me(xe){var Ue="";if(ke(xe)>0)for(var Qe in xe)if(!Ie(xe,Qe)){var mt=xe[Qe];Ue+=Y(mt,Qe,Ae(mt))}return Ue+me(xe)}function fe(xe){if(void 0===xe||"string"!=typeof xe)return null;var Ue=null,et=null;if(C)et=(Ue=new C(T.xmldomOptions)).parseFromString(xe,"text/xml");else if(window&&window.DOMParser){Ue=new window.DOMParser;var Qe=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Qe=Ue.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Qe=null}try{et=Ue.parseFromString(xe,"text/xml"),null!==Qe&&et.getElementsByTagNameNS(Qe,"parsererror").length>0&&(et=null)}catch{et=null}}else 0===xe.indexOf("<?")&&(xe=xe.substr(xe.indexOf("?>")+2)),(et=new ActiveXObject("Microsoft.XMLDOM")).async="false",et.loadXML(xe);return et}this.asArray=function(Ue){return null==Ue?[]:Ue instanceof Array?Ue:[Ue]},this.toXmlDateTime=function(Ue){return Ue instanceof Date?Ue.toISOString():"number"==typeof Ue?new Date(Ue).toISOString():null},this.asDateTime=function(Ue){return"string"==typeof Ue?j(Ue):Ue},this.xml2dom=function(Ue){return fe(Ue)},this.dom2js=function(Ue){return ye(Ue,null)},this.js2dom=function(Ue){return fe(this.js2xml(Ue))},this.xml2js=function(Ue){var et=fe(Ue);return null!=et?this.dom2js(et):null},this.js2xml=function(Ue){return Me(Ue)},this.getVersion=function(){return"3.4.0"}}},void 0!==(e=g.apply(oe,[]))&&(it.exports=e)}()},655:(it,oe,g)=>{"use strict";function T(he,Y,Me,fe){var et,xe=arguments.length,Ue=xe<3?Y:null===fe?fe=Object.getOwnPropertyDescriptor(Y,Me):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(he,Y,Me,fe);else for(var Qe=he.length-1;Qe>=0;Qe--)(et=he[Qe])&&(Ue=(xe<3?et(Ue):xe>3?et(Y,Me,Ue):et(Y,Me))||Ue);return xe>3&&Ue&&Object.defineProperty(Y,Me,Ue),Ue}function _(he,Y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,Y)}function U(he,Y,Me,fe){return new(Me||(Me=Promise))(function(Ue,et){function Qe(be){try{$(fe.next(be))}catch(De){et(De)}}function mt(be){try{$(fe.throw(be))}catch(De){et(De)}}function $(be){be.done?Ue(be.value):function xe(Ue){return Ue instanceof Me?Ue:new Me(function(et){et(Ue)})}(be.value).then(Qe,mt)}$((fe=fe.apply(he,Y||[])).next())})}function Ee(he){return this instanceof Ee?(this.v=he,this):new Ee(he)}function ve(he,Y,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,fe=Me.apply(he,Y||[]),Ue=[];return xe={},et("next"),et("throw"),et("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function et(qe){fe[qe]&&(xe[qe]=function(ct){return new Promise(function($e,ut){Ue.push([qe,ct,$e,ut])>1||Qe(qe,ct)})})}function Qe(qe,ct){try{!function mt(qe){qe.value instanceof Ee?Promise.resolve(qe.value.v).then($,be):De(Ue[0][2],qe)}(fe[qe](ct))}catch($e){De(Ue[0][3],$e)}}function $(qe){Qe("next",qe)}function be(qe){Qe("throw",qe)}function De(qe,ct){qe(ct),Ue.shift(),Ue.length&&Qe(Ue[0][0],Ue[0][1])}}function we(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,Y=he[Symbol.asyncIterator];return Y?Y.call(he):(he=function F(he){var Y="function"==typeof Symbol&&Symbol.iterator,Me=Y&&he[Y],fe=0;if(Me)return Me.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&fe>=he.length&&(he=void 0),{value:he&&he[fe++],done:!he}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),Me={},fe("next"),fe("throw"),fe("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function fe(Ue){Me[Ue]=he[Ue]&&function(et){return new Promise(function(Qe,mt){!function xe(Ue,et,Qe,mt){Promise.resolve(mt).then(function($){Ue({value:$,done:Qe})},et)}(Qe,mt,(et=he[Ue](et)).done,et.value)})}}}g.d(oe,{FC:()=>ve,KL:()=>we,gn:()=>T,mG:()=>U,qq:()=>Ee,w6:()=>_})},7340:(it,oe,g)=>{"use strict";g.d(oe,{LC:()=>e,SB:()=>R,X$:()=>x,ZE:()=>ye,ZN:()=>ve,_j:()=>a,eR:()=>B,jt:()=>T,k1:()=>we,l3:()=>C,oB:()=>U,vP:()=>_});class a{}class e{}const C="*";function x(re,ce){return{type:7,name:re,definitions:ce,options:{}}}function T(re,ce=null){return{type:4,styles:ce,timings:re}}function _(re,ce=null){return{type:2,steps:re,options:ce}}function U(re){return{type:6,styles:re,offset:null}}function R(re,ce,Ie){return{type:0,name:re,styles:ce,options:Ie}}function B(re,ce,Ie=null){return{type:1,expr:re,animation:ce,options:Ie}}function Ee(re){Promise.resolve().then(re)}class ve{constructor(ce=0,Ie=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ce+Ie}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}onStart(ce){this._originalOnStartFns.push(ce),this._onStartFns.push(ce)}onDone(ce){this._originalOnDoneFns.push(ce),this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ee(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ce=>ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ce){this._position=this.totalTime?ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ce){const Ie="start"==ce?this._onStartFns:this._onDoneFns;Ie.forEach(ke=>ke()),Ie.length=0}}class ye{constructor(ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ce;let Ie=0,ke=0,Ae=0;const Ze=this.players.length;0==Ze?Ee(()=>this._onFinish()):this.players.forEach(me=>{me.onDone(()=>{++Ie==Ze&&this._onFinish()}),me.onDestroy(()=>{++ke==Ze&&this._onDestroy()}),me.onStart(()=>{++Ae==Ze&&this._onStart()})}),this.totalTime=this.players.reduce((me,he)=>Math.max(me,he.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}init(){this.players.forEach(ce=>ce.init())}onStart(ce){this._onStartFns.push(ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ce=>ce()),this._onStartFns=[])}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ce=>ce.play())}pause(){this.players.forEach(ce=>ce.pause())}restart(){this.players.forEach(ce=>ce.restart())}finish(){this._onFinish(),this.players.forEach(ce=>ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ce=>ce.destroy()),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this.players.forEach(ce=>ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ce){const Ie=ce*this.totalTime;this.players.forEach(ke=>{const Ae=ke.totalTime?Math.min(1,Ie/ke.totalTime):1;ke.setPosition(Ae)})}getPosition(){const ce=this.players.reduce((Ie,ke)=>null===Ie||ke.totalTime>Ie.totalTime?ke:Ie,null);return null!=ce?ce.getPosition():0}beforeDestroy(){this.players.forEach(ce=>{ce.beforeDestroy&&ce.beforeDestroy()})}triggerCallback(ce){const Ie="start"==ce?this._onStartFns:this._onDoneFns;Ie.forEach(ke=>ke()),Ie.length=0}}const we="!"},6895:(it,oe,g)=>{"use strict";g.d(oe,{Do:()=>we,EM:()=>Sr,HT:()=>T,JF:()=>Nr,JJ:()=>is,K0:()=>_,Mx:()=>wr,NF:()=>lr,Nd:()=>bn,O5:()=>Mi,OU:()=>Xs,S$:()=>Ee,V_:()=>y,Ye:()=>re,b0:()=>ye,bD:()=>er,ez:()=>Yi,gd:()=>lo,mk:()=>ei,q:()=>C,sg:()=>Ls,tP:()=>ar,w_:()=>S});var a=g(4650);let e=null;function C(){return e}function T(V){e||(e=V)}class S{}const _=new a.OlP("DocumentToken");let U=(()=>{class V{historyGo(q){throw new Error("Not implemented")}}return V.\u0275fac=function(q){return new(q||V)},V.\u0275prov=a.Yz7({token:V,factory:function(){return function R(){return(0,a.LFG)(B)}()},providedIn:"platform"}),V})();const y=new a.OlP("Location Initialized");let B=(()=>{class V extends U{constructor(q){super(),this._doc=q,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return C().getBaseHref(this._doc)}onPopState(q){const ge=C().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("popstate",q,!1),()=>ge.removeEventListener("popstate",q)}onHashChange(q){const ge=C().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("hashchange",q,!1),()=>ge.removeEventListener("hashchange",q)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(q){this.location.pathname=q}pushState(q,ge,Re){F()?this._history.pushState(q,ge,Re):this.location.hash=Re}replaceState(q,ge,Re){F()?this._history.replaceState(q,ge,Re):this.location.hash=Re}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return V.\u0275fac=function(q){return new(q||V)(a.LFG(_))},V.\u0275prov=a.Yz7({token:V,factory:function(){return function K(){return new B((0,a.LFG)(_))}()},providedIn:"platform"}),V})();function F(){return!!window.history.pushState}function G(V,ae){if(0==V.length)return ae;if(0==ae.length)return V;let q=0;return V.endsWith("/")&&q++,ae.startsWith("/")&&q++,2==q?V+ae.substring(1):1==q?V+ae:V+"/"+ae}function j(V){const ae=V.match(/#|\?|$/),q=ae&&ae.index||V.length;return V.slice(0,q-("/"===V[q-1]?1:0))+V.slice(q)}function le(V){return V&&"?"!==V[0]?"?"+V:V}let Ee=(()=>{class V{historyGo(q){throw new Error("Not implemented")}}return V.\u0275fac=function(q){return new(q||V)},V.\u0275prov=a.Yz7({token:V,factory:function(){return(0,a.f3M)(ye)},providedIn:"root"}),V})();const ve=new a.OlP("appBaseHref");let ye=(()=>{class V extends Ee{constructor(q,ge){var Re,Dt,Pt;super(),this._platformLocation=q,this._removeListenerFns=[],this._baseHref=null!==(Re=null!==(Dt=ge??this._platformLocation.getBaseHrefFromDOM())&&void 0!==Dt?Dt:null===(Pt=(0,a.f3M)(_).location)||void 0===Pt?void 0:Pt.origin)&&void 0!==Re?Re:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return G(this._baseHref,q)}path(q=!1){const ge=this._platformLocation.pathname+le(this._platformLocation.search),Re=this._platformLocation.hash;return Re&&q?`${ge}${Re}`:ge}pushState(q,ge,Re,Dt){const Pt=this.prepareExternalUrl(Re+le(Dt));this._platformLocation.pushState(q,ge,Pt)}replaceState(q,ge,Re,Dt){const Pt=this.prepareExternalUrl(Re+le(Dt));this._platformLocation.replaceState(q,ge,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var ge,Re;null===(ge=(Re=this._platformLocation).historyGo)||void 0===ge||ge.call(Re,q)}}return V.\u0275fac=function(q){return new(q||V)(a.LFG(U),a.LFG(ve,8))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),we=(()=>{class V extends Ee{constructor(q,ge){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=ge&&(this._baseHref=ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){let ge=this._platformLocation.hash;return null==ge&&(ge="#"),ge.length>0?ge.substring(1):ge}prepareExternalUrl(q){const ge=G(this._baseHref,q);return ge.length>0?"#"+ge:ge}pushState(q,ge,Re,Dt){let Pt=this.prepareExternalUrl(Re+le(Dt));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.pushState(q,ge,Pt)}replaceState(q,ge,Re,Dt){let Pt=this.prepareExternalUrl(Re+le(Dt));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.replaceState(q,ge,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var ge,Re;null===(ge=(Re=this._platformLocation).historyGo)||void 0===ge||ge.call(Re,q)}}return V.\u0275fac=function(q){return new(q||V)(a.LFG(U),a.LFG(ve,8))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac}),V})(),re=(()=>{class V{constructor(q){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=q;const ge=this._locationStrategy.getBaseHref();this._baseHref=j(ke(ge)),this._locationStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}ngOnDestroy(){var q;null===(q=this._urlChangeSubscription)||void 0===q||q.unsubscribe(),this._urlChangeListeners=[]}path(q=!1){return this.normalize(this._locationStrategy.path(q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(q,ge=""){return this.path()==this.normalize(q+le(ge))}normalize(q){return V.stripTrailingSlash(function Ie(V,ae){return V&&ae.startsWith(V)?ae.substring(V.length):ae}(this._baseHref,ke(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._locationStrategy.prepareExternalUrl(q)}go(q,ge="",Re=null){this._locationStrategy.pushState(Re,"",q,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+le(ge)),Re)}replaceState(q,ge="",Re=null){this._locationStrategy.replaceState(Re,"",q,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+le(ge)),Re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(q=0){var ge,Re;null===(ge=(Re=this._locationStrategy).historyGo)||void 0===ge||ge.call(Re,q)}onUrlChange(q){return this._urlChangeListeners.push(q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ge=>{this._notifyUrlChangeListeners(ge.url,ge.state)})),()=>{const ge=this._urlChangeListeners.indexOf(q);var Re;this._urlChangeListeners.splice(ge,1),0===this._urlChangeListeners.length&&(null===(Re=this._urlChangeSubscription)||void 0===Re||Re.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(q="",ge){this._urlChangeListeners.forEach(Re=>Re(q,ge))}subscribe(q,ge,Re){return this._subject.subscribe({next:q,error:ge,complete:Re})}}return V.normalizeQueryParams=le,V.joinWithSlash=G,V.stripTrailingSlash=j,V.\u0275fac=function(q){return new(q||V)(a.LFG(Ee))},V.\u0275prov=a.Yz7({token:V,factory:function(){return function ce(){return new re((0,a.LFG)(Ee))}()},providedIn:"root"}),V})();function ke(V){return V.replace(/\/index.html$/,"")}var Ze=(()=>((Ze=Ze||{})[Ze.Decimal=0]="Decimal",Ze[Ze.Percent=1]="Percent",Ze[Ze.Currency=2]="Currency",Ze[Ze.Scientific=3]="Scientific",Ze))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function ut(V,ae){const q=(0,a.cg1)(V),ge=q[a.wAp.NumberSymbols][ae];if(typeof ge>"u"){if(ae===fe.CurrencyDecimal)return q[a.wAp.NumberSymbols][fe.Decimal];if(ae===fe.CurrencyGroup)return q[a.wAp.NumberSymbols][fe.Group]}return ge}const ri=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Li(V){const ae=parseInt(V);if(isNaN(ae))throw new Error("Invalid integer literal when parsing "+V);return ae}function wr(V,ae){ae=encodeURIComponent(ae);for(const q of V.split(";")){const ge=q.indexOf("="),[Re,Dt]=-1==ge?[q,""]:[q.slice(0,ge),q.slice(ge+1)];if(Re.trim()===ae)return decodeURIComponent(Dt)}return null}let ei=(()=>{class V{constructor(q,ge,Re,Dt){this._iterableDiffers=q,this._keyValueDiffers=ge,this._ngEl=Re,this._renderer=Dt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(q){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof q?q.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(q){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof q?q.split(/\s+/):q,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const q=this._iterableDiffer.diff(this._rawClass);q&&this._applyIterableChanges(q)}else if(this._keyValueDiffer){const q=this._keyValueDiffer.diff(this._rawClass);q&&this._applyKeyValueChanges(q)}}_applyKeyValueChanges(q){q.forEachAddedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),q.forEachChangedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),q.forEachRemovedItem(ge=>{ge.previousValue&&this._toggleClass(ge.key,!1)})}_applyIterableChanges(q){q.forEachAddedItem(ge=>{if("string"!=typeof ge.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(ge.item)}`);this._toggleClass(ge.item,!0)}),q.forEachRemovedItem(ge=>this._toggleClass(ge.item,!1))}_applyClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(ge=>this._toggleClass(ge,!0)):Object.keys(q).forEach(ge=>this._toggleClass(ge,!!q[ge])))}_removeClasses(q){q&&(Array.isArray(q)||q instanceof Set?q.forEach(ge=>this._toggleClass(ge,!1)):Object.keys(q).forEach(ge=>this._toggleClass(ge,!1)))}_toggleClass(q,ge){(q=q.trim())&&q.split(/\s+/g).forEach(Re=>{ge?this._renderer.addClass(this._ngEl.nativeElement,Re):this._renderer.removeClass(this._ngEl.nativeElement,Re)})}}return V.\u0275fac=function(q){return new(q||V)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},V.\u0275dir=a.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),V})();class sr{constructor(ae,q,ge,Re){this.$implicit=ae,this.ngForOf=q,this.index=ge,this.count=Re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ls=(()=>{class V{constructor(q,ge,Re){this._viewContainer=q,this._template=ge,this._differs=Re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(q){this._ngForOf=q,this._ngForOfDirty=!0}set ngForTrackBy(q){this._trackByFn=q}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(q){q&&(this._template=q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const q=this._ngForOf;!this._differ&&q&&(this._differ=this._differs.find(q).create(this.ngForTrackBy))}if(this._differ){const q=this._differ.diff(this._ngForOf);q&&this._applyChanges(q)}}_applyChanges(q){const ge=this._viewContainer;q.forEachOperation((Re,Dt,Pt)=>{if(null==Re.previousIndex)ge.createEmbeddedView(this._template,new sr(Re.item,this._ngForOf,-1,-1),null===Pt?void 0:Pt);else if(null==Pt)ge.remove(null===Dt?void 0:Dt);else if(null!==Dt){const dt=ge.get(Dt);ge.move(dt,Pt),js(dt,Re)}});for(let Re=0,Dt=ge.length;Re<Dt;Re++){const dt=ge.get(Re).context;dt.index=Re,dt.count=Dt,dt.ngForOf=this._ngForOf}q.forEachIdentityChange(Re=>{js(ge.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(q,ge){return!0}}return V.\u0275fac=function(q){return new(q||V)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},V.\u0275dir=a.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function js(V,ae){V.context.$implicit=ae.item}let Mi=(()=>{class V{constructor(q,ge){this._viewContainer=q,this._context=new $s,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ge}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){ki("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){ki("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,ge){return!0}}return V.\u0275fac=function(q){return new(q||V)(a.Y36(a.s_b),a.Y36(a.Rgc))},V.\u0275dir=a.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class $s{constructor(){this.$implicit=null,this.ngIf=null}}function ki(V,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,a.AaK)(ae)}'.`)}let ar=(()=>{class V{constructor(q){this._viewContainerRef=q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(q){if(q.ngTemplateOutlet||q.ngTemplateOutletInjector){const ge=this._viewContainerRef;if(this._viewRef&&ge.remove(ge.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Re,ngTemplateOutletContext:Dt,ngTemplateOutletInjector:Pt}=this;this._viewRef=ge.createEmbeddedView(Re,Dt,Pt?{injector:Pt}:void 0)}else this._viewRef=null}else this._viewRef&&q.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(q){return new(q||V)(a.Y36(a.s_b))},V.\u0275dir=a.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),V})();function Ji(V,ae){return new a.vHH(2100,!1)}let lo=(()=>{class V{transform(q){if(null==q)return null;if("string"!=typeof q)throw Ji();return q.toUpperCase()}}return V.\u0275fac=function(q){return new(q||V)},V.\u0275pipe=a.Yjl({name:"uppercase",type:V,pure:!0,standalone:!0}),V})(),bn=(()=>{class V{constructor(q){this.differs=q,this.keyValues=[],this.compareFn=Gi}transform(q,ge=Gi){if(!q||!(q instanceof Map)&&"object"!=typeof q)return null;this.differ||(this.differ=this.differs.find(q).create());const Re=this.differ.diff(q),Dt=ge!==this.compareFn;return Re&&(this.keyValues=[],Re.forEachItem(Pt=>{this.keyValues.push(function Ar(V,ae){return{key:V,value:ae}}(Pt.key,Pt.currentValue))})),(Re||Dt)&&(this.keyValues.sort(ge),this.compareFn=ge),this.keyValues}}return V.\u0275fac=function(q){return new(q||V)(a.Y36(a.aQg,16))},V.\u0275pipe=a.Yjl({name:"keyvalue",type:V,pure:!1,standalone:!0}),V})();function Gi(V,ae){const q=V.key,ge=ae.key;if(q===ge)return 0;if(void 0===q)return 1;if(void 0===ge)return-1;if(null===q)return 1;if(null===ge)return-1;if("string"==typeof q&&"string"==typeof ge)return q<ge?-1:1;if("number"==typeof q&&"number"==typeof ge)return q-ge;if("boolean"==typeof q&&"boolean"==typeof ge)return q<ge?-1:1;const Re=String(q),Dt=String(ge);return Re==Dt?0:Re<Dt?-1:1}let is=(()=>{class V{constructor(q){this._locale=q}transform(q,ge,Re){if(!function Ds(V){return!(null==V||""===V||V!=V)}(q))return null;Re=Re||this._locale;try{return function mn(V,ae,q){return function wn(V,ae,q,ge,Re,Dt,Pt=!1){let dt="",Gn=!1;if(isFinite(V)){let In=function Rs(V){let ge,Re,Dt,Pt,dt,ae=Math.abs(V)+"",q=0;for((Re=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(Dt=ae.search(/e/i))>0?(Re<0&&(Re=Dt),Re+=+ae.slice(Dt+1),ae=ae.substring(0,Dt)):Re<0&&(Re=ae.length),Dt=0;"0"===ae.charAt(Dt);Dt++);if(Dt===(dt=ae.length))ge=[0],Re=1;else{for(dt--;"0"===ae.charAt(dt);)dt--;for(Re-=Dt,ge=[],Pt=0;Dt<=dt;Dt++,Pt++)ge[Pt]=Number(ae.charAt(Dt))}return Re>22&&(ge=ge.splice(0,21),q=Re-1,Re=1),{digits:ge,exponent:q,integerLen:Re}}(V);Pt&&(In=function ms(V){if(0===V.digits[0])return V;const ae=V.digits.length-V.integerLen;return V.exponent?V.exponent+=2:(0===ae?V.digits.push(0,0):1===ae&&V.digits.push(0),V.integerLen+=2),V}(In));let wt=ae.minInt,un=ae.minFrac,ss=ae.maxFrac;if(Dt){const rs=Dt.match(ri);if(null===rs)throw new Error(`${Dt} is not a valid digit info`);const ji=rs[1],Er=rs[3],qr=rs[5];null!=ji&&(wt=Li(ji)),null!=Er&&(un=Li(Er)),null!=qr?ss=Li(qr):null!=Er&&un>ss&&(ss=un)}!function Hi(V,ae,q){if(ae>q)throw new Error(`The minimum number of digits after fraction (${ae}) is higher than the maximum (${q}).`);let ge=V.digits,Re=ge.length-V.integerLen;const Dt=Math.min(Math.max(ae,Re),q);let Pt=Dt+V.integerLen,dt=ge[Pt];if(Pt>0){ge.splice(Math.max(V.integerLen,Pt));for(let un=Pt;un<ge.length;un++)ge[un]=0}else{Re=Math.max(0,Re),V.integerLen=1,ge.length=Math.max(1,Pt=Dt+1),ge[0]=0;for(let un=1;un<Pt;un++)ge[un]=0}if(dt>=5)if(Pt-1<0){for(let un=0;un>Pt;un--)ge.unshift(0),V.integerLen++;ge.unshift(1),V.integerLen++}else ge[Pt-1]++;for(;Re<Math.max(0,Dt);Re++)ge.push(0);let Gn=0!==Dt;const In=ae+V.integerLen,wt=ge.reduceRight(function(un,ss,zn,Fi){return Fi[zn]=(ss+=un)<10?ss:ss-10,Gn&&(0===Fi[zn]&&zn>=In?Fi.pop():Gn=!1),ss>=10?1:0},0);wt&&(ge.unshift(wt),V.integerLen++)}(In,un,ss);let zn=In.digits,Fi=In.integerLen;const ps=In.exponent;let Bi=[];for(Gn=zn.every(rs=>!rs);Fi<wt;Fi++)zn.unshift(0);for(;Fi<0;Fi++)zn.unshift(0);Fi>0?Bi=zn.splice(Fi,zn.length):(Bi=zn,zn=[0]);const kr=[];for(zn.length>=ae.lgSize&&kr.unshift(zn.splice(-ae.lgSize,zn.length).join(""));zn.length>ae.gSize;)kr.unshift(zn.splice(-ae.gSize,zn.length).join(""));zn.length&&kr.unshift(zn.join("")),dt=kr.join(ut(q,ge)),Bi.length&&(dt+=ut(q,Re)+Bi.join("")),ps&&(dt+=ut(q,fe.Exponential)+"+"+ps)}else dt=ut(q,fe.Infinity);return dt=V<0&&!Gn?ae.negPre+dt+ae.negSuf:ae.posPre+dt+ae.posSuf,dt}(V,function vi(V,ae="-"){const q={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ge=V.split(";"),Re=ge[0],Dt=ge[1],Pt=-1!==Re.indexOf(".")?Re.split("."):[Re.substring(0,Re.lastIndexOf("0")+1),Re.substring(Re.lastIndexOf("0")+1)],dt=Pt[0],Gn=Pt[1]||"";q.posPre=dt.substring(0,dt.indexOf("#"));for(let wt=0;wt<Gn.length;wt++){const un=Gn.charAt(wt);"0"===un?q.minFrac=q.maxFrac=wt+1:"#"===un?q.maxFrac=wt+1:q.posSuf+=un}const In=dt.split(",");if(q.gSize=In[1]?In[1].length:0,q.lgSize=In[2]||In[1]?(In[2]||In[1]).length:0,Dt){const wt=Re.length-q.posPre.length-q.posSuf.length,un=Dt.indexOf("#");q.negPre=Dt.substring(0,un).replace(/'/g,""),q.negSuf=Dt.slice(un+wt).replace(/'/g,"")}else q.negPre=ae+q.posPre,q.negSuf=q.posSuf;return q}(function Vt(V,ae){return(0,a.cg1)(V)[a.wAp.NumberFormats][ae]}(ae,Ze.Decimal),ut(ae,fe.MinusSign)),ae,fe.Group,fe.Decimal,q)}(function zi(V){if("string"==typeof V&&!isNaN(Number(V)-parseFloat(V)))return Number(V);if("number"!=typeof V)throw new Error(`${V} is not a number`);return V}(q),Re,ge)}catch(Dt){throw Ji()}}}return V.\u0275fac=function(q){return new(q||V)(a.Y36(a.soG,16))},V.\u0275pipe=a.Yjl({name:"number",type:V,pure:!0,standalone:!0}),V})();let Xs=(()=>{class V{transform(q,ge,Re){if(null==q)return null;if(!this.supports(q))throw Ji();return q.slice(ge,Re)}supports(q){return"string"==typeof q||Array.isArray(q)}}return V.\u0275fac=function(q){return new(q||V)},V.\u0275pipe=a.Yjl({name:"slice",type:V,pure:!1,standalone:!0}),V})(),Yi=(()=>{class V{}return V.\u0275fac=function(q){return new(q||V)},V.\u0275mod=a.oAB({type:V}),V.\u0275inj=a.cJS({}),V})();const er="browser";function lr(V){return V===er}let Sr=(()=>{class V{}return V.\u0275prov=(0,a.Yz7)({token:V,providedIn:"root",factory:()=>new Do((0,a.LFG)(_),window)}),V})();class Do{constructor(ae,q){this.document=ae,this.window=q,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const q=function Ws(V,ae){const q=V.getElementById(ae)||V.getElementsByName(ae)[0];if(q)return q;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ge=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Re=ge.currentNode;for(;Re;){const Dt=Re.shadowRoot;if(Dt){const Pt=Dt.getElementById(ae)||Dt.querySelector(`[name="${ae}"]`);if(Pt)return Pt}Re=ge.nextNode()}}return null}(this.document,ae);q&&(this.scrollToElement(q),q.focus())}setHistoryScrollRestoration(ae){if(this.supportScrollRestoration()){const q=this.window.history;q&&q.scrollRestoration&&(q.scrollRestoration=ae)}}scrollToElement(ae){const q=ae.getBoundingClientRect(),ge=q.left+this.window.pageXOffset,Re=q.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(ge-Dt[0],Re-Dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ae=Ts(this.window.history)||Ts(Object.getPrototypeOf(this.window.history));return!(!ae||!ae.writable&&!ae.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ts(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Nr{}},529:(it,oe,g)=>{"use strict";g.d(oe,{JF:()=>Oe,LE:()=>ve,TP:()=>Qe,UA:()=>fe,WM:()=>y,eN:()=>Ue});var a=g(6895),e=g(4650),C=g(9646),x=g(9751),T=g(4351),S=g(9300),_=g(4004);class U{}class R{}class y{constructor(Ne){this.normalizedNames=new Map,this.lazyUpdate=null,Ne?this.lazyInit="string"==typeof Ne?()=>{this.headers=new Map,Ne.split("\n").forEach(W=>{const P=W.indexOf(":");if(P>0){const D=W.slice(0,P),k=D.toLowerCase(),pe=W.slice(P+1).trim();this.maybeSetNormalizedName(D,k),this.headers.has(k)?this.headers.get(k).push(pe):this.headers.set(k,[pe])}})}:()=>{this.headers=new Map,Object.keys(Ne).forEach(W=>{let P=Ne[W];const D=W.toLowerCase();"string"==typeof P&&(P=[P]),P.length>0&&(this.headers.set(D,P),this.maybeSetNormalizedName(W,D))})}:this.headers=new Map}has(Ne){return this.init(),this.headers.has(Ne.toLowerCase())}get(Ne){this.init();const W=this.headers.get(Ne.toLowerCase());return W&&W.length>0?W[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ne){return this.init(),this.headers.get(Ne.toLowerCase())||null}append(Ne,W){return this.clone({name:Ne,value:W,op:"a"})}set(Ne,W){return this.clone({name:Ne,value:W,op:"s"})}delete(Ne,W){return this.clone({name:Ne,value:W,op:"d"})}maybeSetNormalizedName(Ne,W){this.normalizedNames.has(W)||this.normalizedNames.set(W,Ne)}init(){this.lazyInit&&(this.lazyInit instanceof y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ne=>this.applyUpdate(Ne)),this.lazyUpdate=null))}copyFrom(Ne){Ne.init(),Array.from(Ne.headers.keys()).forEach(W=>{this.headers.set(W,Ne.headers.get(W)),this.normalizedNames.set(W,Ne.normalizedNames.get(W))})}clone(Ne){const W=new y;return W.lazyInit=this.lazyInit&&this.lazyInit instanceof y?this.lazyInit:this,W.lazyUpdate=(this.lazyUpdate||[]).concat([Ne]),W}applyUpdate(Ne){const W=Ne.name.toLowerCase();switch(Ne.op){case"a":case"s":let P=Ne.value;if("string"==typeof P&&(P=[P]),0===P.length)return;this.maybeSetNormalizedName(Ne.name,W);const D=("a"===Ne.op?this.headers.get(W):void 0)||[];D.push(...P),this.headers.set(W,D);break;case"d":const k=Ne.value;if(k){let pe=this.headers.get(W);if(!pe)return;pe=pe.filter(Le=>-1===k.indexOf(Le)),0===pe.length?(this.headers.delete(W),this.normalizedNames.delete(W)):this.headers.set(W,pe)}else this.headers.delete(W),this.normalizedNames.delete(W)}}forEach(Ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(W=>Ne(this.normalizedNames.get(W),this.headers.get(W)))}}class F{encodeKey(Ne){return le(Ne)}encodeValue(Ne){return le(Ne)}decodeKey(Ne){return decodeURIComponent(Ne)}decodeValue(Ne){return decodeURIComponent(Ne)}}const G=/%(\d[a-f0-9])/gi,j={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function le(tt){return encodeURIComponent(tt).replace(G,(Ne,W)=>{var P;return null!==(P=j[W])&&void 0!==P?P:Ne})}function Ee(tt){return`${tt}`}class ve{constructor(Ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ne.encoder||new F,Ne.fromString){if(Ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function K(tt,Ne){const W=new Map;return tt.length>0&&tt.replace(/^\?/,"").split("&").forEach(D=>{const k=D.indexOf("="),[pe,Le]=-1==k?[Ne.decodeKey(D),""]:[Ne.decodeKey(D.slice(0,k)),Ne.decodeValue(D.slice(k+1))],He=W.get(pe)||[];He.push(Le),W.set(pe,He)}),W}(Ne.fromString,this.encoder)}else Ne.fromObject?(this.map=new Map,Object.keys(Ne.fromObject).forEach(W=>{const P=Ne.fromObject[W],D=Array.isArray(P)?P.map(Ee):[Ee(P)];this.map.set(W,D)})):this.map=null}has(Ne){return this.init(),this.map.has(Ne)}get(Ne){this.init();const W=this.map.get(Ne);return W?W[0]:null}getAll(Ne){return this.init(),this.map.get(Ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ne,W){return this.clone({param:Ne,value:W,op:"a"})}appendAll(Ne){const W=[];return Object.keys(Ne).forEach(P=>{const D=Ne[P];Array.isArray(D)?D.forEach(k=>{W.push({param:P,value:k,op:"a"})}):W.push({param:P,value:D,op:"a"})}),this.clone(W)}set(Ne,W){return this.clone({param:Ne,value:W,op:"s"})}delete(Ne,W){return this.clone({param:Ne,value:W,op:"d"})}toString(){return this.init(),this.keys().map(Ne=>{const W=this.encoder.encodeKey(Ne);return this.map.get(Ne).map(P=>W+"="+this.encoder.encodeValue(P)).join("&")}).filter(Ne=>""!==Ne).join("&")}clone(Ne){const W=new ve({encoder:this.encoder});return W.cloneFrom=this.cloneFrom||this,W.updates=(this.updates||[]).concat(Ne),W}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ne=>this.map.set(Ne,this.cloneFrom.map.get(Ne))),this.updates.forEach(Ne=>{switch(Ne.op){case"a":case"s":const W=("a"===Ne.op?this.map.get(Ne.param):void 0)||[];W.push(Ee(Ne.value)),this.map.set(Ne.param,W);break;case"d":if(void 0===Ne.value){this.map.delete(Ne.param);break}{let P=this.map.get(Ne.param)||[];const D=P.indexOf(Ee(Ne.value));-1!==D&&P.splice(D,1),P.length>0?this.map.set(Ne.param,P):this.map.delete(Ne.param)}}}),this.cloneFrom=this.updates=null)}}class we{constructor(){this.map=new Map}set(Ne,W){return this.map.set(Ne,W),this}get(Ne){return this.map.has(Ne)||this.map.set(Ne,Ne.defaultValue()),this.map.get(Ne)}delete(Ne){return this.map.delete(Ne),this}has(Ne){return this.map.has(Ne)}keys(){return this.map.keys()}}function ce(tt){return typeof ArrayBuffer<"u"&&tt instanceof ArrayBuffer}function Ie(tt){return typeof Blob<"u"&&tt instanceof Blob}function ke(tt){return typeof FormData<"u"&&tt instanceof FormData}class Ze{constructor(Ne,W,P,D){let k;if(this.url=W,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ne.toUpperCase(),function re(tt){switch(tt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||D?(this.body=void 0!==P?P:null,k=D):k=P,k&&(this.reportProgress=!!k.reportProgress,this.withCredentials=!!k.withCredentials,k.responseType&&(this.responseType=k.responseType),k.headers&&(this.headers=k.headers),k.context&&(this.context=k.context),k.params&&(this.params=k.params)),this.headers||(this.headers=new y),this.context||(this.context=new we),this.params){const pe=this.params.toString();if(0===pe.length)this.urlWithParams=W;else{const Le=W.indexOf("?");this.urlWithParams=W+(-1===Le?"?":Le<W.length-1?"&":"")+pe}}else this.params=new ve,this.urlWithParams=W}serializeBody(){return null===this.body?null:ce(this.body)||Ie(this.body)||ke(this.body)||function Ae(tt){return typeof URLSearchParams<"u"&&tt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ke(this.body)?null:Ie(this.body)?this.body.type||null:ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ne={}){var W;const P=Ne.method||this.method,D=Ne.url||this.url,k=Ne.responseType||this.responseType,pe=void 0!==Ne.body?Ne.body:this.body,Le=void 0!==Ne.withCredentials?Ne.withCredentials:this.withCredentials,He=void 0!==Ne.reportProgress?Ne.reportProgress:this.reportProgress;let lt=Ne.headers||this.headers,Ut=Ne.params||this.params;const dn=null!==(W=Ne.context)&&void 0!==W?W:this.context;return void 0!==Ne.setHeaders&&(lt=Object.keys(Ne.setHeaders).reduce((Bt,Qt)=>Bt.set(Qt,Ne.setHeaders[Qt]),lt)),Ne.setParams&&(Ut=Object.keys(Ne.setParams).reduce((Bt,Qt)=>Bt.set(Qt,Ne.setParams[Qt]),Ut)),new Ze(P,D,pe,{params:Ut,headers:lt,context:dn,reportProgress:He,responseType:k,withCredentials:Le})}}var me=(()=>((me=me||{})[me.Sent=0]="Sent",me[me.UploadProgress=1]="UploadProgress",me[me.ResponseHeader=2]="ResponseHeader",me[me.DownloadProgress=3]="DownloadProgress",me[me.Response=4]="Response",me[me.User=5]="User",me))();class he{constructor(Ne,W=200,P="OK"){this.headers=Ne.headers||new y,this.status=void 0!==Ne.status?Ne.status:W,this.statusText=Ne.statusText||P,this.url=Ne.url||null,this.ok=this.status>=200&&this.status<300}}class Y extends he{constructor(Ne={}){super(Ne),this.type=me.ResponseHeader}clone(Ne={}){return new Y({headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class Me extends he{constructor(Ne={}){super(Ne),this.type=me.Response,this.body=void 0!==Ne.body?Ne.body:null}clone(Ne={}){return new Me({body:void 0!==Ne.body?Ne.body:this.body,headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class fe extends he{constructor(Ne){super(Ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ne.url||"(unknown url)"}`:`Http failure response for ${Ne.url||"(unknown url)"}: ${Ne.status} ${Ne.statusText}`,this.error=Ne.error||null}}function xe(tt,Ne){return{body:Ne,headers:tt.headers,context:tt.context,observe:tt.observe,params:tt.params,reportProgress:tt.reportProgress,responseType:tt.responseType,withCredentials:tt.withCredentials}}let Ue=(()=>{class tt{constructor(W){this.handler=W}request(W,P,D={}){let k;if(W instanceof Ze)k=W;else{let He,lt;He=D.headers instanceof y?D.headers:new y(D.headers),D.params&&(lt=D.params instanceof ve?D.params:new ve({fromObject:D.params})),k=new Ze(W,P,void 0!==D.body?D.body:null,{headers:He,context:D.context,params:lt,reportProgress:D.reportProgress,responseType:D.responseType||"json",withCredentials:D.withCredentials})}const pe=(0,C.of)(k).pipe((0,T.b)(He=>this.handler.handle(He)));if(W instanceof Ze||"events"===D.observe)return pe;const Le=pe.pipe((0,S.h)(He=>He instanceof Me));switch(D.observe||"body"){case"body":switch(k.responseType){case"arraybuffer":return Le.pipe((0,_.U)(He=>{if(null!==He.body&&!(He.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return He.body}));case"blob":return Le.pipe((0,_.U)(He=>{if(null!==He.body&&!(He.body instanceof Blob))throw new Error("Response is not a Blob.");return He.body}));case"text":return Le.pipe((0,_.U)(He=>{if(null!==He.body&&"string"!=typeof He.body)throw new Error("Response is not a string.");return He.body}));default:return Le.pipe((0,_.U)(He=>He.body))}case"response":return Le;default:throw new Error(`Unreachable: unhandled observe type ${D.observe}}`)}}delete(W,P={}){return this.request("DELETE",W,P)}get(W,P={}){return this.request("GET",W,P)}head(W,P={}){return this.request("HEAD",W,P)}jsonp(W,P){return this.request("JSONP",W,{params:(new ve).append(P,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(W,P={}){return this.request("OPTIONS",W,P)}patch(W,P,D={}){return this.request("PATCH",W,xe(D,P))}post(W,P,D={}){return this.request("POST",W,xe(D,P))}put(W,P,D={}){return this.request("PUT",W,xe(D,P))}}return tt.\u0275fac=function(W){return new(W||tt)(e.LFG(U))},tt.\u0275prov=e.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class et{constructor(Ne,W){this.next=Ne,this.interceptor=W}handle(Ne){return this.interceptor.intercept(Ne,this.next)}}const Qe=new e.OlP("HTTP_INTERCEPTORS");let mt=(()=>{class tt{intercept(W,P){return P.handle(W)}}return tt.\u0275fac=function(W){return new(W||tt)},tt.\u0275prov=e.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const rn=/^\)\]\}',?\n/;let vt=(()=>{class tt{constructor(W){this.xhrFactory=W}handle(W){if("JSONP"===W.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new x.y(P=>{const D=this.xhrFactory.build();if(D.open(W.method,W.urlWithParams),W.withCredentials&&(D.withCredentials=!0),W.headers.forEach((Qt,Yt)=>D.setRequestHeader(Qt,Yt.join(","))),W.headers.has("Accept")||D.setRequestHeader("Accept","application/json, text/plain, */*"),!W.headers.has("Content-Type")){const Qt=W.detectContentTypeHeader();null!==Qt&&D.setRequestHeader("Content-Type",Qt)}if(W.responseType){const Qt=W.responseType.toLowerCase();D.responseType="json"!==Qt?Qt:"text"}const k=W.serializeBody();let pe=null;const Le=()=>{if(null!==pe)return pe;const Qt=D.statusText||"OK",Yt=new y(D.getAllResponseHeaders()),je=function Cn(tt){return"responseURL"in tt&&tt.responseURL?tt.responseURL:/^X-Request-URL:/m.test(tt.getAllResponseHeaders())?tt.getResponseHeader("X-Request-URL"):null}(D)||W.url;return pe=new Y({headers:Yt,status:D.status,statusText:Qt,url:je}),pe},He=()=>{let{headers:Qt,status:Yt,statusText:je,url:qt}=Le(),rt=null;204!==Yt&&(rt=typeof D.response>"u"?D.responseText:D.response),0===Yt&&(Yt=rt?200:0);let Lt=Yt>=200&&Yt<300;if("json"===W.responseType&&"string"==typeof rt){const Gt=rt;rt=rt.replace(rn,"");try{rt=""!==rt?JSON.parse(rt):null}catch(En){rt=Gt,Lt&&(Lt=!1,rt={error:En,text:rt})}}Lt?(P.next(new Me({body:rt,headers:Qt,status:Yt,statusText:je,url:qt||void 0})),P.complete()):P.error(new fe({error:rt,headers:Qt,status:Yt,statusText:je,url:qt||void 0}))},lt=Qt=>{const{url:Yt}=Le(),je=new fe({error:Qt,status:D.status||0,statusText:D.statusText||"Unknown Error",url:Yt||void 0});P.error(je)};let Ut=!1;const dn=Qt=>{Ut||(P.next(Le()),Ut=!0);let Yt={type:me.DownloadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(Yt.total=Qt.total),"text"===W.responseType&&!!D.responseText&&(Yt.partialText=D.responseText),P.next(Yt)},Bt=Qt=>{let Yt={type:me.UploadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(Yt.total=Qt.total),P.next(Yt)};return D.addEventListener("load",He),D.addEventListener("error",lt),D.addEventListener("timeout",lt),D.addEventListener("abort",lt),W.reportProgress&&(D.addEventListener("progress",dn),null!==k&&D.upload&&D.upload.addEventListener("progress",Bt)),D.send(k),P.next({type:me.Sent}),()=>{D.removeEventListener("error",lt),D.removeEventListener("abort",lt),D.removeEventListener("load",He),D.removeEventListener("timeout",lt),W.reportProgress&&(D.removeEventListener("progress",dn),null!==k&&D.upload&&D.upload.removeEventListener("progress",Bt)),D.readyState!==D.DONE&&D.abort()}})}}return tt.\u0275fac=function(W){return new(W||tt)(e.LFG(a.JF))},tt.\u0275prov=e.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const At=new e.OlP("XSRF_COOKIE_NAME"),Ge=new e.OlP("XSRF_HEADER_NAME");class xt{}let Et=(()=>{class tt{constructor(W,P,D){this.doc=W,this.platform=P,this.cookieName=D,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const W=this.doc.cookie||"";return W!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)(W,this.cookieName),this.lastCookieString=W),this.lastToken}}return tt.\u0275fac=function(W){return new(W||tt)(e.LFG(a.K0),e.LFG(e.Lbi),e.LFG(At))},tt.\u0275prov=e.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),_t=(()=>{class tt{constructor(W,P){this.tokenService=W,this.headerName=P}intercept(W,P){const D=W.url.toLowerCase();if("GET"===W.method||"HEAD"===W.method||D.startsWith("http://")||D.startsWith("https://"))return P.handle(W);const k=this.tokenService.getToken();return null!==k&&!W.headers.has(this.headerName)&&(W=W.clone({headers:W.headers.set(this.headerName,k)})),P.handle(W)}}return tt.\u0275fac=function(W){return new(W||tt)(e.LFG(xt),e.LFG(Ge))},tt.\u0275prov=e.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),Ct=(()=>{class tt{constructor(W,P){this.backend=W,this.injector=P,this.chain=null}handle(W){if(null===this.chain){const P=this.injector.get(Qe,[]);this.chain=P.reduceRight((D,k)=>new et(D,k),this.backend)}return this.chain.handle(W)}}return tt.\u0275fac=function(W){return new(W||tt)(e.LFG(R),e.LFG(e.zs3))},tt.\u0275prov=e.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),Mt=(()=>{class tt{static disable(){return{ngModule:tt,providers:[{provide:_t,useClass:mt}]}}static withOptions(W={}){return{ngModule:tt,providers:[W.cookieName?{provide:At,useValue:W.cookieName}:[],W.headerName?{provide:Ge,useValue:W.headerName}:[]]}}}return tt.\u0275fac=function(W){return new(W||tt)},tt.\u0275mod=e.oAB({type:tt}),tt.\u0275inj=e.cJS({providers:[_t,{provide:Qe,useExisting:_t,multi:!0},{provide:xt,useClass:Et},{provide:At,useValue:"XSRF-TOKEN"},{provide:Ge,useValue:"X-XSRF-TOKEN"}]}),tt})(),Oe=(()=>{class tt{}return tt.\u0275fac=function(W){return new(W||tt)},tt.\u0275mod=e.oAB({type:tt}),tt.\u0275inj=e.cJS({providers:[Ue,{provide:U,useClass:Ct},vt,{provide:R,useExisting:vt}],imports:[Mt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),tt})()},4650:(it,oe,g)=>{"use strict";g.d(oe,{$8M:()=>$o,$Z:()=>bg,AFp:()=>bu,ALo:()=>Fv,AaK:()=>U,AsE:()=>kh,BQk:()=>xd,CHM:()=>Is,CRH:()=>Gv,CZH:()=>jd,CqO:()=>xh,D6c:()=>uT,DdM:()=>Iv,Dn7:()=>Hv,EJc:()=>va,EiD:()=>_m,EpF:()=>e_,F$t:()=>o_,F4k:()=>ks,FYo:()=>km,FiY:()=>da,G48:()=>Lf,Gf:()=>Qv,GfV:()=>Rm,GkF:()=>Ah,Gpc:()=>B,Gre:()=>P_,HTZ:()=>Pv,Hsn:()=>a_,Ikx:()=>Lh,JOm:()=>Sa,JVY:()=>Wu,Jf7:()=>qm,KtG:()=>Ms,L6k:()=>Hc,LAX:()=>mp,LFG:()=>Ns,LMc:()=>hS,LSH:()=>vp,Lbi:()=>P0,Lck:()=>Qb,MAs:()=>Xg,MGl:()=>Dd,MMx:()=>Zd,NdJ:()=>Dh,OlP:()=>Vi,Oqu:()=>Nh,PXZ:()=>J0,Q6J:()=>wh,QGY:()=>Sh,QP$:()=>Xn,QbO:()=>ka,Qsj:()=>Sy,QtT:()=>gv,R0b:()=>ia,RDi:()=>om,Rgc:()=>gu,SBq:()=>Wc,SDv:()=>mv,Sil:()=>Mc,Suo:()=>w0,TTD:()=>Ks,TgZ:()=>Td,Tol:()=>w_,Udp:()=>Ih,VKq:()=>Mv,W1O:()=>Xv,WLB:()=>Ov,X6Q:()=>w1,XFs:()=>Ct,Xpm:()=>qt,Xts:()=>yp,Y36:()=>oc,YKP:()=>Ud,YNc:()=>Kg,Yjl:()=>Ni,Yz7:()=>ct,Z0I:()=>sn,ZZ4:()=>Hf,_Bn:()=>Yh,_UZ:()=>Th,_Vd:()=>$c,_c5:()=>lT,_uU:()=>E_,aQg:()=>Jf,c2e:()=>L0,cJS:()=>ut,cg1:()=>Zh,d8E:()=>Uh,dDg:()=>_l,dqk:()=>D,eBb:()=>xT,eFA:()=>Nc,ekj:()=>Mh,eoX:()=>vl,evT:()=>jm,f3M:()=>Qo,g9A:()=>$d,h0i:()=>bc,hGG:()=>cT,hij:()=>Md,iGM:()=>hf,ifc:()=>P,ip1:()=>gl,jDz:()=>Cv,kEZ:()=>Nv,kL8:()=>j_,l5B:()=>kv,lG2:()=>Ti,lcZ:()=>Bv,lqb:()=>Ml,lri:()=>Ho,mCW:()=>Jc,n5z:()=>il,oAB:()=>En,oJD:()=>vm,oxw:()=>r_,pB0:()=>um,pQV:()=>$h,q3G:()=>_r,qLn:()=>Ol,qOj:()=>hh,qZA:()=>Ad,qbA:()=>Rv,qzn:()=>ec,rWj:()=>Wd,s9C:()=>Eh,sBO:()=>$0,sIi:()=>su,s_b:()=>af,soG:()=>go,tb:()=>p1,tp0:()=>Zc,uIk:()=>yh,vHH:()=>j,vpe:()=>Na,wAp:()=>Jn,xi3:()=>Vv,xp6:()=>pg,ynx:()=>Sd,z2F:()=>Kd,z3N:()=>Ha,zSh:()=>Dm,zs3:()=>Zl});var a=g(7579),e=g(727),C=g(9751),x=g(6451),T=g(3099);function S(s){for(let r in s)if(s[r]===S)return r;throw Error("Could not find renamed property on target object.")}function _(s,r){for(const u in r)r.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=r[u])}function U(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(U).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const r=s.toString();if(null==r)return""+r;const u=r.indexOf("\n");return-1===u?r:r.substring(0,u)}function R(s,r){return null==s||""===s?null===r?"":r:null==r||""===r?s:s+" "+r}const y=S({__forward_ref__:S});function B(s){return s.__forward_ref__=B,s.toString=function(){return U(this())},s}function F(s){return K(s)?s():s}function K(s){return"function"==typeof s&&s.hasOwnProperty(y)&&s.__forward_ref__===B}class j extends Error{constructor(r,u){super(function le(s,r){return`NG0${Math.abs(s)}${r?": "+r.trim():""}`}(r,u)),this.code=r}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function ce(s,r){throw new j(-201,!1)}function $(s,r,u,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${u} ${h} ${r} <=Actual]`))}function ct(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ut(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vt(s){return rn(s,Ge)||rn(s,Et)}function sn(s){return null!==Vt(s)}function rn(s,r){return s.hasOwnProperty(r)?s[r]:null}function At(s){return s&&(s.hasOwnProperty(xt)||s.hasOwnProperty(_t))?s[xt]:null}const Ge=S({\u0275prov:S}),xt=S({\u0275inj:S}),Et=S({ngInjectableDef:S}),_t=S({ngInjectorDef:S});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let nt;function Mt(s){const r=nt;return nt=s,r}function Oe(s,r,u){const h=Vt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Ct.Optional?null:void 0!==r?r:void ce(U(s))}function Zt(s){return{toString:s}.toString()}var tt=(()=>((tt=tt||{})[tt.OnPush=0]="OnPush",tt[tt.Default=1]="Default",tt))(),P=(()=>{return(s=P||(P={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",P;var s})();const D=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Le={},He=[],lt=S({\u0275cmp:S}),Ut=S({\u0275dir:S}),dn=S({\u0275pipe:S}),Bt=S({\u0275mod:S}),Qt=S({\u0275fac:S}),Yt=S({__NG_ELEMENT_ID__:S});let je=0;function qt(s){return Zt(()=>{const u=!0===s.standalone,h={},v={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===tt.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||He,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||P.Emulated,id:"c"+je++,styles:s.styles||He,_:null,setInput:null,schemas:s.schemas||null,tView:null},b=s.dependencies,I=s.features;return v.inputs=si(s.inputs,h),v.outputs=si(s.outputs),I&&I.forEach(L=>L(v)),v.directiveDefs=b?()=>("function"==typeof b?b():b).map(Lt).filter(Gt):null,v.pipeDefs=b?()=>("function"==typeof b?b():b).map(jn).filter(Gt):null,v})}function Lt(s){return It(s)||qn(s)}function Gt(s){return null!==s}function En(s){return Zt(()=>({type:s.type,bootstrap:s.bootstrap||He,declarations:s.declarations||He,imports:s.imports||He,exports:s.exports||He,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function si(s,r){if(null==s)return Le;const u={};for(const h in s)if(s.hasOwnProperty(h)){let v=s[h],b=v;Array.isArray(v)&&(b=v[1],v=v[0]),u[v]=h,r&&(r[v]=b)}return u}const Ti=qt;function Ni(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function It(s){return s[lt]||null}function qn(s){return s[Ut]||null}function jn(s){return s[dn]||null}function Xn(s){const r=It(s)||qn(s)||jn(s);return null!==r&&r.standalone}function ri(s,r){const u=s[Bt]||null;if(!u&&!0===r)throw new Error(`Type ${U(s)} does not have '\u0275mod' property.`);return u}function ki(s){return Array.isArray(s)&&"object"==typeof s[1]}function Cs(s){return Array.isArray(s)&&!0===s[1]}function zr(s){return 0!=(8&s.flags)}function Br(s){return 2==(2&s.flags)}function Yr(s){return 1==(1&s.flags)}function Ln(s){return null!==s.template}function rr(s){return 0!=(256&s[2])}function Gi(s,r){return s.hasOwnProperty(Qt)?s[Qt]:null}class is{constructor(r,u,h){this.previousValue=r,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ks(){return ls}function ls(s){return s.type.prototype.ngOnChanges&&(s.setInput=zi),Ds}function Ds(){const s=Oi(this),r=s?.current;if(r){const u=s.previous;if(u===Le)s.previous=r;else for(let h in r)u[h]=r[h];s.current=null,this.ngOnChanges(r)}}function zi(s,r,u,h){const v=Oi(s)||function Yi(s,r){return s[Xs]=r}(s,{previous:Le,current:null}),b=v.current||(v.current={}),I=v.previous,L=this.declaredInputs[u],H=I[L];b[L]=new is(H&&H.currentValue,r,I===Le),s[h]=r}Ks.ngInherit=!0;const Xs="__ngSimpleChanges__";function Oi(s){return s[Xs]||null}function li(s){for(;Array.isArray(s);)s=s[0];return s}function Ts(s,r){return li(r[s])}function Ws(s,r){return li(r[s.index])}function Nr(s,r){return s.data[r]}function xr(s,r){return s[r]}function hi(s,r){const u=r[s];return ki(u)?u:u[0]}function tr(s){return 64==(64&s[2])}function oi(s,r){return null==r?null:s[r]}function Ki(s){s[18]=0}function Xi(s,r){s[5]+=r;let u=s,h=s[3];for(;null!==h&&(1===r&&1===u[5]||-1===r&&0===u[5]);)h[5]+=r,u=h,h=h[3]}const Mn={lFrame:_o(null),bindingsEnabled:!0};function Di(){return Mn.bindingsEnabled}function jt(){return Mn.lFrame.lView}function cn(){return Mn.lFrame.tView}function Is(s){return Mn.lFrame.contextLView=s,s[8]}function Ms(s){return Mn.lFrame.contextLView=null,s}function Zn(){let s=ee();for(;null!==s&&64===s.type;)s=s.parent;return s}function ee(){return Mn.lFrame.currentTNode}function J(){const s=Mn.lFrame,r=s.currentTNode;return s.isParent?r:r.parent}function N(s,r){const u=Mn.lFrame;u.currentTNode=s,u.isParent=r}function Te(){return Mn.lFrame.isParent}function kt(){Mn.lFrame.isParent=!1}function Si(){const s=Mn.lFrame;let r=s.bindingRootIndex;return-1===r&&(r=s.bindingRootIndex=s.tView.bindingStartIndex),r}function _n(){return Mn.lFrame.bindingIndex}function _e(){return Mn.lFrame.bindingIndex++}function ze(s){const r=Mn.lFrame,u=r.bindingIndex;return r.bindingIndex=r.bindingIndex+s,u}function bt(s){Mn.lFrame.inI18n=s}function ft(s,r){const u=Mn.lFrame;u.bindingIndex=u.bindingRootIndex=s,en(r)}function en(s){Mn.lFrame.currentDirectiveIndex=s}function On(s){const r=Mn.lFrame.currentDirectiveIndex;return-1===r?null:s[r]}function Tn(){return Mn.lFrame.currentQueryIndex}function Ui(s){Mn.lFrame.currentQueryIndex=s}function Os(s){const r=s[1];return 2===r.type?r.declTNode:1===r.type?s[6]:null}function Zi(s,r,u){if(u&Ct.SkipSelf){let v=r,b=s;for(;!(v=v.parent,null!==v||u&Ct.Host||(v=Os(b),null===v||(b=b[15],10&v.type))););if(null===v)return!1;r=v,s=b}const h=Mn.lFrame=nn();return h.currentTNode=r,h.lView=s,!0}function Rn(s){const r=nn(),u=s[1];Mn.lFrame=r,r.currentTNode=u.firstChild,r.lView=s,r.tView=u,r.contextLView=s,r.bindingIndex=u.bindingStartIndex,r.inI18n=!1}function nn(){const s=Mn.lFrame,r=null===s?null:s.child;return null===r?_o(s):r}function _o(s){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=r),r}function Xr(){const s=Mn.lFrame;return Mn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const V=Xr;function ae(){const s=Xr();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Re(){return Mn.lFrame.selectedIndex}function Dt(s){Mn.lFrame.selectedIndex=s}function Pt(){const s=Mn.lFrame;return Nr(s.tView,s.selectedIndex)}function zn(s,r){for(let u=r.directiveStart,h=r.directiveEnd;u<h;u++){const b=s.data[u].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:L,ngAfterViewInit:H,ngAfterViewChecked:ie,ngOnDestroy:Se}=b;I&&(s.contentHooks||(s.contentHooks=[])).push(-u,I),L&&((s.contentHooks||(s.contentHooks=[])).push(u,L),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,L)),H&&(s.viewHooks||(s.viewHooks=[])).push(-u,H),ie&&((s.viewHooks||(s.viewHooks=[])).push(u,ie),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,ie)),null!=Se&&(s.destroyHooks||(s.destroyHooks=[])).push(u,Se)}}function Fi(s,r,u){kr(s,r,3,u)}function ps(s,r,u,h){(3&s[2])===u&&kr(s,r,u,h)}function Bi(s,r){let u=s[2];(3&u)===r&&(u&=2047,u+=1,s[2]=u)}function kr(s,r,u,h){const b=h??-1,I=r.length-1;let L=0;for(let H=void 0!==h?65535&s[18]:0;H<I;H++)if("number"==typeof r[H+1]){if(L=r[H],null!=h&&L>=h)break}else r[H]<0&&(s[18]+=65536),(L<b||-1==b)&&(rs(s,u,r,H),s[18]=(4294901760&s[18])+H+2),H++}function rs(s,r,u,h){const v=u[h]<0,b=u[h+1],L=s[v?-u[h]:u[h]];if(v){if(s[2]>>11<s[18]>>16&&(3&s[2])===r){s[2]+=2048;try{b.call(L)}finally{}}}else try{b.call(L)}finally{}}class Er{constructor(r,u,h){this.factory=r,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Eo(s,r,u){let h=0;for(;h<u.length;){const v=u[h];if("number"==typeof v){if(0!==v)break;h++;const b=u[h++],I=u[h++],L=u[h++];s.setAttribute(r,I,L,b)}else{const b=v,I=u[++h];jr(b)?s.setProperty(r,b,I):s.setAttribute(r,b,I),h++}}return h}function gr(s){return 3===s||4===s||6===s}function jr(s){return 64===s.charCodeAt(0)}function la(s,r){if(null!==r&&0!==r.length)if(null===s||0===s.length)s=r.slice();else{let u=-1;for(let h=0;h<r.length;h++){const v=r[h];"number"==typeof v?u=v:0===u||el(s,u,v,null,-1===u||2===u?r[++h]:null)}}return s}function el(s,r,u,h,v){let b=0,I=s.length;if(-1===r)I=-1;else for(;b<s.length;){const L=s[b++];if("number"==typeof L){if(L===r){I=-1;break}if(L>r){I=b-1;break}}}for(;b<s.length;){const L=s[b];if("number"==typeof L)break;if(L===u){if(null===h)return void(null!==v&&(s[b+1]=v));if(h===s[b+1])return void(s[b+2]=v)}b++,null!==h&&b++,null!==v&&b++}-1!==I&&(s.splice(I,0,r),b=I+1),s.splice(b++,0,u),null!==h&&s.splice(b++,0,h),null!==v&&s.splice(b++,0,v)}function co(s){return-1!==s}function ts(s){return 32767&s}function Io(s,r){let u=function tl(s){return s>>16}(s),h=r;for(;u>0;)h=h[15],u--;return h}let vo=!0;function eo(s){const r=vo;return vo=s,r}let yo=0;const uo={};function E(s,r){const u=de(s,r);if(-1!==u)return u;const h=r[1];h.firstCreatePass&&(s.injectorIndex=r.length,X(h.data,s),X(r,null),X(h.blueprint,null));const v=Fe(s,r),b=s.injectorIndex;if(co(v)){const I=ts(v),L=Io(v,r),H=L[1].data;for(let ie=0;ie<8;ie++)r[b+ie]=L[I+ie]|H[I+ie]}return r[b+8]=v,b}function X(s,r){s.push(0,0,0,0,0,0,0,0,r)}function de(s,r){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===r[s.injectorIndex+8]?-1:s.injectorIndex}function Fe(s,r){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,h=null,v=r;for(;null!==v;){if(h=$r(v),null===h)return-1;if(u++,v=v[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function ht(s,r,u){!function te(s,r,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Yt)&&(h=u[Yt]),null==h&&(h=u[Yt]=yo++);const v=255&h;r.data[s+(v>>5)]|=1<<v}(s,r,u)}function St(s,r,u){if(u&Ct.Optional||void 0!==s)return s;ce()}function Wt(s,r,u,h){if(u&Ct.Optional&&void 0===h&&(h=null),0==(u&(Ct.Self|Ct.Host))){const v=s[9],b=Mt(void 0);try{return v?v.get(r,h,u&Ct.Optional):Oe(r,h,u&Ct.Optional)}finally{Mt(b)}}return St(h,0,u)}function on(s,r,u,h=Ct.Default,v){if(null!==s){if(1024&r[2]){const I=function Al(s,r,u,h,v){let b=s,I=r;for(;null!==b&&null!==I&&1024&I[2]&&!(256&I[2]);){const L=ti(b,I,u,h|Ct.Self,uo);if(L!==uo)return L;let H=b.parent;if(!H){const ie=I[21];if(ie){const Se=ie.get(u,uo,h);if(Se!==uo)return Se}H=$r(I),I=I[15]}b=H}return v}(s,r,u,h,uo);if(I!==uo)return I}const b=ti(s,r,u,h,uo);if(b!==uo)return b}return Wt(r,u,h,v)}function ti(s,r,u,h,v){const b=function os(s){if("string"==typeof s)return s.charCodeAt(0)||0;const r=s.hasOwnProperty(Yt)?s[Yt]:void 0;return"number"==typeof r?r>=0?255&r:nl:r}(u);if("function"==typeof b){if(!Zi(r,s,h))return h&Ct.Host?St(v,0,h):Wt(r,u,h,v);try{const I=b(h);if(null!=I||h&Ct.Optional)return I;ce()}finally{V()}}else if("number"==typeof b){let I=null,L=de(s,r),H=-1,ie=h&Ct.Host?r[16][6]:null;for((-1===L||h&Ct.SkipSelf)&&(H=-1===L?Fe(s,r):r[L+8],-1!==H&&Pr(h,!1)?(I=r[1],L=ts(H),r=Io(H,r)):L=-1);-1!==L;){const Se=r[1];if(to(b,L,Se.data)){const Ve=Kn(L,r,u,I,h,ie);if(Ve!==uo)return Ve}H=r[L+8],-1!==H&&Pr(h,r[1].data[L+8]===ie)&&to(b,L,r)?(I=Se,L=ts(H),r=Io(H,r)):L=-1}}return v}function Kn(s,r,u,h,v,b){const I=r[1],L=I.data[s+8],Se=hs(L,I,u,null==h?Br(L)&&vo:h!=I&&0!=(3&L.type),v&Ct.Host&&b===L);return null!==Se?Nn(r,I,Se,L):uo}function hs(s,r,u,h,v){const b=s.providerIndexes,I=r.data,L=1048575&b,H=s.directiveStart,Se=b>>20,pt=v?L+Se:s.directiveEnd;for(let Ot=h?L:L+Se;Ot<pt;Ot++){const $t=I[Ot];if(Ot<H&&u===$t||Ot>=H&&$t.type===u)return Ot}if(v){const Ot=I[H];if(Ot&&Ln(Ot)&&Ot.type===u)return H}return null}function Nn(s,r,u,h){let v=s[u];const b=r.data;if(function qr(s){return s instanceof Er}(v)){const I=v;I.resolving&&function ye(s,r){const u=r?`. Dependency path: ${r.join(" > ")} > ${s}`:"";throw new j(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ve(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(b[u]));const L=eo(I.canSeeViewProviders);I.resolving=!0;const H=I.injectImpl?Mt(I.injectImpl):null;Zi(s,h,Ct.Default);try{v=s[u]=I.factory(void 0,b,s,h),r.firstCreatePass&&u>=h.directiveStart&&function ss(s,r,u){const{ngOnChanges:h,ngOnInit:v,ngDoCheck:b}=r.type.prototype;if(h){const I=ls(r);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,I),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,I)}v&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,v),b&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,b))}(u,b[u],r)}finally{null!==H&&Mt(H),eo(L),I.resolving=!1,V()}}return v}function to(s,r,u){return!!(u[r+(s>>5)]&1<<s)}function Pr(s,r){return!(s&Ct.Self||s&Ct.Host&&r)}class Co{constructor(r,u){this._tNode=r,this._lView=u}get(r,u,h){return on(this._tNode,this._lView,r,h,u)}}function nl(){return new Co(Zn(),jt())}function il(s){return Zt(()=>{const r=s.prototype.constructor,u=r[Qt]||sl(r),h=Object.prototype;let v=Object.getPrototypeOf(s.prototype).constructor;for(;v&&v!==h;){const b=v[Qt]||sl(v);if(b&&b!==u)return b;v=Object.getPrototypeOf(v)}return b=>new b})}function sl(s){return K(s)?()=>{const r=sl(F(s));return r&&r()}:Gi(s)}function $r(s){const r=s[1],u=r.type;return 2===u?r.declTNode:1===u?s[6]:null}function $o(s){return function ot(s,r){if("class"===r)return s.classes;if("style"===r)return s.styles;const u=s.attrs;if(u){const h=u.length;let v=0;for(;v<h;){const b=u[v];if(gr(b))break;if(0===b)v+=2;else if("number"==typeof b)for(v++;v<h&&"string"==typeof u[v];)v++;else{if(b===r)return u[v+1];v+=2}}}return null}(Zn(),s)}const no="__parameters__";function ca(s,r,u){return Zt(()=>{const h=function wa(s){return function(...u){if(s){const h=s(...u);for(const v in h)this[v]=h[v]}}}(r);function v(...b){if(this instanceof v)return h.apply(this,b),this;const I=new v(...b);return L.annotation=I,L;function L(H,ie,Se){const Ve=H.hasOwnProperty(no)?H[no]:Object.defineProperty(H,no,{value:[]})[no];for(;Ve.length<=Se;)Ve.push(null);return(Ve[Se]=Ve[Se]||[]).push(I),H}}return u&&(v.prototype=Object.create(u.prototype)),v.prototype.ngMetadataName=s,v.annotationCls=v,v})}class Vi{constructor(r,u){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ct({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wr(s,r){void 0===r&&(r=s);for(let u=0;u<s.length;u++){let h=s[u];Array.isArray(h)?(r===s&&(r=s.slice(0,u)),Wr(h,r)):r!==s&&r.push(h)}return r}function Zo(s,r){s.forEach(u=>Array.isArray(u)?Zo(u,r):r(u))}function xi(s,r,u){r>=s.length?s.push(u):s.splice(r,0,u)}function se(s,r){return r>=s.length-1?s.pop():s.splice(r,1)[0]}function d(s,r){const u=[];for(let h=0;h<s;h++)u.push(r);return u}function Z(s,r,u){let h=Ce(s,r);return h>=0?s[1|h]=u:(h=~h,function f(s,r,u,h){let v=s.length;if(v==r)s.push(u,h);else if(1===v)s.push(h,s[0]),s[0]=u;else{for(v--,s.push(s[v-1],s[v]);v>r;)s[v]=s[v-2],v--;s[r]=u,s[r+1]=h}}(s,h,r,u)),h}function z(s,r){const u=Ce(s,r);if(u>=0)return s[1|u]}function Ce(s,r){return function Tt(s,r,u){let h=0,v=s.length>>u;for(;v!==h;){const b=h+(v-h>>1),I=s[b<<u];if(r===I)return b<<u;I>r?v=b:h=b+1}return~(v<<u)}(s,r,1)}const Ri={},ba="__NG_DI_FLAG__",Kl="ngTempTokenPath",xl=/\n/gm,Wo="__source";let ns;function po(s){const r=ns;return ns=s,r}function Aa(s,r=Ct.Default){if(void 0===ns)throw new j(-203,!1);return null===ns?Oe(s,void 0,r):ns.get(s,r&Ct.Optional?null:void 0,r)}function Ns(s,r=Ct.Default){return(function Ye(){return nt}()||Aa)(F(s),r)}function Qo(s,r=Ct.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Ns(s,r)}function Fa(s){const r=[];for(let u=0;u<s.length;u++){const h=F(s[u]);if(Array.isArray(h)){if(0===h.length)throw new j(900,!1);let v,b=Ct.Default;for(let I=0;I<h.length;I++){const L=h[I],H=Ba(L);"number"==typeof H?-1===H?v=L.token:b|=H:v=L}r.push(Ns(v,b))}else r.push(Ns(h))}return r}function rl(s,r){return s[ba]=r,s.prototype[ba]=r,s}function Ba(s){return s[ba]}const da=rl(ca("Optional"),8),Zc=rl(ca("SkipSelf"),4);let dp,ju,$u;function om(s){dp=s}function am(){return void 0!==dp?dp:typeof document<"u"?document:void 0}function Xl(s){var r;return(null===(r=function pp(){if(void 0===ju&&(ju=null,D.trustedTypes))try{ju=D.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ju}())||void 0===r?void 0:r.createHTML(s))||s}function fp(s){var r;return(null===(r=function hp(){if(void 0===$u&&($u=null,D.trustedTypes))try{$u=D.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return $u}())||void 0===r?void 0:r.createHTML(s))||s}class Il{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $1 extends Il{getTypeName(){return"HTML"}}class W1 extends Il{getTypeName(){return"Style"}}class Q1 extends Il{getTypeName(){return"Script"}}class G1 extends Il{getTypeName(){return"URL"}}class z1 extends Il{getTypeName(){return"ResourceURL"}}function Ha(s){return s instanceof Il?s.changingThisBreaksApplicationSecurity:s}function ec(s,r){const u=function ST(s){return s instanceof Il&&s.getTypeName()||null}(s);if(null!=u&&u!==r){if("ResourceURL"===u&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===r}function Wu(s){return new $1(s)}function Hc(s){return new W1(s)}function xT(s){return new Q1(s)}function mp(s){return new G1(s)}function um(s){return new z1(s)}function ll(s){const r=new Y1(s);return function K1(){try{return!!(new window.DOMParser).parseFromString(Xl(""),"text/html")}catch{return!1}}()?new dm(r):r}class dm{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const u=(new window.DOMParser).parseFromString(Xl(r),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(r):(u.removeChild(u.firstChild),u)}catch{return null}}}class Y1{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(r){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Xl(r),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Xl(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(r){const u=r.attributes;for(let v=u.length-1;0<v;v--){const I=u.item(v).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&r.removeAttribute(I)}let h=r.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const X1=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Jc(s){return(s=String(s)).match(X1)?s:"unsafe:"+s}function Ja(s){const r={};for(const u of s.split(","))r[u]=!0;return r}function qc(...s){const r={};for(const u of s)for(const h in u)u.hasOwnProperty(h)&&(r[h]=!0);return r}const pm=Ja("area,br,col,hr,img,wbr"),hm=Ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fm=Ja("rp,rt"),gp=qc(pm,qc(hm,Ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qc(fm,Ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qc(fm,hm)),tc=Ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mm=qc(tc,Ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ey=Ja("script,style,template");class ty{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let u=r.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let v=this.checkClobberedElement(u,u.nextSibling);if(v){u=v;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(r){const u=r.nodeName.toLowerCase();if(!gp.hasOwnProperty(u))return this.sanitizedSomething=!0,!ey.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=r.attributes;for(let v=0;v<h.length;v++){const b=h.item(v),I=b.name,L=I.toLowerCase();if(!mm.hasOwnProperty(L)){this.sanitizedSomething=!0;continue}let H=b.value;tc[L]&&(H=Jc(H)),this.buf.push(" ",I,'="',gm(H),'"')}return this.buf.push(">"),!0}endElement(r){const u=r.nodeName.toLowerCase();gp.hasOwnProperty(u)&&!pm.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(r){this.buf.push(gm(r))}checkClobberedElement(r,u){if(u&&(r.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return u}}const ny=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iy=/([^\#-~ |!])/g;function gm(s){return s.replace(/&/g,"&amp;").replace(ny,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(iy,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qu;function _m(s,r){let u=null;try{Qu=Qu||ll(s);let h=r?String(r):"";u=Qu.getInertBodyElement(h);let v=5,b=h;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,h=b,b=u.innerHTML,u=Qu.getInertBodyElement(h)}while(h!==b);return Xl((new ty).sanitizeChildren(_p(u)||u))}finally{if(u){const h=_p(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function _p(s){return"content"in s&&function sy(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function vm(s){const r=jc();return r?fp(r.sanitize(_r.HTML,s)||""):ec(s,"HTML")?fp(Ha(s)):_m(am(),Ee(s))}function vp(s){const r=jc();return r?r.sanitize(_r.URL,s)||"":ec(s,"URL")?Ha(s):Jc(Ee(s))}function jc(){const s=jt();return s&&s[12]}const yp=new Vi("ENVIRONMENT_INITIALIZER"),Cm=new Vi("INJECTOR",-1),wm=new Vi("INJECTOR_DEF_TYPES");class bm{get(r,u=Ri){if(u===Ri){const h=new Error(`NullInjectorError: No provider for ${U(r)}!`);throw h.name="NullInjectorError",h}return u}}function dy(...s){return{\u0275providers:Tm(0,s)}}function Tm(s,...r){const u=[],h=new Set;let v;return Zo(r,b=>{const I=b;Cp(I,u,[],h)&&(v||(v=[]),v.push(I))}),void 0!==v&&Am(v,u),u}function Am(s,r){for(let u=0;u<s.length;u++){const{providers:v}=s[u];Zo(v,b=>{r.push(b)})}}function Cp(s,r,u,h){if(!(s=F(s)))return!1;let v=null,b=At(s);const I=!b&&It(s);if(b||I){if(I&&!I.standalone)return!1;v=s}else{const H=s.ngModule;if(b=At(H),!b)return!1;v=H}const L=h.has(v);if(I){if(L)return!1;if(h.add(v),I.dependencies){const H="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const ie of H)Cp(ie,r,u,h)}}else{if(!b)return!1;{if(null!=b.imports&&!L){let ie;h.add(v);try{Zo(b.imports,Se=>{Cp(Se,r,u,h)&&(ie||(ie=[]),ie.push(Se))})}finally{}void 0!==ie&&Am(ie,r)}if(!L){const ie=Gi(v)||(()=>new v);r.push({provide:v,useFactory:ie,deps:He},{provide:wm,useValue:v,multi:!0},{provide:yp,useValue:()=>Ns(v),multi:!0})}const H=b.providers;null==H||L||Zo(H,Se=>{r.push(Se)})}}return v!==s&&void 0!==s.providers}const py=S({provide:String,useValue:S});function wp(s){return null!==s&&"object"==typeof s&&py in s}function Lr(s){return"function"==typeof s}const Dm=new Vi("Set Injector scope."),vr={},fy={};let bp;function Gu(){return void 0===bp&&(bp=new bm),bp}class Ml{}class Em extends Ml{constructor(r,u,h,v){super(),this.parent=u,this.source=h,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ap(r,I=>this.processProvider(I)),this.records.set(Cm,nc(void 0,this)),v.has("environment")&&this.records.set(Ml,nc(void 0,this));const b=this.records.get(Dm);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(wm.multi,He,Ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const u=po(this),h=Mt(void 0);try{return r()}finally{po(u),Mt(h)}}get(r,u=Ri,h=Ct.Default){this.assertNotDestroyed();const v=po(this),b=Mt(void 0);try{if(!(h&Ct.SkipSelf)){let L=this.records.get(r);if(void 0===L){const H=function vy(s){return"function"==typeof s||"object"==typeof s&&s instanceof Vi}(r)&&Vt(r);L=H&&this.injectableDefInScope(H)?nc(Tp(r),vr):null,this.records.set(r,L)}if(null!=L)return this.hydrate(r,L)}return(h&Ct.Self?Gu():this.parent).get(r,u=h&Ct.Optional&&u===Ri?null:u)}catch(I){if("NullInjectorError"===I.name){if((I[Kl]=I[Kl]||[]).unshift(U(r)),v)throw I;return function Lc(s,r,u,h){const v=s[Kl];throw r[Wo]&&v.unshift(r[Wo]),s.message=function Uc(s,r,u,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let v=U(r);if(Array.isArray(r))v=r.map(U).join(" -> ");else if("object"==typeof r){let b=[];for(let I in r)if(r.hasOwnProperty(I)){let L=r[I];b.push(I+":"+("string"==typeof L?JSON.stringify(L):U(L)))}v=`{${b.join(", ")}}`}return`${u}${h?"("+h+")":""}[${v}]: ${s.replace(xl,"\n  ")}`}("\n"+s.message,v,u,h),s.ngTokenPath=v,s[Kl]=null,s}(I,r,"R3InjectorError",this.source)}throw I}finally{Mt(b),po(v)}}resolveInjectorInitializers(){const r=po(this),u=Mt(void 0);try{const h=this.get(yp.multi,He,Ct.Self);for(const v of h)v()}finally{po(r),Mt(u)}}toString(){const r=[],u=this.records;for(const h of u.keys())r.push(U(h));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(r){let u=Lr(r=F(r))?r:F(r&&r.provide);const h=function my(s){return wp(s)?nc(void 0,s.useValue):nc(Mm(s),vr)}(r);if(Lr(r)||!0!==r.multi)this.records.get(u);else{let v=this.records.get(u);v||(v=nc(void 0,vr,!0),v.factory=()=>Fa(v.multi),this.records.set(u,v)),u=r,v.multi.push(r)}this.records.set(u,h)}hydrate(r,u){return u.value===vr&&(u.value=fy,u.value=u.factory()),"object"==typeof u.value&&u.value&&function _y(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(r){if(!r.providedIn)return!1;const u=F(r.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Tp(s){const r=Vt(s),u=null!==r?r.factory:Gi(s);if(null!==u)return u;if(s instanceof Vi)throw new j(204,!1);if(s instanceof Function)return function Im(s){const r=s.length;if(r>0)throw d(r,"?"),new j(204,!1);const u=function Cn(s){const r=s&&(s[Ge]||s[Et]);if(r){const u=function vt(s){if(s.hasOwnProperty("name"))return s.name;const r=(""+s).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),r}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new j(204,!1)}function Mm(s,r,u){let h;if(Lr(s)){const v=F(s);return Gi(v)||Tp(v)}if(wp(s))h=()=>F(s.useValue);else if(function xm(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...Fa(s.deps||[]));else if(function Sm(s){return!(!s||!s.useExisting)}(s))h=()=>Ns(F(s.useExisting));else{const v=F(s&&(s.useClass||s.provide));if(!function gy(s){return!!s.deps}(s))return Gi(v)||Tp(v);h=()=>new v(...Fa(s.deps))}return h}function nc(s,r,u=!1){return{factory:s,value:r,multi:u?[]:void 0}}function yy(s){return!!s.\u0275providers}function Ap(s,r){for(const u of s)Array.isArray(u)?Ap(u,r):yy(u)?Ap(u.\u0275providers,r):r(u)}class Om{}class by{resolveComponentFactory(r){throw function wy(s){const r=Error(`No component factory found for ${U(s)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=s,r}(r)}}let $c=(()=>{class s{}return s.NULL=new by,s})();function Ty(){return ic(Zn(),jt())}function ic(s,r){return new Wc(Ws(s,r))}let Wc=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Ty,s})();function Ay(s){return s instanceof Wc?s.nativeElement:s}class km{}let Sy=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function xy(){const s=jt(),u=hi(Zn().index,s);return(ki(u)?u:s)[11]}(),s})(),Dy=(()=>{class s{}return s.\u0275prov=ct({token:s,providedIn:"root",factory:()=>null}),s})();class Rm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ey=new Rm("14.2.2"),Sp={};function Wi(s){return s.ngOriginalError}class Ol{constructor(){this._console=console}handleError(r){const u=this._findOriginalError(r);this._console.error("ERROR",r),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(r){let u=r&&Wi(r);for(;u&&Wi(u);)u=Wi(u);return u||null}}const Fm=/^>|^->|<!--|-->|--!>|<!-$/g,Ny=/(<|>)/;const Dp=new Map;let Zy=0;const Ip="__ngContext__";function ho(s,r){ki(r)?(s[Ip]=r[20],function By(s){Dp.set(s[20],s)}(r)):s[Ip]=r}function qm(s){return s.ownerDocument.defaultView}function jm(s){return s.ownerDocument}function qa(s){return s instanceof Function?s():s}var Sa=(()=>((Sa=Sa||{})[Sa.Important=1]="Important",Sa[Sa.DashCase=2]="DashCase",Sa))();let Kc;function Op(s,r){return Kc(s,r)}function Xc(s){const r=s[3];return Cs(r)?r[3]:r}function Np(s){return Wm(s[13])}function kp(s){return Wm(s[4])}function Wm(s){for(;null!==s&&!Cs(s);)s=s[4];return s}function rc(s,r,u,h,v){if(null!=h){let b,I=!1;Cs(h)?b=h:ki(h)&&(I=!0,h=h[0]);const L=li(h);0===s&&null!==u?null==v?Xm(r,u,L):kl(r,u,L,v||null,!0):1===s&&null!==u?kl(r,u,L,v||null,!0):2===s?og(r,L,I):3===s&&r.destroyNode(L),null!=b&&function pC(s,r,u,h,v){const b=u[7];b!==li(u)&&rc(r,s,h,b,v);for(let L=10;L<u.length;L++){const H=u[L];eu(H[1],H,s,r,h,b)}}(r,s,b,u,v)}}function Rp(s,r){return s.createText(r)}function Qm(s,r,u){s.setValue(r,u)}function eC(s,r){return s.createComment(function Bm(s){return s.replace(Fm,r=>r.replace(Ny,"\u200b$1\u200b"))}(r))}function Pp(s,r,u){return s.createElement(r,u)}function Gm(s,r){const u=s[9],h=u.indexOf(r),v=r[3];512&r[2]&&(r[2]&=-513,Xi(v,-1)),u.splice(h,1)}function Lp(s,r){if(s.length<=10)return;const u=10+r,h=s[u];if(h){const v=h[17];null!==v&&v!==s&&Gm(v,h),r>0&&(s[u-1][4]=h[4]);const b=se(s,10+r);!function tC(s,r){eu(s,r,r[11],2,null,null),r[0]=null,r[6]=null}(h[1],h);const I=b[19];null!==I&&I.detachView(b[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function zm(s,r){if(!(128&r[2])){const u=r[11];u.destroyNode&&eu(s,r,u,3,null,null),function sC(s){let r=s[13];if(!r)return Up(s[1],s);for(;r;){let u=null;if(ki(r))u=r[13];else{const h=r[10];h&&(u=h)}if(!u){for(;r&&!r[4]&&r!==s;)ki(r)&&Up(r[1],r),r=r[3];null===r&&(r=s),ki(r)&&Up(r[1],r),u=r&&r[4]}r=u}}(r)}}function Up(s,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function lC(s,r){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let h=0;h<u.length;h+=2){const v=r[u[h]];if(!(v instanceof Er)){const b=u[h+1];if(Array.isArray(b))for(let I=0;I<b.length;I+=2){const L=v[b[I]],H=b[I+1];try{H.call(L)}finally{}}else try{b.call(v)}finally{}}}}(s,r),function aC(s,r){const u=s.cleanup,h=r[7];let v=-1;if(null!==u)for(let b=0;b<u.length-1;b+=2)if("string"==typeof u[b]){const I=u[b+1],L="function"==typeof I?I(r):li(r[I]),H=h[v=u[b+2]],ie=u[b+3];"boolean"==typeof ie?L.removeEventListener(u[b],H,ie):ie>=0?h[v=ie]():h[v=-ie].unsubscribe(),b+=2}else{const I=h[v=u[b+1]];u[b].call(I)}if(null!==h){for(let b=v+1;b<h.length;b++)(0,h[b])();r[7]=null}}(s,r),1===r[1].type&&r[11].destroy();const u=r[17];if(null!==u&&Cs(r[3])){u!==r[3]&&Gm(u,r);const h=r[19];null!==h&&h.detachView(s)}!function Vy(s){Dp.delete(s[20])}(r)}}function Ym(s,r,u){return Km(s,r.parent,u)}function Km(s,r,u){let h=r;for(;null!==h&&40&h.type;)h=(r=h).parent;if(null===h)return u[0];if(2&h.flags){const v=s.data[h.directiveStart].encapsulation;if(v===P.None||v===P.Emulated)return null}return Ws(h,u)}function kl(s,r,u,h,v){s.insertBefore(r,u,h,v)}function Xm(s,r,u){s.appendChild(r,u)}function eg(s,r,u,h,v){null!==h?kl(s,r,u,h,v):Xm(s,r,u)}function Ku(s,r){return s.parentNode(r)}function tg(s,r,u){return ig(s,r,u)}function ng(s,r,u){return 40&s.type?Ws(s,u):null}let Xu,ig=ng;function sg(s,r){ig=s,Xu=r}function ed(s,r,u,h){const v=Ym(s,h,r),b=r[11],L=tg(h.parent||r[6],h,r);if(null!=v)if(Array.isArray(u))for(let H=0;H<u.length;H++)eg(b,v,u[H],L,!1);else eg(b,v,u,L,!1);void 0!==Xu&&Xu(b,h,r,u,v)}function td(s,r){if(null!==r){const u=r.type;if(3&u)return Ws(r,s);if(4&u)return Zp(-1,s[r.index]);if(8&u){const h=r.child;if(null!==h)return td(s,h);{const v=s[r.index];return Cs(v)?Zp(-1,v):li(v)}}if(32&u)return Op(r,s)()||li(s[r.index]);{const h=rg(s,r);return null!==h?Array.isArray(h)?h[0]:td(Xc(s[16]),h):td(s,r.next)}}return null}function rg(s,r){return null!==r?s[16][6].projection[r.projection]:null}function Zp(s,r){const u=10+s+1;if(u<r.length){const h=r[u],v=h[1].firstChild;if(null!==v)return td(h,v)}return r[7]}function og(s,r,u){const h=Ku(s,r);h&&function cC(s,r,u,h){s.removeChild(r,u,h)}(s,h,r,u)}function Fp(s,r,u,h,v,b,I){for(;null!=u;){const L=h[u.index],H=u.type;if(I&&0===r&&(L&&ho(li(L),h),u.flags|=4),64!=(64&u.flags))if(8&H)Fp(s,r,u.child,h,v,b,!1),rc(r,s,v,L,b);else if(32&H){const ie=Op(u,h);let Se;for(;Se=ie();)rc(r,s,v,Se,b);rc(r,s,v,L,b)}else 16&H?ag(s,r,h,u,v,b):rc(r,s,v,L,b);u=I?u.projectionNext:u.next}}function eu(s,r,u,h,v,b){Fp(u,h,s.firstChild,r,v,b,!1)}function ag(s,r,u,h,v,b){const I=u[16],H=I[6].projection[h.projection];if(Array.isArray(H))for(let ie=0;ie<H.length;ie++)rc(r,s,v,H[ie],b);else Fp(s,r,H,I[3],v,b,!0)}function lg(s,r,u){s.setAttribute(r,"style",u)}function nd(s,r,u){""===u?s.removeAttribute(r,"class"):s.setAttribute(r,"class",u)}function cg(s,r,u){let h=s.length;for(;;){const v=s.indexOf(r,u);if(-1===v)return v;if(0===v||s.charCodeAt(v-1)<=32){const b=r.length;if(v+b===h||s.charCodeAt(v+b)<=32)return v}u=v+1}}const ug="ng-template";function GT(s,r,u){let h=0;for(;h<s.length;){let v=s[h++];if(u&&"class"===v){if(v=s[h],-1!==cg(v.toLowerCase(),r,0))return!0}else if(1===v){for(;h<s.length&&"string"==typeof(v=s[h++]);)if(v.toLowerCase()===r)return!0;return!1}}return!1}function Rl(s){return 4===s.type&&s.value!==ug}function fC(s,r,u){return r===(4!==s.type||u?s.value:ug)}function $n(s,r,u){let h=4;const v=s.attrs||[],b=function mC(s){for(let r=0;r<s.length;r++)if(gr(s[r]))return r;return s.length}(v);let I=!1;for(let L=0;L<r.length;L++){const H=r[L];if("number"!=typeof H){if(!I)if(4&h){if(h=2|1&h,""!==H&&!fC(s,H,u)||""===H&&1===r.length){if(Vn(h))return!1;I=!0}}else{const ie=8&h?H:r[++L];if(8&h&&null!==s.attrs){if(!GT(s.attrs,ie,u)){if(Vn(h))return!1;I=!0}continue}const Ve=Pi(8&h?"class":H,v,Rl(s),u);if(-1===Ve){if(Vn(h))return!1;I=!0;continue}if(""!==ie){let pt;pt=Ve>b?"":v[Ve+1].toLowerCase();const Ot=8&h?pt:null;if(Ot&&-1!==cg(Ot,ie,0)||2&h&&ie!==pt){if(Vn(h))return!1;I=!0}}}}else{if(!I&&!Vn(h)&&!Vn(H))return!1;if(I&&Vn(H))continue;I=!1,h=H|1&h}}return Vn(h)||I}function Vn(s){return 0==(1&s)}function Pi(s,r,u,h){if(null===r)return-1;let v=0;if(h||!u){let b=!1;for(;v<r.length;){const I=r[v];if(I===s)return v;if(3===I||6===I)b=!0;else{if(1===I||2===I){let L=r[++v];for(;"string"==typeof L;)L=r[++v];continue}if(4===I)break;if(0===I){v+=4;continue}}v+=b?1:2}return-1}return function dg(s,r){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const h=s[u];if("number"==typeof h)return-1;if(h===r)return u;u++}return-1}(r,s)}function ul(s,r,u=!1){for(let h=0;h<r.length;h++)if($n(s,r[h],u))return!0;return!1}function Oo(s,r){e:for(let u=0;u<r.length;u++){const h=r[u];if(s.length===h.length){for(let v=0;v<s.length;v++)if(s[v]!==h[v])continue e;return!0}}return!1}function Bp(s,r){return s?":not("+r.trim()+")":r}function gC(s){let r=s[0],u=1,h=2,v="",b=!1;for(;u<s.length;){let I=s[u];if("string"==typeof I)if(2&h){const L=s[++u];v+="["+I+(L.length>0?'="'+L+'"':"")+"]"}else 8&h?v+="."+I:4&h&&(v+=" "+I);else""!==v&&!Vn(I)&&(r+=Bp(b,v),v=""),h=I,b=b||!Vn(h);u++}return""!==v&&(r+=Bp(b,v)),r}const Fn={};function pg(s){hg(cn(),jt(),Re()+s,!1)}function hg(s,r,u,h){if(!h)if(3==(3&r[2])){const b=s.preOrderCheckHooks;null!==b&&Fi(r,b,u)}else{const b=s.preOrderHooks;null!==b&&ps(r,b,0,u)}Dt(u)}function Ul(s,r=null,u=null,h){const v=zo(s,r,u,h);return v.resolveInjectorInitializers(),v}function zo(s,r=null,u=null,h,v=new Set){const b=[u||He,dy(s)];return h=h||("object"==typeof s?void 0:U(s)),new Em(b,r||Gu(),h||null,v)}let Zl=(()=>{class s{static create(u,h){if(Array.isArray(u))return Ul({name:""},h,u,"");{var v;const b=null!==(v=u.name)&&void 0!==v?v:"";return Ul({name:b},u.parent,u.providers,b)}}}return s.THROW_IF_NOT_FOUND=Ri,s.NULL=new bm,s.\u0275prov=ct({token:s,providedIn:"any",factory:()=>Ns(Cm)}),s.__NG_ELEMENT_ID__=-1,s})();function oc(s,r=Ct.Default){const u=jt();return null===u?Ns(s,r):on(Zn(),u,F(s),r)}function bg(){throw new Error("invalid")}function od(s,r){return s<<17|r<<2}function ma(s){return s>>17&32767}function $p(s){return 2|s}function $a(s){return(131068&s)>>2}function Wp(s,r){return-131069&s|r<<2}function Qp(s){return 1|s}function Ng(s,r){const u=s.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const v=u[h],b=u[h+1];if(-1!==b){const I=s.data[b];Ui(v),I.contentQueries(2,r[b],b)}}}function dd(s,r,u,h,v,b,I,L,H,ie,Se){const Ve=r.blueprint.slice();return Ve[0]=v,Ve[2]=76|h,(null!==Se||s&&1024&s[2])&&(Ve[2]|=1024),Ki(Ve),Ve[3]=Ve[15]=s,Ve[8]=u,Ve[10]=I||s&&s[10],Ve[11]=L||s&&s[11],Ve[12]=H||s&&s[12]||null,Ve[9]=ie||s&&s[9]||null,Ve[6]=b,Ve[20]=function Fy(){return Zy++}(),Ve[21]=Se,Ve[16]=2==r.type?s[16]:Ve,Ve}function ac(s,r,u,h,v){let b=s.data[r];if(null===b)b=pd(s,r,u,h,v),function st(){return Mn.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=u,b.value=h,b.attrs=v;const I=J();b.injectorIndex=null===I?-1:I.injectorIndex}return N(b,!0),b}function pd(s,r,u,h,v){const b=ee(),I=Te(),H=s.data[r]=function jC(s,r,u,h,v,b){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:v,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?b:b&&b.parent,u,r,h,v);return null===s.firstChild&&(s.firstChild=H),null!==b&&(I?null==b.child&&null!==H.parent&&(b.child=H):null===b.next&&(b.next=H)),H}function lc(s,r,u,h){if(0===u)return-1;const v=r.length;for(let b=0;b<u;b++)r.push(h),s.blueprint.push(h),s.data.push(null);return v}function nh(s,r,u){Rn(r);try{const h=s.viewQuery;null!==h&&ch(1,h,u);const v=s.template;null!==v&&kg(s,r,v,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ng(s,r),s.staticViewQueries&&ch(2,s.viewQuery,u);const b=s.components;null!==b&&function HC(s,r){for(let u=0;u<r.length;u++)iw(s,r[u])}(r,b)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{r[2]&=-5,ae()}}function hd(s,r,u,h){const v=r[2];if(128!=(128&v)){Rn(r);try{Ki(r),function ne(s){return Mn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&kg(s,r,u,2,h);const I=3==(3&v);if(I){const ie=s.preOrderCheckHooks;null!==ie&&Fi(r,ie,null)}else{const ie=s.preOrderHooks;null!==ie&&ps(r,ie,0,null),Bi(r,0)}if(function tw(s){for(let r=Np(s);null!==r;r=kp(r)){if(!r[2])continue;const u=r[9];for(let h=0;h<u.length;h++){const v=u[h],b=v[3];0==(512&v[2])&&Xi(b,1),v[2]|=512}}}(r),function ew(s){for(let r=Np(s);null!==r;r=kp(r))for(let u=10;u<r.length;u++){const h=r[u],v=h[1];tr(h)&&hd(v,h,v.template,h[8])}}(r),null!==s.contentQueries&&Ng(s,r),I){const ie=s.contentCheckHooks;null!==ie&&Fi(r,ie)}else{const ie=s.contentHooks;null!==ie&&ps(r,ie,1),Bi(r,1)}!function BC(s,r){const u=s.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const v=u[h];if(v<0)Dt(~v);else{const b=v,I=u[++h],L=u[++h];ft(I,b),L(2,r[b])}}}finally{Dt(-1)}}(s,r);const L=s.components;null!==L&&function VC(s,r){for(let u=0;u<r.length;u++)nw(s,r[u])}(r,L);const H=s.viewQuery;if(null!==H&&ch(2,H,h),I){const ie=s.viewCheckHooks;null!==ie&&Fi(r,ie)}else{const ie=s.viewHooks;null!==ie&&ps(r,ie,2),Bi(r,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Xi(r[3],-1))}finally{ae()}}}function kg(s,r,u,h,v){const b=Re(),I=2&h;try{Dt(-1),I&&r.length>22&&hg(s,r,22,!1),u(h,v)}finally{Dt(b)}}function Rg(s,r,u){if(zr(r)){const v=r.directiveEnd;for(let b=r.directiveStart;b<v;b++){const I=s.data[b];I.contentQueries&&I.contentQueries(1,u[b],b)}}}function ih(s,r,u){!Di()||(function zC(s,r,u,h){const v=u.directiveStart,b=u.directiveEnd;s.firstCreatePass||E(u,r),ho(h,r);const I=u.initialInputs;for(let L=v;L<b;L++){const H=s.data[L],ie=Ln(H);ie&&yr(r,u,H);const Se=Nn(r,s,L,u);ho(Se,r),null!==I&&fd(0,L-v,Se,H,0,I),ie&&(hi(u.index,r)[8]=Se)}}(s,r,u,Ws(u,r)),128==(128&u.flags)&&function YC(s,r,u){const h=u.directiveStart,v=u.directiveEnd,b=u.index,I=function Ht(){return Mn.lFrame.currentDirectiveIndex}();try{Dt(b);for(let L=h;L<v;L++){const H=s.data[L],ie=r[L];en(L),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Vg(H,ie)}}finally{Dt(-1),en(I)}}(s,r,u))}function sh(s,r,u=Ws){const h=r.localNames;if(null!==h){let v=r.index+1;for(let b=0;b<h.length;b+=2){const I=h[b+1],L=-1===I?u(r,s):s[I];s[v++]=L}}}function Pg(s){const r=s.tView;return null===r||r.incompleteFirstPass?s.tView=rh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):r}function rh(s,r,u,h,v,b,I,L,H,ie){const Se=22+h,Ve=Se+v,pt=function JC(s,r){const u=[];for(let h=0;h<r;h++)u.push(h<s?null:Fn);return u}(Se,Ve),Ot="function"==typeof ie?ie():ie;return pt[1]={type:s,blueprint:pt,template:u,queries:null,viewQuery:L,declTNode:r,data:pt.slice().fill(null,Se),bindingStartIndex:Se,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:H,consts:Ot,incompleteFirstPass:!1}}function Lg(s,r,u,h){const v=qg(r);null===u?v.push(h):(v.push(u),s.firstCreatePass&&jg(s).push(h,v.length-1))}function Ug(s,r,u){for(let h in s)if(s.hasOwnProperty(h)){const v=s[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(r,v):u[h]=[r,v]}return u}function Zg(s,r){const h=r.directiveEnd,v=s.data,b=r.attrs,I=[];let L=null,H=null;for(let ie=r.directiveStart;ie<h;ie++){const Se=v[ie],Ve=Se.inputs,pt=null===b||Rl(r)?null:XC(Ve,b);I.push(pt),L=Ug(Ve,ie,L),H=Ug(Se.outputs,ie,H)}null!==L&&(L.hasOwnProperty("class")&&(r.flags|=16),L.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=I,r.inputs=L,r.outputs=H}function Fo(s,r,u,h,v,b,I,L){const H=Ws(r,u);let Se,ie=r.inputs;!L&&null!=ie&&(Se=ie[h])?(dh(s,u,Se,h,v),Br(r)&&Fg(u,r.index)):3&r.type&&(h=function $C(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),v=null!=I?I(v,r.value||"",h):v,b.setProperty(H,h,v))}function Fg(s,r){const u=hi(r,s);16&u[2]||(u[2]|=32)}function oh(s,r,u,h){let v=!1;if(Di()){const b=function KC(s,r,u){const h=s.directiveRegistry;let v=null;if(h)for(let b=0;b<h.length;b++){const I=h[b];ul(u,I.selectors,!1)&&(v||(v=[]),ht(E(u,r),s,I.type),Ln(I)?(Hg(s,u),v.unshift(I)):v.push(I))}return v}(s,r,u),I=null===h?null:{"":-1};if(null!==b){v=!0,Gr(u,s.data.length,b.length);for(let Se=0;Se<b.length;Se++){const Ve=b[Se];Ve.providersResolver&&Ve.providersResolver(Ve)}let L=!1,H=!1,ie=lc(s,r,b.length,null);for(let Se=0;Se<b.length;Se++){const Ve=b[Se];u.mergedAttrs=la(u.mergedAttrs,Ve.hostAttrs),Da(s,u,r,ie,Ve),No(ie,Ve,I),null!==Ve.contentQueries&&(u.flags|=8),(null!==Ve.hostBindings||null!==Ve.hostAttrs||0!==Ve.hostVars)&&(u.flags|=128);const pt=Ve.type.prototype;!L&&(pt.ngOnChanges||pt.ngOnInit||pt.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),L=!0),!H&&(pt.ngOnChanges||pt.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),H=!0),ie++}Zg(s,u)}I&&function cc(s,r,u){if(r){const h=s.localNames=[];for(let v=0;v<r.length;v+=2){const b=u[r[v+1]];if(null==b)throw new j(-301,!1);h.push(r[v],b)}}}(u,h,I)}return u.mergedAttrs=la(u.mergedAttrs,u.attrs),v}function Bg(s,r,u,h,v,b){const I=b.hostBindings;if(I){let L=s.hostBindingOpCodes;null===L&&(L=s.hostBindingOpCodes=[]);const H=~r.index;(function GC(s){let r=s.length;for(;r>0;){const u=s[--r];if("number"==typeof u&&u<0)return u}return 0})(L)!=H&&L.push(H),L.push(h,v,I)}}function Vg(s,r){null!==s.hostBindings&&s.hostBindings(1,r)}function Hg(s,r){r.flags|=2,(s.components||(s.components=[])).push(r.index)}function No(s,r,u){if(u){if(r.exportAs)for(let h=0;h<r.exportAs.length;h++)u[r.exportAs[h]]=s;Ln(r)&&(u[""]=s)}}function Gr(s,r,u){s.flags|=1,s.directiveStart=r,s.directiveEnd=r+u,s.providerIndexes=r}function Da(s,r,u,h,v){s.data[h]=v;const b=v.factory||(v.factory=Gi(v.type)),I=new Er(b,Ln(v),oc);s.blueprint[h]=I,u[h]=I,Bg(s,r,0,h,lc(s,u,v.hostVars,Fn),v)}function yr(s,r,u){const h=Ws(r,s),v=Pg(u),b=s[10],I=md(s,dd(s,v,null,u.onPush?32:16,h,r,b,b.createRenderer(h,u),null,null,null));s[r.index]=I}function Wa(s,r,u,h,v,b,I){if(null==b)s.removeAttribute(r,v,u);else{const L=null==I?Ee(b):I(b,h||"",v);s.setAttribute(r,v,L,u)}}function fd(s,r,u,h,v,b){const I=b[r];if(null!==I){const L=h.setInput;for(let H=0;H<I.length;){const ie=I[H++],Se=I[H++],Ve=I[H++];null!==L?h.setInput(u,Ve,ie,Se):u[Se]=Ve}}}function XC(s,r){let u=null,h=0;for(;h<r.length;){const v=r[h];if(0!==v)if(5!==v){if("number"==typeof v)break;s.hasOwnProperty(v)&&(null===u&&(u=[]),u.push(v,s[v],r[h+1])),h+=2}else h+=2;else h+=4}return u}function Jg(s,r,u,h){return new Array(s,!0,!1,r,null,0,h,u,null,null)}function nw(s,r){const u=hi(r,s);if(tr(u)){const h=u[1];48&u[2]?hd(h,u,h.template,u[8]):u[5]>0&&ah(u)}}function ah(s){for(let h=Np(s);null!==h;h=kp(h))for(let v=10;v<h.length;v++){const b=h[v];if(tr(b))if(512&b[2]){const I=b[1];hd(I,b,I.template,b[8])}else b[5]>0&&ah(b)}const u=s[1].components;if(null!==u)for(let h=0;h<u.length;h++){const v=hi(u[h],s);tr(v)&&v[5]>0&&ah(v)}}function iw(s,r){const u=hi(r,s),h=u[1];(function sw(s,r){for(let u=r.length;u<s.blueprint.length;u++)r.push(s.blueprint[u])})(h,u),nh(h,u,u[8])}function md(s,r){return s[13]?s[14][4]=r:s[13]=r,s[14]=r,r}function lh(s){for(;s;){s[2]|=32;const r=Xc(s);if(rr(s)&&!r)return s;s=r}return null}function gd(s,r,u,h=!0){const v=r[10];v.begin&&v.begin();try{hd(s,r,s.template,u)}catch(I){throw h&&uh(r,I),I}finally{v.end&&v.end()}}function ch(s,r,u){Ui(0),r(s,u)}function qg(s){return s[7]||(s[7]=[])}function jg(s){return s.cleanup||(s.cleanup=[])}function uh(s,r){const u=s[9],h=u?u.get(Ol,null):null;h&&h.handleError(r)}function dh(s,r,u,h,v){for(let b=0;b<u.length;){const I=u[b++],L=u[b++],H=r[I],ie=s.data[I];null!==ie.setInput?ie.setInput(H,v,h,L):H[L]=v}}function Qa(s,r,u){const h=Ts(r,s);Qm(s[11],h,u)}function _d(s,r,u){let h=u?s.styles:null,v=u?s.classes:null,b=0;if(null!==r)for(let I=0;I<r.length;I++){const L=r[I];"number"==typeof L?b=L:1==b?v=R(v,L):2==b&&(h=R(h,L+": "+r[++I]+";"))}u?s.styles=h:s.stylesWithoutHost=h,u?s.classes=v:s.classesWithoutHost=v}function vd(s,r,u,h,v=!1){for(;null!==u;){const b=r[u.index];if(null!==b&&h.push(li(b)),Cs(b))for(let L=10;L<b.length;L++){const H=b[L],ie=H[1].firstChild;null!==ie&&vd(H[1],H,ie,h)}const I=u.type;if(8&I)vd(s,r,u.child,h);else if(32&I){const L=Op(u,r);let H;for(;H=L();)h.push(H)}else if(16&I){const L=rg(r,u);if(Array.isArray(L))h.push(...L);else{const H=Xc(r[16]);vd(H[1],H,L,h,!0)}}u=v?u.projectionNext:u.next}return h}class nu{constructor(r,u){this._lView=r,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,u=r[1];return vd(u,r,u.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Cs(r)){const u=r[8],h=u?u.indexOf(this):-1;h>-1&&(Lp(r,h),se(u,h))}this._attachedToViewContainer=!1}zm(this._lView[1],this._lView)}onDestroy(r){Lg(this._lView[1],this._lView,null,r)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){gd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iC(s,r){eu(s,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=r}}class ow extends nu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;gd(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class ph extends $c{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const u=It(r);return new iu(u,this.ngModule)}}function $g(s){const r=[];for(let u in s)s.hasOwnProperty(u)&&r.push({propName:s[u],templateName:u});return r}class lw{constructor(r,u){this.injector=r,this.parentInjector=u}get(r,u,h){const v=this.injector.get(r,Sp,h);return v!==Sp||u===Sp?v:this.parentInjector.get(r,u,h)}}class iu extends Om{constructor(r,u){super(),this.componentDef=r,this.ngModule=u,this.componentType=r.type,this.selector=function _C(s){return s.map(gC).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return $g(this.componentDef.inputs)}get outputs(){return $g(this.componentDef.outputs)}create(r,u,h,v){var b;let I=(v=v||this.ngModule)instanceof Ml?v:null===(b=v)||void 0===b?void 0:b.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const L=I?new lw(r,I):r,H=L.get(km,null);if(null===H)throw new j(407,!1);const ie=L.get(Dy,null),Se=H.createRenderer(null,this.componentDef),Ve=this.componentDef.selectors[0][0]||"div",pt=h?function qC(s,r,u){return s.selectRootElement(r,u===P.ShadowDom)}(Se,h,this.componentDef.encapsulation):Pp(H.createRenderer(null,this.componentDef),Ve,function aw(s){const r=s.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ve)),Ot=this.componentDef.onPush?288:272,$t=rh(0,null,null,1,0,null,null,null,null,null),ln=dd(null,$t,null,Ot,null,null,H,Se,ie,L,null);let fn,An;Rn(ln);try{const Wn=function dw(s,r,u,h,v,b){const I=u[1];u[22]=s;const H=ac(I,22,2,"#host",null),ie=H.mergedAttrs=r.hostAttrs;null!==ie&&(_d(H,ie,!0),null!==s&&(Eo(v,s,ie),null!==H.classes&&nd(v,s,H.classes),null!==H.styles&&lg(v,s,H.styles)));const Se=h.createRenderer(s,r),Ve=dd(u,Pg(r),null,r.onPush?32:16,u[22],H,h,Se,b||null,null,null);return I.firstCreatePass&&(ht(E(H,u),I,r.type),Hg(I,H),Gr(H,u.length,1)),md(u,Ve),u[22]=Ve}(pt,this.componentDef,ln,H,Se);if(pt)if(h)Eo(Se,pt,["ng-version",Ey.full]);else{const{attrs:Xt,classes:Un}=function ja(s){const r=[],u=[];let h=1,v=2;for(;h<s.length;){let b=s[h];if("string"==typeof b)2===v?""!==b&&r.push(b,s[++h]):8===v&&u.push(b);else{if(!Vn(v))break;v=b}h++}return{attrs:r,classes:u}}(this.componentDef.selectors[0]);Xt&&Eo(Se,pt,Xt),Un&&Un.length>0&&nd(Se,pt,Un.join(" "))}if(An=Nr($t,22),void 0!==u){const Xt=An.projection=[];for(let Un=0;Un<this.ngContentSelectors.length;Un++){const Ei=u[Un];Xt.push(null!=Ei?Array.from(Ei):null)}}fn=function pw(s,r,u,h){const v=u[1],b=function QC(s,r,u){const h=Zn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Da(s,h,r,lc(s,r,1,null),u),Zg(s,h));const v=Nn(r,s,h.directiveStart,h);ho(v,r);const b=Ws(h,r);return b&&ho(b,r),v}(v,u,r);if(s[8]=u[8]=b,null!==h)for(const L of h)L(b,r);if(r.contentQueries){const L=Zn();r.contentQueries(1,b,L.directiveStart)}const I=Zn();return!v.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Dt(I.index),Bg(u[1],I,0,I.directiveStart,I.directiveEnd,r),Vg(r,b)),b}(Wn,this.componentDef,ln,[hw]),nh($t,ln,null)}finally{ae()}return new uw(this.componentType,fn,ic(An,ln),ln,An)}}class uw extends class Cy{}{constructor(r,u,h,v,b){super(),this.location=h,this._rootLView=v,this._tNode=b,this.instance=u,this.hostView=this.changeDetectorRef=new ow(v),this.componentType=r}setInput(r,u){const h=this._tNode.inputs;let v;if(null!==h&&(v=h[r])){const b=this._rootLView;dh(b[1],b,v,r,u),Fg(b,this._tNode.index)}}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function hw(){const s=Zn();zn(jt()[1],s)}function hh(s){let r=function Wg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const h=[s];for(;r;){let v;if(Ln(s))v=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new j(903,!1);v=r.\u0275dir}if(v){if(u){h.push(v);const I=s;I.inputs=fh(s.inputs),I.declaredInputs=fh(s.declaredInputs),I.outputs=fh(s.outputs);const L=v.hostBindings;L&&gw(s,L);const H=v.viewQuery,ie=v.contentQueries;if(H&&mh(s,H),ie&&mw(s,ie),_(s.inputs,v.inputs),_(s.declaredInputs,v.declaredInputs),_(s.outputs,v.outputs),Ln(v)&&v.data.animation){const Se=s.data;Se.animation=(Se.animation||[]).concat(v.data.animation)}}const b=v.features;if(b)for(let I=0;I<b.length;I++){const L=b[I];L&&L.ngInherit&&L(s),L===hh&&(u=!1)}}r=Object.getPrototypeOf(r)}!function fw(s){let r=0,u=null;for(let h=s.length-1;h>=0;h--){const v=s[h];v.hostVars=r+=v.hostVars,v.hostAttrs=la(v.hostAttrs,u=la(u,v.hostAttrs))}}(h)}function fh(s){return s===Le?{}:s===He?[]:s}function mh(s,r){const u=s.viewQuery;s.viewQuery=u?(h,v)=>{r(h,v),u(h,v)}:r}function mw(s,r){const u=s.contentQueries;s.contentQueries=u?(h,v,b)=>{r(h,v,b),u(h,v,b)}:r}function gw(s,r){const u=s.hostBindings;s.hostBindings=u?(h,v)=>{r(h,v),u(h,v)}:r}let yd=null;function Fl(){if(!yd){const s=D.Symbol;if(s&&s.iterator)yd=s.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<r.length;++u){const h=r[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(yd=h)}}}return yd}function su(s){return!!vh(s)&&(Array.isArray(s)||!(s instanceof Map)&&Fl()in s)}function vh(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ea(s,r,u){return s[r]=u}function ru(s,r){return s[r]}function mo(s,r,u){return!Object.is(s[r],u)&&(s[r]=u,!0)}function Bl(s,r,u,h){const v=mo(s,r,u);return mo(s,r+1,h)||v}function Yo(s,r,u,h,v,b){const I=Bl(s,r,u,h);return Bl(s,r+2,v,b)||I}function yh(s,r,u,h){const v=jt();return mo(v,_e(),r)&&(cn(),function Bo(s,r,u,h,v,b){const I=Ws(s,r);Wa(r[11],I,b,s.value,u,h,v)}(Pt(),v,s,r,u,h)),yh}function dc(s,r,u,h){return mo(s,_e(),u)?r+Ee(u)+h:Fn}function Kg(s,r,u,h,v,b,I,L){const H=jt(),ie=cn(),Se=s+22,Ve=ie.firstCreatePass?function Yg(s,r,u,h,v,b,I,L,H){const ie=r.consts,Se=ac(r,s,4,I||null,oi(ie,L));oh(r,u,Se,oi(ie,H)),zn(r,Se);const Ve=Se.tViews=rh(2,Se,h,v,b,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ie);return null!==r.queries&&(r.queries.template(r,Se),Ve.queries=r.queries.embeddedTView(Se)),Se}(Se,ie,H,r,u,h,v,b,I):ie.data[Se];N(Ve,!1);const pt=H[11].createComment("");ed(ie,H,pt,Ve),ho(pt,H),md(H,H[Se]=Jg(pt,H,pt,Ve)),Yr(Ve)&&ih(ie,H,Ve),null!=I&&sh(H,Ve,L)}function Xg(s){return xr(function yi(){return Mn.lFrame.contextLView}(),22+s)}function wh(s,r,u){const h=jt();return mo(h,_e(),r)&&Fo(cn(),Pt(),h,s,r,h[11],u,!1),wh}function bh(s,r,u,h,v){const I=v?"class":"style";dh(s,u,r.inputs[I],I,h)}function Td(s,r,u,h){const v=jt(),b=cn(),I=22+s,L=v[11],H=v[I]=Pp(L,r,function un(){return Mn.lFrame.currentNamespace}()),ie=b.firstCreatePass?function bw(s,r,u,h,v,b,I){const L=r.consts,ie=ac(r,s,2,v,oi(L,b));return oh(r,u,ie,oi(L,I)),null!==ie.attrs&&_d(ie,ie.attrs,!1),null!==ie.mergedAttrs&&_d(ie,ie.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ie),ie}(I,b,v,0,r,u,h):b.data[I];N(ie,!0);const Se=ie.mergedAttrs;null!==Se&&Eo(L,H,Se);const Ve=ie.classes;null!==Ve&&nd(L,H,Ve);const pt=ie.styles;return null!==pt&&lg(L,H,pt),64!=(64&ie.flags)&&ed(b,v,H,ie),0===function cr(){return Mn.lFrame.elementDepthCount}()&&ho(H,v),function Dr(){Mn.lFrame.elementDepthCount++}(),Yr(ie)&&(ih(b,v,ie),Rg(b,ie,v)),null!==h&&sh(v,ie),Td}function Ad(){let s=Zn();Te()?kt():(s=s.parent,N(s,!1));const r=s;!function fi(){Mn.lFrame.elementDepthCount--}();const u=cn();return u.firstCreatePass&&(zn(u,s),zr(s)&&u.queries.elementEnd(s)),null!=r.classesWithoutHost&&function Ua(s){return 0!=(16&s.flags)}(r)&&bh(u,r,jt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function aa(s){return 0!=(32&s.flags)}(r)&&bh(u,r,jt(),r.stylesWithoutHost,!1),Ad}function Th(s,r,u,h){return Td(s,r,u,h),Ad(),Th}function Sd(s,r,u){const h=jt(),v=cn(),b=s+22,I=v.firstCreatePass?function Tw(s,r,u,h,v){const b=r.consts,I=oi(b,h),L=ac(r,s,8,"ng-container",I);return null!==I&&_d(L,I,!0),oh(r,u,L,oi(b,v)),null!==r.queries&&r.queries.elementStart(r,L),L}(b,v,h,r,u):v.data[b];N(I,!0);const L=h[b]=h[11].createComment("");return ed(v,h,L,I),ho(L,h),Yr(I)&&(ih(v,h,I),Rg(v,I,h)),null!=u&&sh(h,I),Sd}function xd(){let s=Zn();const r=cn();return Te()?kt():(s=s.parent,N(s,!1)),r.firstCreatePass&&(zn(r,s),zr(s)&&r.queries.elementEnd(s)),xd}function Ah(s,r,u){return Sd(s,r,u),xd(),Ah}function e_(){return jt()}function Sh(s){return!!s&&"function"==typeof s.then}function ks(s){return!!s&&"function"==typeof s.subscribe}const xh=ks;function Dh(s,r,u,h){const v=jt(),b=cn(),I=Zn();return function n_(s,r,u,h,v,b,I,L){const H=Yr(h),Se=s.firstCreatePass&&jg(s),Ve=r[8],pt=qg(r);let Ot=!0;if(3&h.type||L){const fn=Ws(h,r),An=L?L(fn):fn,Wn=pt.length,Xt=L?Ei=>L(li(Ei[h.index])):h.index;let Un=null;if(!L&&H&&(Un=function Aw(s,r,u,h){const v=s.cleanup;if(null!=v)for(let b=0;b<v.length-1;b+=2){const I=v[b];if(I===u&&v[b+1]===h){const L=r[7],H=v[b+2];return L.length>H?L[H]:null}"string"==typeof I&&(b+=2)}return null}(s,r,v,h.index)),null!==Un)(Un.__ngLastListenerFn__||Un).__ngNextListenerFn__=b,Un.__ngLastListenerFn__=b,Ot=!1;else{b=s_(h,r,Ve,b,!1);const Ei=u.listen(An,v,b);pt.push(b,Ei),Se&&Se.push(v,Xt,Wn,Wn+1)}}else b=s_(h,r,Ve,b,!1);const $t=h.outputs;let ln;if(Ot&&null!==$t&&(ln=$t[v])){const fn=ln.length;if(fn)for(let An=0;An<fn;An+=2){const zs=r[ln[An]][ln[An+1]].subscribe(b),Ql=pt.length;pt.push(b,zs),Se&&Se.push(v,h.index,Ql,-(Ql+1))}}}(b,v,v[11],I,s,r,0,h),Dh}function i_(s,r,u,h){try{return!1!==u(h)}catch(v){return uh(s,v),!1}}function s_(s,r,u,h,v){return function b(I){if(I===Function)return h;lh(2&s.flags?hi(s.index,r):r);let H=i_(r,0,h,I),ie=b.__ngNextListenerFn__;for(;ie;)H=i_(r,0,ie,I)&&H,ie=ie.__ngNextListenerFn__;return v&&!1===H&&(I.preventDefault(),I.returnValue=!1),H}}function r_(s=1){return function q(s){return(Mn.lFrame.contextLView=function ge(s,r){for(;s>0;)r=r[15],s--;return r}(s,Mn.lFrame.contextLView))[8]}(s)}function Sw(s,r){let u=null;const h=function Pl(s){const r=s.attrs;if(null!=r){const u=r.indexOf(5);if(0==(1&u))return r[u+1]}return null}(s);for(let v=0;v<r.length;v++){const b=r[v];if("*"!==b){if(null===h?ul(s,b,!0):Oo(h,b))return v}else u=v}return u}function o_(s){const r=jt()[16][6];if(!r.projection){const h=r.projection=d(s?s.length:1,null),v=h.slice();let b=r.child;for(;null!==b;){const I=s?Sw(b,s):0;null!==I&&(v[I]?v[I].projectionNext=b:h[I]=b,v[I]=b),b=b.next}}}function a_(s,r=0,u){const h=jt(),v=cn(),b=ac(v,22+s,16,null,u||null);null===b.projection&&(b.projection=r),kt(),64!=(64&b.flags)&&function dC(s,r,u){ag(r[11],0,r,u,Ym(s,u,r),tg(u.parent||r[6],u,r))}(v,h,b)}function Eh(s,r,u){return Dd(s,"",r,"",u),Eh}function Dd(s,r,u,h,v){const b=jt(),I=dc(b,r,u,h);return I!==Fn&&Fo(cn(),Pt(),b,s,I,b[11],v,!1),Dd}function m_(s,r,u,h,v){const b=s[u+1],I=null===r;let L=h?ma(b):$a(b),H=!1;for(;0!==L&&(!1===H||I);){const Se=s[L+1];Iw(s[L],r)&&(H=!0,s[L+1]=h?Qp(Se):$p(Se)),L=h?ma(Se):$a(Se)}H&&(s[u+1]=h?$p(b):Qp(b))}function Iw(s,r){return null===s||null==r||(Array.isArray(s)?s[1]:s)===r||!(!Array.isArray(s)||"string"!=typeof r)&&Ce(s,r)>=0}const Ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g_(s){return s.substring(Ur.key,Ur.keyEnd)}function __(s,r){const u=Ur.textEnd;return u===r?-1:(r=Ur.keyEnd=function kw(s,r,u){for(;r<u&&s.charCodeAt(r)>32;)r++;return r}(s,Ur.key=r,u),vc(s,r,u))}function vc(s,r,u){for(;r<u&&s.charCodeAt(r)<=32;)r++;return r}function Ih(s,r,u){return ga(s,r,u,!1),Ih}function Mh(s,r){return ga(s,r,null,!0),Mh}function w_(s){_a(Z,Oa,s,!0)}function Oa(s,r){for(let u=function Ow(s){return function y_(s){Ur.key=0,Ur.keyEnd=0,Ur.value=0,Ur.valueEnd=0,Ur.textEnd=s.length}(s),__(s,vc(s,0,Ur.textEnd))}(r);u>=0;u=__(r,u))Z(s,g_(r),!0)}function ga(s,r,u,h){const v=jt(),b=cn(),I=ze(2);b.firstUpdatePass&&T_(b,s,I,h),r!==Fn&&mo(v,I,r)&&S_(b,b.data[Re()],v,v[11],s,v[I+1]=function Hw(s,r){return null==s||("string"==typeof r?s+=r:"object"==typeof s&&(s=U(Ha(s)))),s}(r,u),h,I)}function _a(s,r,u,h){const v=cn(),b=ze(2);v.firstUpdatePass&&T_(v,null,b,h);const I=jt();if(u!==Fn&&mo(I,b,u)){const L=v.data[Re()];if(D_(L,h)&&!b_(v,b)){let H=h?L.classesWithoutHost:L.stylesWithoutHost;null!==H&&(u=R(H,u||"")),bh(v,L,I,u,h)}else!function Vw(s,r,u,h,v,b,I,L){v===Fn&&(v=He);let H=0,ie=0,Se=0<v.length?v[0]:null,Ve=0<b.length?b[0]:null;for(;null!==Se||null!==Ve;){const pt=H<v.length?v[H+1]:void 0,Ot=ie<b.length?b[ie+1]:void 0;let ln,$t=null;Se===Ve?(H+=2,ie+=2,pt!==Ot&&($t=Ve,ln=Ot)):null===Ve||null!==Se&&Se<Ve?(H+=2,$t=Se):(ie+=2,$t=Ve,ln=Ot),null!==$t&&S_(s,r,u,h,$t,ln,I,L),Se=H<v.length?v[H]:null,Ve=ie<b.length?b[ie]:null}}(v,L,I,I[11],I[b+1],I[b+1]=function Bw(s,r,u){if(null==u||""===u)return He;const h=[],v=Ha(u);if(Array.isArray(v))for(let b=0;b<v.length;b++)s(h,v[b],!0);else if("object"==typeof v)for(const b in v)v.hasOwnProperty(b)&&s(h,b,v[b]);else"string"==typeof v&&r(h,v);return h}(s,r,u),h,b)}}function b_(s,r){return r>=s.expandoStartIndex}function T_(s,r,u,h){const v=s.data;if(null===v[u+1]){const b=v[Re()],I=b_(s,u);D_(b,h)&&null===r&&!I&&(r=!1),r=function Lw(s,r,u,h){const v=On(s);let b=h?r.residualClasses:r.residualStyles;if(null===v)0===(h?r.classBindings:r.styleBindings)&&(u=ou(u=Oh(null,s,r,u,h),r.attrs,h),b=null);else{const I=r.directiveStylingLast;if(-1===I||s[I]!==v)if(u=Oh(v,s,r,u,h),null===b){let H=function Uw(s,r,u){const h=u?r.classBindings:r.styleBindings;if(0!==$a(h))return s[ma(h)]}(s,r,h);void 0!==H&&Array.isArray(H)&&(H=Oh(null,s,r,H[1],h),H=ou(H,r.attrs,h),function Zw(s,r,u,h){s[ma(u?r.classBindings:r.styleBindings)]=h}(s,r,h,H))}else b=function Fw(s,r,u){let h;const v=r.directiveEnd;for(let b=1+r.directiveStylingLast;b<v;b++)h=ou(h,s[b].hostAttrs,u);return ou(h,r.attrs,u)}(s,r,h)}return void 0!==b&&(h?r.residualClasses=b:r.residualStyles=b),u}(v,b,r,h),function Dw(s,r,u,h,v,b){let I=b?r.classBindings:r.styleBindings,L=ma(I),H=$a(I);s[h]=u;let Se,ie=!1;if(Array.isArray(u)){const Ve=u;Se=Ve[1],(null===Se||Ce(Ve,Se)>0)&&(ie=!0)}else Se=u;if(v)if(0!==H){const pt=ma(s[L+1]);s[h+1]=od(pt,L),0!==pt&&(s[pt+1]=Wp(s[pt+1],h)),s[L+1]=function OC(s,r){return 131071&s|r<<17}(s[L+1],h)}else s[h+1]=od(L,0),0!==L&&(s[L+1]=Wp(s[L+1],h)),L=h;else s[h+1]=od(H,0),0===L?L=h:s[H+1]=Wp(s[H+1],h),H=h;ie&&(s[h+1]=$p(s[h+1])),m_(s,Se,h,!0),m_(s,Se,h,!1),function Ew(s,r,u,h,v){const b=v?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof r&&Ce(b,r)>=0&&(u[h+1]=Qp(u[h+1]))}(r,Se,s,h,b),I=od(L,H),b?r.classBindings=I:r.styleBindings=I}(v,b,r,u,I,h)}}function Oh(s,r,u,h,v){let b=null;const I=u.directiveEnd;let L=u.directiveStylingLast;for(-1===L?L=u.directiveStart:L++;L<I&&(b=r[L],h=ou(h,b.hostAttrs,v),b!==s);)L++;return null!==s&&(u.directiveStylingLast=L),h}function ou(s,r,u){const h=u?1:2;let v=-1;if(null!==r)for(let b=0;b<r.length;b++){const I=r[b];"number"==typeof I?v=I:v===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Z(s,I,!!u||r[++b]))}return void 0===s?null:s}function S_(s,r,u,h,v,b,I,L){if(!(3&r.type))return;const H=s.data,ie=H[L+1];Id(function Sg(s){return 1==(1&s)}(ie)?x_(H,r,u,v,$a(ie),I):void 0)||(Id(b)||function Ag(s){return 2==(2&s)}(ie)&&(b=x_(H,null,u,v,L,I)),function hC(s,r,u,h,v){if(r)v?s.addClass(u,h):s.removeClass(u,h);else{let b=-1===h.indexOf("-")?void 0:Sa.DashCase;null==v?s.removeStyle(u,h,b):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),b|=Sa.Important),s.setStyle(u,h,v,b))}}(h,I,Ts(Re(),u),v,b))}function x_(s,r,u,h,v,b){const I=null===r;let L;for(;v>0;){const H=s[v],ie=Array.isArray(H),Se=ie?H[1]:H,Ve=null===Se;let pt=u[v+1];pt===Fn&&(pt=Ve?He:void 0);let Ot=Ve?z(pt,h):Se===h?pt:void 0;if(ie&&!Id(Ot)&&(Ot=z(H,h)),Id(Ot)&&(L=Ot,I))return L;const $t=s[v+1];v=I?ma($t):$a($t)}if(null!==r){let H=b?r.residualClasses:r.residualStyles;null!=H&&(L=z(H,h))}return L}function Id(s){return void 0!==s}function D_(s,r){return 0!=(s.flags&(r?16:32))}function E_(s,r=""){const u=jt(),h=cn(),v=s+22,b=h.firstCreatePass?ac(h,v,1,r,null):h.data[v],I=u[v]=Rp(u[11],r);ed(h,u,I,b),N(b,!1)}function Nh(s){return Md("",s,""),Nh}function Md(s,r,u){const h=jt(),v=dc(h,s,r,u);return v!==Fn&&Qa(h,Re(),v),Md}function kh(s,r,u,h,v){const b=jt(),I=function pc(s,r,u,h,v,b){const L=Bl(s,_n(),u,v);return ze(2),L?r+Ee(u)+h+Ee(v)+b:Fn}(b,s,r,u,h,v);return I!==Fn&&Qa(b,Re(),I),kh}function P_(s,r,u){_a(Z,Oa,dc(jt(),s,r,u),!0)}function Lh(s,r,u){const h=jt();return mo(h,_e(),r)&&Fo(cn(),Pt(),h,s,r,h[11],u,!0),Lh}function Uh(s,r,u){const h=jt();if(mo(h,_e(),r)){const b=cn(),I=Pt();Fo(b,I,h,s,r,function rw(s,r,u){return(null===s||Ln(s))&&(u=function Sr(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[r.index])),u[11]}(On(b.data),I,h),u,!0)}return Uh}const Hl=void 0;var nb=["en",[["a","p"],["AM","PM"],Hl],[["AM","PM"],Hl,Hl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hl,"{1} 'at' {0}",Hl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tb(s){const u=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Cc={};function Zh(s){const r=function ib(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=$_(r);if(u)return u;const h=r.split("-")[0];if(u=$_(h),u)return u;if("en"===h)return nb;throw new j(701,!1)}function j_(s){return Zh(s)[Jn.PluralCase]}function $_(s){return s in Cc||(Cc[s]=D.ng&&D.ng.common&&D.ng.common.locales&&D.ng.common.locales[s]),Cc[s]}var Jn=(()=>((Jn=Jn||{})[Jn.LocaleId=0]="LocaleId",Jn[Jn.DayPeriodsFormat=1]="DayPeriodsFormat",Jn[Jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jn[Jn.DaysFormat=3]="DaysFormat",Jn[Jn.DaysStandalone=4]="DaysStandalone",Jn[Jn.MonthsFormat=5]="MonthsFormat",Jn[Jn.MonthsStandalone=6]="MonthsStandalone",Jn[Jn.Eras=7]="Eras",Jn[Jn.FirstDayOfWeek=8]="FirstDayOfWeek",Jn[Jn.WeekendRange=9]="WeekendRange",Jn[Jn.DateFormat=10]="DateFormat",Jn[Jn.TimeFormat=11]="TimeFormat",Jn[Jn.DateTimeFormat=12]="DateTimeFormat",Jn[Jn.NumberSymbols=13]="NumberSymbols",Jn[Jn.NumberFormats=14]="NumberFormats",Jn[Jn.CurrencyCode=15]="CurrencyCode",Jn[Jn.CurrencySymbol=16]="CurrencySymbol",Jn[Jn.CurrencyName=17]="CurrencyName",Jn[Jn.Currencies=18]="Currencies",Jn[Jn.Directionality=19]="Directionality",Jn[Jn.PluralCase=20]="PluralCase",Jn[Jn.ExtraData=21]="ExtraData",Jn))();const sb=["zero","one","two","few","many"],wc="en-US",Nd={marker:"element"},kd={marker:"ICU"};var Gs=(()=>((Gs=Gs||{})[Gs.SHIFT=2]="SHIFT",Gs[Gs.APPEND_EAGERLY=1]="APPEND_EAGERLY",Gs[Gs.COMMENT=2]="COMMENT",Gs))();let W_=wc;function Fh(s){(function mt(s,r){null==s&&$(r,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(W_=s.toLowerCase().replace(/_/g,"-"))}function Bh(s,r,u){const h=r.insertBeforeIndex,v=Array.isArray(h)?h[0]:h;return null===v?ng(s,0,u):li(u[v])}function Q_(s,r,u,h,v){const b=r.insertBeforeIndex;if(Array.isArray(b)){let I=h,L=null;if(3&r.type||(L=I,I=v),null!==I&&0==(2&r.flags))for(let H=1;H<b.length;H++)kl(s,I,u[b[H]],L,!1)}}function G_(s,r){if(s.push(r),s.length>1)for(let u=s.length-2;u>=0;u--){const h=s[u];z_(h)||Y_(h,r)&&null===lb(h)&&cb(h,r.index)}}function z_(s){return!(64&s.type)}function Y_(s,r){return z_(r)||s.index>r.index}function lb(s){const r=s.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function cb(s,r){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=r:(sg(Bh,Q_),s.insertBeforeIndex=r)}function lu(s,r){const u=s.data[r];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Rd(s,r,u){const h=pd(s,u,64,null,null);return G_(r,h),h}function Pd(s,r){const u=r[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function K_(s){return s>>>17}function X_(s){return(131070&s)>>>1}let cu=0,uu=0;function tv(s,r,u,h){const v=u[11];let I,b=null;for(let L=0;L<r.length;L++){const H=r[L];if("string"==typeof H){const ie=r[++L];null===u[ie]&&(u[ie]=Rp(v,H))}else if("number"==typeof H)switch(1&H){case 0:const ie=K_(H);let Se,Ve;if(null===b&&(b=ie,I=Ku(v,h)),ie===b?(Se=h,Ve=I):(Se=null,Ve=li(u[ie])),null!==Ve){const ln=X_(H);kl(v,Ve,u[ln],Se,!1);const An=lu(s,ln);if(null!==An&&"object"==typeof An){const Wn=Pd(An,u);null!==Wn&&tv(s,An.create[Wn],u,u[An.anchorIdx])}}break;case 1:const Ot=r[++L],$t=r[++L];Wa(v,Ts(H>>>1,u),null,null,Ot,$t,null)}else switch(H){case kd:const ie=r[++L],Se=r[++L];null===u[Se]&&ho(u[Se]=eC(v,ie),u);break;case Nd:const Ve=r[++L],pt=r[++L];null===u[pt]&&ho(u[pt]=Pp(v,Ve,null),u)}}}function nv(s,r,u,h,v){for(let b=0;b<u.length;b++){const I=u[b],L=u[++b];if(I&v){let H="";for(let ie=b+1;ie<=b+L;ie++){const Se=u[ie];if("string"==typeof Se)H+=Se;else if("number"==typeof Se)if(Se<0)H+=Ee(r[h-Se]);else{const Ve=Se>>>2;switch(3&Se){case 1:const pt=u[++ie],Ot=u[++ie],$t=s.data[Ve];"string"==typeof $t?Wa(r[11],r[Ve],null,$t,pt,H,Ot):Fo(s,$t,r,pt,H,r[11],Ot,!1);break;case 0:const ln=r[Ve];null!==ln&&Qm(r[11],ln,H);break;case 2:mb(s,lu(s,Ve),r,H);break;case 3:iv(s,lu(s,Ve),h,r)}}}}else{const H=u[b+1];if(H>0&&3==(3&H)){const Se=lu(s,H>>>2);r[Se.currentCaseLViewIndex]<0&&iv(s,Se,h,r)}}b+=L}}function iv(s,r,u,h){let v=h[r.currentCaseLViewIndex];if(null!==v){let b=cu;v<0&&(v=h[r.currentCaseLViewIndex]=~v,b=-1),nv(s,h,r.update[v],u,b)}}function mb(s,r,u,h){const v=function gb(s,r){let u=s.cases.indexOf(r);if(-1===u)switch(s.type){case 1:{const h=function rb(s,r){const u=j_(r)(parseInt(s,10)),h=sb[u];return void 0!==h?h:"other"}(r,function ab(){return W_}());u=s.cases.indexOf(h),-1===u&&"other"!==h&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(r,h);if(Pd(r,u)!==v&&(sv(s,r,u),u[r.currentCaseLViewIndex]=null===v?null:~v,null!==v)){const I=u[r.anchorIdx];I&&tv(s,r.create[v],u,I)}}function sv(s,r,u){let h=Pd(r,u);if(null!==h){const v=r.remove[h];for(let b=0;b<v.length;b++){const I=v[b];if(I>0){const L=Ts(I,u);null!==L&&og(u[11],L)}else sv(s,lu(s,~I),u)}}}function _b(){const s=[];let u,h,r=-1;function b(L,H){r=0;const ie=Pd(L,H);h=null!==ie?L.remove[ie]:He}function I(){if(r<h.length){const L=h[r++];return L>0?u[L]:(s.push(r,h),b(u[1].data[~L],u),I())}return 0===s.length?null:(h=s.pop(),r=s.pop(),I())}return function v(L,H){for(u=H;s.length;)s.pop();return b(L.value,H),I}}const Ld=/\ufffd(\d+):?\d*\ufffd/gi,yb=/\ufffd(\d+)\ufffd/,av=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Cb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,wb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,pu=/\uE500/g;function lv(s,r,u,h,v,b,I){const L=lc(s,h,1,null);let H=L<<Gs.SHIFT,ie=J();r===ie&&(ie=null),null===ie&&(H|=Gs.APPEND_EAGERLY),I&&(H|=Gs.COMMENT,function zy(s){void 0===Kc&&(Kc=s())}(_b)),v.push(H,null===b?"":b);const Se=pd(s,L,I?32:1,null===b?"":b,null);G_(u,Se);const Ve=Se.index;return N(Se,!1),null!==ie&&r!==ie&&function Vh(s,r){let u=s.insertBeforeIndex;null===u?(sg(Bh,Q_),u=s.insertBeforeIndex=[null,r]):(function me(s,r,u){s!=r&&$(u,s,r,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(r))}(ie,Ve),Se}function Ab(s,r,u,h,v,b,I){const L=I.match(Ld),H=lv(s,r,u,b,h,L?null:I,!1);L&&hu(v,I,H.index,null,0,null)}function hu(s,r,u,h,v,b){const I=s.length,L=I+1;s.push(null,null);const H=I+2,ie=r.split(Ld);let Se=0;for(let Ve=0;Ve<ie.length;Ve++){const pt=ie[Ve];if(1&Ve){const Ot=v+parseInt(pt,10);s.push(-1-Ot),Se|=cv(Ot)}else""!==pt&&s.push(pt)}return s.push(u<<2|(h?1:0)),h&&s.push(h,b),s[I]=Se,s[L]=s.length-H,Se}function cv(s){return 1<<Math.min(s,31)}function uv(s){let r,b,u="",h=0,v=!1;for(;null!==(r=Cb.exec(s));)v?r[0]===`\ufffd/*${b}\ufffd`&&(h=r.index,v=!1):(u+=s.substring(h,r.index+r[0].length),b=r[1],v=!0);return u+=s.slice(h),u}function dv(s,r,u,h,v,b){let I=0;const L={type:v.type,currentCaseLViewIndex:lc(s,r,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function Nb(s,r,u){s.push(cv(r.mainBinding),2,-1-r.mainBinding,u<<2|2)})(u,v,b),function ub(s,r,u){const h=s.data[r];null===h?s.data[r]=u:h.value=u}(s,b,L);const H=v.values;for(let ie=0;ie<H.length;ie++){const Se=H[ie],Ve=[];for(let pt=0;pt<Se.length;pt++){const Ot=Se[pt];if("string"!=typeof Ot){const $t=Ve.push(Ot)-1;Se[pt]=`\x3c!--\ufffd${$t}\ufffd--\x3e`}}I=Mb(s,L,r,u,h,v.cases[ie],Se.join(""),Ve)|I}I&&function kb(s,r,u){s.push(r,1,u<<2|3)}(u,I,b)}function Ib(s){const r=[],u=[];let h=1,v=0;const b=Hh(s=s.replace(av,function(I,L,H){return h="select"===H?0:1,v=parseInt(L.slice(1),10),""}));for(let I=0;I<b.length;){let L=b[I++].trim();1===h&&(L=L.replace(/\s*(?:=)?(\w+)\s*/,"$1")),L.length&&r.push(L);const H=Hh(b[I++]);r.length>u.length&&u.push(H)}return{type:h,mainBinding:v,cases:r,values:u}}function Hh(s){if(!s)return[];let r=0;const u=[],h=[],v=/[{}]/g;let b;for(v.lastIndex=0;b=v.exec(s);){const L=b.index;if("}"==b[0]){if(u.pop(),0==u.length){const H=s.substring(r,L);av.test(H)?h.push(Ib(H)):h.push(H),r=L+1}}else{if(0==u.length){const H=s.substring(r,L);h.push(H),r=L+1}u.push("{")}}const I=s.substring(r);return h.push(I),h}function Mb(s,r,u,h,v,b,I,L){const H=[],ie=[],Se=[];r.cases.push(b),r.create.push(H),r.remove.push(ie),r.update.push(Se);const pt=ll(am()).getInertBodyElement(I),Ot=_p(pt)||pt;return Ot?pv(s,r,u,h,H,ie,Se,Ot,v,L,0):0}function pv(s,r,u,h,v,b,I,L,H,ie,Se){let Ve=0,pt=L.firstChild;for(;pt;){const Ot=lc(s,u,1,null);switch(pt.nodeType){case Node.ELEMENT_NODE:const $t=pt,ln=$t.tagName.toLowerCase();if(gp.hasOwnProperty(ln)){Jh(v,Nd,ln,H,Ot),s.data[Ot]=ln;const Xt=$t.attributes;for(let Un=0;Un<Xt.length;Un++){const Ei=Xt.item(Un),zs=Ei.name.toLowerCase();Ei.value.match(Ld)?mm.hasOwnProperty(zs)&&hu(I,Ei.value,Ot,Ei.name,0,tc[zs]?Jc:null):Rb(v,Ot,Ei)}Ve=pv(s,r,u,h,v,b,I,pt,Ot,ie,Se+1)|Ve,hv(b,Ot,Se)}break;case Node.TEXT_NODE:const fn=pt.textContent||"",An=fn.match(Ld);Jh(v,null,An?"":fn,H,Ot),hv(b,Ot,Se),An&&(Ve=hu(I,fn,Ot,null,0,null)|Ve);break;case Node.COMMENT_NODE:const Wn=yb.exec(pt.textContent||"");if(Wn){const Un=ie[parseInt(Wn[1],10)];Jh(v,kd,"",H,Ot),dv(s,u,h,H,Un,Ot),Ob(b,Ot,Se)}}pt=pt.nextSibling}return Ve}function hv(s,r,u){0===u&&s.push(r)}function Ob(s,r,u){0===u&&(s.push(~r),s.push(r))}function Jh(s,r,u,h,v){null!==r&&s.push(r),s.push(u,v,function db(s,r,u){return s|r<<17|u<<1}(0,h,v))}function Rb(s,r,u){s.push(r<<1|1,u.name,u.value)}function qh(s,r,u=-1){const h=cn(),v=jt(),b=22+s,I=oi(h.consts,r),L=J();h.firstCreatePass&&function Tb(s,r,u,h,v,b){const I=J(),L=[],H=[],ie=[[]];v=function Eb(s,r){if(function Db(s){return-1===s}(r))return uv(s);{const u=s.indexOf(`:${r}\ufffd`)+2+r.toString().length,h=s.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return uv(s.substring(u,h))}}(v,b);const Se=function bb(s){return s.replace(pu," ")}(v).split(wb);for(let Ve=0;Ve<Se.length;Ve++){let pt=Se[Ve];if(0==(1&Ve)){const Ot=Hh(pt);for(let $t=0;$t<Ot.length;$t++){let ln=Ot[$t];if(0==(1&$t)){const fn=ln;""!==fn&&Ab(s,I,ie[0],L,H,u,fn)}else{const fn=ln;if("object"!=typeof fn)throw new Error(`Unable to parse ICU expression in "${v}" message.`);dv(s,u,H,r,fn,lv(s,I,ie[0],u,L,"",!0).index)}}}else{const Ot=47===pt.charCodeAt(0),ln=(pt.charCodeAt(Ot?1:0),22+Number.parseInt(pt.substring(Ot?2:1)));if(Ot)ie.shift(),N(J(),!1);else{const fn=Rd(s,ie[0],ln);ie.unshift([]),N(fn,!0)}}}s.data[h]={create:L,update:H}}(h,null===L?0:L.index,v,b,I,u);const H=h.data[b],Se=Km(h,L===v[6]?null:L,v);(function fb(s,r,u,h){const v=s[11];for(let b=0;b<r.length;b++){const I=r[b++],L=r[b],H=(I&Gs.COMMENT)===Gs.COMMENT,ie=(I&Gs.APPEND_EAGERLY)===Gs.APPEND_EAGERLY,Se=I>>>Gs.SHIFT;let Ve=s[Se];null===Ve&&(Ve=s[Se]=H?v.createComment(L):Rp(v,L)),ie&&null!==u&&kl(v,u,Ve,h,!1)}})(v,H.create,Se,L&&8&L.type?v[L.index]:null),bt(!0)}function mv(s,r,u){qh(s,r,u),function jh(){bt(!1)}()}function $h(s){return function pb(s){s&&(cu|=1<<Math.min(uu,31)),uu++}(mo(jt(),_e(),s)),$h}function gv(s){!function hb(s,r,u){if(uu>0){const h=s.data[u];nv(s,r,Array.isArray(h)?h:h.update,_n()-uu-1,cu)}cu=0,uu=0}(cn(),jt(),s+22)}function Wh(s,r,u,h,v){if(s=F(s),Array.isArray(s))for(let b=0;b<s.length;b++)Wh(s[b],r,u,h,v);else{const b=cn(),I=jt();let L=Lr(s)?s:F(s.provide),H=Mm(s);const ie=Zn(),Se=1048575&ie.providerIndexes,Ve=ie.directiveStart,pt=ie.providerIndexes>>20;if(Lr(s)||!s.multi){const Ot=new Er(H,v,oc),$t=Gh(L,r,v?Se:Se+pt,Ve);-1===$t?(ht(E(ie,I),b,L),Qh(b,s,r.length),r.push(L),ie.directiveStart++,ie.directiveEnd++,v&&(ie.providerIndexes+=1048576),u.push(Ot),I.push(Ot)):(u[$t]=Ot,I[$t]=Ot)}else{const Ot=Gh(L,r,Se+pt,Ve),$t=Gh(L,r,Se,Se+pt),ln=Ot>=0&&u[Ot],fn=$t>=0&&u[$t];if(v&&!fn||!v&&!ln){ht(E(ie,I),b,L);const An=function vv(s,r,u,h,v){const b=new Er(s,u,oc);return b.multi=[],b.index=r,b.componentProviders=0,_v(b,v,h&&!u),b}(v?Wb:$b,u.length,v,h,H);!v&&fn&&(u[$t].providerFactory=An),Qh(b,s,r.length,0),r.push(L),ie.directiveStart++,ie.directiveEnd++,v&&(ie.providerIndexes+=1048576),u.push(An),I.push(An)}else Qh(b,s,Ot>-1?Ot:$t,_v(u[v?$t:Ot],H,!v&&h));!v&&h&&fn&&u[$t].componentProviders++}}}function Qh(s,r,u,h){const v=Lr(r),b=function hy(s){return!!s.useClass}(r);if(v||b){const H=(b?F(r.useClass):r).prototype.ngOnDestroy;if(H){const ie=s.destroyHooks||(s.destroyHooks=[]);if(!v&&r.multi){const Se=ie.indexOf(u);-1===Se?ie.push(u,[h,H]):ie[Se+1].push(h,H)}else ie.push(u,H)}}}function _v(s,r,u){return u&&s.componentProviders++,s.multi.push(r)-1}function Gh(s,r,u,h){for(let v=u;v<h;v++)if(r[v]===s)return v;return-1}function $b(s,r,u,h){return zh(this.multi,[])}function Wb(s,r,u,h){const v=this.multi;let b;if(this.providerFactory){const I=this.providerFactory.componentProviders,L=Nn(u,u[1],this.providerFactory.index,h);b=L.slice(0,I),zh(v,b);for(let H=I;H<L.length;H++)b.push(L[H])}else b=[],zh(v,b);return b}function zh(s,r){for(let u=0;u<s.length;u++)r.push((0,s[u])());return r}function Yh(s,r=[]){return u=>{u.providersResolver=(h,v)=>function jb(s,r,u){const h=cn();if(h.firstCreatePass){const v=Ln(s);Wh(u,h.data,h.blueprint,v,!0),Wh(r,h.data,h.blueprint,v,!1)}}(h,v?v(s):s,r)}}class bc{}class Ud{}function Qb(s,r){return new yv(s,r??null)}class yv extends bc{constructor(r,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ph(this);const h=ri(r);this._bootstrapComponents=qa(h.bootstrap),this._r3Injector=zo(r,u,[{provide:bc,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],U(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Kh extends Ud{constructor(r){super(),this.moduleType=r}create(r){return new yv(this.moduleType,r)}}class zb extends bc{constructor(r,u,h){super(),this.componentFactoryResolver=new ph(this),this.instance=null;const v=new Em([...r,{provide:bc,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],u||Gu(),h,new Set(["environment"]));this.injector=v,v.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Zd(s,r,u=null){return new zb(s,r,u).injector}let Yb=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Tm(0,u.type),v=h.length>0?Zd([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,v)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=ct({token:s,providedIn:"environment",factory:()=>new s(Ns(Ml))}),s})();function Cv(s){s.getStandaloneInjector=r=>r.get(Yb).getOrCreateStandaloneInjector(s)}function Iv(s,r,u){const h=Si()+s,v=jt();return v[h]===Fn?Ea(v,h,u?r.call(u):r()):ru(v,h)}function Mv(s,r,u,h){return ef(jt(),Si(),s,r,u,h)}function Ov(s,r,u,h,v){return tf(jt(),Si(),s,r,u,h,v)}function Nv(s,r,u,h,v,b){return Lv(jt(),Si(),s,r,u,h,v,b)}function kv(s,r,u,h,v,b,I){return function Uv(s,r,u,h,v,b,I,L,H){const ie=r+u;return Yo(s,ie,v,b,I,L)?Ea(s,ie+4,H?h.call(H,v,b,I,L):h(v,b,I,L)):fu(s,ie+4)}(jt(),Si(),s,r,u,h,v,b,I)}function Rv(s,r,u,h,v,b,I,L){const H=Si()+s,ie=jt(),Se=Yo(ie,H,u,h,v,b);return mo(ie,H+4,I)||Se?Ea(ie,H+5,L?r.call(L,u,h,v,b,I):r(u,h,v,b,I)):ru(ie,H+5)}function Pv(s,r,u,h,v,b,I,L,H){const ie=Si()+s,Se=jt(),Ve=Yo(Se,ie,u,h,v,b);return Bl(Se,ie+4,I,L)||Ve?Ea(Se,ie+6,H?r.call(H,u,h,v,b,I,L):r(u,h,v,b,I,L)):ru(Se,ie+6)}function fu(s,r){const u=s[r];return u===Fn?void 0:u}function ef(s,r,u,h,v,b){const I=r+u;return mo(s,I,v)?Ea(s,I+1,b?h.call(b,v):h(v)):fu(s,I+1)}function tf(s,r,u,h,v,b,I){const L=r+u;return Bl(s,L,v,b)?Ea(s,L+2,I?h.call(I,v,b):h(v,b)):fu(s,L+2)}function Lv(s,r,u,h,v,b,I,L){const H=r+u;return function Cd(s,r,u,h,v){const b=Bl(s,r,u,h);return mo(s,r+2,v)||b}(s,H,v,b,I)?Ea(s,H+3,L?h.call(L,v,b,I):h(v,b,I)):fu(s,H+3)}function Fv(s,r){const u=cn();let h;const v=s+22;u.firstCreatePass?(h=function o0(s,r){if(r)for(let u=r.length-1;u>=0;u--){const h=r[u];if(s===h.name)return h}}(r,u.pipeRegistry),u.data[v]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(v,h.onDestroy)):h=u.data[v];const b=h.factory||(h.factory=Gi(h.type)),I=Mt(oc);try{const L=eo(!1),H=b();return eo(L),function ww(s,r,u,h){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),r[u]=h}(u,jt(),v,H),H}finally{Mt(I)}}function Bv(s,r,u){const h=s+22,v=jt(),b=xr(v,h);return mu(v,h)?ef(v,Si(),r,b.transform,u,b):b.transform(u)}function Vv(s,r,u,h){const v=s+22,b=jt(),I=xr(b,v);return mu(b,v)?tf(b,Si(),r,I.transform,u,h,I):I.transform(u,h)}function Hv(s,r,u,h,v){const b=s+22,I=jt(),L=xr(I,b);return mu(I,b)?Lv(I,Si(),r,L.transform,u,h,v,L):L.transform(u,h,v)}function mu(s,r){return s[1].data[r].pure}function sf(s){return r=>{setTimeout(s,void 0,r)}}const Na=class l0 extends a.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,u,h){let v=r,b=u||(()=>null),I=h;if(r&&"object"==typeof r){var L,H,ie;const Ve=r;v=null===(L=Ve.next)||void 0===L?void 0:L.bind(Ve),b=null===(H=Ve.error)||void 0===H?void 0:H.bind(Ve),I=null===(ie=Ve.complete)||void 0===ie?void 0:ie.bind(Ve)}this.__isAsync&&(b=sf(b),v&&(v=sf(v)),I&&(I=sf(I)));const Se=super.subscribe({next:v,error:b,complete:I});return r instanceof e.w0&&r.add(Se),Se}};function c0(){return this._results[Fl()]()}class rf{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Fl(),h=rf.prototype;h[u]||(h[u]=c0)}get changes(){return this._changes||(this._changes=new Na)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,u){return this._results.reduce(r,u)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,u){const h=this;h.dirty=!1;const v=Wr(r);(this._changesDetected=!function Fu(s,r,u){if(s.length!==r.length)return!1;for(let h=0;h<s.length;h++){let v=s[h],b=r[h];if(u&&(v=u(v),b=u(b)),b!==v)return!1}return!0}(h._results,v,u))&&(h._results=v,h.length=v.length,h.last=v[this.length-1],h.first=v[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gu=(()=>{class s{}return s.__NG_ELEMENT_ID__=p0,s})();const u0=gu,d0=class extends u0{constructor(r,u,h){super(),this._declarationLView=r,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(r,u){const h=this._declarationTContainer.tViews,v=dd(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,null,u||null);v[17]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[19];return null!==I&&(v[19]=I.createEmbeddedView(h)),nh(h,v,r),new nu(v)}};function p0(){return Bd(Zn(),jt())}function Bd(s,r){return 4&s.type?new d0(r,s,ic(s,r)):null}let af=(()=>{class s{}return s.__NG_ELEMENT_ID__=h0,s})();function h0(){return jv(Zn(),jt())}const f0=af,Jv=class extends f0{constructor(r,u,h){super(),this._lContainer=r,this._hostTNode=u,this._hostLView=h}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){const r=Fe(this._hostTNode,this._hostLView);if(co(r)){const u=Io(r,this._hostLView),h=ts(r);return new Co(u[1].data[h+8],u)}return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const u=qv(this._lContainer);return null!==u&&u[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,u,h){let v,b;"number"==typeof h?v=h:null!=h&&(v=h.index,b=h.injector);const I=r.createEmbeddedView(u||{},b);return this.insert(I,v),I}createComponent(r,u,h,v,b){const I=r&&!function Uo(s){return"function"==typeof s}(r);let L;if(I)L=u;else{const Ve=u||{};L=Ve.index,h=Ve.injector,v=Ve.projectableNodes,b=Ve.environmentInjector||Ve.ngModuleRef}const H=I?r:new iu(It(r)),ie=h||this.parentInjector;if(!b&&null==H.ngModule){const pt=(I?ie:this.parentInjector).get(Ml,null);pt&&(b=pt)}const Se=H.create(ie,v,void 0,b);return this.insert(Se.hostView,L),Se}insert(r,u){const h=r._lView,v=h[1];if(function Po(s){return Cs(s[3])}(h)){const Se=this.indexOf(r);if(-1!==Se)this.detach(Se);else{const Ve=h[3],pt=new Jv(Ve,Ve[6],Ve[3]);pt.detach(pt.indexOf(r))}}const b=this._adjustIndex(u),I=this._lContainer;!function rC(s,r,u,h){const v=10+h,b=u.length;h>0&&(u[v-1][4]=r),h<b-10?(r[4]=u[v],xi(u,10+h,r)):(u.push(r),r[4]=null),r[3]=u;const I=r[17];null!==I&&u!==I&&function oC(s,r){const u=s[9];r[16]!==r[3][3][16]&&(s[2]=!0),null===u?s[9]=[r]:u.push(r)}(I,r);const L=r[19];null!==L&&L.insertView(s),r[2]|=64}(v,h,I,b);const L=Zp(b,I),H=h[11],ie=Ku(H,I[7]);return null!==ie&&function nC(s,r,u,h,v,b){h[0]=v,h[6]=r,eu(s,h,u,1,v,b)}(v,I[6],H,h,ie,L),r.attachToViewContainerRef(),xi(lf(I),b,r),r}move(r,u){return this.insert(r,u)}indexOf(r){const u=qv(this._lContainer);return null!==u?u.indexOf(r):-1}remove(r){const u=this._adjustIndex(r,-1),h=Lp(this._lContainer,u);h&&(se(lf(this._lContainer),u),zm(h[1],h))}detach(r){const u=this._adjustIndex(r,-1),h=Lp(this._lContainer,u);return h&&null!=se(lf(this._lContainer),u)?new nu(h):null}_adjustIndex(r,u=0){return r??this.length+u}};function qv(s){return s[8]}function lf(s){return s[8]||(s[8]=[])}function jv(s,r){let u;const h=r[s.index];if(Cs(h))u=h;else{let v;if(8&s.type)v=li(h);else{const b=r[11];v=b.createComment("");const I=Ws(s,r);kl(b,Ku(b,I),v,function uC(s,r){return s.nextSibling(r)}(b,I),!1)}r[s.index]=u=Jg(h,r,v,s),md(r,u)}return new Jv(u,s,r)}class cf{constructor(r){this.queryList=r,this.matches=null}clone(){return new cf(this.queryList)}setDirty(){this.queryList.setDirty()}}class uf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const u=r.queries;if(null!==u){const h=null!==r.contentQueries?r.contentQueries[0]:u.length,v=[];for(let b=0;b<h;b++){const I=u.getByIndex(b);v.push(this.queries[I.indexInDeclarationView].clone())}return new uf(v)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let u=0;u<this.queries.length;u++)null!==Kv(r,u).matches&&this.queries[u].setDirty()}}class $v{constructor(r,u,h=null){this.predicate=r,this.flags=u,this.read=h}}class df{constructor(r=[]){this.queries=r}elementStart(r,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(r,u)}elementEnd(r){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(r)}embeddedTView(r){let u=null;for(let h=0;h<this.length;h++){const v=null!==u?u.length:0,b=this.getByIndex(h).embeddedTView(r,v);b&&(b.indexInDeclarationView=h,null!==u?u.push(b):u=[b])}return null!==u?new df(u):null}template(r,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(r,u)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class pf{constructor(r,u=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(r,u){this.isApplyingToNode(u)&&this.matchTNode(r,u)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,u){this.elementStart(r,u)}embeddedTView(r,u){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,u),new pf(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=r.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(r,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let v=0;v<h.length;v++){const b=h[v];this.matchTNodeWithReadOption(r,u,_0(u,b)),this.matchTNodeWithReadOption(r,u,hs(u,r,b,!1,!1))}else h===gu?4&u.type&&this.matchTNodeWithReadOption(r,u,-1):this.matchTNodeWithReadOption(r,u,hs(u,r,h,!1,!1))}matchTNodeWithReadOption(r,u,h){if(null!==h){const v=this.metadata.read;if(null!==v)if(v===Wc||v===af||v===gu&&4&u.type)this.addMatch(u.index,-2);else{const b=hs(u,r,v,!1,!1);null!==b&&this.addMatch(u.index,b)}else this.addMatch(u.index,h)}}addMatch(r,u){null===this.matches?this.matches=[r,u]:this.matches.push(r,u)}}function _0(s,r){const u=s.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===r)return u[h+1];return null}function y0(s,r,u,h){return-1===u?function v0(s,r){return 11&s.type?ic(s,r):4&s.type?Bd(s,r):null}(r,s):-2===u?function C0(s,r,u){return u===Wc?ic(r,s):u===gu?Bd(r,s):u===af?jv(r,s):void 0}(s,r,h):Nn(s,s[1],u,r)}function Vd(s,r,u,h){const v=r[19].queries[h];if(null===v.matches){const b=s.data,I=u.matches,L=[];for(let H=0;H<I.length;H+=2){const ie=I[H];L.push(ie<0?null:y0(r,b[ie],I[H+1],u.metadata.read))}v.matches=L}return v.matches}function Wv(s,r,u,h){const v=s.queries.getByIndex(u),b=v.matches;if(null!==b){const I=Vd(s,r,v,u);for(let L=0;L<b.length;L+=2){const H=b[L];if(H>0)h.push(I[L/2]);else{const ie=b[L+1],Se=r[-H];for(let Ve=10;Ve<Se.length;Ve++){const pt=Se[Ve];pt[17]===pt[3]&&Wv(pt[1],pt,ie,h)}if(null!==Se[9]){const Ve=Se[9];for(let pt=0;pt<Ve.length;pt++){const Ot=Ve[pt];Wv(Ot[1],Ot,ie,h)}}}}}return h}function hf(s){const r=jt(),u=cn(),h=Tn();Ui(h+1);const v=Kv(u,h);if(s.dirty&&function Ro(s){return 4==(4&s[2])}(r)===(2==(2&v.metadata.flags))){if(null===v.matches)s.reset([]);else{const b=v.crossesNgTemplate?Wv(u,r,h,[]):Vd(u,r,v,h);s.reset(b,Ay),s.notifyOnChanges()}return!0}return!1}function Qv(s,r,u){const h=cn();h.firstCreatePass&&(Yv(h,new $v(s,r,u),-1),2==(2&r)&&(h.staticViewQueries=!0)),zv(h,jt(),r)}function w0(s,r,u,h){const v=cn();if(v.firstCreatePass){const b=Zn();Yv(v,new $v(r,u,h),b.index),function b0(s,r){const u=s.contentQueries||(s.contentQueries=[]);r!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,r)}(v,s),2==(2&u)&&(v.staticContentQueries=!0)}zv(v,jt(),u)}function Gv(){return function Ko(s,r){return s[19].queries[r].queryList}(jt(),Tn())}function zv(s,r,u){const h=new rf(4==(4&u));Lg(s,r,h,h.destroy),null===r[19]&&(r[19]=new uf),r[19].queries.push(new cf(h))}function Yv(s,r,u){null===s.queries&&(s.queries=new df),s.queries.track(new pf(r,u))}function Kv(s,r){return s.queries.getByIndex(r)}function Xv(s,r){return Bd(s,r)}function wu(...s){}const gl=new Vi("Application Initializer");let jd=(()=>{class s{constructor(u){this.appInits=u,this.resolve=wu,this.reject=wu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,v)=>{this.resolve=h,this.reject=v})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let v=0;v<this.appInits.length;v++){const b=this.appInits[v]();if(Sh(b))u.push(b);else if(xh(b)){const I=new Promise((L,H)=>{b.subscribe({complete:L,error:H})});u.push(I)}}Promise.all(u).then(()=>{h()}).catch(v=>{this.reject(v)}),0===u.length&&h(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Ns(gl,8))},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bu=new Vi("AppId",{providedIn:"root",factory:function d1(){return`${Cr()}${Cr()}${Cr()}`}});function Cr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $d=new Vi("Platform Initializer"),P0=new Vi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),p1=new Vi("appBootstrapListener"),ka=new Vi("AnimationModuleType");let L0=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const go=new Vi("LocaleId",{providedIn:"root",factory:()=>Qo(go,Ct.Optional|Ct.SkipSelf)||function h1(){return typeof $localize<"u"&&$localize.locale||wc}()}),va=new Vi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Tu{constructor(r,u){this.ngModuleFactory=r,this.componentFactories=u}}let Mc=(()=>{class s{compileModuleSync(u){return new Kh(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),b=qa(ri(u).declarations).reduce((I,L)=>{const H=It(L);return H&&I.push(new iu(H)),I},[]);return new Tu(h,b)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Z0=(()=>Promise.resolve(0))();function xf(s){typeof Zone>"u"?Z0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ia{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const v=this;if(v._nesting=0,v._outer=v._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;v._inner=v._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!h&&u,v.shouldCoalesceRunChangeDetection=h,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function F0(){let s=D.requestAnimationFrame,r=D.cancelAnimationFrame;if(typeof Zone<"u"&&s&&r){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function H0(s){const r=()=>{!function V0(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(D,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ef(s),s.isCheckStableRunning=!0,Df(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ef(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,v,b,I,L)=>{try{return _1(s),u.invokeTask(v,b,I,L)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&r(),Vo(s)}},onInvoke:(u,h,v,b,I,L,H)=>{try{return _1(s),u.invoke(v,b,I,L,H)}finally{s.shouldCoalesceRunChangeDetection&&r(),Vo(s)}},onHasTask:(u,h,v,b)=>{u.hasTask(v,b),h===v&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,Ef(s),Df(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(u,h,v,b)=>(u.handleError(v,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ia.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(ia.isInAngularZone())throw new j(909,!1)}run(r,u,h){return this._inner.run(r,u,h)}runTask(r,u,h,v){const b=this._inner,I=b.scheduleEventTask("NgZoneEvent: "+v,r,B0,wu,wu);try{return b.runTask(I,u,h)}finally{b.cancelTask(I)}}runGuarded(r,u,h){return this._inner.runGuarded(r,u,h)}runOutsideAngular(r){return this._outer.run(r)}}const B0={};function Df(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ef(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function _1(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Vo(s){s._nesting--,Df(s)}class jl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(r,u,h){return r.apply(u,h)}runGuarded(r,u,h){return r.apply(u,h)}runOutsideAngular(r){return r()}runTask(r,u,h,v){return r.apply(u,h)}}const Ho=new Vi(""),Wd=new Vi("");let yl,_l=(()=>{class s{constructor(u,h,v){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yl||(function Qd(s){yl=s}(v),v.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ia.assertNotInAngularZone(),xf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xf(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,v){let b=-1;h&&h>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==b),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:b,updateCb:v})}whenStable(u,h,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,v){return[]}}return s.\u0275fac=function(u){return new(u||s)(Ns(ia),Ns(vl),Ns(Wd))},s.\u0275prov=ct({token:s,factory:s.\u0275fac}),s})(),vl=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){var v,b;return null!==(v=null===(b=yl)||void 0===b?void 0:b.findTestabilityInTree(this,u,h))&&void 0!==v?v:null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Pa=null;const If=new Vi("AllowMultipleToken"),Cl=new Vi("PlatformDestroyListeners");class J0{constructor(r,u){this.name=r,this.token=u}}function Nc(s,r,u=[]){const h=`Platform: ${r}`,v=new Vi(h);return(b=[])=>{let I=$l();if(!I||I.injector.get(If,!1)){const L=[...u,...b,{provide:v,useValue:!0}];s?s(L):function La(s){if(Pa&&!Pa.get(If,!1))throw new j(400,!1);Pa=s;const r=s.get(Nf);(function zd(s){const r=s.get($d,null);r&&r.forEach(u=>u())})(s)}(function Of(s=[],r){return Zl.create({name:r,providers:[{provide:Dm,useValue:"platform"},{provide:Cl,useValue:new Set([()=>Pa=null])},...s]})}(L,h))}return function j0(s){const r=$l();if(!r)throw new j(401,!1);return r}()}}function $l(){var s,r;return null!==(s=null===(r=Pa)||void 0===r?void 0:r.get(Nf))&&void 0!==s?s:null}let Nf=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const v=function v1(s,r){let u;return u="noop"===s?new jl:("zone.js"===s?void 0:s)||new ia(r),u}(h?.ngZone,function Yd(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),b=[{provide:ia,useValue:v}];return v.run(()=>{const I=Zl.create({providers:b,parent:this.injector,name:u.moduleType.name}),L=u.create(I),H=L.injector.get(Ol,null);if(!H)throw new j(402,!1);return v.runOutsideAngular(()=>{const ie=v.onError.subscribe({next:Se=>{H.handleError(Se)}});L.onDestroy(()=>{Ya(this._modules,L),ie.unsubscribe()})}),function kf(s,r,u){try{const h=u();return Sh(h)?h.catch(v=>{throw r.runOutsideAngular(()=>s.handleError(v)),v}):h}catch(h){throw r.runOutsideAngular(()=>s.handleError(h)),h}}(H,v,()=>{const ie=L.injector.get(jd);return ie.runInitializers(),ie.donePromise.then(()=>(Fh(L.injector.get(go,wc)||wc),this._moduleDoBootstrap(L),L))})})}bootstrapModule(u,h=[]){const v=y1({},h);return function Mf(s,r,u){const h=new Kh(u);return Promise.resolve(h)}(0,0,u).then(b=>this.bootstrapModuleFactory(b,v))}_moduleDoBootstrap(u){const h=u.injector.get(Kd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(v=>h.bootstrap(v));else{if(!u.instance.ngDoBootstrap)throw new j(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Cl,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Ns(Zl))},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function y1(s,r){return Array.isArray(r)?r.reduce(y1,s):{...s,...r}}let Kd=(()=>{class s{constructor(u,h,v){this._zone=u,this._injector=h,this._exceptionHandler=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new C.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),I=new C.y(L=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{ia.assertNotInAngularZone(),xf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const ie=this._zone.onUnstable.subscribe(()=>{ia.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{H.unsubscribe(),ie.unsubscribe()}});this.isStable=(0,x.T)(b,I.pipe((0,T.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const v=u instanceof Om;if(!this._injector.get(jd).done)throw!v&&Xn(u),new j(405,false);let I;I=v?u:this._injector.get($c).resolveComponentFactory(u),this.componentTypes.push(I.componentType);const L=function za(s){return s.isBoundToModule}(I)?void 0:this._injector.get(bc),ie=I.create(Zl.NULL,[],h||I.selector,L),Se=ie.location.nativeElement,Ve=ie.injector.get(Ho,null);return Ve?.registerApplication(Se),ie.onDestroy(()=>{this.detachView(ie.hostView),Ya(this.components,ie),Ve?.unregisterApplication(Se)}),this._loadComponent(ie),ie}tick(){if(this._runningTick)throw new j(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Ya(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(p1,[]).concat(this._bootstrapListeners).forEach(v=>v(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Ya(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new j(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Ns(ia),Ns(Ml),Ns(Ol))},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ya(s,r){const u=s.indexOf(r);u>-1&&s.splice(u,1)}let Rf=!0,Pf=!1;function w1(){return Pf=!0,Rf}function Lf(){if(Pf)throw new Error("Cannot enable prod mode after platform setup.");Rf=!1}let $0=(()=>{class s{}return s.__NG_ELEMENT_ID__=W0,s})();function W0(s){return function Su(s,r,u){if(Br(s)&&!u){const h=hi(s.index,r);return new nu(h,h)}return 47&s.type?new nu(r[16],r):null}(Zn(),jt(),16==(16&s))}class xu{constructor(){}supports(r){return su(r)}create(r){return new tT(r)}}const eT=(s,r)=>r;class tT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||eT}forEachItem(r){let u;for(u=this._itHead;null!==u;u=u._next)r(u)}forEachOperation(r){let u=this._itHead,h=this._removalsHead,v=0,b=null;for(;u||h;){const I=!h||u&&u.currentIndex<E1(h,v,b)?u:h,L=E1(I,v,b),H=I.currentIndex;if(I===h)v--,h=h._nextRemoved;else if(u=u._next,null==I.previousIndex)v++;else{b||(b=[]);const ie=L-v,Se=H-v;if(ie!=Se){for(let pt=0;pt<ie;pt++){const Ot=pt<b.length?b[pt]:b[pt]=0,$t=Ot+pt;Se<=$t&&$t<ie&&(b[pt]=Ot+1)}b[I.previousIndex]=Se-ie}}L!==H&&r(I,L,H)}}forEachPreviousItem(r){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)r(u)}forEachAddedItem(r){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)r(u)}forEachMovedItem(r){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)r(u)}forEachRemovedItem(r){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)r(u)}forEachIdentityChange(r){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)r(u)}diff(r){if(null==r&&(r=[]),!su(r))throw new j(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let v,b,I,u=this._itHead,h=!1;if(Array.isArray(r)){this.length=r.length;for(let L=0;L<this.length;L++)b=r[L],I=this._trackByFn(L,b),null!==u&&Object.is(u.trackById,I)?(h&&(u=this._verifyReinsertion(u,b,I,L)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,I,L),h=!0),u=u._next}else v=0,function yw(s,r){if(Array.isArray(s))for(let u=0;u<s.length;u++)r(s[u]);else{const u=s[Fl()]();let h;for(;!(h=u.next()).done;)r(h.value)}}(r,L=>{I=this._trackByFn(v,L),null!==u&&Object.is(u.trackById,I)?(h&&(u=this._verifyReinsertion(u,L,I,v)),Object.is(u.item,L)||this._addIdentityChange(u,L)):(u=this._mismatch(u,L,I,v),h=!0),u=u._next,v++}),this.length=v;return this._truncate(u),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,u,h,v){let b;return null===r?b=this._itTail:(b=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(r.item,u)||this._addIdentityChange(r,u),this._reinsertAfter(r,b,v)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(h,v))?(Object.is(r.item,u)||this._addIdentityChange(r,u),this._moveAfter(r,b,v)):r=this._addAfter(new nT(u,h),b,v),r}_verifyReinsertion(r,u,h,v){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==b?r=this._reinsertAfter(b,r._prev,v):r.currentIndex!=v&&(r.currentIndex=v,this._addToMoves(r,v)),r}_truncate(r){for(;null!==r;){const u=r._next;this._addToRemovals(this._unlink(r)),r=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const v=r._prevRemoved,b=r._nextRemoved;return null===v?this._removalsHead=b:v._nextRemoved=b,null===b?this._removalsTail=v:b._prevRemoved=v,this._insertAfter(r,u,h),this._addToMoves(r,h),r}_moveAfter(r,u,h){return this._unlink(r),this._insertAfter(r,u,h),this._addToMoves(r,h),r}_addAfter(r,u,h){return this._insertAfter(r,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,u,h){const v=null===u?this._itHead:u._next;return r._next=v,r._prev=u,null===v?this._itTail=r:v._prev=r,null===u?this._itHead=r:u._next=r,null===this._linkedRecords&&(this._linkedRecords=new D1),this._linkedRecords.put(r),r.currentIndex=h,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const u=r._prev,h=r._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,r}_addToMoves(r,u){return r.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new D1),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,u){return r.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class nT{constructor(r,u){this.item=r,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,r))return h;return null}remove(r){const u=r._prevDup,h=r._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class D1{constructor(){this.map=new Map}put(r){const u=r.trackById;let h=this.map.get(u);h||(h=new iT,this.map.set(u,h)),h.add(r)}get(r,u){const v=this.map.get(r);return v?v.get(r,u):null}remove(r){const u=r.trackById;return this.map.get(u).remove(r)&&this.map.delete(u),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E1(s,r,u){const h=s.previousIndex;if(null===h)return h;let v=0;return u&&h<u.length&&(v=u[h]),h+r+v}class Vf{constructor(){}supports(r){return r instanceof Map||vh(r)}create(){return new sT}}class sT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let u;for(u=this._mapHead;null!==u;u=u._next)r(u)}forEachPreviousItem(r){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)r(u)}forEachChangedItem(r){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)r(u)}forEachAddedItem(r){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)r(u)}forEachRemovedItem(r){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)r(u)}diff(r){if(r){if(!(r instanceof Map||vh(r)))throw new j(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(r,(h,v)=>{if(u&&u.key===v)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const b=this._getOrCreateRecordForKey(v,h);u=this._insertBeforeOrAppend(u,b)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,u){if(r){const h=r._prev;return u._next=r,u._prev=h,r._prev=u,h&&(h._next=u),r===this._mapHead&&(this._mapHead=u),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(r,u){if(this._records.has(r)){const v=this._records.get(r);this._maybeAddToChanges(v,u);const b=v._prev,I=v._next;return b&&(b._next=I),I&&(I._prev=b),v._next=null,v._prev=null,v}const h=new rT(r);return this._records.set(r,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,u){Object.is(u,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=u,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,u){r instanceof Map?r.forEach(u):Object.keys(r).forEach(h=>u(r[h],h))}}class rT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function I1(){return new Hf([new xu])}let Hf=(()=>{class s{constructor(u){this.factories=u}static create(u,h){if(null!=h){const v=h.factories.slice();u=u.concat(v)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||I1()),deps:[[s,new Zc,new da]]}}find(u){const h=this.factories.find(v=>v.supports(u));if(null!=h)return h;throw new j(901,!1)}}return s.\u0275prov=ct({token:s,providedIn:"root",factory:I1}),s})();function M1(){return new Jf([new Vf])}let Jf=(()=>{class s{constructor(u){this.factories=u}static create(u,h){if(h){const v=h.factories.slice();u=u.concat(v)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||M1()),deps:[[s,new Zc,new da]]}}find(u){const h=this.factories.find(v=>v.supports(u));if(h)return h;throw new j(901,!1)}}return s.\u0275prov=ct({token:s,providedIn:"root",factory:M1}),s})();const lT=Nc(null,"core",[]);let cT=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Ns(Kd))},s.\u0275mod=En({type:s}),s.\u0275inj=ut({}),s})();function uT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function hS(s,r){const u=It(s),h=r.elementInjector||Gu();return new iu(u).create(h,r.projectableNodes,r.hostElement,r.environmentInjector)}},4006:(it,oe,g)=>{"use strict";g.d(oe,{Cf:()=>ve,EJ:()=>zi,F:()=>Ii,Fj:()=>G,JJ:()=>Ct,JL:()=>nt,JU:()=>U,Kr:()=>Es,On:()=>Us,Q7:()=>Jr,QS:()=>Ms,UX:()=>fi,Wl:()=>y,YN:()=>Xs,_:()=>hr,_Y:()=>ar,a5:()=>Ge,kI:()=>re,nD:()=>oi,p4:()=>Qi,qQ:()=>Do,qu:()=>cn,sg:()=>ui,u:()=>is,u5:()=>Dr,wO:()=>tr,wV:()=>Ji,x0:()=>xs});var a=g(4650),e=g(6895),C=g(2076),x=g(4128),T=g(4004);let S=(()=>{class ee{constructor(N,Te){this._renderer=N,this._elementRef=Te,this.onChange=kt=>{},this.onTouched=()=>{}}setProperty(N,Te){this._renderer.setProperty(this._elementRef.nativeElement,N,Te)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(a.Qsj),a.Y36(a.SBq))},ee.\u0275dir=a.lG2({type:ee}),ee})(),_=(()=>{class ee extends S{}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,features:[a.qOj]}),ee})();const U=new a.OlP("NgValueAccessor"),R={provide:U,useExisting:(0,a.Gpc)(()=>y),multi:!0};let y=(()=>{class ee extends _{writeValue(N){this.setProperty("checked",N)}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(N,Te){1&N&&a.NdJ("change",function(pn){return Te.onChange(pn.target.checked)})("blur",function(){return Te.onTouched()})},features:[a._Bn([R]),a.qOj]}),ee})();const B={provide:U,useExisting:(0,a.Gpc)(()=>G),multi:!0},K=new a.OlP("CompositionEventMode");let G=(()=>{class ee extends S{constructor(N,Te,kt){super(N,Te),this._compositionMode=kt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F(){const ee=(0,e.q)()?(0,e.q)().getUserAgent():"";return/android (\d+)/.test(ee.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(K,8))},ee.\u0275dir=a.lG2({type:ee,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,Te){1&N&&a.NdJ("input",function(pn){return Te._handleInput(pn.target.value)})("blur",function(){return Te.onTouched()})("compositionstart",function(){return Te._compositionStart()})("compositionend",function(pn){return Te._compositionEnd(pn.target.value)})},features:[a._Bn([B]),a.qOj]}),ee})();function le(ee){return null==ee||("string"==typeof ee||Array.isArray(ee))&&0===ee.length}function Ee(ee){return null!=ee&&"number"==typeof ee.length}const ve=new a.OlP("NgValidators"),ye=new a.OlP("NgAsyncValidators"),we=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class re{static min(J){return ce(J)}static max(J){return function Ie(ee){return J=>{if(le(J.value)||le(ee))return null;const N=parseFloat(J.value);return!isNaN(N)&&N>ee?{max:{max:ee,actual:J.value}}:null}}(J)}static required(J){return ke(J)}static requiredTrue(J){return function Ae(ee){return!0===ee.value?null:{required:!0}}(J)}static email(J){return function Ze(ee){return le(ee.value)||we.test(ee.value)?null:{email:!0}}(J)}static minLength(J){return me(J)}static maxLength(J){return he(J)}static pattern(J){return function Y(ee){if(!ee)return Me;let J,N;return"string"==typeof ee?(N="","^"!==ee.charAt(0)&&(N+="^"),N+=ee,"$"!==ee.charAt(ee.length-1)&&(N+="$"),J=new RegExp(N)):(N=ee.toString(),J=ee),Te=>{if(le(Te.value))return null;const kt=Te.value;return J.test(kt)?null:{pattern:{requiredPattern:N,actualValue:kt}}}}(J)}static nullValidator(J){return null}static compose(J){return $(J)}static composeAsync(J){return De(J)}}function ce(ee){return J=>{if(le(J.value)||le(ee))return null;const N=parseFloat(J.value);return!isNaN(N)&&N<ee?{min:{min:ee,actual:J.value}}:null}}function ke(ee){return le(ee.value)?{required:!0}:null}function me(ee){return J=>le(J.value)||!Ee(J.value)?null:J.value.length<ee?{minlength:{requiredLength:ee,actualLength:J.value.length}}:null}function he(ee){return J=>Ee(J.value)&&J.value.length>ee?{maxlength:{requiredLength:ee,actualLength:J.value.length}}:null}function Me(ee){return null}function fe(ee){return null!=ee}function xe(ee){return(0,a.QGY)(ee)?(0,C.D)(ee):ee}function Ue(ee){let J={};return ee.forEach(N=>{J=null!=N?{...J,...N}:J}),0===Object.keys(J).length?null:J}function et(ee,J){return J.map(N=>N(ee))}function mt(ee){return ee.map(J=>function Qe(ee){return!ee.validate}(J)?J:N=>J.validate(N))}function $(ee){if(!ee)return null;const J=ee.filter(fe);return 0==J.length?null:function(N){return Ue(et(N,J))}}function be(ee){return null!=ee?$(mt(ee)):null}function De(ee){if(!ee)return null;const J=ee.filter(fe);return 0==J.length?null:function(N){const Te=et(N,J).map(xe);return(0,x.D)(Te).pipe((0,T.U)(Ue))}}function qe(ee){return null!=ee?De(mt(ee)):null}function ct(ee,J){return null===ee?[J]:Array.isArray(ee)?[...ee,J]:[ee,J]}function $e(ee){return ee._rawValidators}function ut(ee){return ee._rawAsyncValidators}function Vt(ee){return ee?Array.isArray(ee)?ee:[ee]:[]}function sn(ee,J){return Array.isArray(ee)?ee.includes(J):ee===J}function rn(ee,J){const N=Vt(J);return Vt(ee).forEach(kt=>{sn(N,kt)||N.push(kt)}),N}function Cn(ee,J){return Vt(J).filter(N=>!sn(ee,N))}class vt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=be(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J){this.control&&this.control.reset(J)}hasError(J,N){return!!this.control&&this.control.hasError(J,N)}getError(J,N){return this.control?this.control.getError(J,N):null}}class At extends vt{get formDirective(){return null}get path(){return null}}class Ge extends vt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xt{constructor(J){this._cd=J}get isTouched(){var J,N;return!(null===(J=this._cd)||void 0===J||null===(N=J.control)||void 0===N||!N.touched)}get isUntouched(){var J,N;return!(null===(J=this._cd)||void 0===J||null===(N=J.control)||void 0===N||!N.untouched)}get isPristine(){var J,N;return!(null===(J=this._cd)||void 0===J||null===(N=J.control)||void 0===N||!N.pristine)}get isDirty(){var J,N;return!(null===(J=this._cd)||void 0===J||null===(N=J.control)||void 0===N||!N.dirty)}get isValid(){var J,N;return!(null===(J=this._cd)||void 0===J||null===(N=J.control)||void 0===N||!N.valid)}get isInvalid(){var J,N;return!(null===(J=this._cd)||void 0===J||null===(N=J.control)||void 0===N||!N.invalid)}get isPending(){var J,N;return!(null===(J=this._cd)||void 0===J||null===(N=J.control)||void 0===N||!N.pending)}get isSubmitted(){var J;return!(null===(J=this._cd)||void 0===J||!J.submitted)}}let Ct=(()=>{class ee extends xt{constructor(N){super(N)}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(Ge,2))},ee.\u0275dir=a.lG2({type:ee,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,Te){2&N&&a.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)},features:[a.qOj]}),ee})(),nt=(()=>{class ee extends xt{constructor(N){super(N)}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(At,10))},ee.\u0275dir=a.lG2({type:ee,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,Te){2&N&&a.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)("ng-submitted",Te.isSubmitted)},features:[a.qOj]}),ee})();const Qt="VALID",Yt="INVALID",je="PENDING",qt="DISABLED";function rt(ee){return(yn(ee)?ee.validators:ee)||null}function Lt(ee){return Array.isArray(ee)?be(ee):ee||null}function Gt(ee,J){return(yn(J)?J.asyncValidators:ee)||null}function En(ee){return Array.isArray(ee)?qe(ee):ee||null}function yn(ee){return null!=ee&&!Array.isArray(ee)&&"object"==typeof ee}function si(ee,J,N){const Te=ee.controls;if(!(J?Object.keys(Te):Te).length)throw new a.vHH(1e3,"");if(!Te[N])throw new a.vHH(1001,"")}function Ti(ee,J,N){ee._forEachChild((Te,kt)=>{if(void 0===N[kt])throw new a.vHH(1002,"")})}class Ni{constructor(J,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=J,this._rawAsyncValidators=N,this._composedValidatorFn=Lt(this._rawValidators),this._composedAsyncValidatorFn=En(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===Qt}get invalid(){return this.status===Yt}get pending(){return this.status==je}get disabled(){return this.status===qt}get enabled(){return this.status!==qt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._rawValidators=J,this._composedValidatorFn=Lt(J)}setAsyncValidators(J){this._rawAsyncValidators=J,this._composedAsyncValidatorFn=En(J)}addValidators(J){this.setValidators(rn(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(rn(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Cn(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Cn(J,this._rawAsyncValidators))}hasValidator(J){return sn(this._rawValidators,J)}hasAsyncValidator(J){return sn(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=je,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const N=this._parentMarkedDirty(J.onlySelf);this.status=qt,this.errors=null,this._forEachChild(Te=>{Te.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:N}),this._onDisabledChange.forEach(Te=>Te(!0))}enable(J={}){const N=this._parentMarkedDirty(J.onlySelf);this.status=Qt,this._forEachChild(Te=>{Te.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:N}),this._onDisabledChange.forEach(Te=>Te(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qt||this.status===je)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qt:Qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=je,this._hasOwnPendingAsyncValidator=!0;const N=xe(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(Te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Te,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,N={}){this.errors=J,this._updateControlsErrors(!1!==N.emitEvent)}get(J){let N=J;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((Te,kt)=>Te&&Te._find(kt),this)}getError(J,N){const Te=N?this.get(N):this;return Te&&Te.errors?Te.errors[J]:null}hasError(J,N){return!!this.getError(J,N)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?qt:this.errors?Yt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(je)?je:this._anyControlsHaveStatus(Yt)?Yt:Qt}_anyControlsHaveStatus(J){return this._anyControls(N=>N.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){yn(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}}class It extends Ni{constructor(J,N,Te){super(rt(N),Gt(Te,N)),this.controls=J,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,N){return this.controls[J]?this.controls[J]:(this.controls[J]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(J,N,Te={}){this.registerControl(J,N),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}removeControl(J,N={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(J,N,Te={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],N&&this.registerControl(J,N),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,N={}){Ti(this,0,J),Object.keys(J).forEach(Te=>{si(this,!0,Te),this.controls[Te].setValue(J[Te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(J,N={}){null!=J&&(Object.keys(J).forEach(Te=>{const kt=this.controls[Te];kt&&kt.patchValue(J[Te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(J={},N={}){this._forEachChild((Te,kt)=>{Te.reset(J[kt],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(J,N,Te)=>(J[Te]=N.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(N,Te)=>!!Te._syncPendingControls()||N);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(N=>{const Te=this.controls[N];Te&&J(Te,N)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[N,Te]of Object.entries(this.controls))if(this.contains(N)&&J(Te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,Te,kt)=>((Te.enabled||this.disabled)&&(N[kt]=Te.value),N))}_reduceChildren(J,N){let Te=J;return this._forEachChild((kt,pn)=>{Te=N(Te,kt,pn)}),Te}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class Xn extends It{}function ai(ee,J){return[...J.path,ee]}function Je(ee,J){var N,Te;Ft(ee,J),J.valueAccessor.writeValue(ee.value),ee.disabled&&(null===(N=(Te=J.valueAccessor).setDisabledState)||void 0===N||N.call(Te,!0)),function Rt(ee,J){J.valueAccessor.registerOnChange(N=>{ee._pendingValue=N,ee._pendingChange=!0,ee._pendingDirty=!0,"change"===ee.updateOn&&Ai(ee,J)})}(ee,J),function ys(ee,J){const N=(Te,kt)=>{J.valueAccessor.writeValue(Te),kt&&J.viewToModelUpdate(Te)};ee.registerOnChange(N),J._registerOnDestroy(()=>{ee._unregisterOnChange(N)})}(ee,J),function wn(ee,J){J.valueAccessor.registerOnTouched(()=>{ee._pendingTouched=!0,"blur"===ee.updateOn&&ee._pendingChange&&Ai(ee,J),"submit"!==ee.updateOn&&ee.markAsTouched()})}(ee,J),function yt(ee,J){if(J.valueAccessor.setDisabledState){const N=Te=>{J.valueAccessor.setDisabledState(Te)};ee.registerOnDisabledChange(N),J._registerOnDestroy(()=>{ee._unregisterOnDisabledChange(N)})}}(ee,J)}function Xe(ee,J,N=!0){const Te=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(Te),J.valueAccessor.registerOnTouched(Te)),an(ee,J),ee&&(J._invokeOnDestroyCallbacks(),ee._registerOnCollectionChange(()=>{}))}function Be(ee,J){ee.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(J)})}function Ft(ee,J){const N=$e(ee);null!==J.validator?ee.setValidators(ct(N,J.validator)):"function"==typeof N&&ee.setValidators([N]);const Te=ut(ee);null!==J.asyncValidator?ee.setAsyncValidators(ct(Te,J.asyncValidator)):"function"==typeof Te&&ee.setAsyncValidators([Te]);const kt=()=>ee.updateValueAndValidity();Be(J._rawValidators,kt),Be(J._rawAsyncValidators,kt)}function an(ee,J){let N=!1;if(null!==ee){if(null!==J.validator){const kt=$e(ee);if(Array.isArray(kt)&&kt.length>0){const pn=kt.filter(yi=>yi!==J.validator);pn.length!==kt.length&&(N=!0,ee.setValidators(pn))}}if(null!==J.asyncValidator){const kt=ut(ee);if(Array.isArray(kt)&&kt.length>0){const pn=kt.filter(yi=>yi!==J.asyncValidator);pn.length!==kt.length&&(N=!0,ee.setAsyncValidators(pn))}}}const Te=()=>{};return Be(J._rawValidators,Te),Be(J._rawAsyncValidators,Te),N}function Ai(ee,J){ee._pendingDirty&&ee.markAsDirty(),ee.setValue(ee._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1}function mn(ee,J){Ft(ee,J)}function kn(ee,J){if(!ee.hasOwnProperty("model"))return!1;const N=ee.model;return!!N.isFirstChange()||!Object.is(J,N.currentValue)}function qs(ee,J){ee._syncPendingControls(),J.forEach(N=>{const Te=N.control;"submit"===Te.updateOn&&Te._pendingChange&&(N.viewToModelUpdate(Te._pendingValue),Te._pendingChange=!1)})}function As(ee,J){if(!J)return null;let N,Te,kt;return Array.isArray(J),J.forEach(pn=>{pn.constructor===G?N=pn:function Ys(ee){return Object.getPrototypeOf(ee.constructor)===_}(pn)?Te=pn:kt=pn}),kt||Te||N||null}const Ss={provide:At,useExisting:(0,a.Gpc)(()=>Ii)},Ps=(()=>Promise.resolve())();let Ii=(()=>{class ee extends At{constructor(N,Te){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new It({},be(N),qe(Te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){Ps.then(()=>{const Te=this._findContainer(N.path);N.control=Te.registerControl(N.name,N.control),Je(N.control,N),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){Ps.then(()=>{const Te=this._findContainer(N.path);Te&&Te.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){Ps.then(()=>{const Te=this._findContainer(N.path),kt=new It({});mn(kt,N),Te.registerControl(N.name,kt),kt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){Ps.then(()=>{const Te=this._findContainer(N.path);Te&&Te.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,Te){Ps.then(()=>{this.form.get(N.path).setValue(Te)})}setValue(N){this.control.setValue(N)}onSubmit(N){var Te;return this.submitted=!0,qs(this.form,this._directives),this.ngSubmit.emit(N),"dialog"===(null==N||null===(Te=N.target)||void 0===Te?void 0:Te.method)}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(ve,10),a.Y36(ye,10))},ee.\u0275dir=a.lG2({type:ee,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(N,Te){1&N&&a.NdJ("submit",function(pn){return Te.onSubmit(pn)})("reset",function(){return Te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Ss]),a.qOj]}),ee})();function sr(ee,J){const N=ee.indexOf(J);N>-1&&ee.splice(N,1)}function Ls(ee){return"object"==typeof ee&&null!==ee&&2===Object.keys(ee).length&&"value"in ee&&"disabled"in ee}const js=class extends Ni{constructor(J=null,N,Te){super(rt(N),Gt(Te,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yn(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=Ls(J)?J.value:J)}setValue(J,N={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(Te=>Te(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(J,N={}){this.setValue(J,N)}reset(J=this.defaultValue,N={}){this._applyFormState(J),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){sr(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){sr(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){Ls(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}},Qi=js;let $s=(()=>{class ee extends At{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ai(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,features:[a.qOj]}),ee})();const rr={provide:Ge,useExisting:(0,a.Gpc)(()=>Us)},or=(()=>Promise.resolve())();let Us=(()=>{class ee extends Ge{constructor(N,Te,kt,pn,yi){super(),this._changeDetectorRef=yi,this.control=new js,this._registered=!1,this.update=new a.vpe,this._parent=N,this._setValidators(Te),this._setAsyncValidators(kt),this.valueAccessor=As(0,pn)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const Te=N.name.previousValue;this.formDirective.removeControl({name:Te,path:this._getPath(Te)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),kn(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Je(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){or.then(()=>{var Te;this.control.setValue(N,{emitViewToModelChange:!1}),null===(Te=this._changeDetectorRef)||void 0===Te||Te.markForCheck()})}_updateDisabled(N){const Te=N.isDisabled.currentValue,kt=0!==Te&&(0,a.D6c)(Te);or.then(()=>{var pn;kt&&!this.control.disabled?this.control.disable():!kt&&this.control.disabled&&this.control.enable(),null===(pn=this._changeDetectorRef)||void 0===pn||pn.markForCheck()})}_getPath(N){return this._parent?ai(N,this._parent):[N]}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(At,9),a.Y36(ve,10),a.Y36(ye,10),a.Y36(U,10),a.Y36(a.sBO,8))},ee.\u0275dir=a.lG2({type:ee,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([rr]),a.qOj,a.TTD]}),ee})(),ar=(()=>{class ee{}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275dir=a.lG2({type:ee,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ee})();const ao={provide:U,useExisting:(0,a.Gpc)(()=>Ji),multi:!0};let Ji=(()=>{class ee extends _{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=Te=>{N(""==Te?null:parseFloat(Te))}}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(N,Te){1&N&&a.NdJ("input",function(pn){return Te.onChange(pn.target.value)})("blur",function(){return Te.onTouched()})},features:[a._Bn([ao]),a.qOj]}),ee})();const ws={provide:U,useExisting:(0,a.Gpc)(()=>hr),multi:!0};let Vr=(()=>{class ee{}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275mod=a.oAB({type:ee}),ee.\u0275inj=a.cJS({}),ee})(),xo=(()=>{class ee{constructor(){this._accessors=[]}add(N,Te){this._accessors.push([N,Te])}remove(N){for(let Te=this._accessors.length-1;Te>=0;--Te)if(this._accessors[Te][1]===N)return void this._accessors.splice(Te,1)}select(N){this._accessors.forEach(Te=>{this._isSameGroup(Te,N)&&Te[1]!==N&&Te[1].fireUncheck(N.value)})}_isSameGroup(N,Te){return!!N[0].control&&N[0]._parent===Te._control._parent&&N[1].name===Te.name}}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275prov=a.Yz7({token:ee,factory:ee.\u0275fac,providedIn:Vr}),ee})(),hr=(()=>{class ee extends _{constructor(N,Te,kt,pn){super(N,Te),this._registry=kt,this._injector=pn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ge),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(N){this._state=N===this.value,this.setProperty("checked",this._state)}registerOnChange(N){this._fn=N,this.onChange=()=>{N(this.value),this._registry.select(this)}}fireUncheck(N){this.writeValue(N)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(xo),a.Y36(a.zs3))},ee.\u0275dir=a.lG2({type:ee,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(N,Te){1&N&&a.NdJ("change",function(){return Te.onChange()})("blur",function(){return Te.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a._Bn([ws]),a.qOj]}),ee})();const Tr=new a.OlP("NgModelWithFormControlWarning"),bs={provide:At,useExisting:(0,a.Gpc)(()=>ui)};let ui=(()=>{class ee extends At{constructor(N,Te){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(N),this._setAsyncValidators(Te)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(an(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const Te=this.form.get(N.path);return Je(Te,N),Te.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),Te}getControl(N){return this.form.get(N.path)}removeControl(N){Xe(N.control||null,N,!1),function wr(ee,J){const N=ee.indexOf(J);N>-1&&ee.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,Te){this.form.get(N.path).setValue(Te)}onSubmit(N){var Te;return this.submitted=!0,qs(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===(null==N||null===(Te=N.target)||void 0===Te?void 0:Te.method)}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const Te=N.control,kt=this.form.get(N.path);Te!==kt&&(Xe(Te||null,N),(ee=>ee instanceof js)(kt)&&(Je(kt,N),N.control=kt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const Te=this.form.get(N.path);mn(Te,N),Te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const Te=this.form.get(N.path);Te&&function vi(ee,J){return an(ee,J)}(Te,N)&&Te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ft(this.form,this),this._oldForm&&an(this._oldForm,this)}_checkFormPresent(){}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(ve,10),a.Y36(ye,10))},ee.\u0275dir=a.lG2({type:ee,selectors:[["","formGroup",""]],hostBindings:function(N,Te){1&N&&a.NdJ("submit",function(pn){return Te.onSubmit(pn)})("reset",function(){return Te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([bs]),a.qOj,a.TTD]}),ee})();const di={provide:At,useExisting:(0,a.Gpc)(()=>xs)};let xs=(()=>{class ee extends $s{constructor(N,Te,kt){super(),this._parent=N,this._setValidators(Te),this._setAsyncValidators(kt)}_checkParentType(){bn(this._parent)}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(At,13),a.Y36(ve,10),a.Y36(ye,10))},ee.\u0275dir=a.lG2({type:ee,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([di]),a.qOj]}),ee})();const Sn={provide:At,useExisting:(0,a.Gpc)(()=>Ar)};let Ar=(()=>{class ee extends At{constructor(N,Te,kt){super(),this._parent=N,this._setValidators(Te),this._setAsyncValidators(kt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ai(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){bn(this._parent)}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(At,13),a.Y36(ve,10),a.Y36(ye,10))},ee.\u0275dir=a.lG2({type:ee,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([Sn]),a.qOj]}),ee})();function bn(ee){return!(ee instanceof xs||ee instanceof ui||ee instanceof Ar)}const Gi={provide:Ge,useExisting:(0,a.Gpc)(()=>is)};let is=(()=>{class ee extends Ge{constructor(N,Te,kt,pn,yi){super(),this._ngModelWarningConfig=yi,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(Te),this._setAsyncValidators(kt),this.valueAccessor=As(0,pn)}set isDisabled(N){}ngOnChanges(N){this._added||this._setUpControl(),kn(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return ai(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return ee._ngModelWarningSentOnce=!1,ee.\u0275fac=function(N){return new(N||ee)(a.Y36(At,13),a.Y36(ve,10),a.Y36(ye,10),a.Y36(U,10),a.Y36(Tr,8))},ee.\u0275dir=a.lG2({type:ee,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Gi]),a.qOj,a.TTD]}),ee})();const Ks={provide:U,useExisting:(0,a.Gpc)(()=>zi),multi:!0};function ls(ee,J){return null==ee?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${ee}: ${J}`.slice(0,50))}let zi=(()=>{class ee extends _{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){this.value=N;const kt=ls(this._getOptionId(N),N);this.setProperty("value",kt)}registerOnChange(N){this.onChange=Te=>{this.value=this._getOptionValue(Te),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const Te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Te),N))return Te;return null}_getOptionValue(N){const Te=function Ds(ee){return ee.split(":")[0]}(N);return this._optionMap.has(Te)?this._optionMap.get(Te):N}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(N,Te){1&N&&a.NdJ("change",function(pn){return Te.onChange(pn.target.value)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Ks]),a.qOj]}),ee})(),Xs=(()=>{class ee{constructor(N,Te,kt){this._element=N,this._renderer=Te,this._select=kt,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(ls(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(zi,9))},ee.\u0275dir=a.lG2({type:ee,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ee})();const Oi={provide:U,useExisting:(0,a.Gpc)(()=>pi),multi:!0};function Yi(ee,J){return null==ee?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${ee}: ${J}`.slice(0,50))}let pi=(()=>{class ee extends _{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){let Te;if(this.value=N,Array.isArray(N)){const kt=N.map(pn=>this._getOptionId(pn));Te=(pn,yi)=>{pn._setSelected(kt.indexOf(yi.toString())>-1)}}else Te=(kt,pn)=>{kt._setSelected(!1)};this._optionMap.forEach(Te)}registerOnChange(N){this.onChange=Te=>{const kt=[],pn=Te.selectedOptions;if(void 0!==pn){const yi=pn;for(let ds=0;ds<yi.length;ds++){const Si=this._getOptionValue(yi[ds].value);kt.push(Si)}}else{const yi=Te.options;for(let ds=0;ds<yi.length;ds++){const mi=yi[ds];if(mi.selected){const Si=this._getOptionValue(mi.value);kt.push(Si)}}}this.value=kt,N(kt)}}_registerOption(N){const Te=(this._idCounter++).toString();return this._optionMap.set(Te,N),Te}_getOptionId(N){for(const Te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Te)._value,N))return Te;return null}_getOptionValue(N){const Te=function er(ee){return ee.split(":")[0]}(N);return this._optionMap.has(Te)?this._optionMap.get(Te)._value:N}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(N,Te){1&N&&a.NdJ("change",function(pn){return Te.onChange(pn.target)})("blur",function(){return Te.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Oi]),a.qOj]}),ee})(),Es=(()=>{class ee{constructor(N,Te,kt){this._element=N,this._renderer=Te,this._select=kt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(Yi(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(Yi(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return ee.\u0275fac=function(N){return new(N||ee)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(pi,9))},ee.\u0275dir=a.lG2({type:ee,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ee})();function lr(ee){return"number"==typeof ee?ee:parseInt(ee,10)}let cs=(()=>{class ee{constructor(){this._validator=Me}ngOnChanges(N){if(this.inputName in N){const Te=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(Te),this._validator=this._enabled?this.createValidator(Te):Me,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275dir=a.lG2({type:ee,features:[a.TTD]}),ee})();const Sr={provide:ve,useExisting:(0,a.Gpc)(()=>Do),multi:!0};let Do=(()=>{class ee extends cs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=N=>function Or(ee){return"number"==typeof ee?ee:parseFloat(ee)}(N),this.createValidator=N=>ce(N)}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,Te){2&N&&a.uIk("min",Te._enabled?Te.min:null)},inputs:{min:"min"},features:[a._Bn([Sr]),a.qOj]}),ee})();const Ts={provide:ve,useExisting:(0,a.Gpc)(()=>Jr),multi:!0};let Jr=(()=>{class ee extends cs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=N=>ke}enabled(N){return N}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(N,Te){2&N&&a.uIk("required",Te._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Ts]),a.qOj]}),ee})();const Ro={provide:ve,useExisting:(0,a.Gpc)(()=>tr),multi:!0};let tr=(()=>{class ee extends cs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=N=>lr(N),this.createValidator=N=>me(N)}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(N,Te){2&N&&a.uIk("minlength",Te._enabled?Te.minlength:null)},inputs:{minlength:"minlength"},features:[a._Bn([Ro]),a.qOj]}),ee})();const Po={provide:ve,useExisting:(0,a.Gpc)(()=>oi),multi:!0};let oi=(()=>{class ee extends cs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=N=>lr(N),this.createValidator=N=>he(N)}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275dir=a.lG2({type:ee,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(N,Te){2&N&&a.uIk("maxlength",Te._enabled?Te.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([Po]),a.qOj]}),ee})(),cr=(()=>{class ee{}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275mod=a.oAB({type:ee}),ee.\u0275inj=a.cJS({imports:[Vr]}),ee})(),Dr=(()=>{class ee{}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275mod=a.oAB({type:ee}),ee.\u0275inj=a.cJS({imports:[cr]}),ee})(),fi=(()=>{class ee{static withConfig(N){return{ngModule:ee,providers:[{provide:Tr,useValue:N.warnOnNgModelWithFormControl}]}}}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275mod=a.oAB({type:ee}),ee.\u0275inj=a.cJS({imports:[cr]}),ee})();class Di extends Ni{constructor(J,N,Te){super(rt(N),Gt(Te,N)),this.controls=J,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,N={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(J,N,Te={}){this.controls.splice(J,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:Te.emitEvent})}removeAt(J,N={}){let Te=this._adjustIndex(J);Te<0&&(Te=0),this.controls[Te]&&this.controls[Te]._registerOnCollectionChange(()=>{}),this.controls.splice(Te,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(J,N,Te={}){let kt=this._adjustIndex(J);kt<0&&(kt=0),this.controls[kt]&&this.controls[kt]._registerOnCollectionChange(()=>{}),this.controls.splice(kt,1),N&&(this.controls.splice(kt,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,N={}){Ti(this,0,J),J.forEach((Te,kt)=>{si(this,!1,kt),this.at(kt).setValue(Te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(J,N={}){null!=J&&(J.forEach((Te,kt)=>{this.at(kt)&&this.at(kt).patchValue(Te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(J=[],N={}){this._forEachChild((Te,kt)=>{Te.reset(J[kt],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((N,Te)=>!!Te._syncPendingControls()||N,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((N,Te)=>{J(N,Te)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(N=>N.enabled&&J(N))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){var N;return null!==(N=this.at(J))&&void 0!==N?N:null}}function jt(ee){return!!ee&&(void 0!==ee.asyncValidators||void 0!==ee.validators||void 0!==ee.updateOn)}let cn=(()=>{class ee{constructor(){this.useNonNullable=!1}get nonNullable(){const N=new ee;return N.useNonNullable=!0,N}group(N,Te=null){const kt=this._reduceControls(N);let pn={};return jt(Te)?pn=Te:null!==Te&&(pn.validators=Te.validator,pn.asyncValidators=Te.asyncValidator),new It(kt,pn)}record(N,Te=null){const kt=this._reduceControls(N);return new Xn(kt,Te)}control(N,Te,kt){let pn={};return this.useNonNullable?(jt(Te)?pn=Te:(pn.validators=Te,pn.asyncValidators=kt),new js(N,{...pn,nonNullable:!0})):new js(N,Te,kt)}array(N,Te,kt){const pn=N.map(yi=>this._createControl(yi));return new Di(pn,Te,kt)}_reduceControls(N){const Te={};return Object.keys(N).forEach(kt=>{Te[kt]=this._createControl(N[kt])}),Te}_createControl(N){return N instanceof js||N instanceof Ni?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return ee.\u0275fac=function(N){return new(N||ee)},ee.\u0275prov=a.Yz7({token:ee,factory:ee.\u0275fac,providedIn:fi}),ee})(),Ms=(()=>{class ee extends cn{group(N,Te=null){return super.group(N,Te)}control(N,Te,kt){return super.control(N,Te,kt)}array(N,Te,kt){return super.array(N,Te,kt)}}return ee.\u0275fac=function(){let J;return function(Te){return(J||(J=a.n5z(ee)))(Te||ee)}}(),ee.\u0275prov=a.Yz7({token:ee,factory:ee.\u0275fac,providedIn:fi}),ee})()},1481:(it,oe,g)=>{"use strict";g.d(oe,{Dx:()=>tt,H7:()=>jn,b2:()=>Ye,q6:()=>Et,se:()=>fe});var a=g(6895),e=g(4650);class C extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class x extends C{static makeCurrent(){(0,a.HT)(new x)}onAndCancel(Xe,Be,yt){return Xe.addEventListener(Be,yt,!1),()=>{Xe.removeEventListener(Be,yt,!1)}}dispatchEvent(Xe,Be){Xe.dispatchEvent(Be)}remove(Xe){Xe.parentNode&&Xe.parentNode.removeChild(Xe)}createElement(Xe,Be){return(Be=Be||this.getDefaultDocument()).createElement(Xe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Xe){return Xe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Xe){return Xe instanceof DocumentFragment}getGlobalEventTarget(Xe,Be){return"window"===Be?window:"document"===Be?Xe:"body"===Be?Xe.body:null}getBaseHref(Xe){const Be=function S(){return T=T||document.querySelector("base"),T?T.getAttribute("href"):null}();return null==Be?null:function U(Je){_=_||document.createElement("a"),_.setAttribute("href",Je);const Xe=_.pathname;return"/"===Xe.charAt(0)?Xe:`/${Xe}`}(Be)}resetBaseElement(){T=null}getUserAgent(){return window.navigator.userAgent}getCookie(Xe){return(0,a.Mx)(document.cookie,Xe)}}let _,T=null;const R=new e.OlP("TRANSITION_ID"),B=[{provide:e.ip1,useFactory:function y(Je,Xe,Be){return()=>{Be.get(e.CZH).donePromise.then(()=>{const yt=(0,a.q)(),Ft=Xe.querySelectorAll(`style[ng-transition="${Je}"]`);for(let an=0;an<Ft.length;an++)yt.remove(Ft[an])})}},deps:[R,a.K0,e.zs3],multi:!0}];let K=(()=>{class Je{build(){return new XMLHttpRequest}}return Je.\u0275fac=function(Be){return new(Be||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const G=new e.OlP("EventManagerPlugins");let j=(()=>{class Je{constructor(Be,yt){this._zone=yt,this._eventNameToPlugin=new Map,Be.forEach(Ft=>Ft.manager=this),this._plugins=Be.slice().reverse()}addEventListener(Be,yt,Ft){return this._findPluginFor(yt).addEventListener(Be,yt,Ft)}addGlobalEventListener(Be,yt,Ft){return this._findPluginFor(yt).addGlobalEventListener(Be,yt,Ft)}getZone(){return this._zone}_findPluginFor(Be){const yt=this._eventNameToPlugin.get(Be);if(yt)return yt;const Ft=this._plugins;for(let an=0;an<Ft.length;an++){const Rt=Ft[an];if(Rt.supports(Be))return this._eventNameToPlugin.set(Be,Rt),Rt}throw new Error(`No event manager plugin found for event ${Be}`)}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(G),e.LFG(e.R0b))},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class le{constructor(Xe){this._doc=Xe}addGlobalEventListener(Xe,Be,yt){const Ft=(0,a.q)().getGlobalEventTarget(this._doc,Xe);if(!Ft)throw new Error(`Unsupported event target ${Ft} for event ${Be}`);return this.addEventListener(Ft,Be,yt)}}let Ee=(()=>{class Je{constructor(){this._stylesSet=new Set}addStyles(Be){const yt=new Set;Be.forEach(Ft=>{this._stylesSet.has(Ft)||(this._stylesSet.add(Ft),yt.add(Ft))}),this.onStylesAdded(yt)}onStylesAdded(Be){}getAllStyles(){return Array.from(this._stylesSet)}}return Je.\u0275fac=function(Be){return new(Be||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),ve=(()=>{class Je extends Ee{constructor(Be){super(),this._doc=Be,this._hostNodes=new Map,this._hostNodes.set(Be.head,[])}_addStylesToHost(Be,yt,Ft){Be.forEach(an=>{const Rt=this._doc.createElement("style");Rt.textContent=an,Ft.push(yt.appendChild(Rt))})}addHost(Be){const yt=[];this._addStylesToHost(this._stylesSet,Be,yt),this._hostNodes.set(Be,yt)}removeHost(Be){const yt=this._hostNodes.get(Be);yt&&yt.forEach(ye),this._hostNodes.delete(Be)}onStylesAdded(Be){this._hostNodes.forEach((yt,Ft)=>{this._addStylesToHost(Be,Ft,yt)})}ngOnDestroy(){this._hostNodes.forEach(Be=>Be.forEach(ye))}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(a.K0))},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})();function ye(Je){(0,a.q)().remove(Je)}const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},re=/%COMP%/g;function he(Je,Xe,Be){for(let yt=0;yt<Xe.length;yt++){let Ft=Xe[yt];Array.isArray(Ft)?he(Je,Ft,Be):(Ft=Ft.replace(re,Je),Be.push(Ft))}return Be}function Y(Je){return Xe=>{if("__ngUnwrap__"===Xe)return Je;!1===Je(Xe)&&(Xe.preventDefault(),Xe.returnValue=!1)}}let fe=(()=>{class Je{constructor(Be,yt,Ft){this.eventManager=Be,this.sharedStylesHost=yt,this.appId=Ft,this.rendererByCompId=new Map,this.defaultRenderer=new xe(Be)}createRenderer(Be,yt){if(!Be||!yt)return this.defaultRenderer;switch(yt.encapsulation){case e.ifc.Emulated:{let Ft=this.rendererByCompId.get(yt.id);return Ft||(Ft=new mt(this.eventManager,this.sharedStylesHost,yt,this.appId),this.rendererByCompId.set(yt.id,Ft)),Ft.applyToHost(Be),Ft}case 1:case e.ifc.ShadowDom:return new $(this.eventManager,this.sharedStylesHost,Be,yt);default:if(!this.rendererByCompId.has(yt.id)){const Ft=he(yt.id,yt.styles,[]);this.sharedStylesHost.addStyles(Ft),this.rendererByCompId.set(yt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(j),e.LFG(ve),e.LFG(e.AFp))},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class xe{constructor(Xe){this.eventManager=Xe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Xe,Be){return Be?document.createElementNS(we[Be]||Be,Xe):document.createElement(Xe)}createComment(Xe){return document.createComment(Xe)}createText(Xe){return document.createTextNode(Xe)}appendChild(Xe,Be){(Qe(Xe)?Xe.content:Xe).appendChild(Be)}insertBefore(Xe,Be,yt){Xe&&(Qe(Xe)?Xe.content:Xe).insertBefore(Be,yt)}removeChild(Xe,Be){Xe&&Xe.removeChild(Be)}selectRootElement(Xe,Be){let yt="string"==typeof Xe?document.querySelector(Xe):Xe;if(!yt)throw new Error(`The selector "${Xe}" did not match any elements`);return Be||(yt.textContent=""),yt}parentNode(Xe){return Xe.parentNode}nextSibling(Xe){return Xe.nextSibling}setAttribute(Xe,Be,yt,Ft){if(Ft){Be=Ft+":"+Be;const an=we[Ft];an?Xe.setAttributeNS(an,Be,yt):Xe.setAttribute(Be,yt)}else Xe.setAttribute(Be,yt)}removeAttribute(Xe,Be,yt){if(yt){const Ft=we[yt];Ft?Xe.removeAttributeNS(Ft,Be):Xe.removeAttribute(`${yt}:${Be}`)}else Xe.removeAttribute(Be)}addClass(Xe,Be){Xe.classList.add(Be)}removeClass(Xe,Be){Xe.classList.remove(Be)}setStyle(Xe,Be,yt,Ft){Ft&(e.JOm.DashCase|e.JOm.Important)?Xe.style.setProperty(Be,yt,Ft&e.JOm.Important?"important":""):Xe.style[Be]=yt}removeStyle(Xe,Be,yt){yt&e.JOm.DashCase?Xe.style.removeProperty(Be):Xe.style[Be]=""}setProperty(Xe,Be,yt){Xe[Be]=yt}setValue(Xe,Be){Xe.nodeValue=Be}listen(Xe,Be,yt){return"string"==typeof Xe?this.eventManager.addGlobalEventListener(Xe,Be,Y(yt)):this.eventManager.addEventListener(Xe,Be,Y(yt))}}function Qe(Je){return"TEMPLATE"===Je.tagName&&void 0!==Je.content}class mt extends xe{constructor(Xe,Be,yt,Ft){super(Xe),this.component=yt;const an=he(Ft+"-"+yt.id,yt.styles,[]);Be.addStyles(an),this.contentAttr=function Ze(Je){return"_ngcontent-%COMP%".replace(re,Je)}(Ft+"-"+yt.id),this.hostAttr=function me(Je){return"_nghost-%COMP%".replace(re,Je)}(Ft+"-"+yt.id)}applyToHost(Xe){super.setAttribute(Xe,this.hostAttr,"")}createElement(Xe,Be){const yt=super.createElement(Xe,Be);return super.setAttribute(yt,this.contentAttr,""),yt}}class $ extends xe{constructor(Xe,Be,yt,Ft){super(Xe),this.sharedStylesHost=Be,this.hostEl=yt,this.shadowRoot=yt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const an=he(Ft.id,Ft.styles,[]);for(let Rt=0;Rt<an.length;Rt++){const wn=document.createElement("style");wn.textContent=an[Rt],this.shadowRoot.appendChild(wn)}}nodeOrShadowRoot(Xe){return Xe===this.hostEl?this.shadowRoot:Xe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Xe,Be){return super.appendChild(this.nodeOrShadowRoot(Xe),Be)}insertBefore(Xe,Be,yt){return super.insertBefore(this.nodeOrShadowRoot(Xe),Be,yt)}removeChild(Xe,Be){return super.removeChild(this.nodeOrShadowRoot(Xe),Be)}parentNode(Xe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Xe)))}}let be=(()=>{class Je extends le{constructor(Be){super(Be)}supports(Be){return!0}addEventListener(Be,yt,Ft){return Be.addEventListener(yt,Ft,!1),()=>this.removeEventListener(Be,yt,Ft)}removeEventListener(Be,yt,Ft){return Be.removeEventListener(yt,Ft)}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(a.K0))},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const De=["alt","control","meta","shift"],qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={alt:Je=>Je.altKey,control:Je=>Je.ctrlKey,meta:Je=>Je.metaKey,shift:Je=>Je.shiftKey};let $e=(()=>{class Je extends le{constructor(Be){super(Be)}supports(Be){return null!=Je.parseEventName(Be)}addEventListener(Be,yt,Ft){const an=Je.parseEventName(yt),Rt=Je.eventCallback(an.fullKey,Ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(Be,an.domEventName,Rt))}static parseEventName(Be){const yt=Be.toLowerCase().split("."),Ft=yt.shift();if(0===yt.length||"keydown"!==Ft&&"keyup"!==Ft)return null;const an=Je._normalizeKey(yt.pop());let Rt="",wn=yt.indexOf("code");if(wn>-1&&(yt.splice(wn,1),Rt="code."),De.forEach(ys=>{const mn=yt.indexOf(ys);mn>-1&&(yt.splice(mn,1),Rt+=ys+".")}),Rt+=an,0!=yt.length||0===an.length)return null;const Ai={};return Ai.domEventName=Ft,Ai.fullKey=Rt,Ai}static matchEventFullKeyCode(Be,yt){let Ft=qe[Be.key]||Be.key,an="";return yt.indexOf("code.")>-1&&(Ft=Be.code,an="code."),!(null==Ft||!Ft)&&(Ft=Ft.toLowerCase()," "===Ft?Ft="space":"."===Ft&&(Ft="dot"),De.forEach(Rt=>{Rt!==Ft&&(0,ct[Rt])(Be)&&(an+=Rt+".")}),an+=Ft,an===yt)}static eventCallback(Be,yt,Ft){return an=>{Je.matchEventFullKeyCode(an,Be)&&Ft.runGuarded(()=>yt(an))}}static _normalizeKey(Be){return"esc"===Be?"escape":Be}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(a.K0))},Je.\u0275prov=e.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const Et=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:a.bD},{provide:e.g9A,useValue:function vt(){x.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function Ge(){return(0,e.RDi)(document),document},deps:[]}]),_t=new e.OlP(""),Ct=[{provide:e.rWj,useClass:class F{addToWindow(Xe){e.dqk.getAngularTestability=(yt,Ft=!0)=>{const an=Xe.findTestabilityInTree(yt,Ft);if(null==an)throw new Error("Could not find testability for element.");return an},e.dqk.getAllAngularTestabilities=()=>Xe.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>Xe.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(yt=>{const Ft=e.dqk.getAllAngularTestabilities();let an=Ft.length,Rt=!1;const wn=function(Ai){Rt=Rt||Ai,an--,0==an&&yt(Rt)};Ft.forEach(function(Ai){Ai.whenStable(wn)})})}findTestabilityInTree(Xe,Be,yt){return null==Be?null:Xe.getTestability(Be)??(yt?(0,a.q)().isShadowRoot(Be)?this.findTestabilityInTree(Xe,Be.host,!0):this.findTestabilityInTree(Xe,Be.parentElement,!0):null)}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],nt=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function At(){return new e.qLn},deps:[]},{provide:G,useClass:be,multi:!0,deps:[a.K0,e.R0b,e.Lbi]},{provide:G,useClass:$e,multi:!0,deps:[a.K0]},{provide:fe,useClass:fe,deps:[j,ve,e.AFp]},{provide:e.FYo,useExisting:fe},{provide:Ee,useExisting:ve},{provide:ve,useClass:ve,deps:[a.K0]},{provide:j,useClass:j,deps:[G,e.R0b]},{provide:a.JF,useClass:K,deps:[]},[]];let Ye=(()=>{class Je{constructor(Be){}static withServerTransition(Be){return{ngModule:Je,providers:[{provide:e.AFp,useValue:Be.appId},{provide:R,useExisting:e.AFp},B]}}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(_t,12))},Je.\u0275mod=e.oAB({type:Je}),Je.\u0275inj=e.cJS({providers:[...nt,...Ct],imports:[a.ez,e.hGG]}),Je})(),tt=(()=>{class Je{constructor(Be){this._doc=Be}getTitle(){return this._doc.title}setTitle(Be){this._doc.title=Be||""}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(a.K0))},Je.\u0275prov=e.Yz7({token:Je,factory:function(Be){let yt=null;return yt=Be?new Be:function Zt(){return new tt((0,e.LFG)(a.K0))}(),yt},providedIn:"root"}),Je})();typeof window<"u"&&window;let jn=(()=>{class Je{}return Je.\u0275fac=function(Be){return new(Be||Je)},Je.\u0275prov=e.Yz7({token:Je,factory:function(Be){let yt=null;return yt=Be?new(Be||Je):e.LFG(ri),yt},providedIn:"root"}),Je})(),ri=(()=>{class Je extends jn{constructor(Be){super(),this._doc=Be}sanitize(Be,yt){if(null==yt)return null;switch(Be){case e.q3G.NONE:return yt;case e.q3G.HTML:return(0,e.qzn)(yt,"HTML")?(0,e.z3N)(yt):(0,e.EiD)(this._doc,String(yt)).toString();case e.q3G.STYLE:return(0,e.qzn)(yt,"Style")?(0,e.z3N)(yt):yt;case e.q3G.SCRIPT:if((0,e.qzn)(yt,"Script"))return(0,e.z3N)(yt);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.qzn)(yt,"URL")?(0,e.z3N)(yt):(0,e.mCW)(String(yt));case e.q3G.RESOURCE_URL:if((0,e.qzn)(yt,"ResourceURL"))return(0,e.z3N)(yt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Be} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Be){return(0,e.JVY)(Be)}bypassSecurityTrustStyle(Be){return(0,e.L6k)(Be)}bypassSecurityTrustScript(Be){return(0,e.eBb)(Be)}bypassSecurityTrustUrl(Be){return(0,e.LAX)(Be)}bypassSecurityTrustResourceUrl(Be){return(0,e.pB0)(Be)}}return Je.\u0275fac=function(Be){return new(Be||Je)(e.LFG(a.K0))},Je.\u0275prov=e.Yz7({token:Je,factory:function(Be){let yt=null;return yt=Be?new Be:function Xn(Je){return new ri(Je.get(a.K0))}(e.LFG(e.zs3)),yt},providedIn:"root"}),Je})()},8185:(it,oe,g)=>{"use strict";g.d(oe,{gz:()=>ui,y6:()=>lr,gk:()=>ki,m2:()=>$s,OD:()=>Mi,cx:()=>yo,Z6:()=>te,wN:()=>eo,F0:()=>Kn,rH:()=>os,Od:()=>Pr,yS:()=>to,Bz:()=>ua,lC:()=>cs,oI:()=>X,Hx:()=>dn});var a=g(4650),e=g(2076),C=g(9646),x=g(1135),T=g(6805),S=g(9841),_=g(7272),U=g(9770),R=g(9635),y=g(2843),B=g(9751),F=g(515),K=g(727),G=g(4482),j=g(5403);function le(){return(0,G.e)((l,p)=>{let f=null;l._refCount++;const w=(0,j.x)(p,void 0,void 0,void 0,()=>{if(!l||l._refCount<=0||0<--l._refCount)return void(f=null);const A=l._connection,O=f;f=null,A&&(!O||A===O)&&A.unsubscribe(),p.unsubscribe()});l.subscribe(w),w.closed||(f=l.connect())})}class Ee extends B.y{constructor(p,f){super(),this.source=p,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,G.A)(p)&&(this.lift=p.lift)}_subscribe(p){return this.getSubject().subscribe(p)}getSubject(){const p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:p}=this;this._subject=this._connection=null,p?.unsubscribe()}connect(){let p=this._connection;if(!p){p=this._connection=new K.w0;const f=this.getSubject();p.add(this.source.subscribe((0,j.x)(f,void 0,()=>{this._teardown(),f.complete()},w=>{this._teardown(),f.error(w)},()=>this._teardown()))),p.closed&&(this._connection=null,p=K.w0.EMPTY)}return p}refCount(){return le()(this)}}var ve=g(7579),ye=g(6895),we=g(4004),re=g(3900),ce=g(5698),Ie=g(8675),ke=g(9300),Ae=g(5577),Ze=g(590),me=g(4351),he=g(8505),Y=g(262),Me=g(7359);function fe(l,p){return(0,G.e)((0,Me.U)(l,p,arguments.length>=2,!0))}function xe(l){return l<=0?()=>F.E:(0,G.e)((p,f)=>{let w=[];p.subscribe((0,j.x)(f,A=>{w.push(A),l<w.length&&w.shift()},()=>{for(const A of w)f.next(A);f.complete()},void 0,()=>{w=null}))})}var Ue=g(8068),et=g(6590),Qe=g(4671);function mt(l,p){const f=arguments.length>=2;return w=>w.pipe(l?(0,ke.h)((A,O)=>l(A,O,w)):Qe.y,xe(1),f?(0,et.d)(p):(0,Ue.T)(()=>new T.K))}var be=g(9718);function De(l){return(0,G.e)((p,f)=>{try{p.subscribe(f)}finally{f.add(l)}})}var qe=g(8189),ct=g(1481);const $e="primary",ut=Symbol("RouteTitle");class Vt{constructor(p){this.params=p||{}}has(p){return Object.prototype.hasOwnProperty.call(this.params,p)}get(p){if(this.has(p)){const f=this.params[p];return Array.isArray(f)?f[0]:f}return null}getAll(p){if(this.has(p)){const f=this.params[p];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function sn(l){return new Vt(l)}function rn(l,p,f){const w=f.path.split("/");if(w.length>l.length||"full"===f.pathMatch&&(p.hasChildren()||w.length<l.length))return null;const A={};for(let O=0;O<w.length;O++){const Z=w[O],z=l[O];if(Z.startsWith(":"))A[Z.substring(1)]=z;else if(Z!==z.path)return null}return{consumed:l.slice(0,w.length),posParams:A}}function vt(l,p){const f=l?Object.keys(l):void 0,w=p?Object.keys(p):void 0;if(!f||!w||f.length!=w.length)return!1;let A;for(let O=0;O<f.length;O++)if(A=f[O],!At(l[A],p[A]))return!1;return!0}function At(l,p){if(Array.isArray(l)&&Array.isArray(p)){if(l.length!==p.length)return!1;const f=[...l].sort(),w=[...p].sort();return f.every((A,O)=>w[O]===A)}return l===p}function Ge(l){return Array.prototype.concat.apply([],l)}function xt(l){return l.length>0?l[l.length-1]:null}function _t(l,p){for(const f in l)l.hasOwnProperty(f)&&p(l[f],f)}function Ct(l){return(0,a.CqO)(l)?l:(0,a.QGY)(l)?(0,e.D)(Promise.resolve(l)):(0,C.of)(l)}const Mt={exact:function tt(l,p,f){if(!lt(l.segments,p.segments)||!D(l.segments,p.segments,f)||l.numberOfChildren!==p.numberOfChildren)return!1;for(const w in p.children)if(!l.children[w]||!tt(l.children[w],p.children[w],f))return!1;return!0},subset:W},Oe={exact:function Zt(l,p){return vt(l,p)},subset:function Ne(l,p){return Object.keys(p).length<=Object.keys(l).length&&Object.keys(p).every(f=>At(l[f],p[f]))},ignored:()=>!0};function Ke(l,p,f){return Mt[f.paths](l.root,p.root,f.matrixParams)&&Oe[f.queryParams](l.queryParams,p.queryParams)&&!("exact"===f.fragment&&l.fragment!==p.fragment)}function W(l,p,f){return P(l,p,p.segments,f)}function P(l,p,f,w){if(l.segments.length>f.length){const A=l.segments.slice(0,f.length);return!(!lt(A,f)||p.hasChildren()||!D(A,f,w))}if(l.segments.length===f.length){if(!lt(l.segments,f)||!D(l.segments,f,w))return!1;for(const A in p.children)if(!l.children[A]||!W(l.children[A],p.children[A],w))return!1;return!0}{const A=f.slice(0,l.segments.length),O=f.slice(l.segments.length);return!!(lt(l.segments,A)&&D(l.segments,A,w)&&l.children[$e])&&P(l.children[$e],p,O,w)}}function D(l,p,f){return p.every((w,A)=>Oe[f](l[A].parameters,w.parameters))}class k{constructor(p,f,w){this.root=p,this.queryParams=f,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return Qt.serialize(this)}}class pe{constructor(p,f){this.segments=p,this.children=f,this.parent=null,_t(f,(w,A)=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yt(this)}}class Le{constructor(p,f){this.path=p,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return si(this)}}function lt(l,p){return l.length===p.length&&l.every((f,w)=>f.path===p[w].path)}let dn=(()=>{class l{}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=a.Yz7({token:l,factory:function(){return new Bt},providedIn:"root"}),l})();class Bt{parse(p){const f=new Je(p);return new k(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(p){const f=`/${je(p.root,!0)}`,w=function Ni(l){const p=Object.keys(l).map(f=>{const w=l[f];return Array.isArray(w)?w.map(A=>`${rt(f)}=${rt(A)}`).join("&"):`${rt(f)}=${rt(w)}`}).filter(f=>!!f);return p.length?`?${p.join("&")}`:""}(p.queryParams);return`${f}${w}${"string"==typeof p.fragment?`#${function Lt(l){return encodeURI(l)}(p.fragment)}`:""}`}}const Qt=new Bt;function Yt(l){return l.segments.map(p=>si(p)).join("/")}function je(l,p){if(!l.hasChildren())return Yt(l);if(p){const f=l.children[$e]?je(l.children[$e],!1):"",w=[];return _t(l.children,(A,O)=>{O!==$e&&w.push(`${O}:${je(A,!1)}`)}),w.length>0?`${f}(${w.join("//")})`:f}{const f=function Ut(l,p){let f=[];return _t(l.children,(w,A)=>{A===$e&&(f=f.concat(p(w,A)))}),_t(l.children,(w,A)=>{A!==$e&&(f=f.concat(p(w,A)))}),f}(l,(w,A)=>A===$e?[je(l.children[$e],!1)]:[`${A}:${je(w,!1)}`]);return 1===Object.keys(l.children).length&&null!=l.children[$e]?`${Yt(l)}/${f[0]}`:`${Yt(l)}/(${f.join("//")})`}}function qt(l){return encodeURIComponent(l).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rt(l){return qt(l).replace(/%3B/gi,";")}function Gt(l){return qt(l).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function En(l){return decodeURIComponent(l)}function yn(l){return En(l.replace(/\+/g,"%20"))}function si(l){return`${Gt(l.path)}${function Ti(l){return Object.keys(l).map(p=>`;${Gt(p)}=${Gt(l[p])}`).join("")}(l.parameters)}`}const It=/^[^\/()?;=#]+/;function qn(l){const p=l.match(It);return p?p[0]:""}const jn=/^[^=?&#]+/,ri=/^[^&#]+/;class Je{constructor(p){this.url=p,this.remaining=p}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const p={};if(this.consumeOptional("?"))do{this.parseQueryParam(p)}while(this.consumeOptional("&"));return p}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const p=[];for(this.peekStartsWith("(")||p.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),p.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(p.length>0||Object.keys(f).length>0)&&(w[$e]=new pe(p,f)),w}parseSegment(){const p=qn(this.remaining);if(""===p&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(p),new Le(En(p),this.parseMatrixParams())}parseMatrixParams(){const p={};for(;this.consumeOptional(";");)this.parseParam(p);return p}parseParam(p){const f=qn(this.remaining);if(!f)return;this.capture(f);let w="";if(this.consumeOptional("=")){const A=qn(this.remaining);A&&(w=A,this.capture(w))}p[En(f)]=En(w)}parseQueryParam(p){const f=function Xn(l){const p=l.match(jn);return p?p[0]:""}(this.remaining);if(!f)return;this.capture(f);let w="";if(this.consumeOptional("=")){const Z=function ai(l){const p=l.match(ri);return p?p[0]:""}(this.remaining);Z&&(w=Z,this.capture(w))}const A=yn(f),O=yn(w);if(p.hasOwnProperty(A)){let Z=p[A];Array.isArray(Z)||(Z=[Z],p[A]=Z),Z.push(O)}else p[A]=O}parseParens(p){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=qn(this.remaining),A=this.remaining[w.length];if("/"!==A&&")"!==A&&";"!==A)throw new a.vHH(4010,!1);let O;w.indexOf(":")>-1?(O=w.slice(0,w.indexOf(":")),this.capture(O),this.capture(":")):p&&(O=$e);const Z=this.parseChildren();f[O]=1===Object.keys(Z).length?Z[$e]:new pe([],Z),this.consumeOptional("//")}return f}peekStartsWith(p){return this.remaining.startsWith(p)}consumeOptional(p){return!!this.peekStartsWith(p)&&(this.remaining=this.remaining.substring(p.length),!0)}capture(p){if(!this.consumeOptional(p))throw new a.vHH(4011,!1)}}function Xe(l){return l.segments.length>0?new pe([],{[$e]:l}):l}function Be(l){const p={};for(const w of Object.keys(l.children)){const O=Be(l.children[w]);(O.segments.length>0||O.hasChildren())&&(p[w]=O)}return function yt(l){if(1===l.numberOfChildren&&l.children[$e]){const p=l.children[$e];return new pe(l.segments.concat(p.segments),p.children)}return l}(new pe(l.segments,p))}function Ft(l){return l instanceof k}function ys(l,p,f,w,A){var O;if(0===f.length)return ms(p.root,p.root,p.root,w,A);const Z=function Li(l){if("string"==typeof l[0]&&1===l.length&&"/"===l[0])return new Hi(!0,0,l);let p=0,f=!1;const w=l.reduce((A,O,Z)=>{if("object"==typeof O&&null!=O){if(O.outlets){const z={};return _t(O.outlets,(Ce,We)=>{z[We]="string"==typeof Ce?Ce.split("/"):Ce}),[...A,{outlets:z}]}if(O.segmentPath)return[...A,O.segmentPath]}return"string"!=typeof O?[...A,O]:0===Z?(O.split("/").forEach((z,Ce)=>{0==Ce&&"."===z||(0==Ce&&""===z?f=!0:".."===z?p++:""!=z&&A.push(z))}),A):[...A,O]},[]);return new Hi(f,p,w)}(f);if(Z.toRoot())return ms(p.root,p.root,new pe([],{}),w,A);const Ce=function z(Tt){var gt;const Kt=function qs(l,p,f,w){if(l.isAbsolute)return new kn(p.root,!0,0);if(-1===w)return new kn(f,f===p.root,0);return function As(l,p,f){let w=l,A=p,O=f;for(;O>A;){if(O-=A,w=w.parent,!w)throw new a.vHH(4005,!1);A=w.segments.length}return new kn(w,!1,A-O)}(f,w+(mn(l.commands[0])?0:1),l.numberOfDoubleDots)}(Z,p,null===(gt=l.snapshot)||void 0===gt?void 0:gt._urlSegment,Tt),Pn=Kt.processChildren?Ss(Kt.segmentGroup,Kt.index,Z.commands):ei(Kt.segmentGroup,Kt.index,Z.commands);return ms(p.root,Kt.segmentGroup,Pn,w,A)}(null===(O=l.snapshot)||void 0===O?void 0:O._lastPathIndex);return Ce}function mn(l){return"object"==typeof l&&null!=l&&!l.outlets&&!l.segmentPath}function vi(l){return"object"==typeof l&&null!=l&&l.outlets}function ms(l,p,f,w,A){let Z,O={};w&&_t(w,(Ce,We)=>{O[We]=Array.isArray(Ce)?Ce.map(Tt=>`${Tt}`):`${Ce}`}),Z=l===p?f:Rs(l,p,f);const z=Xe(Be(Z));return new k(z,O,A)}function Rs(l,p,f){const w={};return _t(l.children,(A,O)=>{w[O]=A===p?f:Rs(A,p,f)}),new pe(l.segments,w)}class Hi{constructor(p,f,w){if(this.isAbsolute=p,this.numberOfDoubleDots=f,this.commands=w,p&&w.length>0&&mn(w[0]))throw new a.vHH(4003,!1);const A=w.find(vi);if(A&&A!==xt(w))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kn{constructor(p,f,w){this.segmentGroup=p,this.processChildren=f,this.index=w}}function ei(l,p,f){if(l||(l=new pe([],{})),0===l.segments.length&&l.hasChildren())return Ss(l,p,f);const w=function Ps(l,p,f){let w=0,A=p;const O={match:!1,pathIndex:0,commandIndex:0};for(;A<l.segments.length;){if(w>=f.length)return O;const Z=l.segments[A],z=f[w];if(vi(z))break;const Ce=`${z}`,We=w<f.length-1?f[w+1]:null;if(A>0&&void 0===Ce)break;if(Ce&&We&&"object"==typeof We&&void 0===We.outlets){if(!js(Ce,We,Z))return O;w+=2}else{if(!js(Ce,{},Z))return O;w++}A++}return{match:!0,pathIndex:A,commandIndex:w}}(l,p,f),A=f.slice(w.commandIndex);if(w.match&&w.pathIndex<l.segments.length){const O=new pe(l.segments.slice(0,w.pathIndex),{});return O.children[$e]=new pe(l.segments.slice(w.pathIndex),l.children),Ss(O,0,A)}return w.match&&0===A.length?new pe(l.segments,{}):w.match&&!l.hasChildren()?Ii(l,p,f):w.match?Ss(l,0,A):Ii(l,p,f)}function Ss(l,p,f){if(0===f.length)return new pe(l.segments,{});{const w=function wr(l){return vi(l[0])?l[0].outlets:{[$e]:l}}(f),A={};return _t(w,(O,Z)=>{"string"==typeof O&&(O=[O]),null!==O&&(A[Z]=ei(l.children[Z],p,O))}),_t(l.children,(O,Z)=>{void 0===w[Z]&&(A[Z]=O)}),new pe(l.segments,A)}}function Ii(l,p,f){const w=l.segments.slice(0,p);let A=0;for(;A<f.length;){const O=f[A];if(vi(O)){const Ce=sr(O.outlets);return new pe(w,Ce)}if(0===A&&mn(f[0])){w.push(new Le(l.segments[p].path,Ls(f[0]))),A++;continue}const Z=vi(O)?O.outlets[$e]:`${O}`,z=A<f.length-1?f[A+1]:null;Z&&z&&mn(z)?(w.push(new Le(Z,Ls(z))),A+=2):(w.push(new Le(Z,{})),A++)}return new pe(w,{})}function sr(l){const p={};return _t(l,(f,w)=>{"string"==typeof f&&(f=[f]),null!==f&&(p[w]=Ii(new pe([],{}),0,f))}),p}function Ls(l){const p={};return _t(l,(f,w)=>p[w]=`${f}`),p}function js(l,p,f){return l==f.path&&vt(p,f.parameters)}class Qi{constructor(p,f){this.id=p,this.url=f}}class Mi extends Qi{constructor(p,f,w="imperative",A=null){super(p,f),this.type=0,this.navigationTrigger=w,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $s extends Qi{constructor(p,f,w){super(p,f),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ki extends Qi{constructor(p,f,w,A){super(p,f),this.reason=w,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cs extends Qi{constructor(p,f,w,A){super(p,f),this.error=w,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zr extends Qi{constructor(p,f,w,A){super(p,f),this.urlAfterRedirects=w,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Qi{constructor(p,f,w,A){super(p,f),this.urlAfterRedirects=w,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr extends Qi{constructor(p,f,w,A,O){super(p,f),this.urlAfterRedirects=w,this.state=A,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ln extends Qi{constructor(p,f,w,A){super(p,f),this.urlAfterRedirects=w,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends Qi{constructor(p,f,w,A){super(p,f),this.urlAfterRedirects=w,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or{constructor(p){this.route=p,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Us{constructor(p){this.route=p,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{constructor(p){this.snapshot=p,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(p){this.snapshot=p,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(p){this.snapshot=p,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(p){this.snapshot=p,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(p,f,w){this.routerEvent=p,this.position=f,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xo{constructor(p){this._root=p}get root(){return this._root.value}parent(p){const f=this.pathFromRoot(p);return f.length>1?f[f.length-2]:null}children(p){const f=hr(p,this._root);return f?f.children.map(w=>w.value):[]}firstChild(p){const f=hr(p,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(p){const f=Kr(p,this._root);return f.length<2?[]:f[f.length-2].children.map(A=>A.value).filter(A=>A!==p)}pathFromRoot(p){return Kr(p,this._root).map(f=>f.value)}}function hr(l,p){if(l===p.value)return p;for(const f of p.children){const w=hr(l,f);if(w)return w}return null}function Kr(l,p){if(l===p.value)return[p];for(const f of p.children){const w=Kr(l,f);if(w.length)return w.unshift(p),w}return[]}class Zs{constructor(p,f){this.value=p,this.children=f}toString(){return`TreeNode(${this.value})`}}function Tr(l){const p={};return l&&l.children.forEach(f=>p[f.value.outlet]=f),p}class lo extends xo{constructor(p,f){super(p),this.snapshot=f,bn(this,p)}toString(){return this.snapshot.toString()}}function Hr(l,p){const f=function bs(l,p){const Z=new Sn([],{},{},"",{},$e,p,null,l.root,-1,{});return new Ar("",new Zs(Z,[]))}(l,p),w=new x.X([new Le("",{})]),A=new x.X({}),O=new x.X({}),Z=new x.X({}),z=new x.X(""),Ce=new ui(w,A,Z,z,O,$e,p,f.root);return Ce.snapshot=f.root,new lo(new Zs(Ce,[]),f)}class ui{constructor(p,f,w,A,O,Z,z,Ce){var We,Tt;this.url=p,this.params=f,this.queryParams=w,this.fragment=A,this.data=O,this.outlet=Z,this.component=z,this.title=null!==(We=null===(Tt=this.data)||void 0===Tt?void 0:Tt.pipe((0,we.U)(gt=>gt[ut])))&&void 0!==We?We:(0,C.of)(void 0),this._futureSnapshot=Ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,we.U)(p=>sn(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,we.U)(p=>sn(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function di(l,p="emptyOnly"){const f=l.pathFromRoot;let w=0;if("always"!==p)for(w=f.length-1;w>=1;){const A=f[w],O=f[w-1];if(A.routeConfig&&""===A.routeConfig.path)w--;else{if(O.component)break;w--}}return function xs(l){return l.reduce((p,f)=>{var w;return{params:{...p.params,...f.params},data:{...p.data,...f.data},resolve:{...f.data,...p.resolve,...null===(w=f.routeConfig)||void 0===w?void 0:w.data,...f._resolvedData}}},{params:{},data:{},resolve:{}})}(f.slice(w))}class Sn{constructor(p,f,w,A,O,Z,z,Ce,We,Tt,gt,Kt){var Pn;this.url=p,this.params=f,this.queryParams=w,this.fragment=A,this.data=O,this.outlet=Z,this.component=z,this.title=null===(Pn=this.data)||void 0===Pn?void 0:Pn[ut],this.routeConfig=Ce,this._urlSegment=We,this._lastPathIndex=Tt,this._correctedLastPathIndex=Kt??Tt,this._resolve=gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ar extends xo{constructor(p,f){super(f),this.url=p,bn(this,f)}toString(){return Gi(this._root)}}function bn(l,p){p.value._routerState=l,p.children.forEach(f=>bn(l,f))}function Gi(l){const p=l.children.length>0?` { ${l.children.map(Gi).join(", ")} } `:"";return`${l.value}${p}`}function is(l){if(l.snapshot){const p=l.snapshot,f=l._futureSnapshot;l.snapshot=f,vt(p.queryParams,f.queryParams)||l.queryParams.next(f.queryParams),p.fragment!==f.fragment&&l.fragment.next(f.fragment),vt(p.params,f.params)||l.params.next(f.params),function Cn(l,p){if(l.length!==p.length)return!1;for(let f=0;f<l.length;++f)if(!vt(l[f],p[f]))return!1;return!0}(p.url,f.url)||l.url.next(f.url),vt(p.data,f.data)||l.data.next(f.data)}else l.snapshot=l._futureSnapshot,l.data.next(l._futureSnapshot.data)}function Ks(l,p){const f=vt(l.params,p.params)&&function He(l,p){return lt(l,p)&&l.every((f,w)=>vt(f.parameters,p[w].parameters))}(l.url,p.url);return f&&!(!l.parent!=!p.parent)&&(!l.parent||Ks(l.parent,p.parent))}function Ds(l,p,f){if(f&&l.shouldReuseRoute(p.value,f.value.snapshot)){const w=f.value;w._futureSnapshot=p.value;const A=function zi(l,p,f){return p.children.map(w=>{for(const A of f.children)if(l.shouldReuseRoute(w.value,A.value.snapshot))return Ds(l,w,A);return Ds(l,w)})}(l,p,f);return new Zs(w,A)}{if(l.shouldAttach(p.value)){const O=l.retrieve(p.value);if(null!==O){const Z=O.route;return Z.value._futureSnapshot=p.value,Z.children=p.children.map(z=>Ds(l,z)),Z}}const w=function Xs(l){return new ui(new x.X(l.url),new x.X(l.params),new x.X(l.queryParams),new x.X(l.fragment),new x.X(l.data),l.outlet,l.component,l)}(p.value),A=p.children.map(O=>Ds(l,O));return new Zs(w,A)}}const Oi="ngNavigationCancelingError";function Yi(l,p){const{redirectTo:f,navigationBehaviorOptions:w}=Ft(p)?{redirectTo:p,navigationBehaviorOptions:void 0}:p,A=er(!1,0,p);return A.url=f,A.navigationBehaviorOptions=w,A}function er(l,p,f){const w=new Error("NavigationCancelingError: "+(l||""));return w[Oi]=!0,w.cancellationCode=p,f&&(w.url=f),w}function qi(l){return pi(l)&&Ft(l.url)}function pi(l){return l&&l[Oi]}class Es{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lr,this.attachRef=null}}let lr=(()=>{class l{constructor(){this.contexts=new Map}onChildOutletCreated(f,w){const A=this.getOrCreateContext(f);A.outlet=w,this.contexts.set(f,A)}onChildOutletDestroyed(f){const w=this.getContext(f);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let w=this.getContext(f);return w||(w=new Es,this.contexts.set(f,w)),w}getContext(f){return this.contexts.get(f)||null}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Or=!1;let cs=(()=>{class l{constructor(f,w,A,O,Z){this.parentContexts=f,this.location=w,this.changeDetector=O,this.environmentInjector=Z,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=A||$e,f.onChildOutletCreated(this.name,this)}ngOnDestroy(){var f;(null===(f=this.parentContexts.getContext(this.name))||void 0===f?void 0:f.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const f=this.parentContexts.getContext(this.name);f&&f.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Or);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Or);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Or);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,w){this.activated=f,this._activatedRoute=w,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,w){if(this.isActivated)throw new a.vHH(4013,Or);this._activatedRoute=f;const A=this.location,Z=f._futureSnapshot.component,z=this.parentContexts.getOrCreateContext(this.name).children,Ce=new fr(f,z,A.injector);if(w&&function li(l){return!!l.resolveComponentFactory}(w)){const We=w.resolveComponentFactory(Z);this.activated=A.createComponent(We,A.length,Ce)}else this.activated=A.createComponent(Z,{index:A.length,injector:Ce,environmentInjector:w??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return l.\u0275fac=function(f){return new(f||l)(a.Y36(lr),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},l.\u0275dir=a.lG2({type:l,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),l})();class fr{constructor(p,f,w){this.route=p,this.childContexts=f,this.parent=w}get(p,f){return p===ui?this.route:p===lr?this.childContexts:this.parent.get(p,f)}}let Sr=(()=>{class l{}return l.\u0275fac=function(f){return new(f||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(f,w){1&f&&a._UZ(0,"router-outlet")},dependencies:[cs],encapsulation:2}),l})();function Do(l,p){var f;return l.providers&&!l._injector&&(l._injector=(0,a.MMx)(l.providers,p,`Route: ${l.path}`)),null!==(f=l._injector)&&void 0!==f?f:p}function Po(l){const p=l.children&&l.children.map(Po),f=p?{...l,children:p}:{...l};return!f.component&&!f.loadComponent&&(p||f.loadChildren)&&f.outlet&&f.outlet!==$e&&(f.component=Sr),f}function oi(l){return l.outlet||$e}function Ki(l,p){const f=l.filter(w=>oi(w)===p);return f.push(...l.filter(w=>oi(w)!==p)),f}function Xi(l){var p;if(!l)return null;if(null!==(p=l.routeConfig)&&void 0!==p&&p._injector)return l.routeConfig._injector;for(let f=l.parent;f;f=f.parent){const w=f.routeConfig;if(null!=w&&w._loadedInjector)return w._loadedInjector;if(null!=w&&w._injector)return w._injector}return null}class us{constructor(p,f,w,A){this.routeReuseStrategy=p,this.futureState=f,this.currState=w,this.forwardEvent=A}activate(p){const f=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,w,p),is(this.futureState.root),this.activateChildRoutes(f,w,p)}deactivateChildRoutes(p,f,w){const A=Tr(f);p.children.forEach(O=>{const Z=O.value.outlet;this.deactivateRoutes(O,A[Z],w),delete A[Z]}),_t(A,(O,Z)=>{this.deactivateRouteAndItsChildren(O,w)})}deactivateRoutes(p,f,w){const A=p.value,O=f?f.value:null;if(A===O)if(A.component){const Z=w.getContext(A.outlet);Z&&this.deactivateChildRoutes(p,f,Z.children)}else this.deactivateChildRoutes(p,f,w);else O&&this.deactivateRouteAndItsChildren(f,w)}deactivateRouteAndItsChildren(p,f){p.value.component&&this.routeReuseStrategy.shouldDetach(p.value.snapshot)?this.detachAndStoreRouteSubtree(p,f):this.deactivateRouteAndOutlet(p,f)}detachAndStoreRouteSubtree(p,f){const w=f.getContext(p.value.outlet),A=w&&p.value.component?w.children:f,O=Tr(p);for(const Z of Object.keys(O))this.deactivateRouteAndItsChildren(O[Z],A);if(w&&w.outlet){const Z=w.outlet.detach(),z=w.children.onOutletDeactivated();this.routeReuseStrategy.store(p.value.snapshot,{componentRef:Z,route:p,contexts:z})}}deactivateRouteAndOutlet(p,f){const w=f.getContext(p.value.outlet),A=w&&p.value.component?w.children:f,O=Tr(p);for(const Z of Object.keys(O))this.deactivateRouteAndItsChildren(O[Z],A);w&&w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated(),w.attachRef=null,w.resolver=null,w.route=null)}activateChildRoutes(p,f,w){const A=Tr(f);p.children.forEach(O=>{this.activateRoutes(O,A[O.value.outlet],w),this.forwardEvent(new ws(O.value.snapshot))}),p.children.length&&this.forwardEvent(new ao(p.value.snapshot))}activateRoutes(p,f,w){const A=p.value,O=f?f.value:null;if(is(A),A===O)if(A.component){const z=w.getOrCreateContext(A.outlet);this.activateChildRoutes(p,f,z.children)}else this.activateChildRoutes(p,f,w);else if(A.component){const z=w.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const Ce=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),z.children.onOutletReAttached(Ce.contexts),z.attachRef=Ce.componentRef,z.route=Ce.route.value,z.outlet&&z.outlet.attach(Ce.componentRef,Ce.route.value),is(Ce.route.value),this.activateChildRoutes(p,null,z.children)}else{var Z;const Ce=Xi(A.snapshot),We=null!==(Z=Ce?.get(a._Vd))&&void 0!==Z?Z:null;z.attachRef=null,z.route=A,z.resolver=We,z.injector=Ce,z.outlet&&z.outlet.activateWith(A,z.injector),this.activateChildRoutes(p,null,z.children)}}else this.activateChildRoutes(p,null,w)}}class gs{constructor(p){this.path=p,this.route=this.path[this.path.length-1]}}class cr{constructor(p,f){this.component=p,this.route=f}}function Dr(l,p,f){const w=l._root;return mr(w,p?p._root:null,f,[w.value])}function Di(l,p){const f=Symbol(),w=p.get(l,f);return w===f?"function"!=typeof l||(0,a.Z0I)(l)?p.get(l):l:w}function mr(l,p,f,w,A={canDeactivateChecks:[],canActivateChecks:[]}){const O=Tr(p);return l.children.forEach(Z=>{(function es(l,p,f,w,A={canDeactivateChecks:[],canActivateChecks:[]}){const O=l.value,Z=p?p.value:null,z=f?f.getContext(l.value.outlet):null;if(Z&&O.routeConfig===Z.routeConfig){const Ce=function jt(l,p,f){if("function"==typeof f)return f(l,p);switch(f){case"pathParamsChange":return!lt(l.url,p.url);case"pathParamsOrQueryParamsChange":return!lt(l.url,p.url)||!vt(l.queryParams,p.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ks(l,p)||!vt(l.queryParams,p.queryParams);default:return!Ks(l,p)}}(Z,O,O.routeConfig.runGuardsAndResolvers);Ce?A.canActivateChecks.push(new gs(w)):(O.data=Z.data,O._resolvedData=Z._resolvedData),mr(l,p,O.component?z?z.children:null:f,w,A),Ce&&z&&z.outlet&&z.outlet.isActivated&&A.canDeactivateChecks.push(new cr(z.outlet.component,Z))}else Z&&cn(p,z,A),A.canActivateChecks.push(new gs(w)),mr(l,null,O.component?z?z.children:null:f,w,A)})(Z,O[Z.value.outlet],f,w.concat([Z.value]),A),delete O[Z.value.outlet]}),_t(O,(Z,z)=>cn(Z,f.getContext(z),A)),A}function cn(l,p,f){const w=Tr(l),A=l.value;_t(w,(O,Z)=>{cn(O,A.component?p?p.children.getContext(Z):null:p,f)}),f.canDeactivateChecks.push(new cr(A.component&&p&&p.outlet&&p.outlet.isActivated?p.outlet.component:null,A))}function Is(l){return"function"==typeof l}function yi(l){return l instanceof T.K||"EmptyError"===l?.name}const ds=Symbol("INITIAL_VALUE");function mi(){return(0,re.w)(l=>(0,S.a)(l.map(p=>p.pipe((0,ce.q)(1),(0,Ie.O)(ds)))).pipe((0,we.U)(p=>{for(const f of p)if(!0!==f){if(f===ds)return ds;if(!1===f||f instanceof k)return f}return!0}),(0,ke.h)(p=>p!==ds),(0,ce.q)(1)))}function en(l){return(0,R.z)((0,he.b)(p=>{if(Ft(p))throw Yi(0,p)}),(0,we.U)(p=>!0===p))}const Tn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ui(l,p,f,w,A){const O=Os(l,p,f);return O.matched?function On(l,p,f,w){const A=p.canMatch;if(!A||0===A.length)return(0,C.of)(!0);const O=A.map(Z=>{const z=Di(Z,l);return Ct(function Te(l){return l&&Is(l.canMatch)}(z)?z.canMatch(p,f):l.runInContext(()=>z(p,f)))});return(0,C.of)(O).pipe(mi(),en())}(w=Do(p,w),p,f).pipe((0,we.U)(Z=>!0===Z?O:{...Tn})):(0,C.of)(O)}function Os(l,p,f){var w;if(""===p.path)return"full"===p.pathMatch&&(l.hasChildren()||f.length>0)?{...Tn}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const O=(p.matcher||rn)(f,l,p);if(!O)return{...Tn};const Z={};_t(O.posParams,(Ce,We)=>{Z[We]=Ce.path});const z=O.consumed.length>0?{...Z,...O.consumed[O.consumed.length-1].parameters}:Z;return{matched:!0,consumedSegments:O.consumed,remainingSegments:f.slice(O.consumed.length),parameters:z,positionalParamSegments:null!==(w=O.posParams)&&void 0!==w?w:{}}}function Zi(l,p,f,w,A="corrected"){if(f.length>0&&function _o(l,p,f){return f.some(w=>V(l,p,w)&&oi(w)!==$e)}(l,f,w)){const Z=new pe(p,function nn(l,p,f,w){const A={};A[$e]=w,w._sourceSegment=l,w._segmentIndexShift=p.length;for(const O of f)if(""===O.path&&oi(O)!==$e){const Z=new pe([],{});Z._sourceSegment=l,Z._segmentIndexShift=p.length,A[oi(O)]=Z}return A}(l,p,w,new pe(f,l.children)));return Z._sourceSegment=l,Z._segmentIndexShift=p.length,{segmentGroup:Z,slicedSegments:[]}}if(0===f.length&&function Xr(l,p,f){return f.some(w=>V(l,p,w))}(l,f,w)){const Z=new pe(l.segments,function Rn(l,p,f,w,A,O){const Z={};for(const z of w)if(V(l,f,z)&&!A[oi(z)]){const Ce=new pe([],{});Ce._sourceSegment=l,Ce._segmentIndexShift="legacy"===O?l.segments.length:p.length,Z[oi(z)]=Ce}return{...A,...Z}}(l,p,f,w,l.children,A));return Z._sourceSegment=l,Z._segmentIndexShift=p.length,{segmentGroup:Z,slicedSegments:f}}const O=new pe(l.segments,l.children);return O._sourceSegment=l,O._segmentIndexShift=p.length,{segmentGroup:O,slicedSegments:f}}function V(l,p,f){return(!(l.hasChildren()||p.length>0)||"full"!==f.pathMatch)&&""===f.path}function ae(l,p,f,w){return!!(oi(l)===w||w!==$e&&V(p,f,l))&&("**"===l.path||Os(p,l,f).matched)}function q(l,p,f){return 0===p.length&&!l.children[f]}const ge=!1;class Re{constructor(p){this.segmentGroup=p||null}}class Dt{constructor(p){this.urlTree=p}}function Pt(l){return(0,y._)(new Re(l))}function dt(l){return(0,y._)(new Dt(l))}class un{constructor(p,f,w,A,O){this.injector=p,this.configLoader=f,this.urlSerializer=w,this.urlTree=A,this.config=O,this.allowRedirects=!0}apply(){const p=Zi(this.urlTree.root,[],[],this.config).segmentGroup,f=new pe(p.segments,p.children);return this.expandSegmentGroup(this.injector,this.config,f,$e).pipe((0,we.U)(O=>this.createUrlTree(Be(O),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Y.K)(O=>{if(O instanceof Dt)return this.allowRedirects=!1,this.match(O.urlTree);throw O instanceof Re?this.noMatchError(O):O}))}match(p){return this.expandSegmentGroup(this.injector,this.config,p.root,$e).pipe((0,we.U)(A=>this.createUrlTree(Be(A),p.queryParams,p.fragment))).pipe((0,Y.K)(A=>{throw A instanceof Re?this.noMatchError(A):A}))}noMatchError(p){return new a.vHH(4002,ge)}createUrlTree(p,f,w){const A=Xe(p);return new k(A,f,w)}expandSegmentGroup(p,f,w,A){return 0===w.segments.length&&w.hasChildren()?this.expandChildren(p,f,w).pipe((0,we.U)(O=>new pe([],O))):this.expandSegment(p,w,f,w.segments,A,!0)}expandChildren(p,f,w){const A=[];for(const O of Object.keys(w.children))"primary"===O?A.unshift(O):A.push(O);return(0,e.D)(A).pipe((0,me.b)(O=>{const Z=w.children[O],z=Ki(f,O);return this.expandSegmentGroup(p,z,Z,O).pipe((0,we.U)(Ce=>({segment:Ce,outlet:O})))}),fe((O,Z)=>(O[Z.outlet]=Z.segment,O),{}),mt())}expandSegment(p,f,w,A,O,Z){return(0,e.D)(w).pipe((0,me.b)(z=>this.expandSegmentAgainstRoute(p,f,w,z,A,O,Z).pipe((0,Y.K)(We=>{if(We instanceof Re)return(0,C.of)(null);throw We}))),(0,Ze.P)(z=>!!z),(0,Y.K)((z,Ce)=>{if(yi(z))return q(f,A,O)?(0,C.of)(new pe([],{})):Pt(f);throw z}))}expandSegmentAgainstRoute(p,f,w,A,O,Z,z){return ae(A,f,O,Z)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(p,f,A,O,Z):z&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(p,f,w,A,O,Z):Pt(f):Pt(f)}expandSegmentAgainstRouteUsingRedirect(p,f,w,A,O,Z){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(p,w,A,Z):this.expandRegularSegmentAgainstRouteUsingRedirect(p,f,w,A,O,Z)}expandWildCardWithParamsAgainstRouteUsingRedirect(p,f,w,A){const O=this.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?dt(O):this.lineralizeSegments(w,O).pipe((0,Ae.z)(Z=>{const z=new pe(Z,{});return this.expandSegment(p,z,f,Z,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(p,f,w,A,O,Z){const{matched:z,consumedSegments:Ce,remainingSegments:We,positionalParamSegments:Tt}=Os(f,A,O);if(!z)return Pt(f);const gt=this.applyRedirectCommands(Ce,A.redirectTo,Tt);return A.redirectTo.startsWith("/")?dt(gt):this.lineralizeSegments(A,gt).pipe((0,Ae.z)(Kt=>this.expandSegment(p,f,w,Kt.concat(We),Z,!1)))}matchSegmentAgainstRoute(p,f,w,A,O){return"**"===w.path?(p=Do(w,p),w.loadChildren?(w._loadedRoutes?(0,C.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):this.configLoader.loadChildren(p,w)).pipe((0,we.U)(z=>(w._loadedRoutes=z.routes,w._loadedInjector=z.injector,new pe(A,{})))):(0,C.of)(new pe(A,{}))):Ui(f,w,A,p).pipe((0,re.w)(({matched:Z,consumedSegments:z,remainingSegments:Ce})=>{var We;return Z?(p=null!==(We=w._injector)&&void 0!==We?We:p,this.getChildConfig(p,w,A).pipe((0,Ae.z)(gt=>{var Kt;const Pn=null!==(Kt=gt.injector)&&void 0!==Kt?Kt:p,ni=gt.routes,{segmentGroup:$i,slicedSegments:ur}=Zi(f,z,Ce,ni),Bs=new pe($i.segments,$i.children);if(0===ur.length&&Bs.hasChildren())return this.expandChildren(Pn,ni,Bs).pipe((0,we.U)(ba=>new pe(z,ba)));if(0===ni.length&&0===ur.length)return(0,C.of)(new pe(z,{}));const as=oi(w)===O;return this.expandSegment(Pn,Bs,ni,ur,as?$e:O,!0).pipe((0,we.U)(Ri=>new pe(z.concat(Ri.segments),Ri.children)))}))):Pt(f)}))}getChildConfig(p,f,w){return f.children?(0,C.of)({routes:f.children,injector:p}):f.loadChildren?void 0!==f._loadedRoutes?(0,C.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function Ht(l,p,f,w){const A=p.canLoad;if(void 0===A||0===A.length)return(0,C.of)(!0);const O=A.map(Z=>{const z=Di(Z,l);return Ct(function Zn(l){return l&&Is(l.canLoad)}(z)?z.canLoad(p,f):l.runInContext(()=>z(p,f)))});return(0,C.of)(O).pipe(mi(),en())}(p,f,w).pipe((0,Ae.z)(A=>A?this.configLoader.loadChildren(p,f).pipe((0,he.b)(O=>{f._loadedRoutes=O.routes,f._loadedInjector=O.injector})):function In(l){return(0,y._)(er(ge,3))}())):(0,C.of)({routes:[],injector:p})}lineralizeSegments(p,f){let w=[],A=f.root;for(;;){if(w=w.concat(A.segments),0===A.numberOfChildren)return(0,C.of)(w);if(A.numberOfChildren>1||!A.children[$e])return(0,y._)(new a.vHH(4e3,ge));A=A.children[$e]}}applyRedirectCommands(p,f,w){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),p,w)}applyRedirectCreateUrlTree(p,f,w,A){const O=this.createSegmentGroup(p,f.root,w,A);return new k(O,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(p,f){const w={};return _t(p,(A,O)=>{if("string"==typeof A&&A.startsWith(":")){const z=A.substring(1);w[O]=f[z]}else w[O]=A}),w}createSegmentGroup(p,f,w,A){const O=this.createSegments(p,f.segments,w,A);let Z={};return _t(f.children,(z,Ce)=>{Z[Ce]=this.createSegmentGroup(p,z,w,A)}),new pe(O,Z)}createSegments(p,f,w,A){return f.map(O=>O.path.startsWith(":")?this.findPosParam(p,O,A):this.findOrReturn(O,w))}findPosParam(p,f,w){const A=w[f.path.substring(1)];if(!A)throw new a.vHH(4001,ge);return A}findOrReturn(p,f){let w=0;for(const A of f){if(A.path===p.path)return f.splice(w),A;w++}return p}}class Fi{}class kr{constructor(p,f,w,A,O,Z,z,Ce){this.injector=p,this.rootComponentType=f,this.config=w,this.urlTree=A,this.url=O,this.paramsInheritanceStrategy=Z,this.relativeLinkResolution=z,this.urlSerializer=Ce}recognize(){const p=Zi(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,p,$e).pipe((0,we.U)(f=>{if(null===f)return null;const w=new Sn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$e,this.rootComponentType,null,this.urlTree.root,-1,{}),A=new Zs(w,f),O=new Ar(this.url,A);return this.inheritParamsAndData(O._root),O}))}inheritParamsAndData(p){const f=p.value,w=di(f,this.paramsInheritanceStrategy);f.params=Object.freeze(w.params),f.data=Object.freeze(w.data),p.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(p,f,w,A){return 0===w.segments.length&&w.hasChildren()?this.processChildren(p,f,w):this.processSegment(p,f,w,w.segments,A)}processChildren(p,f,w){return(0,e.D)(Object.keys(w.children)).pipe((0,me.b)(A=>{const O=w.children[A],Z=Ki(f,A);return this.processSegmentGroup(p,Z,O,A)}),fe((A,O)=>A&&O?(A.push(...O),A):null),function $(l,p=!1){return(0,G.e)((f,w)=>{let A=0;f.subscribe((0,j.x)(w,O=>{const Z=l(O,A++);(Z||p)&&w.next(O),!Z&&w.complete()}))})}(A=>null!==A),(0,et.d)(null),mt(),(0,we.U)(A=>{if(null===A)return null;const O=qr(A);return function rs(l){l.sort((p,f)=>p.value.outlet===$e?-1:f.value.outlet===$e?1:p.value.outlet.localeCompare(f.value.outlet))}(O),O}))}processSegment(p,f,w,A,O){return(0,e.D)(f).pipe((0,me.b)(Z=>{var z;return this.processSegmentAgainstRoute(null!==(z=Z._injector)&&void 0!==z?z:p,Z,w,A,O)}),(0,Ze.P)(Z=>!!Z),(0,Y.K)(Z=>{if(yi(Z))return q(w,A,O)?(0,C.of)([]):(0,C.of)(null);throw Z}))}processSegmentAgainstRoute(p,f,w,A,O){if(f.redirectTo||!ae(f,w,A,O))return(0,C.of)(null);let Z;if("**"===f.path){var z,Ce;const We=A.length>0?xt(A).parameters:{},Tt=jo(w)+A.length,gt=new Sn(A,We,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aa(f),oi(f),null!==(z=null!==(Ce=f.component)&&void 0!==Ce?Ce:f._loadedComponent)&&void 0!==z?z:null,f,Fs(w),Tt,Rr(f),Tt);Z=(0,C.of)({snapshot:gt,consumedSegments:[],remainingSegments:[]})}else Z=Ui(w,f,A,p).pipe((0,we.U)(({matched:We,consumedSegments:Tt,remainingSegments:gt,parameters:Kt})=>{var Pn,ni;if(!We)return null;const $i=jo(w)+Tt.length;return{snapshot:new Sn(Tt,Kt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aa(f),oi(f),null!==(Pn=null!==(ni=f.component)&&void 0!==ni?ni:f._loadedComponent)&&void 0!==Pn?Pn:null,f,Fs(w),$i,Rr(f),$i),consumedSegments:Tt,remainingSegments:gt}}));return Z.pipe((0,re.w)(We=>{var Tt,gt;if(null===We)return(0,C.of)(null);const{snapshot:Kt,consumedSegments:Pn,remainingSegments:ni}=We;p=null!==(Tt=f._injector)&&void 0!==Tt?Tt:p;const $i=null!==(gt=f._loadedInjector)&&void 0!==gt?gt:p,ur=function ji(l){return l.children?l.children:l.loadChildren?l._loadedRoutes:[]}(f),{segmentGroup:Bs,slicedSegments:as}=Zi(w,Pn,ni,ur.filter(Ri=>void 0===Ri.redirectTo),this.relativeLinkResolution);if(0===as.length&&Bs.hasChildren())return this.processChildren($i,ur,Bs).pipe((0,we.U)(Ri=>null===Ri?null:[new Zs(Kt,Ri)]));if(0===ur.length&&0===as.length)return(0,C.of)([new Zs(Kt,[])]);const Qr=oi(f)===O;return this.processSegment($i,ur,Bs,as,Qr?$e:O).pipe((0,we.U)(Ri=>null===Ri?null:[new Zs(Kt,Ri)]))}))}}function Er(l){const p=l.value.routeConfig;return p&&""===p.path&&void 0===p.redirectTo}function qr(l){const p=[],f=new Set;for(const w of l){if(!Er(w)){p.push(w);continue}const A=p.find(O=>w.value.routeConfig===O.value.routeConfig);void 0!==A?(A.children.push(...w.children),f.add(A)):p.push(w)}for(const w of f){const A=qr(w.children);p.push(new Zs(w.value,A))}return p.filter(w=>!f.has(w))}function Fs(l){let p=l;for(;p._sourceSegment;)p=p._sourceSegment;return p}function jo(l){var p;let f=l,w=null!==(p=f._segmentIndexShift)&&void 0!==p?p:0;for(;f._sourceSegment;){var A;f=f._sourceSegment,w+=null!==(A=f._segmentIndexShift)&&void 0!==A?A:0}return w-1}function aa(l){return l.data||{}}function Rr(l){return l.resolve||{}}function co(l){return"string"==typeof l.title||null===l.title}function ts(l){return(0,re.w)(p=>{const f=l(p);return f?(0,e.D)(f).pipe((0,we.U)(()=>p)):(0,C.of)(p)})}let tl=(()=>{class l{buildTitle(f){let w,A=f.root;for(;void 0!==A;){var O;w=null!==(O=this.getResolvedTitleForRoute(A))&&void 0!==O?O:w,A=A.children.find(Z=>Z.outlet===$e)}return w}getResolvedTitleForRoute(f){return f.data[ut]}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=a.Yz7({token:l,factory:function(){return(0,a.f3M)(Io)},providedIn:"root"}),l})(),Io=(()=>{class l extends tl{constructor(f){super(),this.title=f}updateTitle(f){const w=this.buildTitle(f);void 0!==w&&this.title.setTitle(w)}}return l.\u0275fac=function(f){return new(f||l)(a.LFG(ct.Dx))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();class eo{}class Lo extends class Tl{shouldDetach(p){return!1}store(p,f){}shouldAttach(p){return!1}retrieve(p){return null}shouldReuseRoute(p,f){return p.routeConfig===f.routeConfig}}{}const yo=new a.OlP("",{providedIn:"root",factory:()=>({})}),te=new a.OlP("ROUTES");let E=(()=>{class l{constructor(f,w){this.injector=f,this.compiler=w,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,C.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const w=Ct(f.loadComponent()).pipe((0,he.b)(O=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=O}),De(()=>{this.componentLoaders.delete(f)})),A=new Ee(w,()=>new ve.x).pipe(le());return this.componentLoaders.set(f,A),A}loadChildren(f,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,C.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const O=this.loadModuleFactoryOrRoutes(w.loadChildren).pipe((0,we.U)(z=>{this.onLoadEndListener&&this.onLoadEndListener(w);let Ce,We,Tt=!1;Array.isArray(z)?We=z:(Ce=z.create(f).injector,We=Ge(Ce.get(te,[],a.XFs.Self|a.XFs.Optional)));return{routes:We.map(Po),injector:Ce}}),De(()=>{this.childrenLoaders.delete(w)})),Z=new Ee(O,()=>new ve.x).pipe(le());return this.childrenLoaders.set(w,Z),Z}loadModuleFactoryOrRoutes(f){return Ct(f()).pipe((0,Ae.z)(w=>w instanceof a.YKP||Array.isArray(w)?(0,C.of)(w):(0,e.D)(this.compiler.compileModuleAsync(w))))}}return l.\u0275fac=function(f){return new(f||l)(a.LFG(a.zs3),a.LFG(a.Sil))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();class X{}class de{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,f){return p}}function ht(l){throw l}function ot(l,p,f){return p.parse("/")}const St={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ti(){var l,p;const f=(0,a.f3M)(dn),w=(0,a.f3M)(lr),A=(0,a.f3M)(ye.Ye),O=(0,a.f3M)(a.zs3),Z=(0,a.f3M)(a.Sil),z=null!==(l=(0,a.f3M)(te,{optional:!0}))&&void 0!==l?l:[],Ce=null!==(p=(0,a.f3M)(yo,{optional:!0}))&&void 0!==p?p:{},We=(0,a.f3M)(Io),Tt=(0,a.f3M)(tl,{optional:!0}),gt=(0,a.f3M)(X,{optional:!0}),Kt=(0,a.f3M)(eo,{optional:!0}),Pn=new Kn(null,f,w,A,O,Z,Ge(z));return gt&&(Pn.urlHandlingStrategy=gt),Kt&&(Pn.routeReuseStrategy=Kt),Pn.titleStrategy=Tt??We,function on(l,p){l.errorHandler&&(p.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(p.malformedUriErrorHandler=l.malformedUriErrorHandler),l.onSameUrlNavigation&&(p.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.relativeLinkResolution&&(p.relativeLinkResolution=l.relativeLinkResolution),l.urlUpdateStrategy&&(p.urlUpdateStrategy=l.urlUpdateStrategy),l.canceledNavigationResolution&&(p.canceledNavigationResolution=l.canceledNavigationResolution)}(Ce,Pn),Pn}let Kn=(()=>{class l{constructor(f,w,A,O,Z,z,Ce){this.rootComponentType=f,this.urlSerializer=w,this.rootContexts=A,this.location=O,this.config=Ce,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ve.x,this.errorHandler=ht,this.malformedUriErrorHandler=ot,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,C.of)(void 0),this.urlHandlingStrategy=new de,this.routeReuseStrategy=new Lo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Z.get(E),this.configLoader.onLoadEndListener=Kt=>this.triggerEvent(new Us(Kt)),this.configLoader.onLoadStartListener=Kt=>this.triggerEvent(new or(Kt)),this.ngModule=Z.get(a.h0i),this.console=Z.get(a.c2e);const gt=Z.get(a.R0b);this.isNgZoneEnabled=gt instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(Ce),this.currentUrlTree=function Ye(){return new k(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Hr(this.currentUrlTree,this.rootComponentType),this.transitions=new x.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var f;return null===(f=this.location.getState())||void 0===f?void 0:f.\u0275routerPageId}setupNavigations(f){const w=this.events;return f.pipe((0,ke.h)(A=>0!==A.id),(0,we.U)(A=>({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl)})),(0,re.w)(A=>{let O=!1,Z=!1;return(0,C.of)(A).pipe((0,he.b)(z=>{this.currentNavigation={id:z.id,initialUrl:z.rawUrl,extractedUrl:z.extractedUrl,trigger:z.source,extras:z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,re.w)(z=>{const Ce=this.browserUrlTree.toString(),We=!this.navigated||z.extractedUrl.toString()!==Ce||Ce!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||We)&&this.urlHandlingStrategy.shouldProcessUrl(z.rawUrl))return Nn(z.source)&&(this.browserUrlTree=z.extractedUrl),(0,C.of)(z).pipe((0,re.w)(gt=>{const Kt=this.transitions.getValue();return w.next(new Mi(gt.id,this.serializeUrl(gt.extractedUrl),gt.source,gt.restoredState)),Kt!==this.transitions.getValue()?F.E:Promise.resolve(gt)}),function ss(l,p,f,w){return(0,re.w)(A=>function wt(l,p,f,w,A){return new un(l,p,f,w,A).apply()}(l,p,f,A.extractedUrl,w).pipe((0,we.U)(O=>({...A,urlAfterRedirects:O}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,he.b)(gt=>{this.currentNavigation={...this.currentNavigation,finalUrl:gt.urlAfterRedirects},A.urlAfterRedirects=gt.urlAfterRedirects}),function nr(l,p,f,w,A,O){return(0,Ae.z)(Z=>function Bi(l,p,f,w,A,O,Z="emptyOnly",z="legacy"){return new kr(l,p,f,w,A,Z,z,O).recognize().pipe((0,re.w)(Ce=>null===Ce?function ps(l){return new B.y(p=>p.error(l))}(new Fi):(0,C.of)(Ce)))}(l,p,f,Z.urlAfterRedirects,w.serialize(Z.urlAfterRedirects),w,A,O).pipe((0,we.U)(z=>({...Z,targetSnapshot:z}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,he.b)(gt=>{if(A.targetSnapshot=gt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!gt.extras.skipLocationChange){const Pn=this.urlHandlingStrategy.merge(gt.urlAfterRedirects,gt.rawUrl);this.setBrowserUrl(Pn,gt)}this.browserUrlTree=gt.urlAfterRedirects}const Kt=new zr(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);w.next(Kt)}));if(We&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Kt,extractedUrl:Pn,source:ni,restoredState:$i,extras:ur}=z,Bs=new Mi(Kt,this.serializeUrl(Pn),ni,$i);w.next(Bs);const as=Hr(Pn,this.rootComponentType).snapshot;return A={...z,targetSnapshot:as,urlAfterRedirects:Pn,extras:{...ur,skipLocationChange:!1,replaceUrl:!1}},(0,C.of)(A)}return this.rawUrlTree=z.rawUrl,z.resolve(null),F.E}),(0,he.b)(z=>{const Ce=new Br(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(z.urlAfterRedirects),z.targetSnapshot);this.triggerEvent(Ce)}),(0,we.U)(z=>A={...z,guards:Dr(z.targetSnapshot,z.currentSnapshot,this.rootContexts)}),function Si(l,p){return(0,Ae.z)(f=>{const{targetSnapshot:w,currentSnapshot:A,guards:{canActivateChecks:O,canDeactivateChecks:Z}}=f;return 0===Z.length&&0===O.length?(0,C.of)({...f,guardsResult:!0}):function _n(l,p,f,w){return(0,e.D)(l).pipe((0,Ae.z)(A=>function ft(l,p,f,w,A){const O=p&&p.routeConfig?p.routeConfig.canDeactivate:null;if(!O||0===O.length)return(0,C.of)(!0);const Z=O.map(z=>{var Ce;const We=null!==(Ce=Xi(p))&&void 0!==Ce?Ce:A,Tt=Di(z,We);return Ct(function N(l){return l&&Is(l.canDeactivate)}(Tt)?Tt.canDeactivate(l,p,f,w):We.runInContext(()=>Tt(l,p,f,w))).pipe((0,Ze.P)())});return(0,C.of)(Z).pipe(mi())}(A.component,A.route,f,p,w)),(0,Ze.P)(A=>!0!==A,!0))}(Z,w,A,l).pipe((0,Ae.z)(z=>z&&function Ms(l){return"boolean"==typeof l}(z)?function ne(l,p,f,w){return(0,e.D)(p).pipe((0,me.b)(A=>(0,_.z)(function ze(l,p){return null!==l&&p&&p(new ar(l)),(0,C.of)(!0)}(A.route.parent,w),function _e(l,p){return null!==l&&p&&p(new Ji(l)),(0,C.of)(!0)}(A.route,w),function bt(l,p,f){const w=p[p.length-1],O=p.slice(0,p.length-1).reverse().map(Z=>function fi(l){const p=l.routeConfig?l.routeConfig.canActivateChild:null;return p&&0!==p.length?{node:l,guards:p}:null}(Z)).filter(Z=>null!==Z).map(Z=>(0,U.P)(()=>{const z=Z.guards.map(Ce=>{var We;const Tt=null!==(We=Xi(Z.node))&&void 0!==We?We:f,gt=Di(Ce,Tt);return Ct(function J(l){return l&&Is(l.canActivateChild)}(gt)?gt.canActivateChild(w,l):Tt.runInContext(()=>gt(w,l))).pipe((0,Ze.P)())});return(0,C.of)(z).pipe(mi())}));return(0,C.of)(O).pipe(mi())}(l,A.path,f),function st(l,p,f){const w=p.routeConfig?p.routeConfig.canActivate:null;if(!w||0===w.length)return(0,C.of)(!0);const A=w.map(O=>(0,U.P)(()=>{var Z;const z=null!==(Z=Xi(p))&&void 0!==Z?Z:f,Ce=Di(O,z);return Ct(function ee(l){return l&&Is(l.canActivate)}(Ce)?Ce.canActivate(p,l):z.runInContext(()=>Ce(p,l))).pipe((0,Ze.P)())}));return(0,C.of)(A).pipe(mi())}(l,A.route,f))),(0,Ze.P)(A=>!0!==A,!0))}(w,O,l,p):(0,C.of)(z)),(0,we.U)(z=>({...f,guardsResult:z})))})}(this.ngModule.injector,z=>this.triggerEvent(z)),(0,he.b)(z=>{if(A.guardsResult=z.guardsResult,Ft(z.guardsResult))throw Yi(0,z.guardsResult);const Ce=new Yr(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(z.urlAfterRedirects),z.targetSnapshot,!!z.guardsResult);this.triggerEvent(Ce)}),(0,ke.h)(z=>!!z.guardsResult||(this.restoreHistory(z),this.cancelNavigationTransition(z,"",3),!1)),ts(z=>{if(z.guards.canActivateChecks.length)return(0,C.of)(z).pipe((0,he.b)(Ce=>{const We=new Ln(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(We)}),(0,re.w)(Ce=>{let We=!1;return(0,C.of)(Ce).pipe(function Eo(l,p){return(0,Ae.z)(f=>{const{targetSnapshot:w,guards:{canActivateChecks:A}}=f;if(!A.length)return(0,C.of)(f);let O=0;return(0,e.D)(A).pipe((0,me.b)(Z=>function gr(l,p,f,w){const A=l.routeConfig,O=l._resolve;return void 0!==A?.title&&!co(A)&&(O[ut]=A.title),function jr(l,p,f,w){const A=function la(l){return[...Object.keys(l),...Object.getOwnPropertySymbols(l)]}(l);if(0===A.length)return(0,C.of)({});const O={};return(0,e.D)(A).pipe((0,Ae.z)(Z=>function el(l,p,f,w){var A;const O=null!==(A=Xi(p))&&void 0!==A?A:w,Z=Di(l,O);return Ct(Z.resolve?Z.resolve(p,f):O.runInContext(()=>Z(p,f)))}(l[Z],p,f,w).pipe((0,Ze.P)(),(0,he.b)(z=>{O[Z]=z}))),xe(1),(0,be.h)(O),(0,Y.K)(Z=>yi(Z)?F.E:(0,y._)(Z)))}(O,l,p,w).pipe((0,we.U)(Z=>(l._resolvedData=Z,l.data=di(l,f).resolve,A&&co(A)&&(l.data[ut]=A.title),null)))}(Z.route,w,l,p)),(0,he.b)(()=>O++),xe(1),(0,Ae.z)(Z=>O===A.length?(0,C.of)(f):F.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,he.b)({next:()=>We=!0,complete:()=>{We||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",2))}}))}),(0,he.b)(Ce=>{const We=new rr(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(We)}))}),ts(z=>{const Ce=We=>{var Tt;const gt=[];null!==(Tt=We.routeConfig)&&void 0!==Tt&&Tt.loadComponent&&!We.routeConfig._loadedComponent&&gt.push(this.configLoader.loadComponent(We.routeConfig).pipe((0,he.b)(Kt=>{We.component=Kt}),(0,we.U)(()=>{})));for(const Kt of We.children)gt.push(...Ce(Kt));return gt};return(0,S.a)(Ce(z.targetSnapshot.root)).pipe((0,et.d)(),(0,ce.q)(1))}),ts(()=>this.afterPreactivation()),(0,we.U)(z=>{const Ce=function ls(l,p,f){const w=Ds(l,p._root,f?f._root:void 0);return new lo(w,p)}(this.routeReuseStrategy,z.targetSnapshot,z.currentRouterState);return A={...z,targetRouterState:Ce}}),(0,he.b)(z=>{this.currentUrlTree=z.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),this.routerState=z.targetRouterState,"deferred"===this.urlUpdateStrategy&&(z.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,z),this.browserUrlTree=z.urlAfterRedirects)}),((l,p,f)=>(0,we.U)(w=>(new us(p,w.targetRouterState,w.currentRouterState,f).activate(l),w)))(this.rootContexts,this.routeReuseStrategy,z=>this.triggerEvent(z)),(0,he.b)({next(){O=!0},complete(){O=!0}}),De(()=>{var z;O||Z||this.cancelNavigationTransition(A,"",1),(null===(z=this.currentNavigation)||void 0===z?void 0:z.id)===A.id&&(this.currentNavigation=null)}),(0,Y.K)(z=>{if(Z=!0,pi(z)){qi(z)||(this.navigated=!0,this.restoreHistory(A,!0));const We=new ki(A.id,this.serializeUrl(A.extractedUrl),z.message,z.cancellationCode);if(w.next(We),qi(z)){const Tt=this.urlHandlingStrategy.merge(z.url,this.rawUrlTree),gt={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nn(A.source)};this.scheduleNavigation(Tt,"imperative",null,gt,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{var Ce;this.restoreHistory(A,!0);const We=new Cs(A.id,this.serializeUrl(A.extractedUrl),z,null!==(Ce=A.targetSnapshot)&&void 0!==Ce?Ce:void 0);w.next(We);try{A.resolve(this.errorHandler(z))}catch(Tt){A.reject(Tt)}}return F.E}))}))}resetRootComponentType(f){this.rootComponentType=f,this.routerState.root.component=this.rootComponentType}setTransition(f){this.transitions.next({...this.transitions.value,...f})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const w="popstate"===f.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{var A;const O={replaceUrl:!0},Z=null!==(A=f.state)&&void 0!==A&&A.navigationId?f.state:null;if(Z){const Ce={...Z};delete Ce.navigationId,delete Ce.\u0275routerPageId,0!==Object.keys(Ce).length&&(O.state=Ce)}const z=this.parseUrl(f.url);this.scheduleNavigation(z,w,Z,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(f){this.events.next(f)}resetConfig(f){this.config=f.map(Po),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,w={}){const{relativeTo:A,queryParams:O,fragment:Z,queryParamsHandling:z,preserveFragment:Ce}=w,We=A||this.routerState.root,Tt=Ce?this.currentUrlTree.fragment:Z;let gt=null;switch(z){case"merge":gt={...this.currentUrlTree.queryParams,...O};break;case"preserve":gt=this.currentUrlTree.queryParams;break;default:gt=O||null}return null!==gt&&(gt=this.removeEmptyProps(gt)),ys(We,this.currentUrlTree,f,gt,Tt??null)}navigateByUrl(f,w={skipLocationChange:!1}){const A=Ft(f)?f:this.parseUrl(f),O=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(O,"imperative",null,w)}navigate(f,w={skipLocationChange:!1}){return function hs(l){for(let p=0;p<l.length;p++){if(null==l[p])throw new a.vHH(4008,false)}}(f),this.navigateByUrl(this.createUrlTree(f,w),w)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let w;try{w=this.urlSerializer.parse(f)}catch(A){w=this.malformedUriErrorHandler(A,this.urlSerializer,f)}return w}isActive(f,w){let A;if(A=!0===w?{...St}:!1===w?{...Wt}:w,Ft(f))return Ke(this.currentUrlTree,f,A);const O=this.parseUrl(f);return Ke(this.currentUrlTree,O,A)}removeEmptyProps(f){return Object.keys(f).reduce((w,A)=>{const O=f[A];return null!=O&&(w[A]=O),w},{})}processNavigations(){this.navigations.subscribe(f=>{var w;this.navigated=!0,this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId,this.events.next(new $s(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(w=this.titleStrategy)||void 0===w||w.updateTitle(this.routerState.snapshot),f.resolve(!0)},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}scheduleNavigation(f,w,A,O,Z){if(this.disposed)return Promise.resolve(!1);let z,Ce,We;Z?(z=Z.resolve,Ce=Z.reject,We=Z.promise):We=new Promise((ni,$i)=>{z=ni,Ce=$i});const Tt=++this.navigationId;let gt;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(A=this.location.getState()),A&&A.\u0275routerPageId)gt=A.\u0275routerPageId;else if(O.replaceUrl||O.skipLocationChange){var Kt;gt=null!==(Kt=this.browserPageId)&&void 0!==Kt?Kt:0}else{var Pn;gt=(null!==(Pn=this.browserPageId)&&void 0!==Pn?Pn:0)+1}else gt=0;return this.setTransition({id:Tt,targetPageId:gt,source:w,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:f,extras:O,resolve:z,reject:Ce,promise:We,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),We.catch(ni=>Promise.reject(ni))}setBrowserUrl(f,w){const A=this.urlSerializer.serialize(f),O={...w.extras.state,...this.generateNgRouterState(w.id,w.targetPageId)};this.location.isCurrentPathEqualTo(A)||w.extras.replaceUrl?this.location.replaceState(A,"",O):this.location.go(A,"",O)}restoreHistory(f,w=!1){if("computed"===this.canceledNavigationResolution){var A,O;const Z=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(A=this.currentNavigation)||void 0===A?void 0:A.finalUrl)||0===Z?this.currentUrlTree===(null===(O=this.currentNavigation)||void 0===O?void 0:O.finalUrl)&&0===Z&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Z)}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(f,w,A){const O=new ki(f.id,this.serializeUrl(f.extractedUrl),w,A);this.triggerEvent(O),f.resolve(!1)}generateNgRouterState(f,w){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:w}:{navigationId:f}}}return l.\u0275fac=function(f){a.$Z()},l.\u0275prov=a.Yz7({token:l,factory:function(){return ti()},providedIn:"root"}),l})();function Nn(l){return"imperative"!==l}let os=(()=>{class l{constructor(f,w,A,O,Z){this.router=f,this.route=w,this.tabIndexAttribute=A,this.renderer=O,this.el=Z,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ve.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(f){this._preserveFragment=(0,a.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,a.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,a.D6c)(f)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(f){if(null!=this.tabIndexAttribute)return;const w=this.renderer,A=this.el.nativeElement;null!==f?w.setAttribute(A,"tabindex",f):w.removeAttribute(A,"tabindex")}ngOnChanges(f){this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return l.\u0275fac=function(f){return new(f||l)(a.Y36(Kn),a.Y36(ui),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},l.\u0275dir=a.lG2({type:l,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,w){1&f&&a.NdJ("click",function(){return w.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),l})(),to=(()=>{class l{constructor(f,w,A){this.router=f,this.route=w,this.locationStrategy=A,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ve.x,this.subscription=f.events.subscribe(O=>{O instanceof $s&&this.updateTargetUrlAndHref()})}set preserveFragment(f){this._preserveFragment=(0,a.D6c)(f)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(f){this._skipLocationChange=(0,a.D6c)(f)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(f){this._replaceUrl=(0,a.D6c)(f)}get replaceUrl(){return this._replaceUrl}set routerLink(f){this.commands=null!=f?Array.isArray(f)?f:[f]:null}ngOnChanges(f){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(f,w,A,O,Z){return!!(0!==f||w||A||O||Z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return l.\u0275fac=function(f){return new(f||l)(a.Y36(Kn),a.Y36(ui),a.Y36(ye.S$))},l.\u0275dir=a.lG2({type:l,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(f,w){1&f&&a.NdJ("click",function(O){return w.onClick(O.button,O.ctrlKey,O.shiftKey,O.altKey,O.metaKey)}),2&f&&a.uIk("target",w.target)("href",w.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),l})(),Pr=(()=>{class l{constructor(f,w,A,O,Z,z){this.router=f,this.element=w,this.renderer=A,this.cdr=O,this.link=Z,this.linkWithHref=z,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=f.events.subscribe(Ce=>{Ce instanceof $s&&this.update()})}ngAfterContentInit(){(0,C.of)(this.links.changes,this.linksWithHrefs.changes,(0,C.of)(null)).pipe((0,qe.J)()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var f;null===(f=this.linkInputChangesSubscription)||void 0===f||f.unsubscribe();const w=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(A=>!!A).map(A=>A.onChanges);this.linkInputChangesSubscription=(0,e.D)(w).pipe((0,qe.J)()).subscribe(A=>{this.isActive!==this.isLinkActive(this.router)(A)&&this.update()})}set routerLinkActive(f){const w=Array.isArray(f)?f:f.split(" ");this.classes=w.filter(A=>!!A)}ngOnChanges(f){this.update()}ngOnDestroy(){var f;this.routerEventsSubscription.unsubscribe(),null===(f=this.linkInputChangesSubscription)||void 0===f||f.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const f=this.hasActiveLinks();this.isActive!==f&&(this.isActive=f,this.cdr.markForCheck(),this.classes.forEach(w=>{f?this.renderer.addClass(this.element.nativeElement,w):this.renderer.removeClass(this.element.nativeElement,w)}),f&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(f))})}isLinkActive(f){const w=function Co(l){return!!l.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return A=>!!A.urlTree&&f.isActive(A.urlTree,w)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.linkWithHref&&f(this.linkWithHref)||this.links.some(f)||this.linksWithHrefs.some(f)}}return l.\u0275fac=function(f){return new(f||l)(a.Y36(Kn),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(os,8),a.Y36(to,8))},l.\u0275dir=a.lG2({type:l,selectors:[["","routerLinkActive",""]],contentQueries:function(f,w,A){if(1&f&&(a.Suo(A,os,5),a.Suo(A,to,5)),2&f){let O;a.iGM(O=a.CRH())&&(w.links=O),a.iGM(O=a.CRH())&&(w.linksWithHrefs=O)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),l})();class nl{}let Al=(()=>{class l{constructor(f,w,A,O,Z){this.router=f,this.injector=A,this.preloadingStrategy=O,this.loader=Z}setUpPreloading(){this.subscription=this.router.events.pipe((0,ke.h)(f=>f instanceof $s),(0,me.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,w){const A=[];for(const Ce of w){var O,Z;Ce.providers&&!Ce._injector&&(Ce._injector=(0,a.MMx)(Ce.providers,f,`Route: ${Ce.path}`));const We=null!==(O=Ce._injector)&&void 0!==O?O:f,Tt=null!==(Z=Ce._loadedInjector)&&void 0!==Z?Z:We;if(Ce.loadChildren&&!Ce._loadedRoutes&&void 0===Ce.canLoad||Ce.loadComponent&&!Ce._loadedComponent)A.push(this.preloadConfig(We,Ce));else if(Ce.children||Ce._loadedRoutes){var z;A.push(this.processRoutes(Tt,null!==(z=Ce.children)&&void 0!==z?z:Ce._loadedRoutes))}}return(0,e.D)(A).pipe((0,qe.J)())}preloadConfig(f,w){return this.preloadingStrategy.preload(w,()=>{let A;A=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(f,w):(0,C.of)(null);const O=A.pipe((0,Ae.z)(Z=>{var z;return null===Z?(0,C.of)(void 0):(w._loadedRoutes=Z.routes,w._loadedInjector=Z.injector,this.processRoutes(null!==(z=Z.injector)&&void 0!==z?z:f,Z.routes))}));if(w.loadComponent&&!w._loadedComponent){const Z=this.loader.loadComponent(w);return(0,e.D)([O,Z]).pipe((0,qe.J)())}return O})}}return l.\u0275fac=function(f){return new(f||l)(a.LFG(Kn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(nl),a.LFG(E))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const $r=new a.OlP("");let $o=(()=>{class l{constructor(f,w,A={}){this.router=f,this.viewportScroller=w,this.options=A,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},A.scrollPositionRestoration=A.scrollPositionRestoration||"disabled",A.anchorScrolling=A.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(f=>{f instanceof Mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof $s&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.router.parseUrl(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(f=>{f instanceof br&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,w){this.router.triggerEvent(new br(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return l.\u0275fac=function(f){a.$Z()},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac}),l})();function gi(l,p){return{\u0275kind:l,\u0275providers:p}}function wa(l){return[{provide:te,multi:!0,useValue:l}]}function Rc(){const l=(0,a.f3M)(a.zs3);return p=>{var f,w;const A=l.get(a.z2F);if(p!==A.components[0])return;const O=l.get(Kn),Z=l.get(zl);1===l.get(Vi)&&O.initialNavigation(),null===(f=l.get(Pc,null,a.XFs.Optional))||void 0===f||f.setUpPreloading(),null===(w=l.get($r,null,a.XFs.Optional))||void 0===w||w.init(),O.resetRootComponentType(A.componentTypes[0]),Z.next(),Z.complete()}}const zl=new a.OlP("",{factory:()=>new ve.x}),Vi=new a.OlP("",{providedIn:"root",factory:()=>1});const Pc=new a.OlP("");function Uu(l){return gi(0,[{provide:Pc,useExisting:Al},{provide:nl,useExisting:l}])}const Yl=new a.OlP("ROUTER_FORROOT_GUARD"),sp=[ye.Ye,{provide:dn,useClass:Bt},{provide:Kn,useFactory:ti},lr,{provide:ui,useFactory:function Ir(l){return l.routerState.root},deps:[Kn]},E];function Qs(){return new a.PXZ("Router",Kn)}let ua=(()=>{class l{constructor(f){}static forRoot(f,w){return{ngModule:l,providers:[sp,[],wa(f),{provide:Yl,useFactory:Wr,deps:[[Kn,new a.FiY,new a.tp0]]},{provide:yo,useValue:w||{}},null!=w&&w.useHash?{provide:ye.S$,useClass:ye.Do}:{provide:ye.S$,useClass:ye.b0},{provide:$r,useFactory:()=>{const l=(0,a.f3M)(Kn),p=(0,a.f3M)(ye.EM),f=(0,a.f3M)(yo);return f.scrollOffset&&p.setOffset(f.scrollOffset),new $o(l,p,f)}},null!=w&&w.preloadingStrategy?Uu(w.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Qs},null!=w&&w.initialNavigation?Zo(w):[],[{provide:xi,useFactory:Rc},{provide:a.tb,multi:!0,useExisting:xi}]]}}static forChild(f){return{ngModule:l,providers:[wa(f)]}}}return l.\u0275fac=function(f){return new(f||l)(a.LFG(Yl,8))},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[Sr]}),l})();function Wr(l){return"guarded"}function Zo(l){return["disabled"===l.initialNavigation?gi(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const p=(0,a.f3M)(Kn);return()=>{p.setUpLocationChangeListener()}}},{provide:Vi,useValue:2}]).\u0275providers:[],"enabledBlocking"===l.initialNavigation?gi(2,[{provide:Vi,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:p=>{const f=p.get(ye.V_,Promise.resolve());let w=!1;return()=>f.then(()=>new Promise(O=>{const Z=p.get(Kn),z=p.get(zl);(function A(O){p.get(Kn).events.pipe((0,ke.h)(z=>z instanceof $s||z instanceof ki||z instanceof Cs),(0,we.U)(z=>z instanceof $s||z instanceof ki&&(0===z.code||1===z.code)&&null),(0,ke.h)(z=>null!==z),(0,ce.q)(1)).subscribe(()=>{O()})})(()=>{O(!0),w=!0}),Z.afterPreactivation=()=>(O(!0),w||z.closed?(0,C.of)(void 0):z),Z.initialNavigation()}))}}]).\u0275providers:[]]}const xi=new a.OlP("")},2979:(it,oe,g)=>{"use strict";g.d(oe,{DJ:()=>Ue,fQ:()=>At,lO:()=>$e,An:()=>qe,uh:()=>fe});var a=g(4650),e=g(8185),C=g(9751),x=g(7579),T=g(4707),S=g(9646),_=g(2076),U=g(5191),R=g(9300),y=g(4482),B=g(5403),K=g(5577),G=g(4004),j=g(9066),le=g(6895),Ee=g(529);const ve=new a.OlP("LOCALIZE_ROUTER_FORROOT_GUARD"),ye=new a.OlP("RAW_ROUTES");var we=(()=>{return(_t=we||(we={})).LocalStorage="LocalStorage",_t.SessionStorage="SessionStorage",_t.Cookie="Cookie",we;var _t})();const re=new a.OlP("USE_CACHED_LANG"),ce=new a.OlP("CACHE_MECHANISM"),Ie=new a.OlP("CACHE_NAME"),ke=new a.OlP("COOKIE_FORMAT"),Ae=new a.OlP("INITIAL_NAVIGATION"),Ze=new a.OlP("DEFAULT_LANG_FUNCTION"),me=new a.OlP("ALWAYS_SET_PREFIX");let fe=(()=>{class _t{constructor(nt=!0,Ye=!0,Mt=we.LocalStorage,Oe="LOCALIZE_DEFAULT_LANGUAGE",Ke,Zt="{{value}};{{expires}}",tt=!1){this.useCachedLang=nt,this.alwaysSetPrefix=Ye,this.cacheName=Oe,this.cookieFormat=Zt,this.initialNavigation=tt,this.cacheMechanism=Mt,this.defaultLangFunction=Ke}}return _t.\u0275fac=function(nt){return new(nt||_t)(a.LFG(re),a.LFG(me),a.LFG(ce),a.LFG(Ie),a.LFG(Ze),a.LFG(ke),a.LFG(Ae))},_t.\u0275prov=a.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),Ue=(()=>{class _t{constructor(nt,Ye,Mt){this.translate=nt,this.location=Ye,this.settings=Mt}init(nt){let Ye;if(this.routes=nt,!this.locales||!this.locales.length)return Promise.resolve();const Mt=this.getLocationLang(),Oe=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,Oe):this._cachedLang||Oe||this.locales[0],Ye=Mt||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let Ke=[];if(this.settings.alwaysSetPrefix){const tt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},Ne=nt.findIndex(W=>"**"===W.path);-1!==Ne&&(this._wildcardRoute=nt.splice(Ne,1)[0]),Ke=this.routes.splice(0,this.routes.length,tt)}else Ke=[...this.routes];for(let tt=Ke.length-1;tt>=0;tt--)Ke[tt].data&&Ke[tt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(Ke[tt]),(void 0===Ke[tt].redirectTo||!Ke[tt].data.skipRouteLocalization.localizeRedirectTo)&&Ke.splice(tt,1));return Ke&&Ke.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:Ke},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),this.translateRoutes(Ye).toPromise()}initChildRoutes(nt){return this._translateRouteTree(nt),nt}translateRoutes(nt){return new C.y(Ye=>{this._cachedLang=nt,this._languageRoute&&(this._languageRoute.path=nt),this.translate.use(nt).subscribe(Mt=>{this._translationObject=Mt,this.currentLang=nt,this._languageRoute?(this._languageRoute&&this._translateRouteTree(this._languageRoute.children),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes),Ye.next(void 0),Ye.complete()})})}_translateRouteTree(nt){nt.forEach(Ye=>{const Mt=Ye.data&&Ye.data.skipRouteLocalization;Ye.redirectTo&&(!Mt||Mt.localizeRedirectTo)&&this._translateProperty(Ye,"redirectTo",!Ye.redirectTo.indexOf("/")),Mt||(null!=Ye.path&&this._translateProperty(Ye,"path"),Ye.children&&this._translateRouteTree(Ye.children),Ye.loadChildren&&Ye._loadedConfig&&this._translateRouteTree(Ye._loadedConfig.routes))})}_translateProperty(nt,Ye,Mt){const Oe=nt.data=nt.data||{};Oe.localizeRouter||(Oe.localizeRouter={}),Oe.localizeRouter[Ye]||(Oe.localizeRouter={...Oe.localizeRouter,[Ye]:nt[Ye]});const Ke=this.translateRoute(Oe.localizeRouter[Ye]);nt[Ye]=Mt?this.addPrefixToUrl(Ke):Ke}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(nt){const Ye=nt.split("?");return Ye[0]=Ye[0].replace(/\/$/,""),`/${this.urlPrefix}${Ye.join("?")}`}translateRoute(nt){const Ye=nt.split("?");if(Ye.length>2)throw Error("There should be only one query parameter block in the URL");return Ye[0].split("/").map(Oe=>Oe.length?this.translateText(Oe):Oe).join("/")+(Ye.length>1?`?${Ye[1]}`:"")}getLocationLang(nt){const Ye=(nt||this.location.path()).split(/[\?;]/);let Mt=[];return Ye.length>0&&(Mt=Ye[0].split("/")),Mt.length>1&&-1!==this.locales.indexOf(Mt[1])?Mt[1]:Mt.length&&-1!==this.locales.indexOf(Mt[0])?Mt[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===we.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===we.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===we.Cookie)return this._cacheWithCookies()}}set _cachedLang(nt){!this.settings.useCachedLang||(this.settings.cacheMechanism===we.LocalStorage&&this._cacheWithLocalStorage(nt),this.settings.cacheMechanism===we.SessionStorage&&this._cacheWithSessionStorage(nt),this.settings.cacheMechanism===we.Cookie&&this._cacheWithCookies(nt))}_cacheWithLocalStorage(nt){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return nt?void window.localStorage.setItem(this.settings.cacheName,nt):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(nt){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return nt?void window.sessionStorage.setItem(this.settings.cacheName,nt):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(nt){try{if(typeof document>"u"||typeof document.cookie>"u")return;const Ye=encodeURIComponent(this.settings.cacheName);if(nt){let Ke=`${this.settings.cookieFormat}`;return Ke=Ke.replace("{{value}}",`${Ye}=${encodeURIComponent(nt)}`).replace(/{{expires:?(\d+)?}}/g,(Zt,tt)=>{const Ne=void 0===tt?30:parseInt(tt,10),W=new Date;return W.setTime(W.getTime()+864e5*Ne),`expires=${W.toUTCString()}`}),void(document.cookie=Ke)}const Oe=new RegExp("(?:^"+Ye+"|;\\s*"+Ye+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(Oe[1])}catch{return}}_returnIfInLocales(nt){return nt&&-1!==this.locales.indexOf(nt)?nt:null}translateText(nt){if(this.escapePrefix&&nt.startsWith(this.escapePrefix))return nt.replace(this.escapePrefix,"");{if(!this._translationObject)return nt;const Ye=this.prefix+nt,Mt=this.translate.getParsedResult(this._translationObject,Ye);return Mt!==Ye?Mt:nt}}chooseQueryParams(nt,Ye){let Mt;return nt&&nt.queryParams?Mt=nt.queryParams:Ye&&(Mt=Ye),Mt}formatQueryParams(nt){return new Ee.LE({fromObject:nt}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return _t.\u0275fac=function(nt){return new(nt||_t)(a.LFG(j.sK),a.LFG(le.Ye),a.LFG(fe))},_t.\u0275prov=a.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),Qe=(()=>{class _t extends Ue{load(nt){return new Promise(Ye=>{this.init(nt).then(Ye)})}}return _t.\u0275fac=function(){let Ct;return function(Ye){return(Ct||(Ct=a.n5z(_t)))(Ye||_t)}}(),_t.\u0275prov=a.Yz7({token:_t,factory:_t.\u0275fac}),_t})();function mt(_t,Ct){if(_t===Ct)return!0;if(null===_t||null===Ct)return!1;if(_t!=_t&&Ct!=Ct)return!0;const nt=typeof _t;let Mt,Oe,Ke;if(nt===typeof Ct&&"object"===nt){if(!Array.isArray(_t)){if(Array.isArray(Ct))return!1;for(Oe in Ke=Object.create(null),_t)if(_t.hasOwnProperty(Oe)){if(!mt(_t[Oe],Ct[Oe]))return!1;Ke[Oe]=!0}for(Oe in Ct)if(Ct.hasOwnProperty(Oe)&&!(Oe in Ke)&&typeof Ct[Oe]<"u")return!1;return!0}if(!Array.isArray(Ct))return!1;if((Mt=_t.length)===Ct.length){for(Oe=0;Oe<Mt;Oe++)if(!mt(_t[Oe],Ct[Oe]))return!1;return!0}}return!1}function be(_t){const Ct=Array.isArray(_t)?[]:{};for(const nt in _t)if(nt){const Ye=_t[nt];Ct[nt]="object"==typeof Ye?be(Ye):Ye}return Ct}function De(_t){return _t.reduce((Ct,nt)=>{const Ye=Array.isArray(nt)?De(nt):nt;return Ct.concat(Ye)},[])}let qe=(()=>{class _t{constructor(nt,Ye,Mt,Oe){this.parser=nt,this.settings=Ye,this.router=Mt,this.route=Oe,this.routerEvents=new x.x;const Ke=new T.t(1);this.hooks={_initializedSubject:Ke,initialized:Ke.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,R.h)(nt=>nt instanceof e.OD),function F(){return(0,y.e)((_t,Ct)=>{let nt,Ye=!1;_t.subscribe((0,B.x)(Ct,Mt=>{const Oe=nt;nt=Mt,Ye&&Ct.next([Oe,Mt]),Ye=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(nt,Ye,Mt){if(nt!==this.parser.currentLang){const Oe=this.router.routerState.snapshot.root;this.parser.translateRoutes(nt).subscribe(()=>{let Ke=this.traverseRouteSnapshot(Oe);if(Ke=this.translateRoute(Ke),!this.settings.alwaysSetPrefix){let Ne=Ke.split("/");const W=Ne.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===W||1===W&&""===Ne[0])&&(Ne=Ne.slice(0,W).concat(Ne.slice(W+1)));else if(-1===W){const P=""===Ne[0]?1:0;Ne=Ne.slice(0,P).concat(this.parser.currentLang,Ne.slice(P))}Ke=Ne.join("/")}Ke=Ke.replace(/\/+/g,"/");const Zt=Ke.lastIndexOf("/");Zt>0&&Zt===Ke.length-1&&(Ke=Ke.slice(0,-1));const tt=this.parser.chooseQueryParams(Ye,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=Ye,Mt){const Ne=Ye?{...Ye}:{};tt&&(Ne.queryParams=tt),this.router.navigate([Ke],Ne)}else{let Ne=this.parser.formatQueryParams(tt);Ne=Ne?`?${Ne}`:"",this.router.navigateByUrl(`${Ke}${Ne}`,Ye)}})}}traverseRouteSnapshot(nt){return nt.firstChild&&nt.routeConfig?`${this.parseSegmentValue(nt)}/${this.traverseRouteSnapshot(nt.firstChild)}`:nt.firstChild?this.traverseRouteSnapshot(nt.firstChild):this.parseSegmentValue(nt)}buildUrlFromSegments(nt,Ye){return Ye.map((Mt,Oe)=>0===Mt.indexOf(":")?nt.url[Oe].path:Mt).join("/")}parseSegmentValue(nt){if(nt.routeConfig&&nt.routeConfig.matcher){const Ye=this.parseSegmentValueMatcher(nt);return this.buildUrlFromSegments(nt,Ye)}if(nt.data.localizeRouter){const Mt=nt.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(nt,Mt)}if(nt.parent&&nt.parent.parent){const Mt=nt.routeConfig.path.split("/");return this.buildUrlFromSegments(nt,Mt)}return""}parseSegmentValueMatcher(nt){const Ye=nt.data&&nt.data.localizeMatcher&&nt.data.localizeMatcher.params||{};return nt.url.map(Oe=>{const Ke=Oe.path,Zt=Oe.localizedParamName;return(Zt&&Ye[Zt]?Ye[Zt](Ke):null)||`${this.parser.getEscapePrefix()}${Ke}`})}translateRoute(nt){if("string"==typeof nt){const Mt=this.parser.translateRoute(nt);return nt.indexOf("/")?Mt:this.parser.addPrefixToUrl(Mt)}const Ye=[];return nt.forEach((Mt,Oe)=>{if("string"==typeof Mt){const Ke=this.parser.translateRoute(Mt);Oe||Mt.indexOf("/")?Ye.push(Ke):Ye.push(this.parser.addPrefixToUrl(Ke))}else Ye.push(Mt)}),Ye}_routeChanged(){return([nt,Ye])=>{const Mt=this.parser.getLocationLang(nt.url)||this.parser.defaultLang,Oe=this.parser.getLocationLang(Ye.url)||this.parser.defaultLang,Ke=this.lastExtras;Oe!==Mt&&this.latestUrl!==Ye.url&&(this.latestUrl=Ye.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(Oe).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(Ye.url,Ke),this.routerEvents.next(Oe)})),this.latestUrl=Ye.url}}cancelCurrentNavigation(){const nt=this.router.getCurrentNavigation(),Ye=this.router.serializeUrl(nt.extractedUrl);this.router.events.next(new e.gk(nt.id,Ye,"")),this.router.transitions.next({...this.router.transitions.getValue(),id:0})}applyConfigToRouter(nt){this.router.resetConfig(be(nt))}}return _t.\u0275fac=function(nt){return new(nt||_t)(a.LFG(Ue),a.LFG(fe),a.LFG(e.F0),a.LFG(e.gz))},_t.\u0275prov=a.Yz7({token:_t,factory:_t.\u0275fac}),_t})(),$e=(()=>{class _t{constructor(nt,Ye){this.localize=nt,this._ref=Ye,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(nt){if(!nt||0===nt.length||!this.localize.parser.currentLang)return nt;if(mt(nt,this.lastKey)&&mt(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=nt,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(nt),this.lastKey=nt;const Ye=this._ref._view;return Ye&&128&Ye.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return _t.\u0275fac=function(nt){return new(nt||_t)(a.Y36(qe,16),a.Y36(a.sBO,16))},_t.\u0275pipe=a.Yjl({name:"localize",type:_t,pure:!1}),_t})();class ut{constructor(){}shouldDetach(Ct){return!1}store(Ct,nt){}shouldAttach(Ct){return!1}retrieve(Ct){return null}shouldReuseRoute(Ct,nt){return!(!Ct||!nt)&&this.getKey(Ct)===this.getKey(nt)}getKey(Ct){if(Ct.firstChild&&Ct.firstChild.routeConfig&&Ct.firstChild.routeConfig.path&&-1!==Ct.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(Ct.data.localizeRouter||Ct.parent&&Ct.parent.parent||Ct.data.skipRouteLocalization))return"LANG";if(Ct.routeConfig.matcher){let nt=`${this.getKey(Ct.parent)}/${Ct.routeConfig.matcher.name}`;return Ct.data.discriminantPathKey&&(nt=`${nt}-${Ct.data.discriminantPathKey}`),nt}if(Ct.data.localizeRouter){let nt=`${this.getKey(Ct.parent)}/${Ct.data.localizeRouter.path}`;return Ct.data.discriminantPathKey&&(nt=`${nt}-${Ct.data.discriminantPathKey}`),nt}{let nt=Ct.routeConfig.path;return Ct.parent&&(nt=`${this.getKey(Ct.parent)}/${Ct.routeConfig.path}`),Ct.data.discriminantPathKey&&(nt=`${nt}-${Ct.data.discriminantPathKey}`),nt}}}class Vt extends e.F0{constructor(Ct,nt,Ye,Mt,Oe,Ke,Zt,tt){super(Ct,nt,Ye,Mt,Oe,Ke,Zt),this.config=Zt;const Ne=Oe.get(a.Lbi);((0,le.NF)(Ne)?this.configLoader.__proto__:this.configLoader).loadModuleFactory=D=>function rn(_t){return(0,U.b)(_t)?_t:function $(_t){return!!_t&&"function"==typeof _t.then}(_t)?(0,_.D)(Promise.resolve(_t)):(0,S.of)(_t)}(D()).pipe((0,K.z)(k=>{let pe;return pe=k instanceof a.YKP?(0,S.of)(k):(0,_.D)(Ke.compileModuleAsync(k)),pe.pipe((0,G.U)(Le=>({moduleType:Le.moduleType,create:He=>{const lt=Le.create(He),Ut=lt.injector.get.bind(lt.injector);return lt.injector.get=(dn,Bt)=>{const Qt=Ut(dn,Bt);return dn===e.Z6?tt.initChildRoutes([].concat(...Qt)):Qt},lt}})))}))}}function sn(_t,Ct,nt,Ye,Mt,Oe,Ke,Zt,tt={},Ne,W){const P=new Vt(null,Ct,nt,Ye,Mt,Oe,De(Ke),Zt);return Ne&&(P.urlHandlingStrategy=Ne),W&&(P.routeReuseStrategy=W),tt.errorHandler&&(P.errorHandler=tt.errorHandler),tt.malformedUriErrorHandler&&(P.malformedUriErrorHandler=tt.malformedUriErrorHandler),tt.enableTracing&&P.events.subscribe(D=>{console.group(`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),console.groupEnd()}),tt.onSameUrlNavigation&&(P.onSameUrlNavigation=tt.onSameUrlNavigation),tt.paramsInheritanceStrategy&&(P.paramsInheritanceStrategy=tt.paramsInheritanceStrategy),tt.urlUpdateStrategy&&(P.urlUpdateStrategy=tt.urlUpdateStrategy),tt.relativeLinkResolution&&(P.relativeLinkResolution=tt.relativeLinkResolution),P}let Cn=(()=>{class _t{constructor(nt){this.injector=nt}appInitializer(){return this.parser.load(this.routes).then(()=>{const Ye=this.injector.get(qe),Mt=this.injector.get(e.F0),Oe=this.injector.get(fe);if(Ye.init(),Oe.initialNavigation)return new Promise(Ke=>{const Zt=Mt.hooks.afterPreactivation;let tt=!0;Mt.hooks.afterPreactivation=()=>(tt&&(Ke(),tt=!1,Ye.hooks._initializedSubject.next(!0),Ye.hooks._initializedSubject.complete()),Zt())});Ye.hooks._initializedSubject.next(!0),Ye.hooks._initializedSubject.complete()})}generateInitializer(nt,Ye){return this.parser=nt,this.routes=Ye.reduce((Mt,Oe)=>Mt.concat(Oe)),this.appInitializer}}return _t.\u0275fac=function(nt){return new(nt||_t)(a.LFG(a.zs3))},_t.\u0275prov=a.Yz7({token:_t,factory:_t.\u0275fac}),_t})();function vt(_t,Ct,nt){const Ye=be(nt);return _t.generateInitializer(Ct,Ye).bind(_t)}let At=(()=>{class _t{static forRoot(nt,Ye={}){return{ngModule:_t,providers:[{provide:e.F0,useFactory:sn,deps:[a.z2F,e.Hx,e.y6,le.Ye,a.zs3,a.Sil,e.Z6,Ue,e.cx,[e.oI,new a.FiY],[e.wN,new a.FiY]]},{provide:ve,useFactory:Ge,deps:[[_t,new a.FiY,new a.tp0]]},{provide:re,useValue:Ye.useCachedLang},{provide:me,useValue:Ye.alwaysSetPrefix},{provide:Ie,useValue:Ye.cacheName},{provide:ce,useValue:Ye.cacheMechanism},{provide:Ze,useValue:Ye.defaultLangFunction},{provide:ke,useValue:Ye.cookieFormat},{provide:Ae,useValue:Ye.initialNavigation},fe,Ye.parser||{provide:Ue,useClass:Qe},{provide:ye,multi:!0,useValue:nt},qe,Cn,{provide:a.ip1,multi:!0,useFactory:vt,deps:[Cn,Ue,ye]},{provide:e.wN,useClass:ut}]}}static forChild(nt){return{ngModule:_t,providers:[{provide:ye,multi:!0,useValue:nt}]}}}return _t.\u0275fac=function(nt){return new(nt||_t)},_t.\u0275mod=a.oAB({type:_t}),_t.\u0275inj=a.cJS({imports:[[le.ez,e.Bz,j.aw]]}),_t})();function Ge(_t){if(_t)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},9066:(it,oe,g)=>{"use strict";g.d(oe,{Zw:()=>G,aw:()=>et,X$:()=>Ue,sK:()=>fe});var a=g(4650),e=g(9646),C=g(5191),x=g(4128),T=g(7272),S=g(9770),_=g(5698),U=g(4707),R=g(3099);function y(Qe,mt,$){let be,De=!1;return Qe&&"object"==typeof Qe?({bufferSize:be=1/0,windowTime:mt=1/0,refCount:De=!1,scheduler:$}=Qe):be=Qe??1/0,(0,R.B)({connector:()=>new U.t(be,mt,$),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:De})}var B=g(4004),F=g(4351),K=g(3900);class G{}let j=(()=>{class Qe extends G{getTranslation($){return(0,e.of)({})}}return Qe.\u0275fac=function(){let mt;return function(be){return(mt||(mt=a.n5z(Qe)))(be||Qe)}}(),Qe.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class le{}let Ee=(()=>{class Qe{handle($){return $.key}}return Qe.\u0275fac=function($){return new($||Qe)},Qe.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();function ve(Qe,mt){if(Qe===mt)return!0;if(null===Qe||null===mt)return!1;if(Qe!=Qe&&mt!=mt)return!0;let De,qe,ct,$=typeof Qe;if($==typeof mt&&"object"==$){if(!Array.isArray(Qe)){if(Array.isArray(mt))return!1;for(qe in ct=Object.create(null),Qe){if(!ve(Qe[qe],mt[qe]))return!1;ct[qe]=!0}for(qe in mt)if(!(qe in ct)&&typeof mt[qe]<"u")return!1;return!0}if(!Array.isArray(mt))return!1;if((De=Qe.length)==mt.length){for(qe=0;qe<De;qe++)if(!ve(Qe[qe],mt[qe]))return!1;return!0}}return!1}function ye(Qe){return typeof Qe<"u"&&null!==Qe}function we(Qe){return Qe&&"object"==typeof Qe&&!Array.isArray(Qe)}function re(Qe,mt){let $=Object.assign({},Qe);return we(Qe)&&we(mt)&&Object.keys(mt).forEach(be=>{we(mt[be])?be in Qe?$[be]=re(Qe[be],mt[be]):Object.assign($,{[be]:mt[be]}):Object.assign($,{[be]:mt[be]})}),$}class ce{}let Ie=(()=>{class Qe extends ce{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate($,be){let De;return De="string"==typeof $?this.interpolateString($,be):"function"==typeof $?this.interpolateFunction($,be):$,De}getValue($,be){let De="string"==typeof be?be.split("."):[be];be="";do{be+=De.shift(),!ye($)||!ye($[be])||"object"!=typeof $[be]&&De.length?De.length?be+=".":$=void 0:($=$[be],be="")}while(De.length);return $}interpolateFunction($,be){return $(be)}interpolateString($,be){return be?$.replace(this.templateMatcher,(De,qe)=>{let ct=this.getValue(be,qe);return ye(ct)?ct:De}):$}}return Qe.\u0275fac=function(){let mt;return function(be){return(mt||(mt=a.n5z(Qe)))(be||Qe)}}(),Qe.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class ke{}let Ae=(()=>{class Qe extends ke{compile($,be){return $}compileTranslations($,be){return $}}return Qe.\u0275fac=function(){let mt;return function(be){return(mt||(mt=a.n5z(Qe)))(be||Qe)}}(),Qe.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();class Ze{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new a.vpe,this.onLangChange=new a.vpe,this.onDefaultLangChange=new a.vpe}}const me=new a.OlP("USE_STORE"),he=new a.OlP("USE_DEFAULT_LANG"),Y=new a.OlP("DEFAULT_LANGUAGE"),Me=new a.OlP("USE_EXTEND");let fe=(()=>{class Qe{constructor($,be,De,qe,ct,$e=!0,ut=!1,Vt=!1,sn){this.store=$,this.currentLoader=be,this.compiler=De,this.parser=qe,this.missingTranslationHandler=ct,this.useDefaultLang=$e,this.isolate=ut,this.extend=Vt,this.pending=!1,this._onTranslationChange=new a.vpe,this._onLangChange=new a.vpe,this._onDefaultLangChange=new a.vpe,this._langs=[],this._translations={},this._translationRequests={},sn&&this.setDefaultLang(sn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang($){this.isolate?this._defaultLang=$:this.store.defaultLang=$}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang($){this.isolate?this._currentLang=$:this.store.currentLang=$}get langs(){return this.isolate?this._langs:this.store.langs}set langs($){this.isolate?this._langs=$:this.store.langs=$}get translations(){return this.isolate?this._translations:this.store.translations}set translations($){this.isolate?this._translations=$:this.store.translations=$}setDefaultLang($){if($===this.defaultLang)return;let be=this.retrieveTranslations($);typeof be<"u"?(null==this.defaultLang&&(this.defaultLang=$),be.pipe((0,_.q)(1)).subscribe(De=>{this.changeDefaultLang($)})):this.changeDefaultLang($)}getDefaultLang(){return this.defaultLang}use($){if($===this.currentLang)return(0,e.of)(this.translations[$]);let be=this.retrieveTranslations($);return typeof be<"u"?(this.currentLang||(this.currentLang=$),be.pipe((0,_.q)(1)).subscribe(De=>{this.changeLang($)}),be):(this.changeLang($),(0,e.of)(this.translations[$]))}retrieveTranslations($){let be;return(typeof this.translations[$]>"u"||this.extend)&&(this._translationRequests[$]=this._translationRequests[$]||this.getTranslation($),be=this._translationRequests[$]),be}getTranslation($){this.pending=!0;const be=this.currentLoader.getTranslation($).pipe(y(1),(0,_.q)(1));return this.loadingTranslations=be.pipe((0,B.U)(De=>this.compiler.compileTranslations(De,$)),y(1),(0,_.q)(1)),this.loadingTranslations.subscribe({next:De=>{this.translations[$]=this.extend&&this.translations[$]?{...De,...this.translations[$]}:De,this.updateLangs(),this.pending=!1},error:De=>{this.pending=!1}}),be}setTranslation($,be,De=!1){be=this.compiler.compileTranslations(be,$),this.translations[$]=(De||this.extend)&&this.translations[$]?re(this.translations[$],be):be,this.updateLangs(),this.onTranslationChange.emit({lang:$,translations:this.translations[$]})}getLangs(){return this.langs}addLangs($){$.forEach(be=>{-1===this.langs.indexOf(be)&&this.langs.push(be)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult($,be,De){let qe;if(be instanceof Array){let ct={},$e=!1;for(let ut of be)ct[ut]=this.getParsedResult($,ut,De),(0,C.b)(ct[ut])&&($e=!0);if($e){const ut=be.map(Vt=>(0,C.b)(ct[Vt])?ct[Vt]:(0,e.of)(ct[Vt]));return(0,x.D)(ut).pipe((0,B.U)(Vt=>{let sn={};return Vt.forEach((rn,Cn)=>{sn[be[Cn]]=rn}),sn}))}return ct}if($&&(qe=this.parser.interpolate(this.parser.getValue($,be),De)),typeof qe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(qe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],be),De)),typeof qe>"u"){let ct={key:be,translateService:this};typeof De<"u"&&(ct.interpolateParams=De),qe=this.missingTranslationHandler.handle(ct)}return typeof qe<"u"?qe:be}get($,be){if(!ye($)||!$.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,F.b)(De=>(De=this.getParsedResult(De,$,be),(0,C.b)(De)?De:(0,e.of)(De))));{let De=this.getParsedResult(this.translations[this.currentLang],$,be);return(0,C.b)(De)?De:(0,e.of)(De)}}getStreamOnTranslationChange($,be){if(!ye($)||!$.length)throw new Error('Parameter "key" required');return(0,T.z)((0,S.P)(()=>this.get($,be)),this.onTranslationChange.pipe((0,K.w)(De=>{const qe=this.getParsedResult(De.translations,$,be);return"function"==typeof qe.subscribe?qe:(0,e.of)(qe)})))}stream($,be){if(!ye($)||!$.length)throw new Error('Parameter "key" required');return(0,T.z)((0,S.P)(()=>this.get($,be)),this.onLangChange.pipe((0,K.w)(De=>{const qe=this.getParsedResult(De.translations,$,be);return(0,C.b)(qe)?qe:(0,e.of)(qe)})))}instant($,be){if(!ye($)||!$.length)throw new Error('Parameter "key" required');let De=this.getParsedResult(this.translations[this.currentLang],$,be);if((0,C.b)(De)){if($ instanceof Array){let qe={};return $.forEach((ct,$e)=>{qe[$[$e]]=$[$e]}),qe}return $}return De}set($,be,De=this.currentLang){this.translations[De][$]=this.compiler.compile(be,De),this.updateLangs(),this.onTranslationChange.emit({lang:De,translations:this.translations[De]})}changeLang($){this.currentLang=$,this.onLangChange.emit({lang:$,translations:this.translations[$]}),null==this.defaultLang&&this.changeDefaultLang($)}changeDefaultLang($){this.defaultLang=$,this.onDefaultLangChange.emit({lang:$,translations:this.translations[$]})}reloadLang($){return this.resetLang($),this.getTranslation($)}resetLang($){this._translationRequests[$]=void 0,this.translations[$]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let $=window.navigator.languages?window.navigator.languages[0]:null;return $=$||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof $>"u"?void 0:(-1!==$.indexOf("-")&&($=$.split("-")[0]),-1!==$.indexOf("_")&&($=$.split("_")[0]),$)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let $=window.navigator.languages?window.navigator.languages[0]:null;return $=$||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,$}}return Qe.\u0275fac=function($){return new($||Qe)(a.LFG(Ze),a.LFG(G),a.LFG(ke),a.LFG(ce),a.LFG(le),a.LFG(he),a.LFG(me),a.LFG(Me),a.LFG(Y))},Qe.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),Ue=(()=>{class Qe{constructor($,be){this.translate=$,this._ref=be,this.value="",this.lastKey=null,this.lastParams=[]}updateValue($,be,De){let qe=ct=>{this.value=void 0!==ct?ct:$,this.lastKey=$,this._ref.markForCheck()};if(De){let ct=this.translate.getParsedResult(De,$,be);(0,C.b)(ct.subscribe)?ct.subscribe(qe):qe(ct)}this.translate.get($,be).subscribe(qe)}transform($,...be){if(!$||!$.length)return $;if(ve($,this.lastKey)&&ve(be,this.lastParams))return this.value;let De;if(ye(be[0])&&be.length)if("string"==typeof be[0]&&be[0].length){let qe=be[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{De=JSON.parse(qe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${be[0]}`)}}else"object"==typeof be[0]&&!Array.isArray(be[0])&&(De=be[0]);return this.lastKey=$,this.lastParams=be,this.updateValue($,De),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(qe=>{this.lastKey&&qe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue($,De,qe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(qe=>{this.lastKey&&(this.lastKey=null,this.updateValue($,De,qe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue($,De))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Qe.\u0275fac=function($){return new($||Qe)(a.Y36(fe,16),a.Y36(a.sBO,16))},Qe.\u0275pipe=a.Yjl({name:"translate",type:Qe,pure:!1}),Qe.\u0275prov=a.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})(),et=(()=>{class Qe{static forRoot($={}){return{ngModule:Qe,providers:[$.loader||{provide:G,useClass:j},$.compiler||{provide:ke,useClass:Ae},$.parser||{provide:ce,useClass:Ie},$.missingTranslationHandler||{provide:le,useClass:Ee},Ze,{provide:me,useValue:$.isolate},{provide:he,useValue:$.useDefaultLang},{provide:Me,useValue:$.extend},{provide:Y,useValue:$.defaultLanguage},fe]}}static forChild($={}){return{ngModule:Qe,providers:[$.loader||{provide:G,useClass:j},$.compiler||{provide:ke,useClass:Ae},$.parser||{provide:ce,useClass:Ie},$.missingTranslationHandler||{provide:le,useClass:Ee},{provide:me,useValue:$.isolate},{provide:he,useValue:$.useDefaultLang},{provide:Me,useValue:$.extend},{provide:Y,useValue:$.defaultLanguage},fe]}}}return Qe.\u0275fac=function($){return new($||Qe)},Qe.\u0275mod=a.oAB({type:Qe}),Qe.\u0275inj=a.cJS({}),Qe})()},1837:(it,oe,g)=>{"use strict";g.d(oe,{ou:()=>Yn,Zr:()=>kn});class a extends Error{}class e extends a{constructor(E){super(`Invalid DateTime: ${E.toMessage()}`)}}class C extends a{constructor(E){super(`Invalid Interval: ${E.toMessage()}`)}}class x extends a{constructor(E){super(`Invalid Duration: ${E.toMessage()}`)}}class T extends a{}class S extends a{constructor(E){super(`Invalid unit ${E}`)}}class _ extends a{}class U extends a{constructor(){super("Zone is an abstract class")}}const R="numeric",y="short",B="long",F={year:R,month:R,day:R},K={year:R,month:y,day:R},G={year:R,month:y,day:R,weekday:y},j={year:R,month:B,day:R},le={year:R,month:B,day:R,weekday:B},Ee={hour:R,minute:R},ve={hour:R,minute:R,second:R},ye={hour:R,minute:R,second:R,timeZoneName:y},we={hour:R,minute:R,second:R,timeZoneName:B},re={hour:R,minute:R,hourCycle:"h23"},ce={hour:R,minute:R,second:R,hourCycle:"h23"},Ie={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:y},ke={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:B},Ae={year:R,month:R,day:R,hour:R,minute:R},Ze={year:R,month:R,day:R,hour:R,minute:R,second:R},me={year:R,month:y,day:R,hour:R,minute:R},he={year:R,month:y,day:R,hour:R,minute:R,second:R},Y={year:R,month:y,day:R,weekday:y,hour:R,minute:R},Me={year:R,month:B,day:R,hour:R,minute:R,timeZoneName:y},fe={year:R,month:B,day:R,hour:R,minute:R,second:R,timeZoneName:y},xe={year:R,month:B,day:R,weekday:B,hour:R,minute:R,timeZoneName:B},Ue={year:R,month:B,day:R,weekday:B,hour:R,minute:R,second:R,timeZoneName:B};function et(te){return typeof te>"u"}function Qe(te){return"number"==typeof te}function mt(te){return"number"==typeof te&&te%1==0}function De(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ct(te,E,X){if(0!==te.length)return te.reduce((de,Fe)=>{const ht=[E(Fe),Fe];return de&&X(de[0],ht[0])===de[0]?de:ht},null)[1]}function ut(te,E){return Object.prototype.hasOwnProperty.call(te,E)}function Vt(te,E,X){return mt(te)&&te>=E&&te<=X}function rn(te,E=2){let de;return de=te<0?"-"+(""+-te).padStart(E,"0"):(""+te).padStart(E,"0"),de}function Cn(te){if(!et(te)&&null!==te&&""!==te)return parseInt(te,10)}function vt(te){if(!et(te)&&null!==te&&""!==te)return parseFloat(te)}function At(te){if(!et(te)&&null!==te&&""!==te){const E=1e3*parseFloat("0."+te);return Math.floor(E)}}function Ge(te,E,X=!1){const de=10**E;return(X?Math.trunc:Math.round)(te*de)/de}function xt(te){return te%4==0&&(te%100!=0||te%400==0)}function Et(te){return xt(te)?366:365}function _t(te,E){const X=function sn(te,E){return te-E*Math.floor(te/E)}(E-1,12)+1;return 2===X?xt(te+(E-X)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][X-1]}function Ct(te){let E=Date.UTC(te.year,te.month-1,te.day,te.hour,te.minute,te.second,te.millisecond);return te.year<100&&te.year>=0&&(E=new Date(E),E.setUTCFullYear(E.getUTCFullYear()-1900)),+E}function nt(te){const E=(te+Math.floor(te/4)-Math.floor(te/100)+Math.floor(te/400))%7,X=te-1,de=(X+Math.floor(X/4)-Math.floor(X/100)+Math.floor(X/400))%7;return 4===E||3===de?53:52}function Ye(te){return te>99?te:te>60?1900+te:2e3+te}function Mt(te,E,X,de=null){const Fe=new Date(te),ht={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};de&&(ht.timeZone=de);const ot={timeZoneName:E,...ht},St=new Intl.DateTimeFormat(X,ot).formatToParts(Fe).find(Wt=>"timezonename"===Wt.type.toLowerCase());return St?St.value:null}function Oe(te,E){let X=parseInt(te,10);Number.isNaN(X)&&(X=0);const de=parseInt(E,10)||0;return 60*X+(X<0||Object.is(X,-0)?-de:de)}function Ke(te){const E=Number(te);if("boolean"==typeof te||""===te||Number.isNaN(E))throw new _(`Invalid unit value ${te}`);return E}function Zt(te,E){const X={};for(const de in te)if(ut(te,de)){const Fe=te[de];if(null==Fe)continue;X[E(de)]=Ke(Fe)}return X}function tt(te,E){const X=Math.trunc(Math.abs(te/60)),de=Math.trunc(Math.abs(te%60)),Fe=te>=0?"+":"-";switch(E){case"short":return`${Fe}${rn(X,2)}:${rn(de,2)}`;case"narrow":return`${Fe}${X}${de>0?`:${de}`:""}`;case"techie":return`${Fe}${rn(X,2)}${rn(de,2)}`;default:throw new RangeError(`Value format ${E} is out of range for property format`)}}function Ne(te){return function $e(te,E){return E.reduce((X,de)=>(X[de]=te[de],X),{})}(te,["hour","minute","second","millisecond"])}const W=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,D=["January","February","March","April","May","June","July","August","September","October","November","December"],k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pe=["J","F","M","A","M","J","J","A","S","O","N","D"];function Le(te){switch(te){case"narrow":return[...pe];case"short":return[...k];case"long":return[...D];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const He=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],lt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ut=["M","T","W","T","F","S","S"];function dn(te){switch(te){case"narrow":return[...Ut];case"short":return[...lt];case"long":return[...He];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Bt=["AM","PM"],Qt=["Before Christ","Anno Domini"],Yt=["BC","AD"],je=["B","A"];function qt(te){switch(te){case"narrow":return[...je];case"short":return[...Yt];case"long":return[...Qt];default:return null}}function Ti(te,E){let X="";for(const de of te)X+=de.literal?de.val:E(de.val);return X}const Ni={D:F,DD:K,DDD:j,DDDD:le,t:Ee,tt:ve,ttt:ye,tttt:we,T:re,TT:ce,TTT:Ie,TTTT:ke,f:Ae,ff:me,fff:Me,ffff:xe,F:Ze,FF:he,FFF:fe,FFFF:Ue};class It{static create(E,X={}){return new It(E,X)}static parseFormat(E){let X=null,de="",Fe=!1;const ht=[];for(let ot=0;ot<E.length;ot++){const St=E.charAt(ot);"'"===St?(de.length>0&&ht.push({literal:Fe,val:de}),X=null,de="",Fe=!Fe):Fe||St===X?de+=St:(de.length>0&&ht.push({literal:!1,val:de}),de=St,X=St)}return de.length>0&&ht.push({literal:Fe,val:de}),ht}static macroTokenToFormatOpts(E){return Ni[E]}constructor(E,X){this.opts=X,this.loc=E,this.systemLoc=null}formatWithSystemDefault(E,X){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(E,{...this.opts,...X}).format()}formatDateTime(E,X={}){return this.loc.dtFormatter(E,{...this.opts,...X}).format()}formatDateTimeParts(E,X={}){return this.loc.dtFormatter(E,{...this.opts,...X}).formatToParts()}resolvedOptions(E,X={}){return this.loc.dtFormatter(E,{...this.opts,...X}).resolvedOptions()}num(E,X=0){if(this.opts.forceSimple)return rn(E,X);const de={...this.opts};return X>0&&(de.padTo=X),this.loc.numberFormatter(de).format(E)}formatDateTimeFromString(E,X){const de="en"===this.loc.listingMode(),Fe=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,ht=(Nn,os)=>this.loc.extract(E,Nn,os),ot=Nn=>E.isOffsetFixed&&0===E.offset&&Nn.allowZ?"Z":E.isValid?E.zone.formatOffset(E.ts,Nn.format):"",Wt=(Nn,os)=>de?function Gt(te,E){return Le(E)[te.month-1]}(E,Nn):ht(os?{month:Nn}:{month:Nn,day:"numeric"},"month"),on=(Nn,os)=>de?function Lt(te,E){return dn(E)[te.weekday-1]}(E,Nn):ht(os?{weekday:Nn}:{weekday:Nn,month:"long",day:"numeric"},"weekday"),ti=Nn=>{const os=It.macroTokenToFormatOpts(Nn);return os?this.formatWithSystemDefault(E,os):Nn},Kn=Nn=>de?function En(te,E){return qt(E)[te.year<0?0:1]}(E,Nn):ht({era:Nn},"era");return Ti(It.parseFormat(X),Nn=>{switch(Nn){case"S":return this.num(E.millisecond);case"u":case"SSS":return this.num(E.millisecond,3);case"s":return this.num(E.second);case"ss":return this.num(E.second,2);case"uu":return this.num(Math.floor(E.millisecond/10),2);case"uuu":return this.num(Math.floor(E.millisecond/100));case"m":return this.num(E.minute);case"mm":return this.num(E.minute,2);case"h":return this.num(E.hour%12==0?12:E.hour%12);case"hh":return this.num(E.hour%12==0?12:E.hour%12,2);case"H":return this.num(E.hour);case"HH":return this.num(E.hour,2);case"Z":return ot({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return ot({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return ot({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return E.zone.offsetName(E.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return E.zone.offsetName(E.ts,{format:"long",locale:this.loc.locale});case"z":return E.zoneName;case"a":return de?function rt(te){return Bt[te.hour<12?0:1]}(E):ht({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return Fe?ht({day:"numeric"},"day"):this.num(E.day);case"dd":return Fe?ht({day:"2-digit"},"day"):this.num(E.day,2);case"c":case"E":return this.num(E.weekday);case"ccc":return on("short",!0);case"cccc":return on("long",!0);case"ccccc":return on("narrow",!0);case"EEE":return on("short",!1);case"EEEE":return on("long",!1);case"EEEEE":return on("narrow",!1);case"L":return Fe?ht({month:"numeric",day:"numeric"},"month"):this.num(E.month);case"LL":return Fe?ht({month:"2-digit",day:"numeric"},"month"):this.num(E.month,2);case"LLL":return Wt("short",!0);case"LLLL":return Wt("long",!0);case"LLLLL":return Wt("narrow",!0);case"M":return Fe?ht({month:"numeric"},"month"):this.num(E.month);case"MM":return Fe?ht({month:"2-digit"},"month"):this.num(E.month,2);case"MMM":return Wt("short",!1);case"MMMM":return Wt("long",!1);case"MMMMM":return Wt("narrow",!1);case"y":return Fe?ht({year:"numeric"},"year"):this.num(E.year);case"yy":return Fe?ht({year:"2-digit"},"year"):this.num(E.year.toString().slice(-2),2);case"yyyy":return Fe?ht({year:"numeric"},"year"):this.num(E.year,4);case"yyyyyy":return Fe?ht({year:"numeric"},"year"):this.num(E.year,6);case"G":return Kn("short");case"GG":return Kn("long");case"GGGGG":return Kn("narrow");case"kk":return this.num(E.weekYear.toString().slice(-2),2);case"kkkk":return this.num(E.weekYear,4);case"W":return this.num(E.weekNumber);case"WW":return this.num(E.weekNumber,2);case"o":return this.num(E.ordinal);case"ooo":return this.num(E.ordinal,3);case"q":return this.num(E.quarter);case"qq":return this.num(E.quarter,2);case"X":return this.num(Math.floor(E.ts/1e3));case"x":return this.num(E.ts);default:return ti(Nn)}})}formatDurationFromString(E,X){const de=Wt=>{switch(Wt[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},ht=It.parseFormat(X),ot=ht.reduce((Wt,{literal:on,val:ti})=>on?Wt:Wt.concat(ti),[]);return Ti(ht,(Wt=>on=>{const ti=de(on);return ti?this.num(Wt.get(ti),on.length):on})(E.shiftTo(...ot.map(de).filter(Wt=>Wt))))}}class qn{constructor(E,X){this.reason=E,this.explanation=X}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class jn{get type(){throw new U}get name(){throw new U}get ianaName(){return this.name}get isUniversal(){throw new U}offsetName(E,X){throw new U}formatOffset(E,X){throw new U}offset(E){throw new U}equals(E){throw new U}get isValid(){throw new U}}let Xn=null;class ri extends jn{static get instance(){return null===Xn&&(Xn=new ri),Xn}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(E,{format:X,locale:de}){return Mt(E,X,de)}formatOffset(E,X){return tt(this.offset(E),X)}offset(E){return-new Date(E).getTimezoneOffset()}equals(E){return"system"===E.type}get isValid(){return!0}}let ai={};const Xe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ft={};class an extends jn{static create(E){return Ft[E]||(Ft[E]=new an(E)),Ft[E]}static resetCache(){Ft={},ai={}}static isValidSpecifier(E){return this.isValidZone(E)}static isValidZone(E){if(!E)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:E}).format(),!0}catch{return!1}}constructor(E){super(),this.zoneName=E,this.valid=an.isValidZone(E)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(E,{format:X,locale:de}){return Mt(E,X,de,this.name)}formatOffset(E,X){return tt(this.offset(E),X)}offset(E){const X=new Date(E);if(isNaN(X))return NaN;const de=function Je(te){return ai[te]||(ai[te]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:te,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ai[te]}(this.name);let[Fe,ht,ot,St,Wt,on,ti]=de.formatToParts?function yt(te,E){const X=te.formatToParts(E),de=[];for(let Fe=0;Fe<X.length;Fe++){const{type:ht,value:ot}=X[Fe],St=Xe[ht];"era"===ht?de[St]=ot:et(St)||(de[St]=parseInt(ot,10))}return de}(de,X):function Be(te,E){const X=te.format(E).replace(/\u200E/g,""),de=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(X),[,Fe,ht,ot,St,Wt,on,ti]=de;return[ot,Fe,ht,St,Wt,on,ti]}(de,X);"BC"===St&&(Fe=1-Math.abs(Fe));let Nn=+X;const os=Nn%1e3;return Nn-=os>=0?os:1e3+os,(Ct({year:Fe,month:ht,day:ot,hour:24===Wt?0:Wt,minute:on,second:ti,millisecond:0})-Nn)/6e4}equals(E){return"iana"===E.type&&E.name===this.name}get isValid(){return this.valid}}let Rt=null;class wn extends jn{static get utcInstance(){return null===Rt&&(Rt=new wn(0)),Rt}static instance(E){return 0===E?wn.utcInstance:new wn(E)}static parseSpecifier(E){if(E){const X=E.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(X)return new wn(Oe(X[1],X[2]))}return null}constructor(E){super(),this.fixed=E}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${tt(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${tt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(E,X){return tt(this.fixed,X)}get isUniversal(){return!0}offset(){return this.fixed}equals(E){return"fixed"===E.type&&E.fixed===this.fixed}get isValid(){return!0}}class Ai extends jn{constructor(E){super(),this.zoneName=E}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ys(te,E){if(et(te)||null===te)return E;if(te instanceof jn)return te;if(function $(te){return"string"==typeof te}(te)){const de=te.toLowerCase();return"default"===de?E:"local"===de||"system"===de?ri.instance:"utc"===de||"gmt"===de?wn.utcInstance:wn.parseSpecifier(de)||an.create(te)}return Qe(te)?wn.instance(te):"object"==typeof te&&te.offset&&"number"==typeof te.offset?te:new Ai(te)}let Li,mn=()=>Date.now(),vi="system",ms=null,Rs=null,Hi=null;class kn{static get now(){return mn}static set now(E){mn=E}static set defaultZone(E){vi=E}static get defaultZone(){return ys(vi,ri.instance)}static get defaultLocale(){return ms}static set defaultLocale(E){ms=E}static get defaultNumberingSystem(){return Rs}static set defaultNumberingSystem(E){Rs=E}static get defaultOutputCalendar(){return Hi}static set defaultOutputCalendar(E){Hi=E}static get throwOnInvalid(){return Li}static set throwOnInvalid(E){Li=E}static resetCaches(){Ln.resetCache(),an.resetCache()}}let Ys={},As={};function wr(te,E={}){const X=JSON.stringify([te,E]);let de=As[X];return de||(de=new Intl.DateTimeFormat(te,E),As[X]=de),de}let ei={},Ps={},sr=null;function ki(te,E,X,de,Fe){const ht=te.listingMode(X);return"error"===ht?null:"en"===ht?de(E):Fe(E)}class zr{constructor(E,X,de){this.padTo=de.padTo||0,this.floor=de.floor||!1;const{padTo:Fe,floor:ht,...ot}=de;if(!X||Object.keys(ot).length>0){const St={useGrouping:!1,...de};de.padTo>0&&(St.minimumIntegerDigits=de.padTo),this.inf=function Ss(te,E={}){const X=JSON.stringify([te,E]);let de=ei[X];return de||(de=new Intl.NumberFormat(te,E),ei[X]=de),de}(E,St)}}format(E){if(this.inf){const X=this.floor?Math.floor(E):E;return this.inf.format(X)}return rn(this.floor?Math.floor(E):Ge(E,3),this.padTo)}}class Br{constructor(E,X,de){let Fe;if(this.opts=de,E.zone.isUniversal){const ot=E.offset/60*-1,St=ot>=0?`Etc/GMT+${ot}`:`Etc/GMT${ot}`;0!==E.offset&&an.create(St).valid?(Fe=St,this.dt=E):(Fe="UTC",this.dt=de.timeZoneName||0===E.offset?E:Yn.fromMillis(E.ts+60*E.offset*1e3))}else"system"===E.zone.type?this.dt=E:(this.dt=E,Fe=E.zone.name);const ht={...this.opts};Fe&&(ht.timeZone=Fe),this.dtf=wr(X,ht)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Yr{constructor(E,X,de){this.opts={style:"long",...de},!X&&De()&&(this.rtf=function Ii(te,E={}){const{base:X,...de}=E,Fe=JSON.stringify([te,de]);let ht=Ps[Fe];return ht||(ht=new Intl.RelativeTimeFormat(te,E),Ps[Fe]=ht),ht}(E,de))}format(E,X){return this.rtf?this.rtf.format(E,X):function yn(te,E,X="always",de=!1){const Fe={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},ht=-1===["hours","minutes","seconds"].indexOf(te);if("auto"===X&&ht){const Kn="days"===te;switch(E){case 1:return Kn?"tomorrow":`next ${Fe[te][0]}`;case-1:return Kn?"yesterday":`last ${Fe[te][0]}`;case 0:return Kn?"today":`this ${Fe[te][0]}`}}const ot=Object.is(E,-0)||E<0,St=Math.abs(E),Wt=1===St,on=Fe[te],ti=de?Wt?on[1]:on[2]||on[1]:Wt?Fe[te][0]:te;return ot?`${St} ${ti} ago`:`in ${St} ${ti}`}(X,E,this.opts.numeric,"long"!==this.opts.style)}formatToParts(E,X){return this.rtf?this.rtf.formatToParts(E,X):[]}}class Ln{static fromOpts(E){return Ln.create(E.locale,E.numberingSystem,E.outputCalendar,E.defaultToEN)}static create(E,X,de,Fe=!1){const ht=E||kn.defaultLocale,ot=ht||(Fe?"en-US":function Ls(){return sr||(sr=(new Intl.DateTimeFormat).resolvedOptions().locale,sr)}());return new Ln(ot,X||kn.defaultNumberingSystem,de||kn.defaultOutputCalendar,ht)}static resetCache(){sr=null,As={},ei={},Ps={}}static fromObject({locale:E,numberingSystem:X,outputCalendar:de}={}){return Ln.create(E,X,de)}constructor(E,X,de,Fe){const[ht,ot,St]=function js(te){const E=te.indexOf("-u-");if(-1===E)return[te];{let X;const de=te.substring(0,E);try{X=wr(te).resolvedOptions()}catch{X=wr(de).resolvedOptions()}const{numberingSystem:Fe,calendar:ht}=X;return[de,Fe,ht]}}(E);this.locale=ht,this.numberingSystem=X||ot||null,this.outputCalendar=de||St||null,this.intl=function Qi(te,E,X){return(X||E)&&(te+="-u",X&&(te+=`-ca-${X}`),E&&(te+=`-nu-${E}`)),te}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Fe,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Cs(te){return(!te.numberingSystem||"latn"===te.numberingSystem)&&("latn"===te.numberingSystem||!te.locale||te.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(te.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(E){return E&&0!==Object.getOwnPropertyNames(E).length?Ln.create(E.locale||this.specifiedLocale,E.numberingSystem||this.numberingSystem,E.outputCalendar||this.outputCalendar,E.defaultToEN||!1):this}redefaultToEN(E={}){return this.clone({...E,defaultToEN:!0})}redefaultToSystem(E={}){return this.clone({...E,defaultToEN:!1})}months(E,X=!1,de=!0){return ki(this,E,de,Le,()=>{const Fe=X?{month:E,day:"numeric"}:{month:E},ht=X?"format":"standalone";return this.monthsCache[ht][E]||(this.monthsCache[ht][E]=function Mi(te){const E=[];for(let X=1;X<=12;X++){const de=Yn.utc(2016,X,1);E.push(te(de))}return E}(ot=>this.extract(ot,Fe,"month"))),this.monthsCache[ht][E]})}weekdays(E,X=!1,de=!0){return ki(this,E,de,dn,()=>{const Fe=X?{weekday:E,year:"numeric",month:"long",day:"numeric"}:{weekday:E},ht=X?"format":"standalone";return this.weekdaysCache[ht][E]||(this.weekdaysCache[ht][E]=function $s(te){const E=[];for(let X=1;X<=7;X++){const de=Yn.utc(2016,11,13+X);E.push(te(de))}return E}(ot=>this.extract(ot,Fe,"weekday"))),this.weekdaysCache[ht][E]})}meridiems(E=!0){return ki(this,void 0,E,()=>Bt,()=>{if(!this.meridiemCache){const X={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Yn.utc(2016,11,13,9),Yn.utc(2016,11,13,19)].map(de=>this.extract(de,X,"dayperiod"))}return this.meridiemCache})}eras(E,X=!0){return ki(this,E,X,qt,()=>{const de={era:E};return this.eraCache[E]||(this.eraCache[E]=[Yn.utc(-40,1,1),Yn.utc(2017,1,1)].map(Fe=>this.extract(Fe,de,"era"))),this.eraCache[E]})}extract(E,X,de){const ot=this.dtFormatter(E,X).formatToParts().find(St=>St.type.toLowerCase()===de);return ot?ot.value:null}numberFormatter(E={}){return new zr(this.intl,E.forceSimple||this.fastNumbers,E)}dtFormatter(E,X={}){return new Br(E,this.intl,X)}relFormatter(E={}){return new Yr(this.intl,this.isEnglish(),E)}listFormatter(E={}){return function qs(te,E={}){const X=JSON.stringify([te,E]);let de=Ys[X];return de||(de=new Intl.ListFormat(te,E),Ys[X]=de),de}(this.intl,E)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(E){return this.locale===E.locale&&this.numberingSystem===E.numberingSystem&&this.outputCalendar===E.outputCalendar}}function rr(...te){const E=te.reduce((X,de)=>X+de.source,"");return RegExp(`^${E}$`)}function or(...te){return E=>te.reduce(([X,de,Fe],ht)=>{const[ot,St,Wt]=ht(E,Fe);return[{...X,...ot},St||de,Wt]},[{},null,1]).slice(0,2)}function Us(te,...E){if(null==te)return[null,null];for(const[X,de]of E){const Fe=X.exec(te);if(Fe)return de(Fe)}return[null,null]}function ar(...te){return(E,X)=>{const de={};let Fe;for(Fe=0;Fe<te.length;Fe++)de[te[Fe]]=Cn(E[X+Fe]);return[de,null,X+Fe]}}const ao=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ws=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,br=RegExp(`${ws.source}(?:${ao.source}?(?:\\[(${W.source})\\])?)?`),Vr=RegExp(`(?:T${br.source})?`),Zs=ar("weekYear","weekNumber","weekDay"),Tr=ar("year","ordinal"),Hr=RegExp(`${ws.source} ?(?:${ao.source}|(${W.source}))?`),bs=RegExp(`(?: ${Hr.source})?`);function ui(te,E,X){const de=te[E];return et(de)?X:Cn(de)}function xs(te,E){return[{hours:ui(te,E,0),minutes:ui(te,E+1,0),seconds:ui(te,E+2,0),milliseconds:At(te[E+3])},null,E+4]}function Sn(te,E){const X=!te[E]&&!te[E+1],de=Oe(te[E+1],te[E+2]);return[{},X?null:wn.instance(de),E+3]}function Ar(te,E){return[{},te[E]?an.create(te[E]):null,E+1]}const bn=RegExp(`^T?${ws.source}$`),Gi=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function is(te){const[E,X,de,Fe,ht,ot,St,Wt,on]=te,ti="-"===E[0],Kn=Wt&&"-"===Wt[0],hs=(Nn,os=!1)=>void 0!==Nn&&(os||Nn&&ti)?-Nn:Nn;return[{years:hs(vt(X)),months:hs(vt(de)),weeks:hs(vt(Fe)),days:hs(vt(ht)),hours:hs(vt(ot)),minutes:hs(vt(St)),seconds:hs(vt(Wt),"-0"===Wt),milliseconds:hs(At(on),Kn)}]}const Ks={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ls(te,E,X,de,Fe,ht,ot){const St={year:2===E.length?Ye(Cn(E)):Cn(E),month:k.indexOf(X)+1,day:Cn(de),hour:Cn(Fe),minute:Cn(ht)};return ot&&(St.second=Cn(ot)),te&&(St.weekday=te.length>3?He.indexOf(te)+1:lt.indexOf(te)+1),St}const Ds=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zi(te){const[,E,X,de,Fe,ht,ot,St,Wt,on,ti,Kn]=te,hs=ls(E,Fe,de,X,ht,ot,St);let Nn;return Nn=Wt?Ks[Wt]:on?0:Oe(ti,Kn),[hs,new wn(Nn)]}const Oi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Yi=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,er=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function qi(te){const[,E,X,de,Fe,ht,ot,St]=te;return[ls(E,Fe,de,X,ht,ot,St),wn.utcInstance]}function pi(te){const[,E,X,de,Fe,ht,ot,St]=te;return[ls(E,St,X,de,Fe,ht,ot),wn.utcInstance]}const Es=rr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Vr),lr=rr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Vr),Or=rr(/(\d{4})-?(\d{3})/,Vr),cs=rr(br),fr=or(function di(te,E){return[{year:ui(te,E),month:ui(te,E+1,1),day:ui(te,E+2,1)},null,E+3]},xs,Sn,Ar),li=or(Zs,xs,Sn,Ar),Sr=or(Tr,xs,Sn,Ar),Do=or(xs,Sn,Ar),xr=or(xs),Ro=rr(/(\d{4})-(\d\d)-(\d\d)/,bs),tr=rr(Hr),Po=or(xs,Sn,Ar),Xi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Mn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Xi},us=365.2425,gs=30.436875,cr={years:{quarters:4,months:12,weeks:us/7,days:us,hours:24*us,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:us/28,days:us/4,hours:24*us/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:gs/7,days:gs,hours:24*gs,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Xi},Dr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],fi=Dr.slice(0).reverse();function Di(te,E,X=!1){const de={values:X?E.values:{...te.values,...E.values||{}},loc:te.loc.clone(E.loc),conversionAccuracy:E.conversionAccuracy||te.conversionAccuracy,matrix:E.matrix||te.matrix};return new cn(de)}function es(te,E,X,de,Fe){const ht=te[Fe][X],ot=E[X]/ht,Wt=Math.sign(ot)!==Math.sign(de[Fe])&&0!==de[Fe]&&Math.abs(ot)<=1?function mr(te){return te<0?Math.floor(te):Math.ceil(te)}(ot):Math.trunc(ot);de[Fe]+=Wt,E[X]-=Wt*ht}class cn{constructor(E){const X="longterm"===E.conversionAccuracy||!1;let de=X?cr:Mn;E.matrix&&(de=E.matrix),this.values=E.values,this.loc=E.loc||Ln.create(),this.conversionAccuracy=X?"longterm":"casual",this.invalid=E.invalid||null,this.matrix=de,this.isLuxonDuration=!0}static fromMillis(E,X){return cn.fromObject({milliseconds:E},X)}static fromObject(E,X={}){if(null==E||"object"!=typeof E)throw new _("Duration.fromObject: argument expected to be an object, got "+(null===E?"null":typeof E));return new cn({values:Zt(E,cn.normalizeUnit),loc:Ln.fromObject(X),conversionAccuracy:X.conversionAccuracy,matrix:X.matrix})}static fromDurationLike(E){if(Qe(E))return cn.fromMillis(E);if(cn.isDuration(E))return E;if("object"==typeof E)return cn.fromObject(E);throw new _(`Unknown duration argument ${E} of type ${typeof E}`)}static fromISO(E,X){const[de]=function Nr(te){return Us(te,[Gi,is])}(E);return de?cn.fromObject(de,X):cn.invalid("unparsable",`the input "${E}" can't be parsed as ISO 8601`)}static fromISOTime(E,X){const[de]=function hi(te){return Us(te,[bn,xr])}(E);return de?cn.fromObject(de,X):cn.invalid("unparsable",`the input "${E}" can't be parsed as ISO 8601`)}static invalid(E,X=null){if(!E)throw new _("need to specify a reason the Duration is invalid");const de=E instanceof qn?E:new qn(E,X);if(kn.throwOnInvalid)throw new x(de);return new cn({invalid:de})}static normalizeUnit(E){const X={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[E&&E.toLowerCase()];if(!X)throw new S(E);return X}static isDuration(E){return E&&E.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(E,X={}){const de={...X,floor:!1!==X.round&&!1!==X.floor};return this.isValid?It.create(this.loc,de).formatDurationFromString(this,E):"Invalid Duration"}toHuman(E={}){const X=Dr.map(de=>{const Fe=this.values[de];return et(Fe)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...E,unit:de.slice(0,-1)}).format(Fe)}).filter(de=>de);return this.loc.listFormatter({type:"conjunction",style:E.listStyle||"narrow",...E}).format(X)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let E="P";return 0!==this.years&&(E+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(E+=this.months+3*this.quarters+"M"),0!==this.weeks&&(E+=this.weeks+"W"),0!==this.days&&(E+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(E+="T"),0!==this.hours&&(E+=this.hours+"H"),0!==this.minutes&&(E+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(E+=Ge(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===E&&(E+="T0S"),E}toISOTime(E={}){if(!this.isValid)return null;const X=this.toMillis();if(X<0||X>=864e5)return null;E={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...E};const de=this.shiftTo("hours","minutes","seconds","milliseconds");let Fe="basic"===E.format?"hhmm":"hh:mm";(!E.suppressSeconds||0!==de.seconds||0!==de.milliseconds)&&(Fe+="basic"===E.format?"ss":":ss",(!E.suppressMilliseconds||0!==de.milliseconds)&&(Fe+=".SSS"));let ht=de.toFormat(Fe);return E.includePrefix&&(ht="T"+ht),ht}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(E){if(!this.isValid)return this;const X=cn.fromDurationLike(E),de={};for(const Fe of Dr)(ut(X.values,Fe)||ut(this.values,Fe))&&(de[Fe]=X.get(Fe)+this.get(Fe));return Di(this,{values:de},!0)}minus(E){if(!this.isValid)return this;const X=cn.fromDurationLike(E);return this.plus(X.negate())}mapUnits(E){if(!this.isValid)return this;const X={};for(const de of Object.keys(this.values))X[de]=Ke(E(this.values[de],de));return Di(this,{values:X},!0)}get(E){return this[cn.normalizeUnit(E)]}set(E){return this.isValid?Di(this,{values:{...this.values,...Zt(E,cn.normalizeUnit)}}):this}reconfigure({locale:E,numberingSystem:X,conversionAccuracy:de,matrix:Fe}={}){return Di(this,{loc:this.loc.clone({locale:E,numberingSystem:X}),matrix:Fe,conversionAccuracy:de})}as(E){return this.isValid?this.shiftTo(E).get(E):NaN}normalize(){if(!this.isValid)return this;const E=this.toObject();return function jt(te,E){fi.reduce((X,de)=>et(E[de])?X:(X&&es(te,E,X,E,de),de),null)}(this.matrix,E),Di(this,{values:E},!0)}shiftTo(...E){if(!this.isValid)return this;if(0===E.length)return this;E=E.map(ot=>cn.normalizeUnit(ot));const X={},de={},Fe=this.toObject();let ht;for(const ot of Dr)if(E.indexOf(ot)>=0){ht=ot;let St=0;for(const on in de)St+=this.matrix[on][ot]*de[on],de[on]=0;Qe(Fe[ot])&&(St+=Fe[ot]);const Wt=Math.trunc(St);X[ot]=Wt,de[ot]=(1e3*St-1e3*Wt)/1e3;for(const on in Fe)Dr.indexOf(on)>Dr.indexOf(ot)&&es(this.matrix,Fe,on,X,ot)}else Qe(Fe[ot])&&(de[ot]=Fe[ot]);for(const ot in de)0!==de[ot]&&(X[ht]+=ot===ht?de[ot]:de[ot]/this.matrix[ht][ot]);return Di(this,{values:X},!0).normalize()}negate(){if(!this.isValid)return this;const E={};for(const X of Object.keys(this.values))E[X]=0===this.values[X]?0:-this.values[X];return Di(this,{values:E},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(E){if(!this.isValid||!E.isValid||!this.loc.equals(E.loc))return!1;function X(de,Fe){return void 0===de||0===de?void 0===Fe||0===Fe:de===Fe}for(const de of Dr)if(!X(this.values[de],E.values[de]))return!1;return!0}}const Is="Invalid Interval";class Zn{constructor(E){this.s=E.start,this.e=E.end,this.invalid=E.invalid||null,this.isLuxonInterval=!0}static invalid(E,X=null){if(!E)throw new _("need to specify a reason the Interval is invalid");const de=E instanceof qn?E:new qn(E,X);if(kn.throwOnInvalid)throw new C(de);return new Zn({invalid:de})}static fromDateTimes(E,X){const de=yo(E),Fe=yo(X),ht=function Ms(te,E){return te&&te.isValid?E&&E.isValid?E<te?Zn.invalid("end before start",`The end of an interval must be after its start, but you had start=${te.toISO()} and end=${E.toISO()}`):null:Zn.invalid("missing or invalid end"):Zn.invalid("missing or invalid start")}(de,Fe);return ht??new Zn({start:de,end:Fe})}static after(E,X){const de=cn.fromDurationLike(X),Fe=yo(E);return Zn.fromDateTimes(Fe,Fe.plus(de))}static before(E,X){const de=cn.fromDurationLike(X),Fe=yo(E);return Zn.fromDateTimes(Fe.minus(de),Fe)}static fromISO(E,X){const[de,Fe]=(E||"").split("/",2);if(de&&Fe){let ht,ot,St,Wt;try{ht=Yn.fromISO(de,X),ot=ht.isValid}catch{ot=!1}try{St=Yn.fromISO(Fe,X),Wt=St.isValid}catch{Wt=!1}if(ot&&Wt)return Zn.fromDateTimes(ht,St);if(ot){const on=cn.fromISO(Fe,X);if(on.isValid)return Zn.after(ht,on)}else if(Wt){const on=cn.fromISO(de,X);if(on.isValid)return Zn.before(St,on)}}return Zn.invalid("unparsable",`the input "${E}" can't be parsed as ISO 8601`)}static isInterval(E){return E&&E.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(E="milliseconds"){return this.isValid?this.toDuration(E).get(E):NaN}count(E="milliseconds"){if(!this.isValid)return NaN;const X=this.start.startOf(E),de=this.end.startOf(E);return Math.floor(de.diff(X,E).get(E))+1}hasSame(E){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,E))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(E){return!!this.isValid&&this.s>E}isBefore(E){return!!this.isValid&&this.e<=E}contains(E){return!!this.isValid&&this.s<=E&&this.e>E}set({start:E,end:X}={}){return this.isValid?Zn.fromDateTimes(E||this.s,X||this.e):this}splitAt(...E){if(!this.isValid)return[];const X=E.map(yo).filter(ot=>this.contains(ot)).sort(),de=[];let{s:Fe}=this,ht=0;for(;Fe<this.e;){const ot=X[ht]||this.e,St=+ot>+this.e?this.e:ot;de.push(Zn.fromDateTimes(Fe,St)),Fe=St,ht+=1}return de}splitBy(E){const X=cn.fromDurationLike(E);if(!this.isValid||!X.isValid||0===X.as("milliseconds"))return[];let ht,{s:de}=this,Fe=1;const ot=[];for(;de<this.e;){const St=this.start.plus(X.mapUnits(Wt=>Wt*Fe));ht=+St>+this.e?this.e:St,ot.push(Zn.fromDateTimes(de,ht)),de=ht,Fe+=1}return ot}divideEqually(E){return this.isValid?this.splitBy(this.length()/E).slice(0,E):[]}overlaps(E){return this.e>E.s&&this.s<E.e}abutsStart(E){return!!this.isValid&&+this.e==+E.s}abutsEnd(E){return!!this.isValid&&+E.e==+this.s}engulfs(E){return!!this.isValid&&this.s<=E.s&&this.e>=E.e}equals(E){return!(!this.isValid||!E.isValid)&&this.s.equals(E.s)&&this.e.equals(E.e)}intersection(E){if(!this.isValid)return this;const X=this.s>E.s?this.s:E.s,de=this.e<E.e?this.e:E.e;return X>=de?null:Zn.fromDateTimes(X,de)}union(E){return this.isValid?Zn.fromDateTimes(this.s<E.s?this.s:E.s,this.e>E.e?this.e:E.e):this}static merge(E){const[X,de]=E.sort((Fe,ht)=>Fe.s-ht.s).reduce(([Fe,ht],ot)=>ht?ht.overlaps(ot)||ht.abutsStart(ot)?[Fe,ht.union(ot)]:[Fe.concat([ht]),ot]:[Fe,ot],[[],null]);return de&&X.push(de),X}static xor(E){let X=null,de=0;const Fe=[],ht=E.map(Wt=>[{time:Wt.s,type:"s"},{time:Wt.e,type:"e"}]),St=Array.prototype.concat(...ht).sort((Wt,on)=>Wt.time-on.time);for(const Wt of St)de+="s"===Wt.type?1:-1,1===de?X=Wt.time:(X&&+X!=+Wt.time&&Fe.push(Zn.fromDateTimes(X,Wt.time)),X=null);return Zn.merge(Fe)}difference(...E){return Zn.xor([this].concat(E)).map(X=>this.intersection(X)).filter(X=>X&&!X.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Is}toISO(E){return this.isValid?`${this.s.toISO(E)}/${this.e.toISO(E)}`:Is}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Is}toISOTime(E){return this.isValid?`${this.s.toISOTime(E)}/${this.e.toISOTime(E)}`:Is}toFormat(E,{separator:X=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(E)}${X}${this.e.toFormat(E)}`:Is}toDuration(E,X){return this.isValid?this.e.diff(this.s,E,X):cn.invalid(this.invalidReason)}mapEndpoints(E){return Zn.fromDateTimes(E(this.s),E(this.e))}}class ee{static hasDST(E=kn.defaultZone){const X=Yn.now().setZone(E).set({month:12});return!E.isUniversal&&X.offset!==X.set({month:6}).offset}static isValidIANAZone(E){return an.isValidZone(E)}static normalizeZone(E){return ys(E,kn.defaultZone)}static months(E="long",{locale:X=null,numberingSystem:de=null,locObj:Fe=null,outputCalendar:ht="gregory"}={}){return(Fe||Ln.create(X,de,ht)).months(E)}static monthsFormat(E="long",{locale:X=null,numberingSystem:de=null,locObj:Fe=null,outputCalendar:ht="gregory"}={}){return(Fe||Ln.create(X,de,ht)).months(E,!0)}static weekdays(E="long",{locale:X=null,numberingSystem:de=null,locObj:Fe=null}={}){return(Fe||Ln.create(X,de,null)).weekdays(E)}static weekdaysFormat(E="long",{locale:X=null,numberingSystem:de=null,locObj:Fe=null}={}){return(Fe||Ln.create(X,de,null)).weekdays(E,!0)}static meridiems({locale:E=null}={}){return Ln.create(E).meridiems()}static eras(E="short",{locale:X=null}={}){return Ln.create(X,null,"gregory").eras(E)}static features(){return{relative:De()}}}function J(te,E){const X=Fe=>Fe.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),de=X(E)-X(te);return Math.floor(cn.fromMillis(de).as("days"))}const kt={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},pn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yi=kt.hanidec.replace(/[\[|\]]/g,"").split("");function mi({numberingSystem:te},E=""){return new RegExp(`${kt[te||"latn"]}${E}`)}function _n(te,E=(X=>X)){return{regex:te,deser:([X])=>E(function ds(te){let E=parseInt(te,10);if(isNaN(E)){E="";for(let X=0;X<te.length;X++){const de=te.charCodeAt(X);if(-1!==te[X].search(kt.hanidec))E+=yi.indexOf(te[X]);else for(const Fe in pn){const[ht,ot]=pn[Fe];de>=ht&&de<=ot&&(E+=de-ht)}}return parseInt(E,10)}return E}(X))}}const _e=`[ ${String.fromCharCode(160)}]`,ze=new RegExp(_e,"g");function st(te){return te.replace(/\./g,"\\.?").replace(ze,_e)}function bt(te){return te.replace(/\./g,"").replace(ze," ").toLowerCase()}function ft(te,E){return null===te?null:{regex:RegExp(te.map(st).join("|")),deser:([X])=>te.findIndex(de=>bt(X)===bt(de))+E}}function Ht(te,E){return{regex:te,deser:([,X,de])=>Oe(X,de),groups:E}}function en(te){return{regex:te,deser:([E])=>E}}function On(te){return te.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Ui={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let _o=null;function ae(te,E){return Array.prototype.concat(...te.map(X=>function V(te,E){if(te.literal)return te;const de=Re(It.macroTokenToFormatOpts(te.val),E);return null==de||de.includes(void 0)?te:de}(X,E)))}function q(te,E,X){const de=ae(It.parseFormat(X),te),Fe=de.map(ot=>function Tn(te,E){const X=mi(E),de=mi(E,"{2}"),Fe=mi(E,"{3}"),ht=mi(E,"{4}"),ot=mi(E,"{6}"),St=mi(E,"{1,2}"),Wt=mi(E,"{1,3}"),on=mi(E,"{1,6}"),ti=mi(E,"{1,9}"),Kn=mi(E,"{2,4}"),hs=mi(E,"{4,6}"),Nn=Pr=>({regex:RegExp(On(Pr.val)),deser:([Co])=>Co,literal:!0}),to=(Pr=>{if(te.literal)return Nn(Pr);switch(Pr.val){case"G":return ft(E.eras("short",!1),0);case"GG":return ft(E.eras("long",!1),0);case"y":return _n(on);case"yy":case"kk":return _n(Kn,Ye);case"yyyy":case"kkkk":return _n(ht);case"yyyyy":return _n(hs);case"yyyyyy":return _n(ot);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return _n(St);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return _n(de);case"MMM":return ft(E.months("short",!0,!1),1);case"MMMM":return ft(E.months("long",!0,!1),1);case"LLL":return ft(E.months("short",!1,!1),1);case"LLLL":return ft(E.months("long",!1,!1),1);case"o":case"S":return _n(Wt);case"ooo":case"SSS":return _n(Fe);case"u":return en(ti);case"uu":return en(St);case"uuu":case"E":case"c":return _n(X);case"a":return ft(E.meridiems(),0);case"EEE":return ft(E.weekdays("short",!1,!1),1);case"EEEE":return ft(E.weekdays("long",!1,!1),1);case"ccc":return ft(E.weekdays("short",!0,!1),1);case"cccc":return ft(E.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ht(new RegExp(`([+-]${St.source})(?::(${de.source}))?`),2);case"ZZZ":return Ht(new RegExp(`([+-]${St.source})(${de.source})?`),2);case"z":return en(/[a-z_+-/]{1,256}?/i);default:return Nn(Pr)}})(te)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return to.token=te,to}(ot,te)),ht=Fe.find(ot=>ot.invalidReason);if(ht)return{input:E,tokens:de,invalidReason:ht.invalidReason};{const[ot,St]=function Zi(te){return[`^${te.map(X=>X.regex).reduce((X,de)=>`${X}(${de.source})`,"")}$`,te]}(Fe),Wt=RegExp(ot,"i"),[on,ti]=function Rn(te,E,X){const de=te.match(E);if(de){const Fe={};let ht=1;for(const ot in X)if(ut(X,ot)){const St=X[ot],Wt=St.groups?St.groups+1:1;!St.literal&&St.token&&(Fe[St.token.val[0]]=St.deser(de.slice(ht,ht+Wt))),ht+=Wt}return[de,Fe]}return[de,{}]}(E,Wt,St),[Kn,hs,Nn]=ti?function nn(te){let de,X=null;return et(te.z)||(X=an.create(te.z)),et(te.Z)||(X||(X=new wn(te.Z)),de=te.Z),et(te.q)||(te.M=3*(te.q-1)+1),et(te.h)||(te.h<12&&1===te.a?te.h+=12:12===te.h&&0===te.a&&(te.h=0)),0===te.G&&te.y&&(te.y=-te.y),et(te.u)||(te.S=At(te.u)),[Object.keys(te).reduce((ht,ot)=>{const St=(ht=>{switch(ht){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(ot);return St&&(ht[St]=te[ot]),ht},{}),X,de]}(ti):[null,null,void 0];if(ut(ti,"a")&&ut(ti,"H"))throw new T("Can't include meridiem when specifying 24-hour format");return{input:E,tokens:de,regex:Wt,rawMatches:on,matches:ti,result:Kn,zone:hs,specificOffset:Nn}}}function Re(te,E){return te?It.create(E,te).formatDateTimeParts(function Xr(){return _o||(_o=Yn.fromMillis(1555555555555)),_o}()).map(Fe=>function Os(te,E,X){const{type:de,value:Fe}=te;if("literal"===de)return{literal:!0,val:Fe};let ot=Ui[de];return"object"==typeof ot&&(ot=ot[X[de]]),ot?{literal:!1,val:ot}:void 0}(Fe,0,te)):null}const Dt=[0,31,59,90,120,151,181,212,243,273,304,334],Pt=[0,31,60,91,121,152,182,213,244,274,305,335];function dt(te,E){return new qn("unit out of range",`you specified ${E} (of type ${typeof E}) as a ${te}, which is invalid`)}function Gn(te,E,X){const de=new Date(Date.UTC(te,E-1,X));te<100&&te>=0&&de.setUTCFullYear(de.getUTCFullYear()-1900);const Fe=de.getUTCDay();return 0===Fe?7:Fe}function In(te,E,X){return X+(xt(te)?Pt:Dt)[E-1]}function wt(te,E){const X=xt(te)?Pt:Dt,de=X.findIndex(ht=>ht<E);return{month:de+1,day:E-X[de]}}function un(te){const{year:E,month:X,day:de}=te,Fe=In(E,X,de),ht=Gn(E,X,de);let St,ot=Math.floor((Fe-ht+10)/7);return ot<1?(St=E-1,ot=nt(St)):ot>nt(E)?(St=E+1,ot=1):St=E,{weekYear:St,weekNumber:ot,weekday:ht,...Ne(te)}}function ss(te){const{weekYear:E,weekNumber:X,weekday:de}=te,Fe=Gn(E,1,4),ht=Et(E);let St,ot=7*X+de-Fe-3;ot<1?(St=E-1,ot+=Et(St)):ot>ht?(St=E+1,ot-=Et(E)):St=E;const{month:Wt,day:on}=wt(St,ot);return{year:St,month:Wt,day:on,...Ne(te)}}function zn(te){const{year:E,month:X,day:de}=te;return{year:E,ordinal:In(E,X,de),...Ne(te)}}function Fi(te){const{year:E,ordinal:X}=te,{month:de,day:Fe}=wt(E,X);return{year:E,month:de,day:Fe,...Ne(te)}}function kr(te){const E=mt(te.year),X=Vt(te.month,1,12),de=Vt(te.day,1,_t(te.year,te.month));return E?X?!de&&dt("day",te.day):dt("month",te.month):dt("year",te.year)}function rs(te){const{hour:E,minute:X,second:de,millisecond:Fe}=te,ht=Vt(E,0,23)||24===E&&0===X&&0===de&&0===Fe,ot=Vt(X,0,59),St=Vt(de,0,59),Wt=Vt(Fe,0,999);return ht?ot?St?!Wt&&dt("millisecond",Fe):dt("second",de):dt("minute",X):dt("hour",E)}const ji="Invalid DateTime",Er=864e13;function qr(te){return new qn("unsupported zone",`the zone "${te.name}" is not supported`)}function oa(te){return null===te.weekData&&(te.weekData=un(te.c)),te.weekData}function Fs(te,E){const X={ts:te.ts,zone:te.zone,c:te.c,o:te.o,loc:te.loc,invalid:te.invalid};return new Yn({...X,...E,old:X})}function jo(te,E,X){let de=te-60*E*1e3;const Fe=X.offset(de);if(E===Fe)return[de,E];de-=60*(Fe-E)*1e3;const ht=X.offset(de);return Fe===ht?[de,Fe]:[te-60*Math.min(Fe,ht)*1e3,Math.max(Fe,ht)]}function Ua(te,E){const X=new Date(te+=60*E*1e3);return{year:X.getUTCFullYear(),month:X.getUTCMonth()+1,day:X.getUTCDate(),hour:X.getUTCHours(),minute:X.getUTCMinutes(),second:X.getUTCSeconds(),millisecond:X.getUTCMilliseconds()}}function aa(te,E,X){return jo(Ct(te),E,X)}function Rr(te,E){const X=te.o,de=te.c.year+Math.trunc(E.years),Fe=te.c.month+Math.trunc(E.months)+3*Math.trunc(E.quarters),ht={...te.c,year:de,month:Fe,day:Math.min(te.c.day,_t(de,Fe))+Math.trunc(E.days)+7*Math.trunc(E.weeks)},ot=cn.fromObject({years:E.years-Math.trunc(E.years),quarters:E.quarters-Math.trunc(E.quarters),months:E.months-Math.trunc(E.months),weeks:E.weeks-Math.trunc(E.weeks),days:E.days-Math.trunc(E.days),hours:E.hours,minutes:E.minutes,seconds:E.seconds,milliseconds:E.milliseconds}).as("milliseconds"),St=Ct(ht);let[Wt,on]=jo(St,X,te.zone);return 0!==ot&&(Wt+=ot,on=te.zone.offset(Wt)),{ts:Wt,o:on}}function nr(te,E,X,de,Fe,ht){const{setZone:ot,zone:St}=X;if(te&&0!==Object.keys(te).length){const Wt=E||St,on=Yn.fromObject(te,{...X,zone:Wt,specificOffset:ht});return ot?on:on.setZone(St)}return Yn.invalid(new qn("unparsable",`the input "${Fe}" can't be parsed as ${de}`))}function Eo(te,E,X=!0){return te.isValid?It.create(Ln.create("en-US"),{allowZ:X,forceSimple:!0}).formatDateTimeFromString(te,E):null}function gr(te,E){const X=te.c.year>9999||te.c.year<0;let de="";return X&&te.c.year>=0&&(de+="+"),de+=rn(te.c.year,X?6:4),E?(de+="-",de+=rn(te.c.month),de+="-",de+=rn(te.c.day)):(de+=rn(te.c.month),de+=rn(te.c.day)),de}function jr(te,E,X,de,Fe,ht){let ot=rn(te.c.hour);return E?(ot+=":",ot+=rn(te.c.minute),(0!==te.c.second||!X)&&(ot+=":")):ot+=rn(te.c.minute),(0!==te.c.second||!X)&&(ot+=rn(te.c.second),(0!==te.c.millisecond||!de)&&(ot+=".",ot+=rn(te.c.millisecond,3))),Fe&&(te.isOffsetFixed&&0===te.offset&&!ht?ot+="Z":te.o<0?(ot+="-",ot+=rn(Math.trunc(-te.o/60)),ot+=":",ot+=rn(Math.trunc(-te.o%60))):(ot+="+",ot+=rn(Math.trunc(te.o/60)),ot+=":",ot+=rn(Math.trunc(te.o%60)))),ht&&(ot+="["+te.zone.ianaName+"]"),ot}const la={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},el={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},co={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ts=["year","month","day","hour","minute","second","millisecond"],tl=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Io=["year","ordinal","hour","minute","second","millisecond"];function vo(te){const E={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[te.toLowerCase()];if(!E)throw new S(te);return E}function eo(te,E){const X=ys(E.zone,kn.defaultZone),de=Ln.fromObject(E),Fe=kn.now();let ht,ot;if(et(te.year))ht=Fe;else{for(const on of ts)et(te[on])&&(te[on]=la[on]);const St=kr(te)||rs(te);if(St)return Yn.invalid(St);const Wt=X.offset(Fe);[ht,ot]=aa(te,Wt,X)}return new Yn({ts:ht,zone:X,loc:de,o:ot})}function Tl(te,E,X){const de=!!et(X.round)||X.round,Fe=(ot,St)=>(ot=Ge(ot,de||X.calendary?0:2,!0),E.loc.clone(X).relFormatter(X).format(ot,St)),ht=ot=>X.calendary?E.hasSame(te,ot)?0:E.startOf(ot).diff(te.startOf(ot),ot).get(ot):E.diff(te,ot).get(ot);if(X.unit)return Fe(ht(X.unit),X.unit);for(const ot of X.units){const St=ht(ot);if(Math.abs(St)>=1)return Fe(St,ot)}return Fe(te>E?-0:0,X.units[X.units.length-1])}function Lo(te){let X,E={};return te.length>0&&"object"==typeof te[te.length-1]?(E=te[te.length-1],X=Array.from(te).slice(0,te.length-1)):X=Array.from(te),[E,X]}class Yn{constructor(E){const X=E.zone||kn.defaultZone;let de=E.invalid||(Number.isNaN(E.ts)?new qn("invalid input"):null)||(X.isValid?null:qr(X));this.ts=et(E.ts)?kn.now():E.ts;let Fe=null,ht=null;if(!de)if(E.old&&E.old.ts===this.ts&&E.old.zone.equals(X))[Fe,ht]=[E.old.c,E.old.o];else{const St=X.offset(this.ts);Fe=Ua(this.ts,St),de=Number.isNaN(Fe.year)?new qn("invalid input"):null,Fe=de?null:Fe,ht=de?null:St}this._zone=X,this.loc=E.loc||Ln.create(),this.invalid=de,this.weekData=null,this.c=Fe,this.o=ht,this.isLuxonDateTime=!0}static now(){return new Yn({})}static local(){const[E,X]=Lo(arguments),[de,Fe,ht,ot,St,Wt,on]=X;return eo({year:de,month:Fe,day:ht,hour:ot,minute:St,second:Wt,millisecond:on},E)}static utc(){const[E,X]=Lo(arguments),[de,Fe,ht,ot,St,Wt,on]=X;return E.zone=wn.utcInstance,eo({year:de,month:Fe,day:ht,hour:ot,minute:St,second:Wt,millisecond:on},E)}static fromJSDate(E,X={}){const de=function be(te){return"[object Date]"===Object.prototype.toString.call(te)}(E)?E.valueOf():NaN;if(Number.isNaN(de))return Yn.invalid("invalid input");const Fe=ys(X.zone,kn.defaultZone);return Fe.isValid?new Yn({ts:de,zone:Fe,loc:Ln.fromObject(X)}):Yn.invalid(qr(Fe))}static fromMillis(E,X={}){if(Qe(E))return E<-Er||E>Er?Yn.invalid("Timestamp out of range"):new Yn({ts:E,zone:ys(X.zone,kn.defaultZone),loc:Ln.fromObject(X)});throw new _(`fromMillis requires a numerical input, but received a ${typeof E} with value ${E}`)}static fromSeconds(E,X={}){if(Qe(E))return new Yn({ts:1e3*E,zone:ys(X.zone,kn.defaultZone),loc:Ln.fromObject(X)});throw new _("fromSeconds requires a numerical input")}static fromObject(E,X={}){E=E||{};const de=ys(X.zone,kn.defaultZone);if(!de.isValid)return Yn.invalid(qr(de));const Fe=kn.now(),ht=et(X.specificOffset)?de.offset(Fe):X.specificOffset,ot=Zt(E,vo),St=!et(ot.ordinal),Wt=!et(ot.year),on=!et(ot.month)||!et(ot.day),ti=Wt||on,Kn=ot.weekYear||ot.weekNumber,hs=Ln.fromObject(X);if((ti||St)&&Kn)throw new T("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(on&&St)throw new T("Can't mix ordinal dates with month/day");const Nn=Kn||ot.weekday&&!ti;let os,to,Pr=Ua(Fe,ht);Nn?(os=tl,to=el,Pr=un(Pr)):St?(os=Io,to=co,Pr=zn(Pr)):(os=ts,to=la);let Co=!1;for(const ir of os)et(ot[ir])?ot[ir]=Co?to[ir]:Pr[ir]:Co=!0;const nl=Nn?function ps(te){const E=mt(te.weekYear),X=Vt(te.weekNumber,1,nt(te.weekYear)),de=Vt(te.weekday,1,7);return E?X?!de&&dt("weekday",te.weekday):dt("week",te.week):dt("weekYear",te.weekYear)}(ot):St?function Bi(te){const E=mt(te.year),X=Vt(te.ordinal,1,Et(te.year));return E?!X&&dt("ordinal",te.ordinal):dt("year",te.year)}(ot):kr(ot),il=nl||rs(ot);if(il)return Yn.invalid(il);const sl=Nn?ss(ot):St?Fi(ot):ot,[Al,$r]=aa(sl,ht,de),$o=new Yn({ts:Al,zone:de,o:$r,loc:hs});return ot.weekday&&ti&&E.weekday!==$o.weekday?Yn.invalid("mismatched weekday",`you can't specify both a weekday of ${ot.weekday} and a date of ${$o.toISO()}`):$o}static fromISO(E,X={}){const[de,Fe]=function Ts(te){return Us(te,[Es,fr],[lr,li],[Or,Sr],[cs,Do])}(E);return nr(de,Fe,X,"ISO 8601",E)}static fromRFC2822(E,X={}){const[de,Fe]=function Ws(te){return Us(function Xs(te){return te.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(te),[Ds,zi])}(E);return nr(de,Fe,X,"RFC 2822",E)}static fromHTTP(E,X={}){const[de,Fe]=function Jr(te){return Us(te,[Oi,qi],[Yi,qi],[er,pi])}(E);return nr(de,Fe,X,"HTTP",X)}static fromFormat(E,X,de={}){if(et(E)||et(X))throw new _("fromFormat requires an input string and a format");const{locale:Fe=null,numberingSystem:ht=null}=de,ot=Ln.fromOpts({locale:Fe,numberingSystem:ht,defaultToEN:!0}),[St,Wt,on,ti]=function ge(te,E,X){const{result:de,zone:Fe,specificOffset:ht,invalidReason:ot}=q(te,E,X);return[de,Fe,ht,ot]}(ot,E,X);return ti?Yn.invalid(ti):nr(St,Wt,de,`format ${X}`,E,on)}static fromString(E,X,de={}){return Yn.fromFormat(E,X,de)}static fromSQL(E,X={}){const[de,Fe]=function oi(te){return Us(te,[Ro,fr],[tr,Po])}(E);return nr(de,Fe,X,"SQL",E)}static invalid(E,X=null){if(!E)throw new _("need to specify a reason the DateTime is invalid");const de=E instanceof qn?E:new qn(E,X);if(kn.throwOnInvalid)throw new e(de);return new Yn({invalid:de})}static isDateTime(E){return E&&E.isLuxonDateTime||!1}static parseFormatForOpts(E,X={}){const de=Re(E,Ln.fromObject(X));return de?de.map(Fe=>Fe?Fe.val:null).join(""):null}static expandFormat(E,X={}){return ae(It.parseFormat(E),Ln.fromObject(X)).map(Fe=>Fe.val).join("")}get(E){return this[E]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?oa(this).weekYear:NaN}get weekNumber(){return this.isValid?oa(this).weekNumber:NaN}get weekday(){return this.isValid?oa(this).weekday:NaN}get ordinal(){return this.isValid?zn(this.c).ordinal:NaN}get monthShort(){return this.isValid?ee.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ee.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ee.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ee.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return xt(this.year)}get daysInMonth(){return _t(this.year,this.month)}get daysInYear(){return this.isValid?Et(this.year):NaN}get weeksInWeekYear(){return this.isValid?nt(this.weekYear):NaN}resolvedLocaleOptions(E={}){const{locale:X,numberingSystem:de,calendar:Fe}=It.create(this.loc.clone(E),E).resolvedOptions(this);return{locale:X,numberingSystem:de,outputCalendar:Fe}}toUTC(E=0,X={}){return this.setZone(wn.instance(E),X)}toLocal(){return this.setZone(kn.defaultZone)}setZone(E,{keepLocalTime:X=!1,keepCalendarTime:de=!1}={}){if((E=ys(E,kn.defaultZone)).equals(this.zone))return this;if(E.isValid){let Fe=this.ts;if(X||de){const ht=E.offset(this.ts),ot=this.toObject();[Fe]=aa(ot,ht,E)}return Fs(this,{ts:Fe,zone:E})}return Yn.invalid(qr(E))}reconfigure({locale:E,numberingSystem:X,outputCalendar:de}={}){return Fs(this,{loc:this.loc.clone({locale:E,numberingSystem:X,outputCalendar:de})})}setLocale(E){return this.reconfigure({locale:E})}set(E){if(!this.isValid)return this;const X=Zt(E,vo),de=!et(X.weekYear)||!et(X.weekNumber)||!et(X.weekday),Fe=!et(X.ordinal),ht=!et(X.year),ot=!et(X.month)||!et(X.day);if((ht||ot||Fe)&&(X.weekYear||X.weekNumber))throw new T("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ot&&Fe)throw new T("Can't mix ordinal dates with month/day");let on;de?on=ss({...un(this.c),...X}):et(X.ordinal)?(on={...this.toObject(),...X},et(X.day)&&(on.day=Math.min(_t(on.year,on.month),on.day))):on=Fi({...zn(this.c),...X});const[ti,Kn]=aa(on,this.o,this.zone);return Fs(this,{ts:ti,o:Kn})}plus(E){return this.isValid?Fs(this,Rr(this,cn.fromDurationLike(E))):this}minus(E){return this.isValid?Fs(this,Rr(this,cn.fromDurationLike(E).negate())):this}startOf(E){if(!this.isValid)return this;const X={},de=cn.normalizeUnit(E);switch(de){case"years":X.month=1;case"quarters":case"months":X.day=1;case"weeks":case"days":X.hour=0;case"hours":X.minute=0;case"minutes":X.second=0;case"seconds":X.millisecond=0}if("weeks"===de&&(X.weekday=1),"quarters"===de){const Fe=Math.ceil(this.month/3);X.month=3*(Fe-1)+1}return this.set(X)}endOf(E){return this.isValid?this.plus({[E]:1}).startOf(E).minus(1):this}toFormat(E,X={}){return this.isValid?It.create(this.loc.redefaultToEN(X)).formatDateTimeFromString(this,E):ji}toLocaleString(E=F,X={}){return this.isValid?It.create(this.loc.clone(X),E).formatDateTime(this):ji}toLocaleParts(E={}){return this.isValid?It.create(this.loc.clone(E),E).formatDateTimeParts(this):[]}toISO({format:E="extended",suppressSeconds:X=!1,suppressMilliseconds:de=!1,includeOffset:Fe=!0,extendedZone:ht=!1}={}){if(!this.isValid)return null;const ot="extended"===E;let St=gr(this,ot);return St+="T",St+=jr(this,ot,X,de,Fe,ht),St}toISODate({format:E="extended"}={}){return this.isValid?gr(this,"extended"===E):null}toISOWeekDate(){return Eo(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:E=!1,suppressSeconds:X=!1,includeOffset:de=!0,includePrefix:Fe=!1,extendedZone:ht=!1,format:ot="extended"}={}){return this.isValid?(Fe?"T":"")+jr(this,"extended"===ot,X,E,de,ht):null}toRFC2822(){return Eo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Eo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?gr(this,!0):null}toSQLTime({includeOffset:E=!0,includeZone:X=!1,includeOffsetSpace:de=!0}={}){let Fe="HH:mm:ss.SSS";return(X||E)&&(de&&(Fe+=" "),X?Fe+="z":E&&(Fe+="ZZ")),Eo(this,Fe,!0)}toSQL(E={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(E)}`:null}toString(){return this.isValid?this.toISO():ji}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(E={}){if(!this.isValid)return{};const X={...this.c};return E.includeConfig&&(X.outputCalendar=this.outputCalendar,X.numberingSystem=this.loc.numberingSystem,X.locale=this.loc.locale),X}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(E,X="milliseconds",de={}){if(!this.isValid||!E.isValid)return cn.invalid("created by diffing an invalid DateTime");const Fe={locale:this.locale,numberingSystem:this.numberingSystem,...de},ht=function qe(te){return Array.isArray(te)?te:[te]}(X).map(cn.normalizeUnit),ot=E.valueOf()>this.valueOf(),on=function Te(te,E,X,de){let[Fe,ht,ot,St]=function N(te,E,X){const de=[["years",(St,Wt)=>Wt.year-St.year],["quarters",(St,Wt)=>Wt.quarter-St.quarter+4*(Wt.year-St.year)],["months",(St,Wt)=>Wt.month-St.month+12*(Wt.year-St.year)],["weeks",(St,Wt)=>{const on=J(St,Wt);return(on-on%7)/7}],["days",J]],Fe={};let ht,ot;for(const[St,Wt]of de)if(X.indexOf(St)>=0){ht=St;let on=Wt(te,E);ot=te.plus({[St]:on}),ot>E?(te=te.plus({[St]:on-1}),on-=1):te=ot,Fe[St]=on}return[te,Fe,ot,ht]}(te,E,X);const Wt=E-Fe,on=X.filter(Kn=>["hours","minutes","seconds","milliseconds"].indexOf(Kn)>=0);0===on.length&&(ot<E&&(ot=Fe.plus({[St]:1})),ot!==Fe&&(ht[St]=(ht[St]||0)+Wt/(ot-Fe)));const ti=cn.fromObject(ht,de);return on.length>0?cn.fromMillis(Wt,de).shiftTo(...on).plus(ti):ti}(ot?this:E,ot?E:this,ht,Fe);return ot?on.negate():on}diffNow(E="milliseconds",X={}){return this.diff(Yn.now(),E,X)}until(E){return this.isValid?Zn.fromDateTimes(this,E):this}hasSame(E,X){if(!this.isValid)return!1;const de=E.valueOf(),Fe=this.setZone(E.zone,{keepLocalTime:!0});return Fe.startOf(X)<=de&&de<=Fe.endOf(X)}equals(E){return this.isValid&&E.isValid&&this.valueOf()===E.valueOf()&&this.zone.equals(E.zone)&&this.loc.equals(E.loc)}toRelative(E={}){if(!this.isValid)return null;const X=E.base||Yn.fromObject({},{zone:this.zone}),de=E.padding?this<X?-E.padding:E.padding:0;let Fe=["years","months","days","hours","minutes","seconds"],ht=E.unit;return Array.isArray(E.unit)&&(Fe=E.unit,ht=void 0),Tl(X,this.plus(de),{...E,numeric:"always",units:Fe,unit:ht})}toRelativeCalendar(E={}){return this.isValid?Tl(E.base||Yn.fromObject({},{zone:this.zone}),this,{...E,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...E){if(!E.every(Yn.isDateTime))throw new _("min requires all arguments be DateTimes");return ct(E,X=>X.valueOf(),Math.min)}static max(...E){if(!E.every(Yn.isDateTime))throw new _("max requires all arguments be DateTimes");return ct(E,X=>X.valueOf(),Math.max)}static fromFormatExplain(E,X,de={}){const{locale:Fe=null,numberingSystem:ht=null}=de;return q(Ln.fromOpts({locale:Fe,numberingSystem:ht,defaultToEN:!0}),E,X)}static fromStringExplain(E,X,de={}){return Yn.fromFormatExplain(E,X,de)}static get DATE_SHORT(){return F}static get DATE_MED(){return K}static get DATE_MED_WITH_WEEKDAY(){return G}static get DATE_FULL(){return j}static get DATE_HUGE(){return le}static get TIME_SIMPLE(){return Ee}static get TIME_WITH_SECONDS(){return ve}static get TIME_WITH_SHORT_OFFSET(){return ye}static get TIME_WITH_LONG_OFFSET(){return we}static get TIME_24_SIMPLE(){return re}static get TIME_24_WITH_SECONDS(){return ce}static get TIME_24_WITH_SHORT_OFFSET(){return Ie}static get TIME_24_WITH_LONG_OFFSET(){return ke}static get DATETIME_SHORT(){return Ae}static get DATETIME_SHORT_WITH_SECONDS(){return Ze}static get DATETIME_MED(){return me}static get DATETIME_MED_WITH_SECONDS(){return he}static get DATETIME_MED_WITH_WEEKDAY(){return Y}static get DATETIME_FULL(){return Me}static get DATETIME_FULL_WITH_SECONDS(){return fe}static get DATETIME_HUGE(){return xe}static get DATETIME_HUGE_WITH_SECONDS(){return Ue}}function yo(te){if(Yn.isDateTime(te))return te;if(te&&te.valueOf&&Qe(te.valueOf()))return Yn.fromJSDate(te);if(te&&"object"==typeof te)return Yn.fromObject(te);throw new _(`Unknown datetime argument: ${te}, of type ${typeof te}`)}},5241:(it,oe,g)=>{"use strict";g.d(oe,{Zf:()=>le,gd:()=>j,fx:()=>ve,U_:()=>Ee});var a=g(4650),e=g(1607),C=g(6895),x=g(7340);const T="400ms cubic-bezier(0.4,0.0,0.2,1)",S=[(0,x.oB)({height:0,visibility:"hidden"}),(0,x.jt)(T,(0,x.oB)({height:"*",visibility:"visible"}))],_=[(0,x.oB)({height:"*",visibility:"visible"}),(0,x.jt)(T,(0,x.oB)({height:0,visibility:"hidden"}))];let U=(()=>{class ye{constructor(re,ce,Ie){this._el=re,this._renderer=ce,this.collapsed=new a.vpe,this.collapses=new a.vpe,this.expanded=new a.vpe,this.expands=new a.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=Ie.build(_),this._factoryExpandAnimation=Ie.build(S)}set display(re){this._display=re,"none"!==re?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(re){this.collapseNewValue=re,(!this._player||this._isAnimationDone)&&(this.isExpanded=re,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(re,ce){if(!re||!this._stylesLoaded)return ke=>ke();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const Ie=ce===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=Ie.create(this._el.nativeElement),this._player.play(),ke=>{var Ae;return null===(Ae=this._player)||void 0===Ae?void 0:Ae.onDone(ke)}}}return ye.\u0275fac=function(re){return new(re||ye)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(x._j))},ye.\u0275dir=a.lG2({type:ye,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(re,ce){2&re&&(a.uIk("aria-hidden",ce.isCollapsed),a.ekj("collapse",ce.isCollapse)("in",ce.isExpanded)("show",ce.isExpanded)("collapsing",ce.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),ye})(),R=(()=>{class ye{static forRoot(){return{ngModule:ye,providers:[]}}}return ye.\u0275fac=function(re){return new(re||ye)},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({}),ye})();const y=["*"],B=function(ye){return{"text-muted":ye}};function F(ye,we){if(1&ye&&(a.TgZ(0,"button",7),a._uU(1),a.qZA()),2&ye){const re=a.oxw();a.Q6J("ngClass",a.VKq(2,B,re.isDisabled)),a.xp6(1),a.hij(" ",re.heading," ")}}const K=[[["","accordion-heading",""]],"*"],G=["[accordion-heading]","*"];let j=(()=>{class ye{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return ye.\u0275fac=function(re){return new(re||ye)},ye.\u0275prov=a.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),le=(()=>{class ye{constructor(re){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,re)}closeOtherPanels(re){!this.closeOthers||this.groups.forEach(ce=>{ce!==re&&(ce.isOpen=!1)})}addGroup(re){re.isAnimated=this.isAnimated,this.groups.push(re)}removeGroup(re){const ce=this.groups.indexOf(re);-1!==ce&&this.groups.splice(ce,1)}}return ye.\u0275fac=function(re){return new(re||ye)(a.Y36(j))},ye.\u0275cmp=a.Xpm({type:ye,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(re,ce){2&re&&a.uIk("aria-multiselectable",ce.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:y,decls:1,vars:0,template:function(re,ce){1&re&&(a.F$t(),a.Hsn(0))},encapsulation:2}),ye})(),Ee=(()=>{class ye{constructor(re){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new a.vpe,this._isOpen=!1,this.accordion=re}get isOpen(){return this._isOpen}set isOpen(re){re!==this.isOpen&&(re&&this.accordion.closeOtherPanels(this),this._isOpen=re,Promise.resolve(null).then(()=>{this.isOpenChange.emit(re)}))}get isBs3(){return(0,e.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return ye.\u0275fac=function(re){return new(re||ye)(a.Y36(le))},ye.\u0275cmp=a.Xpm({type:ye,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(re,ce){2&re&&a.ekj("panel-open",ce.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:G,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(re,ce){1&re&&(a.F$t(K),a.TgZ(0,"div",0)(1,"div",1),a.NdJ("click",function(){return ce.toggleOpen()}),a.TgZ(2,"div",2)(3,"div",3),a.YNc(4,F,2,4,"button",4),a.Hsn(5),a.qZA()()(),a.TgZ(6,"div",5)(7,"div",6),a.Hsn(8,1),a.qZA()()()),2&re&&(a.Q6J("ngClass",ce.panelClass),a.xp6(1),a.Q6J("ngClass",ce.isDisabled?"panel-disabled":"panel-enabled"),a.xp6(2),a.uIk("aria-expanded",ce.isOpen),a.xp6(1),a.Q6J("ngIf",ce.heading),a.xp6(2),a.Q6J("collapse",!ce.isOpen)("isAnimated",ce.isAnimated))},dependencies:[C.mk,C.O5,U],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),ye})(),ve=(()=>{class ye{static forRoot(){return{ngModule:ye,providers:[]}}}return ye.\u0275fac=function(re){return new(re||ye)},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({imports:[C.ez,R]}),ye})()},2381:(it,oe,g)=>{"use strict";g.d(oe,{oj:()=>U});var a=g(4650),e=g(1607),C=g(8664),x=g(6895);class S{constructor(y,B,F){this.nodes=y,this.viewRef=B,this.componentRef=F}}class _{constructor(y,B,F,K,G,j,le,Ee,ve){this._viewContainerRef=y,this._renderer=B,this._elementRef=F,this._injector=K,this._componentFactoryResolver=G,this._ngZone=j,this._applicationRef=le,this._posService=Ee,this._document=ve,this.onBeforeShow=new a.vpe,this.onShown=new a.vpe,this.onBeforeHide=new a.vpe,this.onHidden=new a.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(y){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(y),this}to(y){return this.container=y||this.container,this}position(y){return y?(this.attachment=y.attachment||this.attachment,this._elementRef=y.target||this._elementRef,this):this}provide(y){return this._providers.push(y),this}show(y={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(y.content,y.context,y.initialState);const B=a.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(B,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,y),this.container instanceof a.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const F=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!F)return;F.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(y.id?{id:y.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(y){var B,F,K,G,j,le;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const Ee=this._componentRef.location.nativeElement;return null===(B=Ee.parentNode)||void 0===B||B.removeChild(Ee),null===(F=this._contentRef)||void 0===F||null===(K=F.componentRef)||void 0===K||K.destroy(),this._viewContainerRef&&null!==(G=this._contentRef)&&void 0!==G&&G.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(j=this._contentRef)||void 0===j||null===(le=j.viewRef)||void 0===le||le.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(y?{id:y}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(y){var B;this.triggers=y.triggers||this.triggers,this._listenOpts.outsideClick=y.outsideClick,this._listenOpts.outsideEsc=y.outsideEsc,y.target=y.target||(null===(B=this._elementRef)||void 0===B?void 0:B.nativeElement);const F=this._listenOpts.hide=()=>y.hide?y.hide():void this.hide(),K=this._listenOpts.show=j=>{y.show?y.show(j):this.show(j),j()};return this._renderer&&(this._unregisterListenersFn=(0,e.wo)(this._renderer,{target:y.target,triggers:y.triggers,show:K,hide:F,toggle:j=>{this.isShown?F():K(j)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(y,B){return y&&B&&(this._inlineViewRef=y.createEmbeddedView(B)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const y=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Rg)(this._renderer,{targets:[y,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var y;this._posService.position({element:null===(y=this._componentRef)||void 0===y?void 0:y.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(y,B,F){if(!y)return new S([]);if(y instanceof a.Rgc){if(this._viewContainerRef){const j=this._viewContainerRef.createEmbeddedView(y,B);return j.markForCheck(),new S([j.rootNodes],j)}const G=y.createEmbeddedView({});return this._applicationRef.attachView(G),new S([G.rootNodes],G)}if("function"==typeof y){const G=this._componentFactoryResolver.resolveComponentFactory(y),j=a.zs3.create({providers:this._providers,parent:this._injector}),le=G.create(j);return Object.assign(le.instance,F),this._applicationRef.attachView(le.hostView),new S([[le.location.nativeElement]],le.hostView,le)}const K=this._renderer?[this._renderer.createText(`${y}`)]:[];return new S([K])}}let U=(()=>{class R{constructor(B,F,K,G,j,le){this._componentFactoryResolver=B,this._ngZone=F,this._injector=K,this._posService=G,this._applicationRef=j,this._document=le}createLoader(B,F,K){return new _(F,K,B,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return R.\u0275fac=function(B){return new(B||R)(a.LFG(a._Vd),a.LFG(a.R0b),a.LFG(a.zs3),a.LFG(C.sA),a.LFG(a.z2F),a.LFG(x.K0))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},388:(it,oe,g)=>{"use strict";g.d(oe,{oB:()=>ut,zk:()=>Cn});var a=g(4650),e=g(1607),C=g(6895),x=g(5698);let S,T=(()=>{class vt{constructor(){this._focusTrapStack=[]}register(Ge){this._focusTrapStack=this._focusTrapStack.filter(Et=>Et!==Ge);let xt=this._focusTrapStack;xt.length&&xt[xt.length-1]._disable(),xt.push(Ge),Ge._enable()}deregister(Ge){Ge._disable();const xt=this._focusTrapStack,Et=xt.indexOf(Ge);-1!==Et&&(xt.splice(Et,1),xt.length&&xt[xt.length-1]._enable())}}return vt.\u0275fac=function(Ge){return new(Ge||vt)},vt.\u0275prov=a.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})();try{S=typeof Intl<"u"&&Intl.v8BreakIterator}catch{S=!1}let _=(()=>{class vt{constructor(Ge){this._platformId=Ge,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.LFG(a.Lbi))},vt.\u0275prov=a.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})(),R=(()=>{class vt{constructor(Ge){this._platform=Ge}isDisabled(Ge){return Ge.hasAttribute("disabled")}isVisible(Ge){return function B(vt){return!!(vt.offsetWidth||vt.offsetHeight||"function"==typeof vt.getClientRects&&vt.getClientRects().length)}(Ge)&&"visible"===getComputedStyle(Ge).visibility}isTabbable(Ge){if(!this._platform.isBrowser)return!1;const xt=function y(vt){try{return vt.frameElement}catch{return null}}(function re(vt){return vt.ownerDocument&&vt.ownerDocument.defaultView||window}(Ge));if(xt&&(-1===ve(xt)||!this.isVisible(xt)))return!1;let Et=Ge.nodeName.toLowerCase(),_t=ve(Ge);return Ge.hasAttribute("contenteditable")?-1!==_t:!("iframe"===Et||"object"===Et||this._platform.WEBKIT&&this._platform.IOS&&!function ye(vt){let At=vt.nodeName.toLowerCase(),Ge="input"===At&&vt.type;return"text"===Ge||"password"===Ge||"select"===At||"textarea"===At}(Ge))&&("audio"===Et?!!Ge.hasAttribute("controls")&&-1!==_t:"video"===Et?-1!==_t&&(null!==_t||this._platform.FIREFOX||Ge.hasAttribute("controls")):Ge.tabIndex>=0)}isFocusable(Ge,xt){return function we(vt){return!function K(vt){return function j(vt){return"input"==vt.nodeName.toLowerCase()}(vt)&&"hidden"==vt.type}(vt)&&(function F(vt){let At=vt.nodeName.toLowerCase();return"input"===At||"select"===At||"button"===At||"textarea"===At}(vt)||function G(vt){return function le(vt){return"a"==vt.nodeName.toLowerCase()}(vt)&&vt.hasAttribute("href")}(vt)||vt.hasAttribute("contenteditable")||Ee(vt))}(Ge)&&!this.isDisabled(Ge)&&(xt?.ignoreVisibility||this.isVisible(Ge))}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.LFG(_))},vt.\u0275prov=a.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})();function Ee(vt){if(!vt.hasAttribute("tabindex")||void 0===vt.tabIndex)return!1;let At=vt.getAttribute("tabindex");return"-32768"!=At&&!(!At||isNaN(parseInt(At,10)))}function ve(vt){if(!Ee(vt))return null;const At=parseInt(vt.getAttribute("tabindex")||"",10);return isNaN(At)?-1:At}function ce(vt){return null!=vt&&"false"!=`${vt}`}class Ie{constructor(At,Ge,xt,Et,_t=!1){this._element=At,this._checker=Ge,this._ngZone=xt,this._document=Et,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,_t||this.attachAnchors()}get enabled(){return this._enabled}set enabled(At){this._enabled=At,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(At,this._startAnchor),this._toggleAnchorTabIndex(At,this._endAnchor))}destroy(){const At=this._startAnchor,Ge=this._endAnchor;At&&(At.removeEventListener("focus",this.startAnchorListener),At.parentNode&&At.parentNode.removeChild(At)),Ge&&(Ge.removeEventListener("focus",this.endAnchorListener),Ge.parentNode&&Ge.parentNode.removeChild(Ge)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(At=>{this._executeOnStable(()=>At(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(At=>{this._executeOnStable(()=>At(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(At=>{this._executeOnStable(()=>At(this.focusLastTabbableElement()))})}_getRegionBoundary(At){let Ge=this._element.querySelectorAll(`[cdk-focus-region-${At}], [cdkFocusRegion${At}], [cdk-focus-${At}]`);for(let xt=0;xt<Ge.length;xt++)Ge[xt].hasAttribute(`cdk-focus-${At}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${At}', use 'cdkFocusRegion${At}' instead. The deprecated attribute will be removed in 8.0.0.`,Ge[xt]):Ge[xt].hasAttribute(`cdk-focus-region-${At}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${At}', use 'cdkFocusRegion${At}' instead. The deprecated attribute will be removed in 8.0.0.`,Ge[xt]);return"start"==At?Ge.length?Ge[0]:this._getFirstTabbableElement(this._element):Ge.length?Ge[Ge.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const At=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(At){if(At.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",At),!this._checker.isFocusable(At)){const Ge=this._getFirstTabbableElement(At);return Ge?.focus(),!!Ge}return At.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const At=this._getRegionBoundary("start");return At&&At.focus(),!!At}focusLastTabbableElement(){const At=this._getRegionBoundary("end");return At&&At.focus(),!!At}hasAttached(){return this._hasAttached}_getFirstTabbableElement(At){if(this._checker.isFocusable(At)&&this._checker.isTabbable(At))return At;let Ge=At.children||At.childNodes;for(let xt=0;xt<Ge.length;xt++){let Et=Ge[xt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ge[xt]):null;if(Et)return Et}return null}_getLastTabbableElement(At){if(this._checker.isFocusable(At)&&this._checker.isTabbable(At))return At;let Ge=At.children||At.childNodes;for(let xt=Ge.length-1;xt>=0;xt--){let Et=Ge[xt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ge[xt]):null;if(Et)return Et}return null}_createAnchor(){const At=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,At),At.classList.add("cdk-visually-hidden"),At.classList.add("cdk-focus-trap-anchor"),At.setAttribute("aria-hidden","true"),At}_toggleAnchorTabIndex(At,Ge){At?Ge.setAttribute("tabindex","0"):Ge.removeAttribute("tabindex")}toggleAnchors(At){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(At,this._startAnchor),this._toggleAnchorTabIndex(At,this._endAnchor))}_executeOnStable(At){this._ngZone.isStable?At():this._ngZone.onStable.pipe((0,x.q)(1)).subscribe(At)}}let ke=(()=>{class vt{constructor(Ge,xt,Et){this._checker=Ge,this._ngZone=xt,this._document=Et}create(Ge,xt=!1){return new Ie(Ge,this._checker,this._ngZone,this._document,xt)}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.LFG(R),a.LFG(a.R0b),a.LFG(C.K0))},vt.\u0275prov=a.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),vt})(),Ae=(()=>{class vt{constructor(Ge,xt,Et){this._elementRef=Ge,this._focusTrapFactory=xt,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=Et,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Ge){this.focusTrap.enabled=ce(Ge)}get autoCapture(){return this._autoCapture}set autoCapture(Ge){this._autoCapture=ce(Ge)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Ge){const xt=Ge.autoCapture;xt&&!xt.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.Y36(a.SBq),a.Y36(ke),a.Y36(C.K0))},vt.\u0275dir=a.lG2({type:vt,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[a.TTD]}),vt})(),Ze=(()=>{class vt{static forRoot(){return{ngModule:vt,providers:[T,_,R]}}}return vt.\u0275fac=function(Ge){return new(Ge||vt)},vt.\u0275mod=a.oAB({type:vt}),vt.\u0275inj=a.cJS({imports:[C.ez]}),vt})();var me=g(2381),he=g(8664);const Y=["*"];let Me=(()=>{class vt{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return vt.\u0275fac=function(Ge){return new(Ge||vt)},vt.\u0275prov=a.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"platform"}),vt})(),xe=(()=>{class vt{}return vt.\u0275fac=function(Ge){return new(Ge||vt)},vt.\u0275prov=a.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"platform"}),vt})();const Ue={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},et=new a.OlP("override-default-config"),Qe_OPEN="modal-open";let De=(()=>{class vt{constructor(Ge,xt,Et){this._element=xt,this._renderer=Et,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},Ge)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,(0,e.XA)()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,Qe_OPEN),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(Ge){this.clickStartedInContent=Ge.target!==this._element.nativeElement}onClickStop(Ge){var xt;this.config.ignoreBackdropClick||"static"===this.config.backdrop||Ge.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(xt=this.bsModalService)||void 0===xt||xt.setDismissReason("backdrop-click"),this.hide())}onPopState(){var Ge;null===(Ge=this.bsModalService)||void 0===Ge||Ge.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(Ge){var xt,Et;this.isShown&&((27===Ge.keyCode||"Escape"===Ge.key)&&Ge.preventDefault(),this.config.keyboard&&this.level===(null===(xt=this.bsModalService)||void 0===xt?void 0:xt.getModalsCount()))&&(null===(Et=this.bsModalService)||void 0===Et||Et.setDismissReason("esc"),this.hide())}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,(0,e.XA)()?"in":"show"),setTimeout(()=>{var Ge,xt;this.isShown=!1,document&&document.body&&1===(null===(Ge=this.bsModalService)||void 0===Ge?void 0:Ge.getModalsCount())&&(this._renderer.removeClass(document.body,Qe_OPEN),this._renderer.setStyle(document.body,"overflow-y","")),null===(xt=this.bsModalService)||void 0===xt||xt.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.Y36(xe),a.Y36(a.SBq),a.Y36(a.Qsj))},vt.\u0275cmp=a.Xpm({type:vt,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(Ge,xt){1&Ge&&a.NdJ("mousedown",function(_t){return xt.onClickStarted(_t)})("click",function(_t){return xt.onClickStop(_t)})("popstate",function(){return xt.onPopState()},!1,a.Jf7)("keydown.esc",function(_t){return xt.onEsc(_t)},!1,a.Jf7),2&Ge&&a.uIk("aria-modal",!0)("aria-labelledby",xt.config.ariaLabelledBy)("aria-describedby",xt.config.ariaDescribedby)},ngContentSelectors:Y,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(Ge,xt){1&Ge&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1),a.Hsn(2),a.qZA()()),2&Ge&&a.Tol("modal-dialog"+(xt.config.class?" "+xt.config.class:""))},dependencies:[Ae],encapsulation:2}),vt})(),qe=(()=>{class vt{constructor(Ge,xt){this._isAnimated=!1,this._isShown=!1,this.element=Ge,this.renderer=xt}get isAnimated(){return this._isAnimated}set isAnimated(Ge){this._isAnimated=Ge}get isShown(){return this._isShown}set isShown(Ge){this._isShown=Ge,Ge?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),(0,e.XA)()||(Ge?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.cQ.reflow(this.element.nativeElement)),this.isShown=!0}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.Y36(a.SBq),a.Y36(a.Qsj))},vt.\u0275cmp=a.Xpm({type:vt,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(Ge,xt){},encapsulation:2}),vt})(),ut=(()=>{class vt{constructor(Ge,xt,Et,_t,Ct){this._element=Ge,this._renderer=Et,this.onShow=new a.vpe,this.onShown=new a.vpe,this.onHide=new a.vpe,this.onHidden=new a.vpe,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._backdrop=_t.createLoader(Ge,xt,Et),this._config=Ct||Ue}set config(Ge){this._config=this.getConfig(Ge)}get config(){return this._config}get isShown(){return this._isShown}onClickStarted(Ge){this.clickStartedInContent=Ge.target!==this._element.nativeElement}onClickStop(Ge){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Ge.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(Ge))}onEsc(Ge){!this._isShown||((27===Ge.keyCode||"Escape"===Ge.key)&&Ge.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.tj&&e.tj.body&&(e.tj.body.classList.contains(Qe_OPEN)?this.isNested=!0:(this._renderer.addClass(e.tj.body,Qe_OPEN),this._renderer.setStyle(e.tj.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(Ge){if(this._isShown){if(Ge&&Ge.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.u9.clearTimeout(this.timerHideModal),e.u9.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"in"),(0,e.XA)()||this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.u9.setTimeout(()=>this.hideModal(),300):this.hideModal()}getConfig(Ge){return Object.assign({},this._config,Ge)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.tj&&e.tj.body&&e.tj.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.cQ.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"in"),(0,e.XA)()||this._renderer.addClass(this._element.nativeElement,"show");const Ge=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(Ge,300):Ge()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.tj&&e.tj.body&&(this._renderer.removeClass(e.tj.body,Qe_OPEN),this._renderer.setStyle(e.tj.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(Ge){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const xt=()=>{this.removeBackdrop(),Ge&&Ge()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.u9.setTimeout(xt,150):xt()}else Ge&&Ge();else{if(this.removeBackdrop(),this._backdrop.attach(qe).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!Ge)return;if(!this._config.animated)return void Ge();setTimeout(Ge,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const Ge=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");!Ge.length||Ge[Ge.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.tj.body.clientWidth<e.u9.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!e.tj||(this.originalBodyPadding=parseInt(e.u9.getComputedStyle(e.tj.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.tj.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.tj.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Ge=this._renderer.createElement("div");this._renderer.addClass(Ge,"modal-scrollbar-measure"),this._renderer.appendChild(e.tj.body,Ge);const xt=Ge.offsetWidth-Ge.clientWidth;return this._renderer.removeChild(e.tj.body,Ge),xt}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(a.Qsj),a.Y36(me.oj),a.Y36(et,8))},vt.\u0275dir=a.lG2({type:vt,selectors:[["","bsModal",""]],hostBindings:function(Ge,xt){1&Ge&&a.NdJ("mousedown",function(_t){return xt.onClickStarted(_t)})("mouseup",function(_t){return xt.onClickStop(_t)})("keydown.esc",function(_t){return xt.onEsc(_t)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),vt})(),Vt=1,sn=(()=>{class vt{constructor(Ge,xt,Et){this.clf=xt,this.modalDefaultOption=Et,this.onShow=new a.vpe,this.onShown=new a.vpe,this.onHide=new a.vpe,this.onHidden=new a.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=Ge.createRenderer(null,null),this.config=Et?Object.assign({},Ue,Et):Ue}show(Ge,xt){this.modalsCount++,this._createLoaders();const Et=xt?.id||Vt++;return this.config=this.modalDefaultOption?Object.assign({},Ue,this.modalDefaultOption,xt):Object.assign({},Ue,xt),this.config.id=Et,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(Ge)}hide(Ge){(1===this.modalsCount||null==Ge)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=Ge?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(Ge),this.removeLoaders(Ge)},this.config.animated?150:0)}_showBackdrop(){const Ge=!0===this.config.backdrop||"static"===this.config.backdrop,xt=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),Ge&&xt&&(this._backdropLoader.attach(qe).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(Ge){const xt=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const nt of this.config.providers)xt.provide(nt);const Et=new Me,_t=xt.provide({provide:xe,useValue:this.config}).provide({provide:Me,useValue:Et}).attach(De).to("body");var Ct;return Et.hide=()=>{var nt;return null===(nt=_t.instance)||void 0===nt?void 0:nt.hide()},Et.setClass=nt=>{_t.instance&&(_t.instance.config.class=nt)},Et.onHidden=new a.vpe,Et.onHide=new a.vpe,this.copyEvent(xt.onBeforeHide,Et.onHide),this.copyEvent(xt.onHidden,Et.onHidden),_t.show({content:Ge,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),_t.instance&&(_t.instance.level=this.getModalsCount(),Et.content=xt.getInnerComponent(),Et.id=null===(Ct=_t.instance.config)||void 0===Ct?void 0:Ct.id),Et}_hideModal(Ge){if(null!=Ge){const xt=this.loaders.findIndex(_t=>{var Ct;return(null===(Ct=_t.instance)||void 0===Ct?void 0:Ct.config.id)===Ge}),Et=this.loaders[xt];Et&&Et.hide(Ge)}else this.loaders.forEach(xt=>{xt.instance&&xt.hide(xt.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(Ge){this.lastDismissReason=Ge}removeBackdrop(){this._renderer.removeClass(document.body,Qe_OPEN),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Ge=this._renderer.createElement("div");this._renderer.addClass(Ge,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,Ge);const xt=Ge.offsetWidth-Ge.clientWidth;return this._renderer.removeChild(document.body,Ge),xt}_createLoaders(){const Ge=this.clf.createLoader();this.copyEvent(Ge.onBeforeShow,this.onShow),this.copyEvent(Ge.onShown,this.onShown),this.copyEvent(Ge.onBeforeHide,this.onHide),this.copyEvent(Ge.onHidden,this.onHidden),this.loaders.push(Ge)}removeLoaders(Ge){if(null!=Ge){const xt=this.loaders.findIndex(Et=>{var _t;return(null===(_t=Et.instance)||void 0===_t?void 0:_t.config.id)===Ge});xt>=0&&(this.loaders.splice(xt,1),this.loaders.forEach((Et,_t)=>{Et.instance&&(Et.instance.level=_t+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(Ge,xt){Ge.subscribe(Et=>{xt.emit(this.lastDismissReason||Et)})}}return vt.\u0275fac=function(Ge){return new(Ge||vt)(a.LFG(a.FYo),a.LFG(me.oj),a.LFG(et,8))},vt.\u0275prov=a.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"platform"}),vt})();Ze.forRoot();let Cn=(()=>{class vt{static forRoot(){return{ngModule:vt,providers:[sn,me.oj,he.sA]}}static forChild(){return{ngModule:vt,providers:[sn,me.oj,he.sA]}}}return vt.\u0275fac=function(Ge){return new(Ge||vt)},vt.\u0275mod=a.oAB({type:vt}),vt.\u0275inj=a.cJS({imports:[Ze]}),vt})()},8664:(it,oe,g)=>{"use strict";g.d(oe,{Bz:()=>Ee,sA:()=>tt});var a=g(1607),e=g(4650),C=g(6895),x=g(7579),T=g(6451),S=g(4968),_=g(9646),U=g(4408),R=g(727);const y={schedule(W){let P=requestAnimationFrame,D=cancelAnimationFrame;const{delegate:k}=y;k&&(P=k.requestAnimationFrame,D=k.cancelAnimationFrame);const pe=P(Le=>{D=void 0,W(Le)});return new R.w0(()=>D?.(pe))},requestAnimationFrame(...W){const{delegate:P}=y;return(P?.requestAnimationFrame||requestAnimationFrame)(...W)},cancelAnimationFrame(...W){const{delegate:P}=y;return(P?.cancelAnimationFrame||cancelAnimationFrame)(...W)},delegate:void 0};var F=g(7565);const G=new class K extends F.v{flush(P){this._active=!0;const D=this._scheduled;this._scheduled=void 0;const{actions:k}=this;let pe;P=P||k.shift();do{if(pe=P.execute(P.state,P.delay))break}while((P=k[0])&&P.id===D&&k.shift());if(this._active=!1,pe){for(;(P=k[0])&&P.id===D&&k.shift();)P.unsubscribe();throw pe}}}(class B extends U.o{constructor(P,D){super(P,D),this.scheduler=P,this.work=D}requestAsyncId(P,D,k=0){return null!==k&&k>0?super.requestAsyncId(P,D,k):(P.actions.push(this),P._scheduled||(P._scheduled=y.requestAnimationFrame(()=>P.flush(void 0))))}recycleAsyncId(P,D,k=0){if(null!=k&&k>0||null==k&&this.delay>0)return super.recycleAsyncId(P,D,k);P.actions.some(pe=>pe.id===D)||(y.cancelAnimationFrame(D),P._scheduled=void 0)}});var le=(()=>{return(W=le||(le={})).top="top",W.bottom="bottom",W.left="left",W.right="right",W.auto="auto",W.end="right",W.start="left",W["top left"]="top left",W["top right"]="top right",W["right top"]="right top",W["right bottom"]="right bottom",W["bottom right"]="bottom right",W["bottom left"]="bottom left",W["left bottom"]="left bottom",W["left top"]="left top",W["top start"]="top left",W["top end"]="top right",W["end top"]="right top",W["end bottom"]="right bottom",W["bottom end"]="bottom right",W["bottom start"]="bottom left",W["start bottom"]="start bottom",W["start top"]="left top",le;var W})(),Ee=(()=>{return(W=Ee||(Ee={})).top="top",W.bottom="bottom",W.left="start",W.right="end",W.auto="auto",W.end="end",W.start="start",W["top left"]="top start",W["top right"]="top end",W["right top"]="end top",W["right bottom"]="end bottom",W["bottom right"]="bottom end",W["bottom left"]="bottom start",W["left bottom"]="start bottom",W["left top"]="start top",W["top start"]="top start",W["top end"]="top end",W["end top"]="end top",W["end bottom"]="end bottom",W["bottom end"]="bottom end",W["bottom start"]="bottom start",W["start bottom"]="start bottom",W["start top"]="start top",Ee;var W})();function ve(W,P){if(1!==W.nodeType)return[];const k=W.ownerDocument.defaultView?.getComputedStyle(W,null);return P?k&&k[P]:k}function ye(W){if(!W)return document.documentElement;let k,D=W?.offsetParent;for(;null===D&&W.nextElementSibling&&k!==W.nextElementSibling;)k=W.nextElementSibling,D=k.offsetParent;const pe=D&&D.nodeName;return pe&&"BODY"!==pe&&"HTML"!==pe?D&&-1!==["TH","TD","TABLE"].indexOf(D.nodeName)&&"static"===ve(D,"position")?ye(D):D:k?k.ownerDocument.documentElement:document.documentElement}function re(W){return null!==W.parentNode?re(W.parentNode):W}function ce(W,P){if(!(W&&W.nodeType&&P&&P.nodeType))return document.documentElement;const D=W.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING,k=D?W:P,pe=D?P:W,Le=document.createRange();Le.setStart(k,0),Le.setEnd(pe,0);const He=Le.commonAncestorContainer;if(W!==He&&P!==He||k.contains(pe))return function we(W){const{nodeName:P}=W;return"BODY"!==P&&("HTML"===P||ye(W.firstElementChild)===W)}(He)?He:ye(He);const lt=re(W);return lt.host?ce(lt.host,P):ce(W,re(P).host)}function Ie(W){if(!W||!W.parentElement)return document.documentElement;let P=W.parentElement;for(;null!==(D=P)&&void 0!==D&&D.parentElement&&"none"===ve(P,"transform");){var D;P=P.parentElement}return P||document.documentElement}function ke(W,P){const D="x"===P?"Left":"Top",k="Left"===D?"Right":"Bottom";return parseFloat(W[`border${D}Width`])+parseFloat(W[`border${k}Width`])}function Ae(W,P,D,k){return Math.max(P[`offset${W}`],P[`scroll${W}`],D[`client${W}`],D[`offset${W}`],D[`scroll${W}`],0)}function Ze(W){const P=W.body,D=W.documentElement;return{height:Ae("Height",P,D),width:Ae("Width",P,D)}}function me(W){return{...W,right:(W.left||0)+W.width,bottom:(W.top||0)+W.height}}function Y(W){return"number"==typeof W||"[object Number]"===Object.prototype.toString.call(W)}function Me(W){const P=W.getBoundingClientRect();if(!(P&&Y(P.top)&&Y(P.left)&&Y(P.bottom)&&Y(P.right)))return P;const D={left:P.left,top:P.top,width:P.right-P.left,height:P.bottom-P.top},k="HTML"===W.nodeName?Ze(W.ownerDocument):void 0,pe=k?.width||W.clientWidth||Y(P.right)&&Y(D.left)&&P.right-D.left||0,Le=k?.height||W.clientHeight||Y(P.bottom)&&Y(D.top)&&P.bottom-D.top||0;let He=W.offsetWidth-pe,lt=W.offsetHeight-Le;if(He||lt){const Ut=ve(W);He-=ke(Ut,"x"),lt-=ke(Ut,"y"),D.width-=He,D.height-=lt}return me(D)}function fe(W){return"HTML"===W.nodeName?W:W.parentNode||W.host}function xe(W){if(!W)return document.body;switch(W.nodeName){case"HTML":case"BODY":return W.ownerDocument.body;case"#document":return W.body}const{overflow:P,overflowX:D,overflowY:k}=ve(W);return/(auto|scroll|overlay)/.test(String(P)+String(k)+String(D))?W:xe(fe(W))}function Ue(W,P,D=!1){var k,pe,Le,He;const lt="HTML"===P.nodeName,Ut=Me(W),dn=Me(P),Qt=(xe(W),ve(P)),Yt=parseFloat(Qt.borderTopWidth),je=parseFloat(Qt.borderLeftWidth);var qt,rt;D&&lt&&(dn.top=Math.max(null!==(qt=dn.top)&&void 0!==qt?qt:0,0),dn.left=Math.max(null!==(rt=dn.left)&&void 0!==rt?rt:0,0));const Lt=me({top:(null!==(k=Ut.top)&&void 0!==k?k:0)-(null!==(pe=dn.top)&&void 0!==pe?pe:0)-Yt,left:(null!==(Le=Ut.left)&&void 0!==Le?Le:0)-(null!==(He=dn.left)&&void 0!==He?He:0)-je,width:Ut.width,height:Ut.height});if(Lt.marginTop=0,Lt.marginLeft=0,lt){const Gt=parseFloat(Qt.marginTop),En=parseFloat(Qt.marginLeft);Y(Lt.top)&&(Lt.top-=Yt-Gt),Y(Lt.bottom)&&(Lt.bottom-=Yt-Gt),Y(Lt.left)&&(Lt.left-=je-En),Y(Lt.right)&&(Lt.right-=je-En),Lt.marginTop=Gt,Lt.marginLeft=En}return Lt}function et(W,P="top"){const D="top"===P?"scrollTop":"scrollLeft",k=W.nodeName;if("BODY"===k||"HTML"===k){const pe=W.ownerDocument.documentElement;return(W.ownerDocument.scrollingElement||pe)[D]}return W[D]}function mt(W){const P=W.nodeName;return"BODY"!==P&&"HTML"!==P&&("fixed"===ve(W,"position")||mt(fe(W)))}function $(W,P,D=0,k,pe=!1){let Le={top:0,left:0};const He=pe?Ie(W):ce(W,P);if("viewport"===k)Le=function Qe(W,P=!1){const D=W.ownerDocument.documentElement,k=Ue(W,D),pe=Math.max(D.clientWidth,window.innerWidth||0),Le=Math.max(D.clientHeight,window.innerHeight||0),He=P?0:et(D),lt=P?0:et(D,"left");return me({top:He-Number(k?.top)+Number(k?.marginTop),left:lt-Number(k?.left)+Number(k?.marginLeft),width:pe,height:Le})}(He,pe);else{let lt;"scrollParent"===k?(lt=xe(fe(P)),"BODY"===lt.nodeName&&(lt=W.ownerDocument.documentElement)):lt="window"===k?W.ownerDocument.documentElement:k;const Ut=Ue(lt,He,pe);if(Ut&&"HTML"===lt.nodeName&&!mt(He)){const{height:dn,width:Bt}=Ze(W.ownerDocument);Y(Le.top)&&Y(Ut.top)&&Y(Ut.marginTop)&&(Le.top+=Ut.top-Ut.marginTop),Y(Le.top)&&(Le.bottom=Number(dn)+Number(Ut.top)),Y(Le.left)&&Y(Ut.left)&&Y(Ut.marginLeft)&&(Le.left+=Ut.left-Ut.marginLeft),Y(Le.top)&&(Le.right=Number(Bt)+Number(Ut.left))}else Ut&&(Le=Ut)}return Y(Le.left)&&(Le.left+=D),Y(Le.top)&&(Le.top+=D),Y(Le.right)&&(Le.right-=D),Y(Le.bottom)&&(Le.bottom-=D),Le}function be({width:W,height:P}){return W*P}function De(W,P,D,k,pe=["top","bottom","right","left"],Le="viewport",He=0){var lt,Ut,dn,Bt,Qt,Yt,je,qt,rt,Lt,Gt,En;if(-1===W.indexOf("auto"))return W;const yn=$(D,k,He,Le),si={top:{width:null!==(lt=yn?.width)&&void 0!==lt?lt:0,height:(null!==(Ut=P?.top)&&void 0!==Ut?Ut:0)-(null!==(dn=yn?.top)&&void 0!==dn?dn:0)},right:{width:(null!==(Bt=yn?.right)&&void 0!==Bt?Bt:0)-(null!==(Qt=P?.right)&&void 0!==Qt?Qt:0),height:null!==(Yt=yn?.height)&&void 0!==Yt?Yt:0},bottom:{width:null!==(je=yn?.width)&&void 0!==je?je:0,height:(null!==(qt=yn?.bottom)&&void 0!==qt?qt:0)-(null!==(rt=P?.bottom)&&void 0!==rt?rt:0)},left:{width:(null!==(Lt=P.left)&&void 0!==Lt?Lt:0)-(null!==(Gt=yn?.left)&&void 0!==Gt?Gt:0),height:null!==(En=yn?.height)&&void 0!==En?En:0}},Ti=Object.keys(si).map(jn=>({position:jn,...si[jn],area:be(si[jn])})).sort((jn,Xn)=>Xn.area-jn.area);let Ni=Ti.filter(({width:jn,height:Xn})=>jn>=D.clientWidth&&Xn>=D.clientHeight);Ni=Ni.filter(({position:jn})=>pe.some(Xn=>Xn===jn));const It=Ni.length>0?Ni[0].position:Ti[0].position,qn=W.split(" ")[1];return D.className=D.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,a.Wl)().isBs5?Ee[It]:It}`),It+(qn?`-${qn}`:"")}const ut=(W,P=0)=>W?parseFloat(W):P;function Vt(W){const D=W.ownerDocument.defaultView?.getComputedStyle(W),k=ut(D?.marginTop)+ut(D?.marginBottom),pe=ut(D?.marginLeft)+ut(D?.marginRight);return{width:Number(W.offsetWidth)+pe,height:Number(W.offsetHeight)+k}}function sn(W,P,D){return Ue(P,D?Ie(W):ce(W,P),D)}function rn(W,P,D){var k,pe,Le;const He=D.split(" ")[0],lt=Vt(W),Ut={width:lt.width,height:lt.height},dn=-1!==["right","left"].indexOf(He),Bt=dn?"top":"left",Qt=dn?"left":"top",Yt=dn?"height":"width",je=dn?"width":"height";return Ut[Bt]=(null!==(k=P[Bt])&&void 0!==k?k:0)+P[Yt]/2-lt[Yt]/2,Ut[Qt]=He===Qt?(null!==(pe=P[Qt])&&void 0!==pe?pe:0)-lt[je]:null!==(Le=P[function ct(W){const P={left:"right",right:"left",bottom:"top",top:"bottom"};return W.replace(/left|right|bottom|top/g,D=>P[D])}(Qt)])&&void 0!==Le?Le:0,Ut}function Cn(W,P){var D;return!(null===(D=W.modifiers[P])||void 0===D||!D.enabled)}const vt={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function At(W,P){return!!(0,a.Wl)().isBs5&&vt[P].includes(W)}function Et(W,P,D){!W||!P||Object.keys(P).forEach(k=>{let pe="";-1!==["width","height","top","right","bottom","left"].indexOf(k)&&function he(W){return""!==W&&!isNaN(parseFloat(W))&&isFinite(Number(W))}(P[k])&&(pe="px"),D?D.setStyle(W,k,`${String(P[k])}${pe}`):W.style[k]=String(P[k])+pe})}function _t(W){var P,D,k,pe;let Le=W.offsets.target;const He=W.instance.target.querySelector(".arrow");if(!He)return W;const lt=-1!==["left","right"].indexOf(W.placement.split(" ")[0]),Ut=lt?"height":"width",dn=lt?"Top":"Left",Bt=dn.toLowerCase(),Qt=lt?"left":"top",Yt=lt?"bottom":"right",je=Vt(He)[Ut],qt=W.placement.split(" ")[1];var rt,Lt;(null!==(P=W.offsets.host[Yt])&&void 0!==P?P:0)-je<(null!==(D=Le[Bt])&&void 0!==D?D:0)&&(Le[Bt]-=(null!==(rt=Le[Bt])&&void 0!==rt?rt:0)-((null!==(Lt=W.offsets.host[Yt])&&void 0!==Lt?Lt:0)-je)),Number(W.offsets.host[Bt])+Number(je)>(null!==(k=Le[Yt])&&void 0!==k?k:0)&&(Le[Bt]+=Number(W.offsets.host[Bt])+Number(je)-Number(Le[Yt])),Le=me(Le);const Gt=ve(W.instance.target),En=parseFloat(Gt[`margin${dn}`])||0,yn=parseFloat(Gt[`border${dn}Width`])||0;let si;if(qt){const Ni=parseFloat(Gt.borderRadius)||0,It=Number(En+yn+Ni);si=Bt===qt?Number(W.offsets.host[Bt])+It:Number(W.offsets.host[Bt])+Number(W.offsets.host[Ut]-It)}else si=Number(W.offsets.host[Bt])+Number(W.offsets.host[Ut]/2-je/2);let Ti=si-(null!==(pe=Le[Bt])&&void 0!==pe?pe:0)-En-yn;return Ti=Math.max(Math.min(Le[Ut]-(je+5),Ti),0),W.offsets.arrow={[Bt]:Math.round(Ti),[Qt]:""},W.instance.arrow=He,W}function Ct(W){if(W.offsets.target=me(W.offsets.target),!Cn(W.options,"flip"))return W.offsets.target={...W.offsets.target,...rn(W.instance.target,W.offsets.host,W.placement)},W;const P=$(W.instance.target,W.instance.host,0,"viewport",!1);let D=W.placement.split(" ")[0],k=W.placement.split(" ")[1]||"";const lt=De("auto",W.offsets.host,W.instance.target,W.instance.host,W.options.allowedPositions),Ut=[D,lt];return Ut.forEach((dn,Bt)=>{var Qt,Yt,je,qt,rt,Lt,Gt,En,yn,si,Ti,Ni,It,qn,jn,Xn;if(D!==dn||Ut.length===Bt+1)return;D=W.placement.split(" ")[0];const ri="left"===D&&Math.floor(null!==(Qt=W.offsets.target.right)&&void 0!==Qt?Qt:0)>Math.floor(null!==(Yt=W.offsets.host.left)&&void 0!==Yt?Yt:0)||"right"===D&&Math.floor(null!==(je=W.offsets.target.left)&&void 0!==je?je:0)<Math.floor(null!==(qt=W.offsets.host.right)&&void 0!==qt?qt:0)||"top"===D&&Math.floor(null!==(rt=W.offsets.target.bottom)&&void 0!==rt?rt:0)>Math.floor(null!==(Lt=W.offsets.host.top)&&void 0!==Lt?Lt:0)||"bottom"===D&&Math.floor(null!==(Gt=W.offsets.target.top)&&void 0!==Gt?Gt:0)<Math.floor(null!==(En=W.offsets.host.bottom)&&void 0!==En?En:0),ai=Math.floor(null!==(yn=W.offsets.target.left)&&void 0!==yn?yn:0)<Math.floor(null!==(si=P.left)&&void 0!==si?si:0),Je=Math.floor(null!==(Ti=W.offsets.target.right)&&void 0!==Ti?Ti:0)>Math.floor(null!==(Ni=P.right)&&void 0!==Ni?Ni:0),Xe=Math.floor(null!==(It=W.offsets.target.top)&&void 0!==It?It:0)<Math.floor(null!==(qn=P.top)&&void 0!==qn?qn:0),Be=Math.floor(null!==(jn=W.offsets.target.bottom)&&void 0!==jn?jn:0)>Math.floor(null!==(Xn=P.bottom)&&void 0!==Xn?Xn:0),yt="left"===D&&ai||"right"===D&&Je||"top"===D&&Xe||"bottom"===D&&Be,Ft=-1!==["top","bottom"].indexOf(D),an=Ft&&"left"===k&&ai||Ft&&"right"===k&&Je||!Ft&&"left"===k&&Xe||!Ft&&"right"===k&&Be;(ri||yt||an)&&((ri||yt)&&(D=Ut[Bt+1]),an&&(k=function $e(W){return"right"===W?"left":"left"===W?"right":W}(k)),W.placement=D+(k?` ${k}`:""),W.offsets.target={...W.offsets.target,...rn(W.instance.target,W.offsets.host,W.placement)})}),W}function Ye(W){var P;if(!Cn(W.options,"preventOverflow"))return W;const D="transform",k=W.instance.target.style,{top:pe,left:Le,[D]:He}=k;k.top="",k.left="",k[D]="";const lt=$(W.instance.target,W.instance.host,0,(null===(P=W.options.modifiers.preventOverflow)||void 0===P?void 0:P.boundariesElement)||"scrollParent",!1);k.top=pe,k.left=Le,k[D]=He;const dn={primary(Bt){var Qt,Yt;let je=W.offsets.target[Bt];var qt,rt;return(null!==(Qt=W.offsets.target[Bt])&&void 0!==Qt?Qt:0)<(null!==(Yt=lt[Bt])&&void 0!==Yt?Yt:0)&&(je=Math.max(null!==(qt=W.offsets.target[Bt])&&void 0!==qt?qt:0,null!==(rt=lt[Bt])&&void 0!==rt?rt:0)),{[Bt]:je}},secondary(Bt){var Qt,Yt;const je="right"===Bt,qt=je?"left":"top";let Lt=W.offsets.target[qt];var Gt,En;return(null!==(Qt=W.offsets.target[Bt])&&void 0!==Qt?Qt:0)>(null!==(Yt=lt[Bt])&&void 0!==Yt?Yt:0)&&(Lt=Math.min(null!==(Gt=W.offsets.target[qt])&&void 0!==Gt?Gt:0,(null!==(En=lt[Bt])&&void 0!==En?En:0)-W.offsets.target[je?"width":"height"])),{[qt]:Lt}}};return["left","right","top","bottom"].forEach(Bt=>{const Qt=-1!==["left","top","start"].indexOf(Bt)?dn.primary:dn.secondary;W.offsets.target={...W.offsets.target,...Qt(Bt)}}),W}function Mt(W){const P=W.placement,D=P.split(" ")[0],k=P.split(" ")[1];if(k){var pe;const{host:Le,target:He}=W.offsets,lt=-1!==["bottom","top"].indexOf(D),Ut=lt?"left":"top",dn=lt?"width":"height",Bt={start:{[Ut]:Le[Ut]},end:{[Ut]:(null!==(pe=Le[Ut])&&void 0!==pe?pe:0)+Le[dn]-He[dn]}};W.offsets.target={...He,[Ut]:Ut===k?Bt.start[Ut]:Bt.end[Ut]}}return W}const Ke=new class Oe{position(P,D){return this.offset(P,D)}offset(P,D){return sn(D,P)}positionElements(P,D,k,pe,Le){const He=[Ct,Mt,Ye,_t],Ut=function nt(W,P,D,k){if(!W||!P)return;const pe=sn(W,P);!D.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!D.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(D="auto");const Le=!!D.match(/auto/g);let He=D.match(/auto\s(left|right|top|bottom|start|end)/)?D.split(" ")[1]||"auto":D;const lt=He.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return lt&&(He=lt[1]+(lt[2]?` ${lt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(He)&&(He="auto"),He=De(He,pe,W,P,k?k.allowedPositions:void 0),{options:k||{modifiers:{}},instance:{target:W,host:P,arrow:void 0},offsets:{target:rn(W,pe,He),host:pe,arrow:void 0},positionFixed:!1,placement:He,placementAuto:Le}}(D,P,le[k],Le);if(Ut)return He.reduce((dn,Bt)=>Bt(dn),Ut)}};function Zt(W,P,D,k,pe,Le){const He=Ke.positionElements(W,P,D,k,pe);if(!He)return;const lt=function qe(W){var P,D,k,pe;return{width:W.offsets.target.width,height:W.offsets.target.height,left:Math.floor(null!==(P=W.offsets.target.left)&&void 0!==P?P:0),top:Math.round(null!==(D=W.offsets.target.top)&&void 0!==D?D:0),bottom:Math.round(null!==(k=W.offsets.target.bottom)&&void 0!==k?k:0),right:Math.floor(null!==(pe=W.offsets.target.right)&&void 0!==pe?pe:0)}}(He);Et(P,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${lt.left}px, ${lt.top}px, 0px)`},Le),He.instance.arrow&&Et(He.instance.arrow,He.offsets.arrow,Le),function xt(W,P){const D=W.instance.target;let k=D.className;const pe=(0,a.Wl)().isBs5?Ee[W.placement]:W.placement;W.placementAuto&&(k=k.replace(/bs-popover-auto/g,`bs-popover-${pe}`),k=k.replace(/ms-2|me-2|mb-2|mt-2/g,""),k=k.replace(/bs-tooltip-auto/g,`bs-tooltip-${pe}`),k=k.replace(/\sauto/g,` ${pe}`),-1!==k.indexOf("popover")&&(k=k+" "+function Ge(W){return(0,a.Wl)().isBs5?At(W,"end")?"ms-2":At(W,"start")?"me-2":At(W,"top")?"mb-2":At(W,"bottom")?"mt-2":"":""}(pe)),-1!==k.indexOf("popover")&&-1===k.indexOf("popover-auto")&&(k+=" popover-auto"),-1!==k.indexOf("tooltip")&&-1===k.indexOf("tooltip-auto")&&(k+=" tooltip-auto")),k=k.replace(/left|right|top|bottom|end|start/g,`${pe.split(" ")[0]}`),P?P.setAttribute(D,"class",k):D.className=k}(He,Le)}let tt=(()=>{class W{constructor(D,k,pe){this.update$$=new x.x,this.positionElements=new Map,this.isDisabled=!1,(0,C.NF)(pe)&&D.runOutsideAngular(()=>{this.triggerEvent$=(0,T.T)((0,S.R)(window,"scroll",{passive:!0}),(0,S.R)(window,"resize",{passive:!0}),(0,_.of)(0,G),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(Le=>{Zt(Ne(Le.target),Ne(Le.element),Le.attachment,Le.appendToBody,this.options,k.createRenderer(null,null))})})})}position(D){this.addPositionElement(D)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(D){this.positionElements.set(Ne(D.element),D)}calcPosition(){this.update$$.next(null)}deletePositionElement(D){this.positionElements.delete(Ne(D))}setOptions(D){this.options=D}}return W.\u0275fac=function(D){return new(D||W)(e.LFG(e.R0b),e.LFG(e.FYo),e.LFG(e.Lbi))},W.\u0275prov=e.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Ne(W){return"string"==typeof W?document.querySelector(W):W instanceof e.SBq?W.nativeElement:W??null}},9241:(it,oe,g)=>{"use strict";g.d(oe,{AH:()=>R,P4:()=>F,wW:()=>y});var a=g(4650),e=g(6895);function C(K,G){if(1&K){const j=a.EpF();a.TgZ(0,"span",7),a.NdJ("click",function(Ee){a.CHM(j);const ve=a.oxw().$implicit,ye=a.oxw();return Ee.preventDefault(),a.KtG(ye.removeTab(ve))}),a._uU(1," \u274c"),a.qZA()}}const x=function(K){return["nav-item",K]};function T(K,G){if(1&K){const j=a.EpF();a.TgZ(0,"li",3),a.NdJ("keydown",function(Ee){const ye=a.CHM(j).index,we=a.oxw();return a.KtG(we.keyNavActions(Ee,ye))}),a.TgZ(1,"a",4),a.NdJ("click",function(){const ve=a.CHM(j).$implicit;return a.KtG(ve.active=!0)}),a.TgZ(2,"span",5),a._uU(3),a.qZA(),a.YNc(4,C,2,0,"span",6),a.qZA()()}if(2&K){const j=G.$implicit;a.ekj("active",j.active)("disabled",j.disabled),a.Q6J("ngClass",a.VKq(15,x,j.customClass||"")),a.xp6(1),a.ekj("active",j.active)("disabled",j.disabled),a.uIk("aria-controls",j.id?j.id:"")("aria-selected",!!j.active)("id",j.id?j.id+"-link":""),a.xp6(1),a.Q6J("ngTransclude",j.headingRef),a.xp6(1),a.Oqu(j.heading),a.xp6(1),a.Q6J("ngIf",j.removable)}}const S=["*"];let _=(()=>{class K{constructor(j){this.viewRef=j}set ngTransclude(j){this._ngTransclude=j,j&&this.viewRef.createEmbeddedView(j)}get ngTransclude(){return this._ngTransclude}}return K.\u0275fac=function(j){return new(j||K)(a.Y36(a.s_b))},K.\u0275dir=a.lG2({type:K,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),K})(),U=(()=>{class K{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=a.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),R=(()=>{class K{constructor(j,le,Ee){this.renderer=le,this.elementRef=Ee,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,j)}get vertical(){return this._vertical}set vertical(j){this._vertical=j,this.setClassMap()}get justified(){return this._justified}set justified(j){this._justified=j,this.setClassMap()}get type(){return this._type}set type(j){this._type=j,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(j){this._isKeysAllowed=j}ngOnDestroy(){this.isDestroyed=!0}addTab(j){this.tabs.push(j),j.active=1===this.tabs.length&&!j.active}removeTab(j,le={reselect:!0,emit:!0}){const Ee=this.tabs.indexOf(j);if(-1!==Ee&&!this.isDestroyed){if(le.reselect&&j.active&&this.hasAvailableTabs(Ee)){const ve=this.getClosestTabIndex(Ee);this.tabs[ve].active=!0}le.emit&&j.removed.emit(j),this.tabs.splice(Ee,1),j.elementRef.nativeElement.parentNode&&this.renderer.removeChild(j.elementRef.nativeElement.parentNode,j.elementRef.nativeElement)}}keyNavActions(j,le){if(!this.isKeysAllowed)return;const Ee=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===j.keyCode||"Enter"===j.key||32===j.keyCode||"Space"===j.key)return j.preventDefault(),void Ee[le%Ee.length].click();if(39!==j.keyCode&&"RightArrow"!==j.key)if(37!==j.keyCode&&"LeftArrow"!==j.key)if(36!==j.keyCode&&"Home"!==j.key)if(35!==j.keyCode&&"End"!==j.key){if((46===j.keyCode||"Delete"===j.key)&&this.tabs[le].removable){if(this.removeTab(this.tabs[le]),Ee[le+1])return void Ee[(le+1)%Ee.length].focus();Ee[Ee.length-1]&&Ee[0].focus()}}else{j.preventDefault();let ve,ye=1,we=le;do{we-ye<0?(we=Ee.length-1,ve=Ee[we],ye=0):ve=Ee[we-ye],ye++}while(ve.classList.contains("disabled"));ve.focus()}else{j.preventDefault();let ve,ye=0;do{ve=Ee[ye%Ee.length],ye++}while(ve.classList.contains("disabled"));ve.focus()}else{let ve,ye=1,we=le;do{we-ye<0?(we=Ee.length-1,ve=Ee[we],ye=0):ve=Ee[we-ye],ye++}while(ve.classList.contains("disabled"));ve.focus()}else{let ve,ye=1;do{ve=Ee[(le+ye)%Ee.length],ye++}while(ve.classList.contains("disabled"));ve.focus()}}getClosestTabIndex(j){const le=this.tabs.length;if(!le)return-1;for(let Ee=1;Ee<=le;Ee+=1){const ve=j-Ee,ye=j+Ee;if(this.tabs[ve]&&!this.tabs[ve].disabled)return ve;if(this.tabs[ye]&&!this.tabs[ye].disabled)return ye}return-1}hasAvailableTabs(j){const le=this.tabs.length;if(!le)return!1;for(let Ee=0;Ee<le;Ee+=1)if(!this.tabs[Ee].disabled&&Ee!==j)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return K.\u0275fac=function(j){return new(j||K)(a.Y36(U),a.Y36(a.Qsj),a.Y36(a.SBq))},K.\u0275cmp=a.Xpm({type:K,selectors:[["tabset"]],hostVars:2,hostBindings:function(j,le){2&j&&a.ekj("tab-container",le.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:S,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(j,le){1&j&&(a.F$t(),a.TgZ(0,"ul",0),a.NdJ("click",function(ve){return ve.preventDefault()}),a.YNc(1,T,5,17,"li",1),a.qZA(),a.TgZ(2,"div",2),a.Hsn(3),a.qZA()),2&j&&(a.Q6J("ngClass",le.classMap),a.uIk("aria-label",le.ariaLabel),a.xp6(1),a.Q6J("ngForOf",le.tabs))},dependencies:[e.mk,e.sg,e.O5,_],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),K})(),y=(()=>{class K{constructor(j,le,Ee){this.elementRef=le,this.renderer=Ee,this.disabled=!1,this.removable=!1,this.selectTab=new a.vpe,this.deselect=new a.vpe,this.removed=new a.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=j,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(j){this.customClass&&this.customClass.split(" ").forEach(le=>{this.renderer.removeClass(this.elementRef.nativeElement,le)}),this._customClass=j?j.trim():"",this.customClass&&this.customClass.split(" ").forEach(le=>{this.renderer.addClass(this.elementRef.nativeElement,le)})}get active(){return this._active}set active(j){if(this._active!==j){if(this.disabled&&j||!j)return void(this._active&&!j&&(this.deselect.emit(this),this._active=j));this._active=j,this.selectTab.emit(this),this.tabset.tabs.forEach(le=>{le!==this&&(le.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return K.\u0275fac=function(j){return new(j||K)(a.Y36(R),a.Y36(a.SBq),a.Y36(a.Qsj))},K.\u0275dir=a.lG2({type:K,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(j,le){2&j&&(a.uIk("id",le.id)("role",le.role)("aria-labelledby",le.ariaLabelledby),a.ekj("active",le.active)("tab-pane",le.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),K})(),F=(()=>{class K{static forRoot(){return{ngModule:K,providers:[]}}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275mod=a.oAB({type:K}),K.\u0275inj=a.cJS({imports:[e.ez]}),K})()},2320:(it,oe,g)=>{"use strict";g.d(oe,{i9:()=>F,z8:()=>K});var a=g(4650),e=g(1607),C=g(8664),x=g(655),T=g(2381),S=g(5963),_=g(6895);const U=["*"];let R=(()=>{class G{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return G.\u0275fac=function(le){return new(le||G)},G.\u0275prov=a.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),y=(()=>{class G{constructor(le){Object.assign(this,le)}get _bsVersions(){return(0,e.Wl)()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=C.Bz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return G.\u0275fac=function(le){return new(le||G)(a.Y36(R))},G.\u0275cmp=a.Xpm({type:G,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:7,hostBindings:function(le,Ee){2&le&&(a.uIk("id",Ee.id),a.Tol("tooltip in tooltip-"+Ee.placement+" bs-tooltip-"+Ee.placement+" "+Ee.placement+" "+Ee.containerClass),a.ekj("show",!Ee._bsVersions.isBs3)("bs3",Ee._bsVersions.isBs3))},ngContentSelectors:U,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(le,Ee){1&le&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1),a.Hsn(2),a.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),G})(),B=0,F=(()=>{class G{constructor(le,Ee,ve,ye,we,re){this._elementRef=ye,this._renderer=we,this._positionService=re,this.tooltipId=B++,this.adaptivePosition=!0,this.tooltipChange=new a.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new a.vpe,this._tooltip=Ee.createLoader(this._elementRef,le,this._renderer).provide({provide:R,useValue:ve}),Object.assign(this,ve),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(le){le?this.show():this.hide()}set htmlContent(le){(0,e.O4)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=le}set _placement(le){(0,e.O4)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=le}set _isOpen(le){(0,e.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=le}get _isOpen(){return(0,e.O4)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(le){(0,e.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!le}get _enable(){return(0,e.O4)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(le){(0,e.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=le?"body":this.container}get _appendToBody(){return(0,e.O4)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(le){(0,e.O4)("tooltipClass deprecated")}set _tooltipContext(le){(0,e.O4)("tooltipContext deprecated")}set _tooltipPopupDelay(le){(0,e.O4)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=le}get _tooltipTrigger(){return(0,e.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(le){(0,e.O4)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(le||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(le=>{le||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const le=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(y).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},Ee=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,S.H)(this.delay).subscribe(()=>{le(),Ee()}),this.triggers&&(0,e.AL)(this.triggers).forEach(ve=>{!ve.close||(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,ve.close,()=>{var ye;null===(ye=this._delaySubscription)||void 0===ye||ye.unsubscribe(),Ee()}))})):le()}hide(){var le;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(null!==(le=this._tooltip.instance)&&void 0!==le&&le.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return G.\u0275fac=function(le){return new(le||G)(a.Y36(a.s_b),a.Y36(T.oj),a.Y36(R),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(C.sA))},G.\u0275dir=a.lG2({type:G,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,x.gn)([(0,e.GU)(),(0,x.w6)("design:type",Object)],G.prototype,"tooltip",void 0),G})(),K=(()=>{class G{static forRoot(){return{ngModule:G,providers:[T.oj,C.sA]}}}return G.\u0275fac=function(le){return new(le||G)},G.\u0275mod=a.oAB({type:G}),G.\u0275inj=a.cJS({imports:[_.ez]}),G})()},1607:(it,oe,g)=>{"use strict";g.d(oe,{AL:()=>x,C:()=>U,GU:()=>fe,O4:()=>Qe,Rg:()=>_,Wl:()=>he,XA:()=>Ae,cQ:()=>xe,tj:()=>y,u9:()=>R,wo:()=>S});var a=g(4650);class e{constructor($,be){this.open=$,this.close=be||$}isManual(){return"manual"===this.open||"manual"===this.close}}const C={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function x(mt,$=C){const be=(mt||"").trim();if(0===be.length)return[];const De=be.split(/\s+/).map(ct=>ct.split(":")).map(ct=>{const $e=$[ct[0]]||ct;return new e($e[0],$e[1])}),qe=De.filter(ct=>ct.isManual());if(qe.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===qe.length&&De.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return De}function S(mt,$){const be=x($.triggers),De=$.target;if(1===be.length&&be[0].isManual())return Function.prototype;const qe=[],ct=[],$e=()=>{ct.forEach(ut=>qe.push(ut())),ct.length=0};return be.forEach(ut=>{const Vt=ut.open===ut.close,sn=Vt?$.toggle:$.show;if(!Vt&&ut.close&&$.hide){const rn=mt.listen(De,ut.close,$.hide);ct.push(()=>rn)}sn&&qe.push(mt.listen(De,ut.open,()=>sn($e)))}),()=>{qe.forEach(ut=>ut())}}function _(mt,$){return $.outsideClick?mt.listen("document","click",be=>{$.target&&$.target.contains(be.target)||$.targets&&$.targets.some(De=>De.contains(be.target))||$.hide&&$.hide()}):Function.prototype}function U(mt,$){return $.outsideEsc?mt.listen("document","keyup.esc",be=>{$.target&&$.target.contains(be.target)||$.targets&&$.targets.some(De=>De.contains(be.target))||$.hide&&$.hide()}):Function.prototype}const R=typeof window<"u"&&window||{},y=R.document;var re=(()=>{return(mt=re||(re={})).isBs3="bs3",mt.isBs4="bs4",mt.isBs5="bs5",re;var mt})();let ce;function Ie(){if(typeof R.document>"u")return"bs4";const mt=R.document.createElement("span");mt.innerText="testing bs version",mt.classList.add("d-none"),mt.classList.add("pl-1"),R.document.head.appendChild(mt);const $=mt.getBoundingClientRect(),be=R.getComputedStyle(mt).paddingLeft;return!$||$&&0!==$.top?(R.document.head.removeChild(mt),"bs3"):be&&parseFloat(be)?(R.document.head.removeChild(mt),"bs4"):(R.document.head.removeChild(mt),"bs5")}function Ae(){return typeof R>"u"||(typeof R.__theme>"u"?(ce||(ce=Ie()),"bs3"===ce):"bs3"===R.__theme)}function Ze(){return!Ae()&&(ce||(ce=Ie()),"bs4"===ce)}function he(){return{isBs3:Ae(),isBs4:Ze(),isBs5:!Ae()&&!Ze()&&(ce||(ce=Ie()),"bs5"===ce)}}function fe(){return function(be,De){const qe=` __${De}Value`;Object.defineProperty(be,De,{get(){return this[qe]},set(ct){const $e=this[qe];this[qe]=ct,$e!==ct&&this[De+"Change"]&&this[De+"Change"].emit(ct)}})}}class xe{static reflow($){}static getStyles($){let be=$.ownerDocument.defaultView;return(!be||!be.opener)&&(be=R),be.getComputedStyle($)}static stackOverflowConfig(){const $=function Y(){const mt=he(),$=Object.keys(mt).find(be=>mt[be]);return re[$]}();return{crossorigin:"bs3"!==$?"anonymous":void 0,integrity:"bs5"===$?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===$?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===$?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===$?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}const Ue={},et=typeof console>"u"||!("warn"in console);function Qe(mt){!(0,a.X6Q)()||et||mt in Ue||(Ue[mt]=!0,console.warn(mt))}},7185:(it,oe,g)=>{"use strict";g.d(oe,{Rh:()=>Qe,_W:()=>xe});var a=g(4650),e=g(7340),C=g(7579),x=g(6895),T=g(1481);const S=["toast-component",""];function _(qe,ct){if(1&qe){const $e=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM($e);const Vt=a.oxw();return a.KtG(Vt.remove())}),a.TgZ(1,"span",6),a._uU(2,"\xd7"),a.qZA()()}}function U(qe,ct){if(1&qe&&(a.ynx(0),a._uU(1),a.BQk()),2&qe){const $e=a.oxw(2);a.xp6(1),a.hij("[",$e.duplicatesCount+1,"]")}}function R(qe,ct){if(1&qe&&(a.TgZ(0,"div"),a._uU(1),a.YNc(2,U,2,1,"ng-container",4),a.qZA()),2&qe){const $e=a.oxw();a.Tol($e.options.titleClass),a.uIk("aria-label",$e.title),a.xp6(1),a.hij(" ",$e.title," "),a.xp6(1),a.Q6J("ngIf",$e.duplicatesCount)}}function y(qe,ct){if(1&qe&&a._UZ(0,"div",7),2&qe){const $e=a.oxw();a.Tol($e.options.messageClass),a.Q6J("innerHTML",$e.message,a.oJD)}}function B(qe,ct){if(1&qe&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&qe){const $e=a.oxw();a.Tol($e.options.messageClass),a.uIk("aria-label",$e.message),a.xp6(1),a.hij(" ",$e.message," ")}}function F(qe,ct){if(1&qe&&(a.TgZ(0,"div"),a._UZ(1,"div",9),a.qZA()),2&qe){const $e=a.oxw();a.xp6(1),a.Udp("width",$e.width+"%")}}class re{constructor(ct,$e){this.component=ct,this.injector=$e}attach(ct,$e){return this._attachedHost=ct,ct.attach(this,$e)}detach(){const ct=this._attachedHost;if(ct)return this._attachedHost=void 0,ct.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ct){this._attachedHost=ct}}class Ie{constructor(ct,$e,ut,Vt,sn,rn){this.toastId=ct,this.config=$e,this.message=ut,this.title=Vt,this.toastType=sn,this.toastRef=rn,this._onTap=new C.x,this._onAction=new C.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ct){this._onAction.next(ct)}onAction(){return this._onAction.asObservable()}}const Ae=new a.OlP("ToastConfig");class Ze{constructor(ct){this._overlayRef=ct,this.duplicatesCount=0,this._afterClosed=new C.x,this._activate=new C.x,this._manualClose=new C.x,this._resetTimeout=new C.x,this._countDuplicate=new C.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ct,$e){ct&&this._resetTimeout.next(),$e&&this._countDuplicate.next(++this.duplicatesCount)}}class me{constructor(ct,$e){this._toastPackage=ct,this._parentInjector=$e}get(ct,$e,ut){return ct===Ie?this._toastPackage:this._parentInjector.get(ct,$e,ut)}}class he extends class ce{attach(ct,$e){return this._attachedPortal=ct,this.attachComponentPortal(ct,$e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ct){this._disposeFn=ct}}{constructor(ct,$e,ut){super(),this._hostDomElement=ct,this._componentFactoryResolver=$e,this._appRef=ut}attachComponentPortal(ct,$e){const ut=this._componentFactoryResolver.resolveComponentFactory(ct.component);let Vt;return Vt=ut.create(ct.injector),this._appRef.attachView(Vt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Vt.hostView),Vt.destroy()}),$e?this._hostDomElement.insertBefore(this._getComponentRootNode(Vt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Vt)),Vt}_getComponentRootNode(ct){return ct.hostView.rootNodes[0]}}class Y{constructor(ct){this._portalHost=ct}attach(ct,$e=!0){return this._portalHost.attach(ct,$e)}detach(){return this._portalHost.detach()}}let Me=(()=>{class qe{constructor($e){this._document=$e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const $e=this._document.createElement("div");$e.classList.add("overlay-container"),$e.setAttribute("aria-live","polite"),this._document.body.appendChild($e),this._containerElement=$e}}return qe.\u0275fac=function($e){return new($e||qe)(a.LFG(x.K0))},qe.\u0275prov=a.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),fe=(()=>{class qe{constructor($e,ut,Vt,sn){this._overlayContainer=$e,this._componentFactoryResolver=ut,this._appRef=Vt,this._document=sn,this._paneElements=new Map}create($e,ut){return this._createOverlayRef(this.getPaneElement($e,ut))}getPaneElement($e="",ut){return this._paneElements.get(ut)||this._paneElements.set(ut,{}),this._paneElements.get(ut)[$e]||(this._paneElements.get(ut)[$e]=this._createPaneElement($e,ut)),this._paneElements.get(ut)[$e]}_createPaneElement($e,ut){const Vt=this._document.createElement("div");return Vt.id="toast-container",Vt.classList.add($e),Vt.classList.add("toast-container"),ut?ut.getContainerElement().appendChild(Vt):this._overlayContainer.getContainerElement().appendChild(Vt),Vt}_createPortalHost($e){return new he($e,this._componentFactoryResolver,this._appRef)}_createOverlayRef($e){return new Y(this._createPortalHost($e))}}return qe.\u0275fac=function($e){return new($e||qe)(a.LFG(Me),a.LFG(a._Vd),a.LFG(a.z2F),a.LFG(x.K0))},qe.\u0275prov=a.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),xe=(()=>{class qe{constructor($e,ut,Vt,sn,rn){this.overlay=ut,this._injector=Vt,this.sanitizer=sn,this.ngZone=rn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...$e.default,...$e.config},$e.config.iconClasses&&(this.toastrConfig.iconClasses={...$e.default.iconClasses,...$e.config.iconClasses})}show($e,ut,Vt={},sn=""){return this._preBuildNotification(sn,$e,ut,this.applyConfig(Vt))}success($e,ut,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",$e,ut,this.applyConfig(Vt))}error($e,ut,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",$e,ut,this.applyConfig(Vt))}info($e,ut,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",$e,ut,this.applyConfig(Vt))}warning($e,ut,Vt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",$e,ut,this.applyConfig(Vt))}clear($e){for(const ut of this.toasts)if(void 0!==$e){if(ut.toastId===$e)return void ut.toastRef.manualClose()}else ut.toastRef.manualClose()}remove($e){const ut=this._findToast($e);if(!ut||(ut.activeToast.toastRef.close(),this.toasts.splice(ut.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Vt=this.toasts[this.currentlyActive].toastRef;Vt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Vt.activate())}return!0}findDuplicate($e="",ut="",Vt,sn){const{includeTitleDuplicates:rn}=this.toastrConfig;for(const Cn of this.toasts){const vt=rn&&Cn.title===$e;if((!rn||vt)&&Cn.message===ut)return Cn.toastRef.onDuplicate(Vt,sn),Cn}return null}applyConfig($e={}){return{...this.toastrConfig,...$e}}_findToast($e){for(let ut=0;ut<this.toasts.length;ut++)if(this.toasts[ut].toastId===$e)return{index:ut,activeToast:this.toasts[ut]};return null}_preBuildNotification($e,ut,Vt,sn){return sn.onActivateTick?this.ngZone.run(()=>this._buildNotification($e,ut,Vt,sn)):this._buildNotification($e,ut,Vt,sn)}_buildNotification($e,ut,Vt,sn){if(!sn.toastComponent)throw new Error("toastComponent required");const rn=this.findDuplicate(Vt,ut,this.toastrConfig.resetTimeoutOnDuplicate&&sn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Vt||ut)&&this.toastrConfig.preventDuplicates&&null!==rn)return rn;this.previousToastMessage=ut;let Cn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Cn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const vt=this.overlay.create(sn.positionClass,this.overlayContainer);this.index=this.index+1;let At=ut;ut&&sn.enableHtml&&(At=this.sanitizer.sanitize(a.q3G.HTML,ut));const Ge=new Ze(vt),xt=new Ie(this.index,sn,At,Vt,$e,Ge),Et=new me(xt,this._injector),_t=new re(sn.toastComponent,Et),Ct=vt.attach(_t,this.toastrConfig.newestOnTop);Ge.componentInstance=Ct.instance;const nt={toastId:this.index,title:Vt||"",message:ut||"",toastRef:Ge,onShown:Ge.afterActivate(),onHidden:Ge.afterClosed(),onTap:xt.onTap(),onAction:xt.onAction(),portal:Ct};return Cn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{nt.toastRef.activate()})),this.toasts.push(nt),nt}}return qe.\u0275fac=function($e){return new($e||qe)(a.LFG(Ae),a.LFG(fe),a.LFG(a.zs3),a.LFG(T.H7),a.LFG(a.R0b))},qe.\u0275prov=a.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();const et={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class qe{constructor($e,ut,Vt){this.toastrService=$e,this.toastPackage=ut,this.ngZone=Vt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ut.message,this.title=ut.title,this.options=ut.config,this.originalTimeout=ut.config.timeOut,this.toastClasses=`${ut.toastType} ${ut.config.toastClass}`,this.sub=ut.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ut.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ut.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ut.toastRef.countDuplicate().subscribe(sn=>{this.duplicatesCount=sn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const $e=(new Date).getTime();this.width=(this.hideTime-$e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout($e,ut){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular($e),ut)):this.timeout=setTimeout(()=>$e(),ut)}outsideInterval($e,ut){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular($e),ut)):this.intervalId=setInterval(()=>$e(),ut)}runInsideAngular($e){this.ngZone?this.ngZone.run(()=>$e()):$e()}}return qe.\u0275fac=function($e){return new($e||qe)(a.Y36(xe),a.Y36(Ie),a.Y36(a.R0b))},qe.\u0275cmp=a.Xpm({type:qe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function($e,ut){1&$e&&a.NdJ("click",function(){return ut.tapToast()})("mouseenter",function(){return ut.stickAround()})("mouseleave",function(){return ut.delayedHideToast()}),2&$e&&(a.d8E("@flyInOut",ut.state),a.Tol(ut.toastClasses),a.Udp("display",ut.displayStyle))},attrs:S,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function($e,ut){1&$e&&(a.YNc(0,_,3,0,"button",0),a.YNc(1,R,3,5,"div",1),a.YNc(2,y,1,3,"div",2),a.YNc(3,B,2,4,"div",3),a.YNc(4,F,2,2,"div",4)),2&$e&&(a.Q6J("ngIf",ut.options.closeButton),a.xp6(1),a.Q6J("ngIf",ut.title),a.xp6(1),a.Q6J("ngIf",ut.message&&ut.options.enableHtml),a.xp6(1),a.Q6J("ngIf",ut.message&&!ut.options.enableHtml),a.xp6(1),a.Q6J("ngIf",ut.options.progressBar))},dependencies:[x.O5],encapsulation:2,data:{animation:[(0,e.X$)("flyInOut",[(0,e.SB)("inactive",(0,e.oB)({opacity:0})),(0,e.SB)("active",(0,e.oB)({opacity:1})),(0,e.SB)("removed",(0,e.oB)({opacity:0})),(0,e.eR)("inactive => active",(0,e.jt)("{{ easeTime }}ms {{ easing }}")),(0,e.eR)("active => removed",(0,e.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),qe})()};let Qe=(()=>{class qe{static forRoot($e={}){return{ngModule:qe,providers:[{provide:Ae,useValue:{default:et,config:$e}}]}}}return qe.\u0275fac=function($e){return new($e||qe)},qe.\u0275mod=a.oAB({type:qe}),qe.\u0275inj=a.cJS({imports:[[x.ez]]}),qe})()},6349:(it,oe,g)=>{"use strict";g.d(oe,{r3:()=>fr,e5:()=>cn,sE:()=>zi,cx:()=>bn,UI:()=>Yi,G:()=>cs,jj:()=>Ms,Tw:()=>Ms,zu:()=>Is});var a={};g.r(a),g.d(a,{VERSION:()=>e,after:()=>ui,all:()=>Or,allKeys:()=>Ut,any:()=>cs,assign:()=>ri,before:()=>di,bind:()=>Ji,bindAll:()=>Vr,chain:()=>or,chunk:()=>pn,clone:()=>yt,collect:()=>Yi,compact:()=>es,compose:()=>bs,constant:()=>xt,contains:()=>fr,countBy:()=>Ki,create:()=>Be,debounce:()=>Tr,default:()=>mi,defaults:()=>ai,defer:()=>Kr,delay:()=>hr,detect:()=>zi,difference:()=>cn,drop:()=>Di,each:()=>Oi,escape:()=>sr,every:()=>Or,extend:()=>Xn,extendOwn:()=>ri,filter:()=>Es,find:()=>zi,findIndex:()=>bn,findKey:()=>Sn,findLastIndex:()=>Gi,findWhere:()=>Xs,first:()=>fi,flatten:()=>jt,foldl:()=>qi,foldr:()=>pi,forEach:()=>Oi,functions:()=>qn,get:()=>Ai,groupBy:()=>Po,has:()=>ys,head:()=>fi,identity:()=>mn,include:()=>fr,includes:()=>fr,indexBy:()=>oi,indexOf:()=>ls,initial:()=>Dr,inject:()=>qi,intersection:()=>ee,invert:()=>It,invoke:()=>li,isArguments:()=>vt,isArray:()=>sn,isArrayBuffer:()=>Qe,isBoolean:()=>Ze,isDataView:()=>Vt,isDate:()=>fe,isElement:()=>me,isEmpty:()=>W,isEqual:()=>lt,isError:()=>Ue,isFinite:()=>At,isFunction:()=>be,isMap:()=>Gt,isMatch:()=>P,isNaN:()=>Ge,isNull:()=>ke,isNumber:()=>Me,isObject:()=>Ie,isRegExp:()=>xe,isSet:()=>yn,isString:()=>Y,isSymbol:()=>et,isTypedArray:()=>Oe,isUndefined:()=>Ae,isWeakMap:()=>En,isWeakSet:()=>si,iteratee:()=>Li,keys:()=>Ne,last:()=>mr,lastIndexOf:()=>Ds,map:()=>Yi,mapObject:()=>Ys,matcher:()=>vi,matches:()=>vi,max:()=>Ts,memoize:()=>xo,methods:()=>qn,min:()=>Ws,mixin:()=>ds,negate:()=>Hr,noop:()=>qs,now:()=>Ss,object:()=>Te,omit:()=>cr,once:()=>xs,pairs:()=>Ni,partial:()=>ao,partition:()=>Xi,pick:()=>gs,pluck:()=>Sr,property:()=>ms,propertyOf:()=>As,random:()=>ei,range:()=>kt,reduce:()=>qi,reduceRight:()=>pi,reject:()=>lr,rest:()=>Di,restArguments:()=>ce,result:()=>Yr,sample:()=>xr,select:()=>Es,shuffle:()=>hi,size:()=>Mn,some:()=>cs,sortBy:()=>Ro,sortedIndex:()=>is,tail:()=>Di,take:()=>fi,tap:()=>Ft,template:()=>Br,templateSettings:()=>Qi,throttle:()=>Zs,times:()=>wr,toArray:()=>Nr,toPath:()=>an,transpose:()=>J,unescape:()=>js,union:()=>Zn,uniq:()=>Ms,unique:()=>Ms,uniqueId:()=>rr,unzip:()=>J,values:()=>Ti,where:()=>Do,without:()=>Is,wrap:()=>lo,zip:()=>N});var e="1.13.4",C="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},x=Array.prototype,T=Object.prototype,S=typeof Symbol<"u"?Symbol.prototype:null,_=x.push,U=x.slice,R=T.toString,y=T.hasOwnProperty,B=typeof ArrayBuffer<"u",F=typeof DataView<"u",K=Array.isArray,G=Object.keys,j=Object.create,le=B&&ArrayBuffer.isView,Ee=isNaN,ve=isFinite,ye=!{toString:null}.propertyIsEnumerable("toString"),we=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],re=Math.pow(2,53)-1;function ce(ne,_e){return _e=null==_e?ne.length-1:+_e,function(){for(var ze=Math.max(arguments.length-_e,0),st=Array(ze),bt=0;bt<ze;bt++)st[bt]=arguments[bt+_e];switch(_e){case 0:return ne.call(this,st);case 1:return ne.call(this,arguments[0],st);case 2:return ne.call(this,arguments[0],arguments[1],st)}var ft=Array(_e+1);for(bt=0;bt<_e;bt++)ft[bt]=arguments[bt];return ft[_e]=st,ne.apply(this,ft)}}function Ie(ne){var _e=typeof ne;return"function"===_e||"object"===_e&&!!ne}function ke(ne){return null===ne}function Ae(ne){return void 0===ne}function Ze(ne){return!0===ne||!1===ne||"[object Boolean]"===R.call(ne)}function me(ne){return!(!ne||1!==ne.nodeType)}function he(ne){var _e="[object "+ne+"]";return function(ze){return R.call(ze)===_e}}const Y=he("String"),Me=he("Number"),fe=he("Date"),xe=he("RegExp"),Ue=he("Error"),et=he("Symbol"),Qe=he("ArrayBuffer");var mt=he("Function");"object"!=typeof Int8Array&&"function"!=typeof(C.document&&C.document.childNodes)&&(mt=function(ne){return"function"==typeof ne||!1});const be=mt,De=he("Object");var qe=F&&De(new DataView(new ArrayBuffer(8))),ct=typeof Map<"u"&&De(new Map),$e=he("DataView");const Vt=qe?function ut(ne){return null!=ne&&be(ne.getInt8)&&Qe(ne.buffer)}:$e,sn=K||he("Array");function rn(ne,_e){return null!=ne&&y.call(ne,_e)}var Cn=he("Arguments");!function(){Cn(arguments)||(Cn=function(ne){return rn(ne,"callee")})}();const vt=Cn;function At(ne){return!et(ne)&&ve(ne)&&!isNaN(parseFloat(ne))}function Ge(ne){return Me(ne)&&Ee(ne)}function xt(ne){return function(){return ne}}function Et(ne){return function(_e){var ze=ne(_e);return"number"==typeof ze&&ze>=0&&ze<=re}}function _t(ne){return function(_e){return _e?.[ne]}}const Ct=_t("byteLength"),nt=Et(Ct);var Ye=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Oe=B?function Mt(ne){return le?le(ne)&&!Vt(ne):nt(ne)&&Ye.test(R.call(ne))}:xt(!1),Ke=_t("length");function tt(ne,_e){_e=function Zt(ne){for(var _e={},ze=ne.length,st=0;st<ze;++st)_e[ne[st]]=!0;return{contains:function(bt){return!0===_e[bt]},push:function(bt){return _e[bt]=!0,ne.push(bt)}}}(_e);var ze=we.length,st=ne.constructor,bt=be(st)&&st.prototype||T,ft="constructor";for(rn(ne,ft)&&!_e.contains(ft)&&_e.push(ft);ze--;)(ft=we[ze])in ne&&ne[ft]!==bt[ft]&&!_e.contains(ft)&&_e.push(ft)}function Ne(ne){if(!Ie(ne))return[];if(G)return G(ne);var _e=[];for(var ze in ne)rn(ne,ze)&&_e.push(ze);return ye&&tt(ne,_e),_e}function W(ne){if(null==ne)return!0;var _e=Ke(ne);return"number"==typeof _e&&(sn(ne)||Y(ne)||vt(ne))?0===_e:0===Ke(Ne(ne))}function P(ne,_e){var ze=Ne(_e),st=ze.length;if(null==ne)return!st;for(var bt=Object(ne),ft=0;ft<st;ft++){var Ht=ze[ft];if(_e[Ht]!==bt[Ht]||!(Ht in bt))return!1}return!0}function D(ne){return ne instanceof D?ne:this instanceof D?void(this._wrapped=ne):new D(ne)}function k(ne){return new Uint8Array(ne.buffer||ne,ne.byteOffset||0,Ct(ne))}D.VERSION=e,D.prototype.valueOf=D.prototype.toJSON=D.prototype.value=function(){return this._wrapped},D.prototype.toString=function(){return String(this._wrapped)};var pe="[object DataView]";function Le(ne,_e,ze,st){if(ne===_e)return 0!==ne||1/ne==1/_e;if(null==ne||null==_e)return!1;if(ne!=ne)return _e!=_e;var bt=typeof ne;return("function"===bt||"object"===bt||"object"==typeof _e)&&He(ne,_e,ze,st)}function He(ne,_e,ze,st){ne instanceof D&&(ne=ne._wrapped),_e instanceof D&&(_e=_e._wrapped);var bt=R.call(ne);if(bt!==R.call(_e))return!1;if(qe&&"[object Object]"==bt&&Vt(ne)){if(!Vt(_e))return!1;bt=pe}switch(bt){case"[object RegExp]":case"[object String]":return""+ne==""+_e;case"[object Number]":return+ne!=+ne?+_e!=+_e:0==+ne?1/+ne==1/_e:+ne==+_e;case"[object Date]":case"[object Boolean]":return+ne==+_e;case"[object Symbol]":return S.valueOf.call(ne)===S.valueOf.call(_e);case"[object ArrayBuffer]":case pe:return He(k(ne),k(_e),ze,st)}var ft="[object Array]"===bt;if(!ft&&Oe(ne)){if(Ct(ne)!==Ct(_e))return!1;if(ne.buffer===_e.buffer&&ne.byteOffset===_e.byteOffset)return!0;ft=!0}if(!ft){if("object"!=typeof ne||"object"!=typeof _e)return!1;var en=ne.constructor,On=_e.constructor;if(en!==On&&!(be(en)&&en instanceof en&&be(On)&&On instanceof On)&&"constructor"in ne&&"constructor"in _e)return!1}st=st||[];for(var Tn=(ze=ze||[]).length;Tn--;)if(ze[Tn]===ne)return st[Tn]===_e;if(ze.push(ne),st.push(_e),ft){if((Tn=ne.length)!==_e.length)return!1;for(;Tn--;)if(!Le(ne[Tn],_e[Tn],ze,st))return!1}else{var Os,Ui=Ne(ne);if(Tn=Ui.length,Ne(_e).length!==Tn)return!1;for(;Tn--;)if(!rn(_e,Os=Ui[Tn])||!Le(ne[Os],_e[Os],ze,st))return!1}return ze.pop(),st.pop(),!0}function lt(ne,_e){return Le(ne,_e)}function Ut(ne){if(!Ie(ne))return[];var _e=[];for(var ze in ne)_e.push(ze);return ye&&tt(ne,_e),_e}function dn(ne){var _e=Ke(ne);return function(ze){if(null==ze)return!1;var st=Ut(ze);if(Ke(st))return!1;for(var bt=0;bt<_e;bt++)if(!be(ze[ne[bt]]))return!1;return ne!==rt||!be(ze[Bt])}}var Bt="forEach",Yt=["clear","delete"],je=["get","has","set"],qt=Yt.concat(Bt,je),rt=Yt.concat(je),Lt=["add"].concat(Yt,Bt,"has");const Gt=ct?dn(qt):he("Map"),En=ct?dn(rt):he("WeakMap"),yn=ct?dn(Lt):he("Set"),si=he("WeakSet");function Ti(ne){for(var _e=Ne(ne),ze=_e.length,st=Array(ze),bt=0;bt<ze;bt++)st[bt]=ne[_e[bt]];return st}function Ni(ne){for(var _e=Ne(ne),ze=_e.length,st=Array(ze),bt=0;bt<ze;bt++)st[bt]=[_e[bt],ne[_e[bt]]];return st}function It(ne){for(var _e={},ze=Ne(ne),st=0,bt=ze.length;st<bt;st++)_e[ne[ze[st]]]=ze[st];return _e}function qn(ne){var _e=[];for(var ze in ne)be(ne[ze])&&_e.push(ze);return _e.sort()}function jn(ne,_e){return function(ze){var st=arguments.length;if(_e&&(ze=Object(ze)),st<2||null==ze)return ze;for(var bt=1;bt<st;bt++)for(var ft=arguments[bt],Ht=ne(ft),en=Ht.length,On=0;On<en;On++){var Tn=Ht[On];(!_e||void 0===ze[Tn])&&(ze[Tn]=ft[Tn])}return ze}}const Xn=jn(Ut),ri=jn(Ne),ai=jn(Ut,!0);function Xe(ne){if(!Ie(ne))return{};if(j)return j(ne);var _e=function(){};_e.prototype=ne;var ze=new _e;return _e.prototype=null,ze}function Be(ne,_e){var ze=Xe(ne);return _e&&ri(ze,_e),ze}function yt(ne){return Ie(ne)?sn(ne)?ne.slice():Xn({},ne):ne}function Ft(ne,_e){return _e(ne),ne}function an(ne){return sn(ne)?ne:[ne]}function Rt(ne){return D.toPath(ne)}function wn(ne,_e){for(var ze=_e.length,st=0;st<ze;st++){if(null==ne)return;ne=ne[_e[st]]}return ze?ne:void 0}function Ai(ne,_e,ze){var st=wn(ne,Rt(_e));return Ae(st)?ze:st}function ys(ne,_e){for(var ze=(_e=Rt(_e)).length,st=0;st<ze;st++){var bt=_e[st];if(!rn(ne,bt))return!1;ne=ne[bt]}return!!ze}function mn(ne){return ne}function vi(ne){return ne=ri({},ne),function(_e){return P(_e,ne)}}function ms(ne){return ne=Rt(ne),function(_e){return wn(_e,ne)}}function Rs(ne,_e,ze){if(void 0===_e)return ne;switch(ze??3){case 1:return function(st){return ne.call(_e,st)};case 3:return function(st,bt,ft){return ne.call(_e,st,bt,ft)};case 4:return function(st,bt,ft,Ht){return ne.call(_e,st,bt,ft,Ht)}}return function(){return ne.apply(_e,arguments)}}function Hi(ne,_e,ze){return null==ne?mn:be(ne)?Rs(ne,_e,ze):Ie(ne)&&!sn(ne)?vi(ne):ms(ne)}function Li(ne,_e){return Hi(ne,_e,1/0)}function kn(ne,_e,ze){return D.iteratee!==Li?D.iteratee(ne,_e):Hi(ne,_e,ze)}function Ys(ne,_e,ze){_e=kn(_e,ze);for(var st=Ne(ne),bt=st.length,ft={},Ht=0;Ht<bt;Ht++){var en=st[Ht];ft[en]=_e(ne[en],en,ne)}return ft}function qs(){}function As(ne){return null==ne?qs:function(_e){return Ai(ne,_e)}}function wr(ne,_e,ze){var st=Array(Math.max(0,ne));_e=Rs(_e,ze,1);for(var bt=0;bt<ne;bt++)st[bt]=_e(bt);return st}function ei(ne,_e){return null==_e&&(_e=ne,ne=0),ne+Math.floor(Math.random()*(_e-ne+1))}D.toPath=an,D.iteratee=Li;const Ss=Date.now||function(){return(new Date).getTime()};function Ps(ne){var _e=function(ft){return ne[ft]},ze="(?:"+Ne(ne).join("|")+")",st=RegExp(ze),bt=RegExp(ze,"g");return function(ft){return st.test(ft=null==ft?"":""+ft)?ft.replace(bt,_e):ft}}const Ii={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},sr=Ps(Ii),js=Ps(It(Ii)),Qi=D.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Mi=/(.)^/,$s={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ki=/\\|'|\r|\n|\u2028|\u2029/g;function Cs(ne){return"\\"+$s[ne]}var zr=/^\s*(\w|\$)+\s*$/;function Br(ne,_e,ze){!_e&&ze&&(_e=ze),_e=ai({},_e,D.templateSettings);var st=RegExp([(_e.escape||Mi).source,(_e.interpolate||Mi).source,(_e.evaluate||Mi).source].join("|")+"|$","g"),bt=0,ft="__p+='";ne.replace(st,function(Tn,Ui,Os,Zi,Rn){return ft+=ne.slice(bt,Rn).replace(ki,Cs),bt=Rn+Tn.length,Ui?ft+="'+\n((__t=("+Ui+"))==null?'':_.escape(__t))+\n'":Os?ft+="'+\n((__t=("+Os+"))==null?'':__t)+\n'":Zi&&(ft+="';\n"+Zi+"\n__p+='"),Tn}),ft+="';\n";var en,Ht=_e.variable;if(Ht){if(!zr.test(Ht))throw new Error("variable is not a bare identifier: "+Ht)}else ft="with(obj||{}){\n"+ft+"}\n",Ht="obj";ft="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+ft+"return __p;\n";try{en=new Function(Ht,"_",ft)}catch(Tn){throw Tn.source=ft,Tn}var On=function(Tn){return en.call(this,Tn,D)};return On.source="function("+Ht+"){\n"+ft+"}",On}function Yr(ne,_e,ze){var st=(_e=Rt(_e)).length;if(!st)return be(ze)?ze.call(ne):ze;for(var bt=0;bt<st;bt++){var ft=ne?.[_e[bt]];void 0===ft&&(ft=ze,bt=st),ne=be(ft)?ft.call(ne):ft}return ne}var Ln=0;function rr(ne){var _e=++Ln+"";return ne?ne+_e:_e}function or(ne){var _e=D(ne);return _e._chain=!0,_e}function Us(ne,_e,ze,st,bt){if(!(st instanceof _e))return ne.apply(ze,bt);var ft=Xe(ne.prototype),Ht=ne.apply(ft,bt);return Ie(Ht)?Ht:ft}var ar=ce(function(ne,_e){var ze=ar.placeholder,st=function(){for(var bt=0,ft=_e.length,Ht=Array(ft),en=0;en<ft;en++)Ht[en]=_e[en]===ze?arguments[bt++]:_e[en];for(;bt<arguments.length;)Ht.push(arguments[bt++]);return Us(ne,st,this,this,Ht)};return st});ar.placeholder=D;const ao=ar,Ji=ce(function(ne,_e,ze){if(!be(ne))throw new TypeError("Bind must be called on a function");var st=ce(function(bt){return Us(ne,st,_e,this,ze.concat(bt))});return st}),ws=Et(Ke);function br(ne,_e,ze,st){if(st=st||[],_e||0===_e){if(_e<=0)return st.concat(ne)}else _e=1/0;for(var bt=st.length,ft=0,Ht=Ke(ne);ft<Ht;ft++){var en=ne[ft];if(ws(en)&&(sn(en)||vt(en)))if(_e>1)br(en,_e-1,ze,st),bt=st.length;else for(var On=0,Tn=en.length;On<Tn;)st[bt++]=en[On++];else ze||(st[bt++]=en)}return st}const Vr=ce(function(ne,_e){var ze=(_e=br(_e,!1,!1)).length;if(ze<1)throw new Error("bindAll must be passed function names");for(;ze--;){var st=_e[ze];ne[st]=Ji(ne[st],ne)}return ne});function xo(ne,_e){var ze=function(st){var bt=ze.cache,ft=""+(_e?_e.apply(this,arguments):st);return rn(bt,ft)||(bt[ft]=ne.apply(this,arguments)),bt[ft]};return ze.cache={},ze}const hr=ce(function(ne,_e,ze){return setTimeout(function(){return ne.apply(null,ze)},_e)}),Kr=ao(hr,D,1);function Zs(ne,_e,ze){var st,bt,ft,Ht,en=0;ze||(ze={});var On=function(){en=!1===ze.leading?0:Ss(),st=null,Ht=ne.apply(bt,ft),st||(bt=ft=null)},Tn=function(){var Ui=Ss();!en&&!1===ze.leading&&(en=Ui);var Os=_e-(Ui-en);return bt=this,ft=arguments,Os<=0||Os>_e?(st&&(clearTimeout(st),st=null),en=Ui,Ht=ne.apply(bt,ft),st||(bt=ft=null)):!st&&!1!==ze.trailing&&(st=setTimeout(On,Os)),Ht};return Tn.cancel=function(){clearTimeout(st),en=0,st=bt=ft=null},Tn}function Tr(ne,_e,ze){var st,bt,ft,Ht,en,On=function(){var Ui=Ss()-bt;_e>Ui?st=setTimeout(On,_e-Ui):(st=null,ze||(Ht=ne.apply(en,ft)),st||(ft=en=null))},Tn=ce(function(Ui){return en=this,ft=Ui,bt=Ss(),st||(st=setTimeout(On,_e),ze&&(Ht=ne.apply(en,ft))),Ht});return Tn.cancel=function(){clearTimeout(st),st=ft=en=null},Tn}function lo(ne,_e){return ao(_e,ne)}function Hr(ne){return function(){return!ne.apply(this,arguments)}}function bs(){var ne=arguments,_e=ne.length-1;return function(){for(var ze=_e,st=ne[_e].apply(this,arguments);ze--;)st=ne[ze].call(this,st);return st}}function ui(ne,_e){return function(){if(--ne<1)return _e.apply(this,arguments)}}function di(ne,_e){var ze;return function(){return--ne>0&&(ze=_e.apply(this,arguments)),ne<=1&&(_e=null),ze}}const xs=ao(di,2);function Sn(ne,_e,ze){_e=kn(_e,ze);for(var bt,st=Ne(ne),ft=0,Ht=st.length;ft<Ht;ft++)if(_e(ne[bt=st[ft]],bt,ne))return bt}function Ar(ne){return function(_e,ze,st){ze=kn(ze,st);for(var bt=Ke(_e),ft=ne>0?0:bt-1;ft>=0&&ft<bt;ft+=ne)if(ze(_e[ft],ft,_e))return ft;return-1}}const bn=Ar(1),Gi=Ar(-1);function is(ne,_e,ze,st){for(var bt=(ze=kn(ze,st,1))(_e),ft=0,Ht=Ke(ne);ft<Ht;){var en=Math.floor((ft+Ht)/2);ze(ne[en])<bt?ft=en+1:Ht=en}return ft}function Ks(ne,_e,ze){return function(st,bt,ft){var Ht=0,en=Ke(st);if("number"==typeof ft)ne>0?Ht=ft>=0?ft:Math.max(ft+en,Ht):en=ft>=0?Math.min(ft+1,en):ft+en+1;else if(ze&&ft&&en)return st[ft=ze(st,bt)]===bt?ft:-1;if(bt!=bt)return(ft=_e(U.call(st,Ht,en),Ge))>=0?ft+Ht:-1;for(ft=ne>0?Ht:en-1;ft>=0&&ft<en;ft+=ne)if(st[ft]===bt)return ft;return-1}}const ls=Ks(1,bn,is),Ds=Ks(-1,Gi);function zi(ne,_e,ze){var bt=(ws(ne)?bn:Sn)(ne,_e,ze);if(void 0!==bt&&-1!==bt)return ne[bt]}function Xs(ne,_e){return zi(ne,vi(_e))}function Oi(ne,_e,ze){var st,bt;if(_e=Rs(_e,ze),ws(ne))for(st=0,bt=ne.length;st<bt;st++)_e(ne[st],st,ne);else{var ft=Ne(ne);for(st=0,bt=ft.length;st<bt;st++)_e(ne[ft[st]],ft[st],ne)}return ne}function Yi(ne,_e,ze){_e=kn(_e,ze);for(var st=!ws(ne)&&Ne(ne),bt=(st||ne).length,ft=Array(bt),Ht=0;Ht<bt;Ht++){var en=st?st[Ht]:Ht;ft[Ht]=_e(ne[en],en,ne)}return ft}function er(ne){var _e=function(ze,st,bt,ft){var Ht=!ws(ze)&&Ne(ze),en=(Ht||ze).length,On=ne>0?0:en-1;for(ft||(bt=ze[Ht?Ht[On]:On],On+=ne);On>=0&&On<en;On+=ne){var Tn=Ht?Ht[On]:On;bt=st(bt,ze[Tn],Tn,ze)}return bt};return function(ze,st,bt,ft){var Ht=arguments.length>=3;return _e(ze,Rs(st,ft,4),bt,Ht)}}const qi=er(1),pi=er(-1);function Es(ne,_e,ze){var st=[];return _e=kn(_e,ze),Oi(ne,function(bt,ft,Ht){_e(bt,ft,Ht)&&st.push(bt)}),st}function lr(ne,_e,ze){return Es(ne,Hr(kn(_e)),ze)}function Or(ne,_e,ze){_e=kn(_e,ze);for(var st=!ws(ne)&&Ne(ne),bt=(st||ne).length,ft=0;ft<bt;ft++){var Ht=st?st[ft]:ft;if(!_e(ne[Ht],Ht,ne))return!1}return!0}function cs(ne,_e,ze){_e=kn(_e,ze);for(var st=!ws(ne)&&Ne(ne),bt=(st||ne).length,ft=0;ft<bt;ft++){var Ht=st?st[ft]:ft;if(_e(ne[Ht],Ht,ne))return!0}return!1}function fr(ne,_e,ze,st){return ws(ne)||(ne=Ti(ne)),("number"!=typeof ze||st)&&(ze=0),ls(ne,_e,ze)>=0}const li=ce(function(ne,_e,ze){var st,bt;return be(_e)?bt=_e:(_e=Rt(_e),st=_e.slice(0,-1),_e=_e[_e.length-1]),Yi(ne,function(ft){var Ht=bt;if(!Ht){if(st&&st.length&&(ft=wn(ft,st)),null==ft)return;Ht=ft[_e]}return null==Ht?Ht:Ht.apply(ft,ze)})});function Sr(ne,_e){return Yi(ne,ms(_e))}function Do(ne,_e){return Es(ne,vi(_e))}function Ts(ne,_e,ze){var ft,Ht,st=-1/0,bt=-1/0;if(null==_e||"number"==typeof _e&&"object"!=typeof ne[0]&&null!=ne)for(var en=0,On=(ne=ws(ne)?ne:Ti(ne)).length;en<On;en++)null!=(ft=ne[en])&&ft>st&&(st=ft);else _e=kn(_e,ze),Oi(ne,function(Tn,Ui,Os){((Ht=_e(Tn,Ui,Os))>bt||Ht===-1/0&&st===-1/0)&&(st=Tn,bt=Ht)});return st}function Ws(ne,_e,ze){var ft,Ht,st=1/0,bt=1/0;if(null==_e||"number"==typeof _e&&"object"!=typeof ne[0]&&null!=ne)for(var en=0,On=(ne=ws(ne)?ne:Ti(ne)).length;en<On;en++)null!=(ft=ne[en])&&ft<st&&(st=ft);else _e=kn(_e,ze),Oi(ne,function(Tn,Ui,Os){((Ht=_e(Tn,Ui,Os))<bt||Ht===1/0&&st===1/0)&&(st=Tn,bt=Ht)});return st}var Jr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Nr(ne){return ne?sn(ne)?U.call(ne):Y(ne)?ne.match(Jr):ws(ne)?Yi(ne,mn):Ti(ne):[]}function xr(ne,_e,ze){if(null==_e||ze)return ws(ne)||(ne=Ti(ne)),ne[ei(ne.length-1)];var st=Nr(ne),bt=Ke(st);_e=Math.max(Math.min(_e,bt),0);for(var ft=bt-1,Ht=0;Ht<_e;Ht++){var en=ei(Ht,ft),On=st[Ht];st[Ht]=st[en],st[en]=On}return st.slice(0,_e)}function hi(ne){return xr(ne,1/0)}function Ro(ne,_e,ze){var st=0;return _e=kn(_e,ze),Sr(Yi(ne,function(bt,ft,Ht){return{value:bt,index:st++,criteria:_e(bt,ft,Ht)}}).sort(function(bt,ft){var Ht=bt.criteria,en=ft.criteria;if(Ht!==en){if(Ht>en||void 0===Ht)return 1;if(Ht<en||void 0===en)return-1}return bt.index-ft.index}),"value")}function tr(ne,_e){return function(ze,st,bt){var ft=_e?[[],[]]:{};return st=kn(st,bt),Oi(ze,function(Ht,en){var On=st(Ht,en,ze);ne(ft,Ht,On)}),ft}}const Po=tr(function(ne,_e,ze){rn(ne,ze)?ne[ze].push(_e):ne[ze]=[_e]}),oi=tr(function(ne,_e,ze){ne[ze]=_e}),Ki=tr(function(ne,_e,ze){rn(ne,ze)?ne[ze]++:ne[ze]=1}),Xi=tr(function(ne,_e,ze){ne[ze?0:1].push(_e)},!0);function Mn(ne){return null==ne?0:ws(ne)?ne.length:Ne(ne).length}function us(ne,_e,ze){return _e in ze}const gs=ce(function(ne,_e){var ze={},st=_e[0];if(null==ne)return ze;be(st)?(_e.length>1&&(st=Rs(st,_e[1])),_e=Ut(ne)):(st=us,_e=br(_e,!1,!1),ne=Object(ne));for(var bt=0,ft=_e.length;bt<ft;bt++){var Ht=_e[bt],en=ne[Ht];st(en,Ht,ne)&&(ze[Ht]=en)}return ze}),cr=ce(function(ne,_e){var st,ze=_e[0];return be(ze)?(ze=Hr(ze),_e.length>1&&(st=_e[1])):(_e=Yi(br(_e,!1,!1),String),ze=function(bt,ft){return!fr(_e,ft)}),gs(ne,ze,st)});function Dr(ne,_e,ze){return U.call(ne,0,Math.max(0,ne.length-(null==_e||ze?1:_e)))}function fi(ne,_e,ze){return null==ne||ne.length<1?null==_e||ze?void 0:[]:null==_e||ze?ne[0]:Dr(ne,ne.length-_e)}function Di(ne,_e,ze){return U.call(ne,null==_e||ze?1:_e)}function mr(ne,_e,ze){return null==ne||ne.length<1?null==_e||ze?void 0:[]:null==_e||ze?ne[ne.length-1]:Di(ne,Math.max(0,ne.length-_e))}function es(ne){return Es(ne,Boolean)}function jt(ne,_e){return br(ne,_e,!1)}const cn=ce(function(ne,_e){return _e=br(_e,!0,!0),Es(ne,function(ze){return!fr(_e,ze)})}),Is=ce(function(ne,_e){return cn(ne,_e)});function Ms(ne,_e,ze,st){Ze(_e)||(st=ze,ze=_e,_e=!1),null!=ze&&(ze=kn(ze,st));for(var bt=[],ft=[],Ht=0,en=Ke(ne);Ht<en;Ht++){var On=ne[Ht],Tn=ze?ze(On,Ht,ne):On;_e&&!ze?((!Ht||ft!==Tn)&&bt.push(On),ft=Tn):ze?fr(ft,Tn)||(ft.push(Tn),bt.push(On)):fr(bt,On)||bt.push(On)}return bt}const Zn=ce(function(ne){return Ms(br(ne,!0,!0))});function ee(ne){for(var _e=[],ze=arguments.length,st=0,bt=Ke(ne);st<bt;st++){var ft=ne[st];if(!fr(_e,ft)){var Ht;for(Ht=1;Ht<ze&&fr(arguments[Ht],ft);Ht++);Ht===ze&&_e.push(ft)}}return _e}function J(ne){for(var _e=ne&&Ts(ne,Ke).length||0,ze=Array(_e),st=0;st<_e;st++)ze[st]=Sr(ne,st);return ze}const N=ce(J);function Te(ne,_e){for(var ze={},st=0,bt=Ke(ne);st<bt;st++)_e?ze[ne[st]]=_e[st]:ze[ne[st][0]]=ne[st][1];return ze}function kt(ne,_e,ze){null==_e&&(_e=ne||0,ne=0),ze||(ze=_e<ne?-1:1);for(var st=Math.max(Math.ceil((_e-ne)/ze),0),bt=Array(st),ft=0;ft<st;ft++,ne+=ze)bt[ft]=ne;return bt}function pn(ne,_e){if(null==_e||_e<1)return[];for(var ze=[],st=0,bt=ne.length;st<bt;)ze.push(U.call(ne,st,st+=_e));return ze}function yi(ne,_e){return ne._chain?D(_e).chain():_e}function ds(ne){return Oi(qn(ne),function(_e){var ze=D[_e]=ne[_e];D.prototype[_e]=function(){var st=[this._wrapped];return _.apply(st,arguments),yi(this,ze.apply(D,st))}}),D}Oi(["pop","push","reverse","shift","sort","splice","unshift"],function(ne){var _e=x[ne];D.prototype[ne]=function(){var ze=this._wrapped;return null!=ze&&(_e.apply(ze,arguments),("shift"===ne||"splice"===ne)&&0===ze.length&&delete ze[0]),yi(this,ze)}}),Oi(["concat","join","slice"],function(ne){var _e=x[ne];D.prototype[ne]=function(){var ze=this._wrapped;return null!=ze&&(ze=_e.apply(ze,arguments)),yi(this,ze)}});const mi=D;var Si=ds(a);Si._=Si},5861:(it,oe,g)=>{"use strict";function a(C,x,T,S,_,U,R){try{var y=C[U](R),B=y.value}catch(F){return void T(F)}y.done?x(B):Promise.resolve(B).then(S,_)}function e(C){return function(){var x=this,T=arguments;return new Promise(function(S,_){var U=C.apply(x,T);function R(B){a(U,S,_,R,y,"next",B)}function y(B){a(U,S,_,R,y,"throw",B)}R(void 0)})}}g.d(oe,{Z:()=>e})}},it=>{it(it.s=2148)}]);