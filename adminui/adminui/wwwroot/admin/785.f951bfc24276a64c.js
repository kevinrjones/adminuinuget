"use strict";(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[785],{2785:(ue,v,r)=>{r.r(v),r.d(v,{ViewProtectedResourceModule:()=>de});var a=r(6895),x=r(8185),O=r(2979),n=r(9066),m=r(5241),A=r(5503),D=r(8265),w=r(9650),Q=r(5785),I=r(2147),C=r(6493),J=r(8761),F=r(5971),U=r(5084),Y=r(2976),e=r(4650),M=r(1481),d=r(7733),S=r(6001);let N=(()=>{class o{constructor(t,s,c){this.titleService=t,this.protectedResourceService=s,this.translate=c,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${Y.de.SITE_TITLE}`)})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(M.Dx),e.Y36(d.m),e.Y36(n.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protected-resource-properties"]],decls:1,vars:3,consts:[[3,"modalId","isReadOnly","properties"]],template:function(t,s){1&t&&e._UZ(0,"app-properties-editor",0),2&t&&e.Q6J("modalId",s.protectedResource.id)("isReadOnly",!0)("properties",s.protectedResource.properties)},dependencies:[S.s],encapsulation:2}),o})();var T=r(2951),y=r(9655),Z=r(426),f=r(7608),R=r(2830);const K=["ClaimsPicker"];function E(o,i){if(1&o&&(e.TgZ(0,"app-form-row",2),e._UZ(1,"app-readonly",3),e.qZA()),2&o){const t=e.oxw();e.Q6J("label","Resources.AssignedClaims"),e.xp6(1),e.Q6J("fieldType",t.ReadOnlyFieldType.Multi)("values",t.displayClaims)}}let G=(()=>{class o{constructor(t,s){this.protectedResourceService=t,this.scopeClaimService=s,this.displayClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.scopeClaimService.cachedClaimTypes$.subscribe(s=>{if(t.allowedClaims.length>0){const c=this.findAssignedClaims(s);this.displayClaims=c.map(p=>new T.I(p.name))}})})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}findAssignedClaims(t){const s=[];return this.protectedResource.allowedClaims.forEach(c=>{t.forEach((p,h)=>{p.name===c&&(t.splice(h,1),s.push(p))})}),s}get ReadOnlyFieldType(){return y.O}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m),e.Y36(Z.q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protectedresource-claims"]],viewQuery:function(t,s){if(1&t&&e.Gf(K,7),2&t){let c;e.iGM(c=e.CRH())&&(s.claimsPicker=c.first)}},decls:5,vars:4,consts:[[1,"cms"],[3,"label",4,"ngIf"],[3,"label"],[3,"fieldType","values"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA()(),e.YNc(4,E,2,3,"app-form-row",1)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ProtectedResources.UserClaimTypes")),e.xp6(2),e.Q6J("ngIf",s.displayClaims))},dependencies:[a.O5,f.L,R.f,n.X$],encapsulation:2}),o})();var L=r(590),P=r(7235),X=r(3366);const u=function(o){return[o]};function $(o,i){if(1&o&&(e.TgZ(0,"app-form-row",1),e._UZ(1,"app-readonly",5),e.qZA()),2&o){const t=e.oxw();e.Q6J("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.xp6(1),e.Q6J("fieldType",t.ReadOnlyFieldType.Single)("values",e.VKq(4,u,t.protectedResourceDictionary.requireResourceIndicator))}}let q=(()=>{class o{constructor(t,s){this.protectedResourceService=t,this.configService=s,this.targetIdentityServer4=!1}ngOnInit(){this.configService.getConfig().pipe((0,L.P)()).subscribe(t=>{this.targetIdentityServer4=t.targetIdentityServer4}),this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResourceDictionary=new P.$(t)})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}get ReadOnlyFieldType(){return y.O}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m),e.Y36(X.E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protectedresource-details"]],decls:11,vars:25,consts:[["id","protectedResourceDetails"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help",4,"ngIf"],[3,"label","isLast"],["id","requireResourceIndicatorInput",3,"fieldType","values"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"app-form-row",1),e._UZ(3,"app-readonly",2),e.qZA(),e.TgZ(4,"app-form-row",1),e._UZ(5,"app-readonly",2),e.qZA(),e.TgZ(6,"app-form-row",1),e._UZ(7,"app-readonly",2),e.qZA(),e.YNc(8,$,2,6,"app-form-row",3),e.TgZ(9,"app-form-row",4),e._UZ(10,"app-readonly",2),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(17,u,s.protectedResourceDictionary.name)),e.xp6(1),e.Q6J("label","Common.DisplayName")("help","Resources.ResourceName"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(19,u,s.protectedResourceDictionary.displayName)),e.xp6(1),e.Q6J("label","Common.Description")("help","Resources.ResourceDescription"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(21,u,s.protectedResourceDictionary.description)),e.xp6(1),e.Q6J("ngIf",!s.targetIdentityServer4),e.xp6(1),e.Q6J("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.CommaSeparated)("values",e.VKq(23,u,s.protectedResourceDictionary.allowedAccessTokenSigningAlgorithms)))},dependencies:[a.O5,f.L,R.f],encapsulation:2}),o})();var H=r(3351),z=r(4006),B=r(7185),j=r(7696),V=r(9272),W=r(3667),g=r(9241);const k=["tabs"];function _(o,i){if(1&o&&(e.TgZ(0,"app-form-row",10),e._UZ(1,"app-readonly",5),e.qZA()),2&o){const t=e.oxw();e.Q6J("label","Resources.AssignedClaims"),e.xp6(1),e.Q6J("fieldType",t.ReadOnlyFieldType.Multi)("values",t.displayClaims)}}const l=function(o){return[o]};let ee=(()=>{class o{constructor(t,s,c){this.claimsService=t,this.translate=s,this.scopesClaimService=c,this._scope=new V.s,this.displayClaims=[],this.properties=[]}set scope(t){this._scope=t||new V.s}get scope(){return this._scope}ngOnInit(){this.scopesClaimService.cachedClaimTypes$.subscribe(t=>{const s=this.findAssignedClaims(t);this.displayClaims=s.map(c=>new T.I(c.name))}),this.scopeDictionary=new P.$(this.scope),this.properties=this.scope.properties}findAssignedClaims(t){const s=[];return this.scope.userClaims.forEach(c=>{t.forEach((p,h)=>{p.name===c&&(t.splice(h,1),s.push(p))})}),s}get ReadOnlyFieldType(){return y.O}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(W.M),e.Y36(n.sK),e.Y36(Z.q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-api-scope"]],viewQuery:function(t,s){if(1&t&&e.Gf(k,7),2&t){let c;e.iGM(c=e.CRH())&&(s.tabsComponent=c.first)}},inputs:{scope:"scope"},decls:27,vars:49,consts:[["tabs",""],[3,"heading"],["id","readOnlyBlock"],[1,"tw-pt-5"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help","isLast"],[1,"cms","tw-pt-5"],[3,"label",4,"ngIf"],[3,"modalId","isReadOnly","properties"],[3,"label"]],template:function(t,s){1&t&&(e.TgZ(0,"tabset",null,0)(2,"tab",1),e.ALo(3,"translate"),e.TgZ(4,"div",2)(5,"form",3)(6,"app-form-row",4),e._UZ(7,"app-readonly",5),e.qZA(),e.TgZ(8,"app-form-row",4),e._UZ(9,"app-readonly",5),e.qZA(),e.TgZ(10,"app-form-row",4),e._UZ(11,"app-readonly",5),e.qZA(),e.TgZ(12,"app-form-row",4),e._UZ(13,"app-readonly",5),e.qZA(),e.TgZ(14,"app-form-row",4),e._UZ(15,"app-readonly",5),e.qZA(),e.TgZ(16,"app-form-row",6),e._UZ(17,"app-readonly",5),e.qZA()()()(),e.TgZ(18,"tab",1)(19,"div",7)(20,"p"),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.YNc(23,_,2,3,"app-form-row",8),e.qZA(),e.TgZ(24,"tab",1),e._UZ(25,"div",3)(26,"app-properties-editor",9),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("heading",e.lcZ(3,33,"Nav.Details")),e.xp6(4),e.Q6J("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(37,l,s.scopeDictionary.name)),e.xp6(1),e.Q6J("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(39,l,s.scopeDictionary.displayName)),e.xp6(1),e.Q6J("label","Common.Description")("help","Resources.Scope.Description"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(41,l,s.scopeDictionary.description)),e.xp6(1),e.Q6J("label","Common.Required")("help","Resources.Scope.Consent"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(43,l,s.scopeDictionary.required)),e.xp6(1),e.Q6J("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(45,l,s.scopeDictionary.showInDiscoveryDocument)),e.xp6(1),e.Q6J("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.xp6(1),e.Q6J("fieldType",s.ReadOnlyFieldType.Single)("values",e.VKq(47,l,s.scopeDictionary.emphasize)),e.xp6(1),e.Q6J("heading","Claims"),e.xp6(3),e.Oqu(e.lcZ(22,35,"Resources.Scope.UserClaimTypes")),e.xp6(2),e.Q6J("ngIf",s.displayClaims),e.xp6(1),e.Q6J("heading","Properties"),e.xp6(2),e.Q6J("modalId",s.scope.id)("isReadOnly",!0)("properties",s.scope.properties))},dependencies:[a.O5,g.wW,g.AH,f.L,S.s,R.f,n.X$],encapsulation:2,changeDetection:0}),o})();function te(o,i){1&o&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Common.DisplayName")," "))}function oe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"accordion-group",null,5)(2,"button",6)(3,"b",7),e._uU(4),e.qZA(),e.TgZ(5,"div",8),e._UZ(6,"span",9),e.qZA()(),e.TgZ(7,"div")(8,"app-view-api-scope",10),e.NdJ("delete",function(c){e.CHM(t);const p=e.oxw();return e.KtG(p.deleteScopeConfirm(c))})("submit",function(c){e.CHM(t);const p=e.oxw();return e.KtG(p.submitScopeClaims(c))}),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(4),e.Oqu(t.displayName),e.xp6(4),e.Q6J("isReadOnly",!0)("scope",t)}}function se(o,i){if(1&o&&e._UZ(0,"app-pager",11),2&o){const t=e.oxw();e.Q6J("totalResults",null==t.protectedResource.scopes?null:t.protectedResource.scopes.length)}}let re=(()=>{class o{constructor(t,s,c,p){this.protectedResourceService=t,this.fb=s,this.toastr=c,this.translate=p}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m),e.Y36(z.QS),e.Y36(B._W),e.Y36(n.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-protectedresource-scopes"]],features:[e._Bn([{provide:m.gd,useFactory:H.z}])],decls:5,vars:3,consts:[["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["group",""],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","trans"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"isReadOnly","scope","delete","submit"],["hidePager","true",3,"totalResults"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,te,3,3,"div",1),e.TgZ(2,"accordion"),e.YNc(3,oe,9,3,"accordion-group",2),e.qZA(),e.YNc(4,se,1,1,"app-pager",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.protectedResource.scopes.length>0),e.xp6(2),e.Q6J("ngForOf",s.protectedResource.scopes),e.xp6(1),e.Q6J("ngIf",(null==s.protectedResource.scopes?null:s.protectedResource.scopes.length)>0))},dependencies:[a.sg,a.O5,j.P,m.Zf,m.U_,ee,n.X$],encapsulation:2}),o})();var ie=r(1660);const ce=["SecretPicker"];let pe=(()=>{class o{constructor(t){this.protectedResourceService=t,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.m))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-protectedresource-secrets"]],viewQuery:function(t,s){if(1&t&&e.Gf(ce,7),2&t){let c;e.iGM(c=e.CRH())&&(s.secretPicker=c.first)}},decls:2,vars:3,consts:[[3,"isReadOnly","clientSecrets","nonModelCertPicker"],["SecretPicker",""]],template:function(t,s){1&t&&e._UZ(0,"app-secret-picker",0,1),2&t&&e.Q6J("isReadOnly",!0)("clientSecrets",s.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[ie.P],encapsulation:2}),o})();var b=r(4091),ne=r(2320);let ae=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,g.P4,n.aw,ne.z8,w.I,C.l,b.G]}),o})();const le=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:q},{path:"secrets",component:pe},{path:"scopes",component:re},{path:"claims",component:G},{path:"properties",component:N}];let de=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,n.aw.forChild({extend:!0}),x.Bz.forChild(le),A.D,U.y,Q.U,O.fQ,w.I,D.j,F.s,C.l,I.l,J.W,m.fx,b.G,ae]}),o})()}}]);